var VN=Object.defineProperty,jN=Object.defineProperties;var UN=Object.getOwnPropertyDescriptors;var gw=Object.getOwnPropertySymbols,BN=Object.getPrototypeOf,$N=Object.prototype.hasOwnProperty,HN=Object.prototype.propertyIsEnumerable,zN=Reflect.get;var mw=(t,e,n)=>e in t?VN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})$N.call(e,n)&&mw(t,n,e[n]);if(gw)for(var n of gw(e))HN.call(e,n)&&mw(t,n,e[n]);return t},Te=(t,e)=>jN(t,UN(e));var vr=(t,e,n)=>zN(BN(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function yw(t,e){return Object.is(t,e)}var qe=null,Hc=!1,Df=1,hn=Symbol("SIGNAL");function pe(t){let e=qe;return qe=t,e}function Cf(){return qe}var zc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qc(t){if(Hc)throw new Error("");if(qe===null)return;qe.consumerOnSignalRead(t);let e=qe.nextProducerIndex++;if(Gc(qe),e<qe.producerNode.length&&qe.producerNode[e]!==t&&zs(qe)){let n=qe.producerNode[e];Wc(n,qe.producerIndexOfThis[e])}qe.producerNode[e]!==t&&(qe.producerNode[e]=t,qe.producerIndexOfThis[e]=zs(qe)?ww(t,qe,e):0),qe.producerLastReadVersion[e]=t.version}function vw(){Df++}function _w(t){if(!(zs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Df)){if(!t.producerMustRecompute(t)&&!Nf(t)){bf(t);return}t.producerRecomputeValue(t),bf(t)}}function Sf(t){if(t.liveConsumerNode===void 0)return;let e=Hc;Hc=!0;try{for(let n of t.liveConsumerNode)n.dirty||qN(n)}finally{Hc=e}}function Af(){return qe?.consumerAllowSignalWrites!==!1}function qN(t){t.dirty=!0,Sf(t),t.consumerMarkedDirty?.(t)}function bf(t){t.dirty=!1,t.lastCleanEpoch=Df}function Rf(t){return t&&(t.nextProducerIndex=0),pe(t)}function Iw(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(zs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Wc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Nf(t){Gc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(_w(n),r!==n.version))return!0}return!1}function Mf(t){if(Gc(t),zs(t))for(let e=0;e<t.producerNode.length;e++)Wc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ww(t,e,n){if(Ew(t),t.liveConsumerNode.length===0&&Tw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=ww(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Wc(t,e){if(Ew(t),t.liveConsumerNode.length===1&&Tw(t))for(let r=0;r<t.producerNode.length;r++)Wc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Gc(i),i.producerIndexOfThis[r]=e}}function zs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Gc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Ew(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Tw(t){return t.producerNode!==void 0}function WN(){throw new Error}var bw=WN;function Dw(t){bw(t)}function Pf(t){bw=t}var GN=null;function xf(t,e){let n=Object.create(Kc);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(qc(n),n.value);return r[hn]=n,r}function qs(t,e){Af()||Dw(t),t.equal(t.value,e)||(t.value=e,KN(t))}function kf(t,e){Af()||Dw(t),qs(t,e(t.value))}var Kc=Te(F({},zc),{equal:yw,value:void 0,kind:"signal"});function KN(t){t.version++,vw(),Sf(t),GN?.()}var Of;function Ws(){return Of}function Bn(t){let e=Of;return Of=t,e}var Qc=Symbol("NotFound");function Z(t){return typeof t=="function"}function Xi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Yc=Xi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ni(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof Yc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Cw(o)}catch(s){e=e??[],s instanceof Yc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Yc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Cw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ni(n,e)}remove(e){let{_finalizers:n}=this;n&&ni(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var Ff=Pe.EMPTY;function Zc(t){return t instanceof Pe||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function Cw(t){Z(t)?t():t.unsubscribe()}var Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var eo={setTimeout(t,e,...n){let{delegate:r}=eo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=eo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Jc(t){eo.setTimeout(()=>{let{onUnhandledError:e}=Xt;if(e)e(t);else throw t})}function Gs(){}var Sw=Lf("C",void 0,void 0);function Aw(t){return Lf("E",void 0,t)}function Rw(t){return Lf("N",t,void 0)}function Lf(t,e,n){return{kind:t,value:e,error:n}}var ri=null;function to(t){if(Xt.useDeprecatedSynchronousErrorHandling){let e=!ri;if(e&&(ri={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ri;if(ri=null,n)throw r}}else t()}function Nw(t){Xt.useDeprecatedSynchronousErrorHandling&&ri&&(ri.errorThrown=!0,ri.error=t)}var ii=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Zc(e)&&e.add(this)):this.destination=nM}static create(e,n,r){return new no(e,n,r)}next(e){this.isStopped?jf(Rw(e),this):this._next(e)}error(e){this.isStopped?jf(Aw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jf(Sw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},eM=Function.prototype.bind;function Vf(t,e){return eM.call(t,e)}var Uf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Xc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Xc(r)}else Xc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Xc(n)}}},no=class extends ii{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Xt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Vf(e.next,o),error:e.error&&Vf(e.error,o),complete:e.complete&&Vf(e.complete,o)}):i=e}this.destination=new Uf(i)}};function Xc(t){Xt.useDeprecatedSynchronousErrorHandling?Nw(t):Jc(t)}function tM(t){throw t}function jf(t,e){let{onStoppedNotification:n}=Xt;n&&eo.setTimeout(()=>n(t,e))}var nM={closed:!0,next:Gs,error:tM,complete:Gs};var ro=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kt(t){return t}function eu(...t){return Bf(t)}function Bf(t){return t.length===0?kt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ce=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=iM(n)?n:new no(n,r,i);return to(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Mw(r),new r((i,o)=>{let s=new no({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ro](){return this}pipe(...n){return Bf(n)(this)}toPromise(n){return n=Mw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Mw(t){var e;return(e=t??Xt.Promise)!==null&&e!==void 0?e:Promise}function rM(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function iM(t){return t&&t instanceof ii||rM(t)&&Zc(t)}function $f(t){return Z(t?.lift)}function de(t){return e=>{if($f(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(t,e,n,r,i){return new Hf(t,e,n,r,i)}var Hf=class extends ii{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function io(){return de((t,e)=>{let n=null;t._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var oo=class extends ce{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$f(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(he(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return io()(this)}};var Pw=Xi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class t extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new tu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Pw}next(n){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ff:(this.currentObservers=null,o.push(n),new Pe(()=>{this.currentObservers=null,ni(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ce;return n.source=this,n}}return t.create=(e,n)=>new tu(e,n),t})(),tu=class extends rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ff}};var it=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var zf={now(){return(zf.delegate||Date).now()},delegate:void 0};var nu=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ks={setInterval(t,e,...n){let{delegate:r}=Ks;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ks;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var so=class extends nu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ks.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ks.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ni(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ao=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ao.now=zf.now;var co=class extends ao{constructor(e,n=ao.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var qf=new co(so);var ru=class extends so{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var iu=class extends co{};var Wf=new iu(ru);var Dt=new ce(t=>t.complete());function xw(t){return t&&Z(t.schedule)}function kw(t){return t[t.length-1]}function Ow(t){return Z(kw(t))?t.pop():void 0}function _r(t){return xw(kw(t))?t.pop():void 0}function Gf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Lw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Fw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oi(t){return this instanceof oi?(this.v=t,this):new oi(t)}function Vw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(N){return new Promise(function(R,L){o.push([y,N,R,L])>1||u(y,N)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof oi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function jw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Fw=="function"?Fw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var ou=t=>t&&typeof t.length=="number"&&typeof t!="function";function su(t){return Z(t?.then)}function au(t){return Z(t[ro])}function cu(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function uu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function oM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lu=oM();function du(t){return Z(t?.[lu])}function hu(t){return Vw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield oi(n.read());if(i)return yield oi(void 0);yield yield oi(r)}}finally{n.releaseLock()}})}function fu(t){return Z(t?.getReader)}function Ke(t){if(t instanceof ce)return t;if(t!=null){if(au(t))return sM(t);if(ou(t))return aM(t);if(su(t))return cM(t);if(cu(t))return Uw(t);if(du(t))return uM(t);if(fu(t))return lM(t)}throw uu(t)}function sM(t){return new ce(e=>{let n=t[ro]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function aM(t){return new ce(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function cM(t){return new ce(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Jc)})}function uM(t){return new ce(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Uw(t){return new ce(e=>{dM(t,e).catch(n=>e.error(n))})}function lM(t){return Uw(hu(t))}function dM(t,e){var n,r,i,o;return Lw(this,void 0,void 0,function*(){try{for(n=jw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ct(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ir(t,e=0){return de((n,r)=>{n.subscribe(he(r,i=>Ct(r,t,()=>r.next(i),e),()=>Ct(r,t,()=>r.complete(),e),i=>Ct(r,t,()=>r.error(i),e)))})}function wr(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Bw(t,e){return Ke(t).pipe(wr(e),Ir(e))}function $w(t,e){return Ke(t).pipe(wr(e),Ir(e))}function Hw(t,e){return new ce(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function zw(t,e){return new ce(n=>{let r;return Ct(n,e,()=>{r=t[lu](),Ct(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function pu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ce(n=>{Ct(n,e,()=>{let r=t[Symbol.asyncIterator]();Ct(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function qw(t,e){return pu(hu(t),e)}function Ww(t,e){if(t!=null){if(au(t))return Bw(t,e);if(ou(t))return Hw(t,e);if(su(t))return $w(t,e);if(cu(t))return pu(t,e);if(du(t))return zw(t,e);if(fu(t))return qw(t,e)}throw uu(t)}function Oe(t,e){return e?Ww(t,e):Ke(t)}function Q(...t){let e=_r(t);return Oe(t,e)}function uo(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new ce(e?i=>e.schedule(r,0,i):r)}function Kf(t){return!!t&&(t instanceof ce||Z(t.lift)&&Z(t.subscribe))}var $n=Xi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function le(t,e){return de((n,r)=>{let i=0;n.subscribe(he(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:hM}=Array;function fM(t,e){return hM(e)?t(...e):t(e)}function Gw(t){return le(e=>fM(t,e))}var{isArray:pM}=Array,{getPrototypeOf:gM,prototype:mM,keys:yM}=Object;function Kw(t){if(t.length===1){let e=t[0];if(pM(e))return{args:e,keys:null};if(vM(e)){let n=yM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function vM(t){return t&&typeof t=="object"&&gM(t)===mM}function Qw(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function gu(...t){let e=_r(t),n=Ow(t),{args:r,keys:i}=Kw(t);if(r.length===0)return Oe([],e);let o=new ce(_M(r,e,i?s=>Qw(i,s):kt));return n?o.pipe(Gw(n)):o}function _M(t,e,n=kt){return r=>{Yw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Yw(e,()=>{let l=Oe(t[u],e),h=!1;l.subscribe(he(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Yw(t,e,n){t?Ct(n,t,e):e()}function Zw(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?C(N):u.push(N),C=N=>{o&&e.next(N),l++;let R=!1;Ke(n(N,h++)).subscribe(he(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let L=u.shift();s?Ct(e,s,()=>C(L)):C(L)}m()}catch(L){e.error(L)}}))};return t.subscribe(he(e,y,()=>{p=!0,m()})),()=>{a?.()}}function We(t,e,n=1/0){return Z(e)?We((r,i)=>le((o,s)=>e(r,o,i,s))(Ke(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>Zw(r,i,t,n)))}function Jw(t=1/0){return We(kt,t)}function Xw(){return Jw(1)}function lo(...t){return Xw()(Oe(t,_r(t)))}function mu(t){return new ce(e=>{Ke(t()).subscribe(e)})}function Ut(t,e){return de((n,r)=>{let i=0;n.subscribe(he(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Er(t){return de((e,n)=>{let r=null,i=!1,o;r=e.subscribe(he(n,void 0,void 0,s=>{o=Ke(t(s,Er(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function eE(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(he(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ho(t,e){return Z(e)?We(t,e,1):We(t,1)}function Tr(t){return de((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Hn(t){return t<=0?()=>Dt:de((e,n)=>{let r=0;e.subscribe(he(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function yu(t=IM){return de((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function IM(){return new $n}function Qs(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function zn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ut((i,o)=>t(i,o,r)):kt,Hn(1),n?Tr(e):yu(()=>new $n))}function fo(t){return t<=0?()=>Dt:de((e,n)=>{let r=[];e.subscribe(he(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Qf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ut((i,o)=>t(i,o,r)):kt,fo(1),n?Tr(e):yu(()=>new $n))}function vu(t,e){return de(eE(t,e,arguments.length>=2,!0))}function _u(...t){let e=_r(t);return de((n,r)=>{(e?lo(t,n,e):lo(t,n)).subscribe(r)})}function en(t,e){return de((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(he(r,u=>{i?.unsubscribe();let l=0,h=o++;Ke(t(u,h)).subscribe(i=he(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Yf(t){return de((e,n)=>{Ke(t).subscribe(he(n,()=>n.complete(),Gs)),!n.closed&&e.subscribe(n)})}function ot(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(he(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):kt}var wM="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(e,n){super(TM(e,n)),this.code=e}};function EM(t){return`NG0${Math.abs(t)}`}function TM(t,e){return`${EM(t)}${e?": "+e:""}`}var $E=Symbol("InputSignalNode#UNSET"),bM=Te(F({},Kc),{transformFn:void 0,applyValueToInputSignal(t,e){qs(t,e)}});function HE(t,e){let n=Object.create(bM);n.value=t,n.transformFn=e?.transform;function r(){if(qc(n),n.value===$E){let i=null;throw new U(-950,i)}return n.value}return r[hn]=n,r}function ua(t){return{toString:t}.toString()}var Iu="__parameters__";function DM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function zE(t,e,n){return ua(()=>{let r=DM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Iu)?u[Iu]:Object.defineProperty(u,Iu,{value:[]})[Iu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function St(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(St).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function tE(t,e){return t?e?`${t} ${e}`:t:e||""}var CM=Ce({__forward_ref__:Ce});function qE(t){return t.__forward_ref__=qE,t.toString=function(){return St(this())},t}function $t(t){return WE(t)?t():t}function WE(t){return typeof t=="function"&&t.hasOwnProperty(CM)&&t.__forward_ref__===qE}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yu(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zu(t){return nE(t,KE)||nE(t,QE)}function GE(t){return Zu(t)!==null}function nE(t,e){return t.hasOwnProperty(e)?t[e]:null}function SM(t){let e=t&&(t[KE]||t[QE]);return e||null}function rE(t){return t&&(t.hasOwnProperty(iE)||t.hasOwnProperty(AM))?t[iE]:null}var KE=Ce({\u0275prov:Ce}),iE=Ce({\u0275inj:Ce}),QE=Ce({ngInjectableDef:Ce}),AM=Ce({ngInjectorDef:Ce}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function YE(t){return t&&!!t.\u0275providers}var RM=Ce({\u0275cmp:Ce}),NM=Ce({\u0275dir:Ce}),MM=Ce({\u0275pipe:Ce}),PM=Ce({\u0275mod:Ce}),Su=Ce({\u0275fac:Ce}),Xs=Ce({__NG_ELEMENT_ID__:Ce}),oE=Ce({__NG_ENV_ID__:Ce});function Au(t){return typeof t=="string"?t:t==null?"":String(t)}function xM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Au(t)}function ZE(t,e){throw new U(-200,t)}function Yp(t,e){throw new U(-201,!1)}var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{}),cp;function JE(){return cp}function Bt(t){let e=cp;return cp=t,e}function XE(t,e,n){let r=Zu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&re.Optional)return null;if(e!==void 0)return e;Yp(t,"Injector")}var kM={},si=kM,up="__NG_DI_FLAG__",Ru=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?Qc:si,r)}},Nu="ngTempTokenPath",OM="ngTokenPath",FM=/\n/gm,LM="\u0275",sE="__source";function VM(t,e=re.Default){if(Ws()===void 0)throw new U(-203,!1);if(Ws()===null)return XE(t,void 0,e);{let n=Ws(),r;return n instanceof Ru?r=n.injector:r=n,r.get(t,e&re.Optional?null:void 0,e)}}function ie(t,e=re.Default){return(JE()||VM)($t(t),e)}function x(t,e=re.Default){return ie(t,Ju(e))}function Ju(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lp(t){let e=[];for(let n=0;n<t.length;n++){let r=$t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=re.Default;for(let s=0;s<r.length;s++){let a=r[s],u=jM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ie(i,o))}else e.push(ie(r))}return e}function eT(t,e){return t[up]=e,t.prototype[up]=e,t}function jM(t){return t[up]}function UM(t,e,n,r){let i=t[Nu];throw e[sE]&&i.unshift(e[sE]),t.message=BM(`
`+t.message,i,n,r),t[OM]=i,t[Nu]=null,t}function BM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==LM?t.slice(2):t;let i=St(e);if(Array.isArray(e))i=e.map(St).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):St(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(FM,`
  `)}`}var gt=eT(zE("Optional"),8);var $M=eT(zE("SkipSelf"),4);function vo(t,e){let n=t.hasOwnProperty(Su);return n?t[Su]:null}function Zp(t,e){t.forEach(n=>Array.isArray(n)?Zp(n,e):e(n))}function tT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Mu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function HM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function zM(t,e,n){let r=la(t,e);return r>=0?t[r|1]=n:(r=~r,HM(t,r,e,n)),r}function Zf(t,e){let n=la(t,e);if(n>=0)return t[n|1]}function la(t,e){return qM(t,e,1)}function qM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var _o={},nn=[],ea=new B(""),nT=new B("",-1),rT=new B(""),Pu=class{get(e,n=si){if(n===si){let r=new Error(`NullInjectorError: No provider for ${St(e)}!`);throw r.name="NullInjectorError",r}return n}};function iT(t,e){let n=t[PM]||null;if(!n&&e===!0)throw new Error(`Type ${St(t)} does not have '\u0275mod' property.`);return n}function Io(t){return t[RM]||null}function WM(t){return t[NM]||null}function GM(t){return t[MM]||null}function on(t){return{\u0275providers:t}}function KM(...t){return{\u0275providers:oT(!0,t),\u0275fromNgModule:!0}}function oT(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Zp(e,s=>{let a=s;dp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&sT(i,o),n}function sT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Jp(i,o=>{e(o,r)})}}function dp(t,e,n,r){if(t=$t(t),!t)return!1;let i=null,o=rE(t),s=!o&&Io(t);if(!o&&!s){let u=t.ngModule;if(o=rE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)dp(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Zp(o.imports,h=>{dp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&sT(l,e)}if(!a){let l=vo(i)||(()=>new i);e({provide:i,useFactory:l,deps:nn},i),e({provide:rT,useValue:i,multi:!0},i),e({provide:ea,useValue:()=>ie(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Jp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Jp(t,e){for(let n of t)YE(n)&&(n=n.\u0275providers),Array.isArray(n)?Jp(n,e):e(n)}var QM=Ce({provide:String,useValue:Ce});function aT(t){return t!==null&&typeof t=="object"&&QM in t}function YM(t){return!!(t&&t.useExisting)}function ZM(t){return!!(t&&t.useFactory)}function hp(t){return typeof t=="function"}var Xu=new B(""),Eu={},aE={},Jf;function Xp(){return Jf===void 0&&(Jf=new Pu),Jf}var At=class{},ta=class extends At{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,pp(e,s=>this.processProvider(s)),this.records.set(nT,po(void 0,this)),i.has("environment")&&this.records.set(At,po(void 0,this));let o=this.records.get(Xu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rT,nn,re.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?Qc:si,r)}destroy(){Zs(this),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return Zs(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Zs(this);let n=Bn(this),r=Bt(void 0),i;try{return e()}finally{Bn(n),Bt(r)}}get(e,n=si,r=re.Default){if(Zs(this),e.hasOwnProperty(oE))return e[oE](this);r=Ju(r);let i,o=Bn(this),s=Bt(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=rP(e)&&Zu(e);l&&this.injectableDefInScope(l)?u=po(fp(e),Eu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&re.Self?Xp():this.parent;return n=r&re.Optional&&n===si?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Nu]=a[Nu]||[]).unshift(St(e)),o)throw a;return UM(a,e,"R3InjectorError",this.source)}else throw a}finally{Bt(s),Bn(o)}}resolveInjectorInitializers(){let e=pe(null),n=Bn(this),r=Bt(void 0),i;try{let o=this.get(ea,nn,re.Self);for(let s of o)s()}finally{Bn(n),Bt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(St(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=$t(e);let n=hp(e)?e:$t(e&&e.provide),r=XM(e);if(!hp(e)&&e.multi===!0){let i=this.records.get(n);i||(i=po(void 0,Eu,!0),i.factory=()=>lp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=pe(null);try{return n.value===aE?ZE(St(e)):n.value===Eu&&(n.value=aE,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&nP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=$t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function fp(t){let e=Zu(t),n=e!==null?e.factory:vo(t);if(n!==null)return n;if(t instanceof B)throw new U(204,!1);if(t instanceof Function)return JM(t);throw new U(204,!1)}function JM(t){if(t.length>0)throw new U(204,!1);let n=SM(t);return n!==null?()=>n.factory(t):()=>new t}function XM(t){if(aT(t))return po(void 0,t.useValue);{let e=eP(t);return po(e,Eu)}}function eP(t,e,n){let r;if(hp(t)){let i=$t(t);return vo(i)||fp(i)}else if(aT(t))r=()=>$t(t.useValue);else if(ZM(t))r=()=>t.useFactory(...lp(t.deps||[]));else if(YM(t))r=(i,o)=>ie($t(t.useExisting),o!==void 0&&o&re.Optional?re.Optional:void 0);else{let i=$t(t&&(t.useClass||t.provide));if(tP(t))r=()=>new i(...lp(t.deps));else return vo(i)||fp(i)}return r}function Zs(t){if(t.destroyed)throw new U(205,!1)}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function tP(t){return!!t.deps}function nP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function rP(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function pp(t,e){for(let n of t)Array.isArray(n)?pp(n,e):n&&YE(n)?pp(n.\u0275providers,e):e(n)}function Tt(t,e){let n;t instanceof ta?(Zs(t),n=t):n=new Ru(t);let r,i=Bn(n),o=Bt(void 0);try{return e()}finally{Bn(i),Bt(o)}}function cT(){return JE()!==void 0||Ws()!=null}function uT(t){if(!cT())throw new U(-203,!1)}function iP(t){return typeof t=="function"}var Gn=0,ge=1,te=2,Et=3,rn=4,sn=5,xu=6,ku=7,Rt=8,wo=9,Cr=10,st=11,na=12,cE=13,Ro=14,pn=15,Eo=16,go=17,To=18,el=19,lT=20,br=21,Xf=22,Ou=23,Ht=24,ep=25,gn=26,dT=1;var ci=7,Fu=8,Lu=9,zt=10;function Dr(t){return Array.isArray(t)&&typeof t[dT]=="object"}function Kn(t){return Array.isArray(t)&&t[dT]===!0}function eg(t){return(t.flags&4)!==0}function No(t){return t.componentOffset>-1}function tl(t){return(t.flags&1)===1}function fi(t){return!!t.template}function Vu(t){return(t[te]&512)!==0}function Mo(t){return(t[te]&256)===256}var gp=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function hT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var tg=(()=>{let t=()=>fT;return t.ngInherit=!0,t})();function fT(t){return t.type.prototype.ngOnChanges&&(t.setInput=sP),oP}function oP(){let t=gT(this),e=t?.current;if(e){let n=t.previous;if(n===_o)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function sP(t,e,n,r,i){let o=this.declaredInputs[r],s=gT(t)||aP(t,{previous:_o,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new gp(l&&l.currentValue,n,u===_o),hT(t,e,i,n)}var pT="__ngSimpleChanges__";function gT(t){return t[pT]||null}function aP(t,e){return t[pT]=e}var uE=null;var Ae=function(t,e=null,n){uE?.(t,e,n)},cP="svg",uP="math";function mn(t){for(;Array.isArray(t);)t=t[Gn];return t}function mT(t,e){return mn(e[t])}function Qn(t,e){return mn(e[t.index])}function yT(t,e){return t.data[e]}function yn(t,e){let n=e[t];return Dr(n)?n:n[Gn]}function ng(t){return(t[te]&128)===128}function lP(t){return Kn(t[Et])}function bo(t,e){return e==null?null:t[e]}function vT(t){t[go]=0}function _T(t){t[te]&1024||(t[te]|=1024,ng(t)&&rl(t))}function dP(t,e){for(;t>0;)e=e[Ro],t--;return e}function nl(t){return!!(t[te]&9216||t[Ht]?.dirty)}function mp(t){t[Cr].changeDetectionScheduler?.notify(8),t[te]&64&&(t[te]|=1024),nl(t)&&rl(t)}function rl(t){t[Cr].changeDetectionScheduler?.notify(0);let e=ui(t);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!ng(e)));)e=ui(e)}function IT(t,e){if(Mo(t))throw new U(911,!1);t[br]===null&&(t[br]=[]),t[br].push(e)}function hP(t,e){if(t[br]===null)return;let n=t[br].indexOf(e);n!==-1&&t[br].splice(n,1)}function ui(t){let e=t[Et];return Kn(e)?e[Et]:e}function wT(t){return t[ku]??=[]}function ET(t){return t.cleanup??=[]}var se={lFrame:MT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var yp=!1;function fP(){return se.lFrame.elementDepthCount}function pP(){se.lFrame.elementDepthCount++}function gP(){se.lFrame.elementDepthCount--}function rg(){return se.bindingsEnabled}function mP(){return se.skipHydrationRootTNode!==null}function yP(t){return se.skipHydrationRootTNode===t}function vP(){se.skipHydrationRootTNode=null}function xe(){return se.lFrame.lView}function _n(){return se.lFrame.tView}function pi(t){return se.lFrame.contextLView=t,t[Rt]}function gi(t){return se.lFrame.contextLView=null,t}function an(){let t=TT();for(;t!==null&&t.type===64;)t=t.parent;return t}function TT(){return se.lFrame.currentTNode}function _P(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function mi(t,e){let n=se.lFrame;n.currentTNode=t,n.isParent=e}function ig(){return se.lFrame.isParent}function bT(){se.lFrame.isParent=!1}function DT(){return yp}function lE(t){let e=yp;return yp=t,e}function IP(){let t=se.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function wP(){return se.lFrame.bindingIndex}function EP(t){return se.lFrame.bindingIndex=t}function CT(){return se.lFrame.bindingIndex++}function ST(t){let e=se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function TP(){return se.lFrame.inI18n}function bP(t,e){let n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,vp(e)}function DP(){return se.lFrame.currentDirectiveIndex}function vp(t){se.lFrame.currentDirectiveIndex=t}function CP(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function AT(t){se.lFrame.currentQueryIndex=t}function SP(t){let e=t[ge];return e.type===2?e.declTNode:e.type===1?t[sn]:null}function RT(t,e,n){if(n&re.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&re.Host);)if(i=SP(o),i===null||(o=o[Ro],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=se.lFrame=NT();return r.currentTNode=e,r.lView=t,!0}function og(t){let e=NT(),n=t[ge];se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function NT(){let t=se.lFrame,e=t===null?null:t.child;return e===null?MT(t):e}function MT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function PT(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var xT=PT;function sg(){let t=PT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function AP(t){return(se.lFrame.contextLView=dP(t,se.lFrame.contextLView))[Rt]}function yi(){return se.lFrame.selectedIndex}function li(t){se.lFrame.selectedIndex=t}function RP(){let t=se.lFrame;return yT(t.tView,t.selectedIndex)}function NP(){return se.lFrame.currentNamespace}var kT=!0;function il(){return kT}function ol(t){kT=t}function MP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=fT(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function ag(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Tu(t,e,n){OT(t,e,3,n)}function bu(t,e,n,r){(t[te]&3)===n&&OT(t,e,n,r)}function tp(t,e){let n=t[te];(n&3)===e&&(n&=16383,n+=1,t[te]=n)}function OT(t,e,n,r){let i=r!==void 0?t[go]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[go]+=65536),(a<o||o==-1)&&(PP(t,n,e,u),t[go]=(t[go]&4294901760)+u+2),u++}function dE(t,e){Ae(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),Ae(5,t,e)}}function PP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[te]>>14<t[go]>>16&&(t[te]&3)===e&&(t[te]+=16384,dE(a,o)):dE(a,o)}var yo=-1,ra=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function xP(t){return(t.flags&8)!==0}function kP(t){return(t.flags&16)!==0}function OP(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];LP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function FP(t){return t===3||t===4||t===6}function LP(t){return t.charCodeAt(0)===64}function sl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?hE(t,n,i,null,e[++r]):hE(t,n,i,null,null))}}return t}function hE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function FT(t){return t!==yo}function ju(t){return t&32767}function VP(t){return t>>16}function Uu(t,e){let n=VP(t),r=e;for(;n>0;)r=r[Ro],n--;return r}var _p=!0;function fE(t){let e=_p;return _p=t,e}var jP=256,LT=jP-1,VT=5,UP=0,fn={};function BP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xs)&&(r=n[Xs]),r==null&&(r=n[Xs]=UP++);let i=r&LT,o=1<<i;e.data[t+(i>>VT)]|=o}function jT(t,e){let n=UT(t,e);if(n!==-1)return n;let r=e[ge];r.firstCreatePass&&(t.injectorIndex=e.length,np(r.data,t),np(e,null),np(r.blueprint,null));let i=cg(t,e),o=t.injectorIndex;if(FT(i)){let s=ju(i),a=Uu(i,e),u=a[ge].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function np(t,e){t.push(0,0,0,0,0,0,0,0,e)}function UT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function cg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=qT(i),r===null)return yo;if(n++,i=i[Ro],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return yo}function $P(t,e,n){BP(t,e,n)}function BT(t,e,n){if(n&re.Optional||t!==void 0)return t;Yp(e,"NodeInjector")}function $T(t,e,n,r){if(n&re.Optional&&r===void 0&&(r=null),(n&(re.Self|re.Host))===0){let i=t[wo],o=Bt(void 0);try{return i?i.get(e,r,n&re.Optional):XE(e,r,n&re.Optional)}finally{Bt(o)}}return BT(r,e,n)}function HT(t,e,n,r=re.Default,i){if(t!==null){if(e[te]&2048&&!(r&re.Self)){let s=GP(t,e,n,r,fn);if(s!==fn)return s}let o=zT(t,e,n,r,fn);if(o!==fn)return o}return $T(e,n,r,i)}function zT(t,e,n,r,i){let o=qP(n);if(typeof o=="function"){if(!RT(e,t,r))return r&re.Host?BT(i,n,r):$T(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&re.Optional))Yp(n);else return s}finally{xT()}}else if(typeof o=="number"){let s=null,a=UT(t,e),u=yo,l=r&re.Host?e[pn][sn]:null;for((a===-1||r&re.SkipSelf)&&(u=a===-1?cg(t,e):e[a+8],u===yo||!gE(r,!1)?a=-1:(s=e[ge],a=ju(u),e=Uu(u,e)));a!==-1;){let h=e[ge];if(pE(o,a,h.data)){let p=HP(a,e,n,s,r,l);if(p!==fn)return p}u=e[a+8],u!==yo&&gE(r,e[ge].data[a+8]===l)&&pE(o,a,e)?(s=h,a=ju(u),e=Uu(u,e)):a=-1}}return i}function HP(t,e,n,r,i,o){let s=e[ge],a=s.data[t+8],u=r==null?No(a)&&_p:r!=s&&(a.type&3)!==0,l=i&re.Host&&o===a,h=zP(a,s,n,u,l);return h!==null?Ip(e,s,h,a,i):fn}function zP(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=s[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=s[u];if(y&&fi(y)&&y.type===n)return u}return null}function Ip(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof ra){let a=o;a.resolving&&ZE(xM(s[n]));let u=fE(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Bt(a.injectImpl):null,p=RT(t,r,re.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&MP(n,s[n],e)}finally{h!==null&&Bt(h),fE(u),a.resolving=!1,xT()}}return o}function qP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xs)?t[Xs]:void 0;return typeof e=="number"?e>=0?e&LT:WP:e}function pE(t,e,n){let r=1<<t;return!!(n[e+(t>>VT)]&r)}function gE(t,e){return!(t&re.Self)&&!(t&re.Host&&e)}var ai=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return HT(this._tNode,this._lView,e,Ju(r),n)}};function WP(){return new ai(an(),xe())}function ug(t){return ua(()=>{let e=t.prototype.constructor,n=e[Su]||wp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Su]||wp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function wp(t){return WE(t)?()=>{let e=wp($t(t));return e&&e()}:vo(t)}function GP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[te]&2048&&!Vu(s);){let a=zT(o,s,n,r|re.Self,fn);if(a!==fn)return a;let u=o.parent;if(!u){let l=s[lT];if(l){let h=l.get(n,fn,r);if(h!==fn)return h}u=qT(s),s=s[Ro]}o=u}return i}function qT(t){let e=t[ge],n=e.type;return n===2?e.declTNode:n===1?t[sn]:null}function mE(t,e=null,n=null,r){let i=WT(t,e,n,r);return i.resolveInjectorInitializers(),i}function WT(t,e=null,n=null,r,i=new Set){let o=[n||nn,KM(t)];return r=r||(typeof t=="object"?void 0:St(t)),new ta(o,e||Xp(),r||null,i)}var Ye=class t{static THROW_IF_NOT_FOUND=si;static NULL=new Pu;static create(e,n){if(Array.isArray(e))return mE({name:""},n,e,"");{let r=e.name??"";return mE({name:r},e.parent,e.providers,r)}}static \u0275prov=$({token:t,providedIn:"any",factory:()=>ie(nT)});static __NG_ELEMENT_ID__=-1};var KP=new B("");KP.__NG_ELEMENT_ID__=t=>{let e=an();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(t&re.Optional)return null;throw new U(204,!1)};var GT=!1,da=(()=>{class t{static __NG_ELEMENT_ID__=QP;static __NG_ENV_ID__=n=>n}return t})(),Ep=class extends da{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return Mo(n)?(e(),()=>{}):(IT(n,e),()=>hP(n,e))}};function QP(){return new Ep(xe())}var Do=class{},lg=new B("",{providedIn:"root",factory:()=>!1});var KT=new B(""),QT=new B(""),vi=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new it(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),al=(()=>{class t{internalPendingTasks=x(vi);scheduler=x(Do);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return v(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),Tp=class extends rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,cT()&&(this.destroyRef=x(da,{optional:!0})??void 0,this.pendingTasks=x(vi,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Qe=Tp;function Bu(...t){}function YT(t){let e,n;function r(){t=Bu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function yE(t){return queueMicrotask(()=>t()),()=>{t=Bu}}var dg="isAngularZone",$u=dg+"_ID",YP=0,ve=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Qe(!1);onMicrotaskEmpty=new Qe(!1);onStable=new Qe(!1);onError=new Qe(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=GT}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,XP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(dg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ZP,Bu,Bu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ZP={};function hg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function JP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){YT(()=>{t.callbackScheduled=!1,bp(t),t.isCheckStableRunning=!0,hg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),bp(t)}function XP(t){let e=()=>{JP(t)},n=YP++;t._inner=t._inner.fork({name:"angular",properties:{[dg]:!0,[$u]:n,[$u+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(ex(u))return r.invokeTask(o,s,a,u);try{return vE(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),_E(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return vE(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!tx(u)&&e(),_E(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,bp(t),hg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function bp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function vE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _E(t){t._nesting--,hg(t)}var Dp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Qe;onMicrotaskEmpty=new Qe;onStable=new Qe;onError=new Qe;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function ex(t){return ZT(t,"__ignore_ng_zone__")}function tx(t){return ZT(t,"__scheduler_tick__")}function ZT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var qn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},nx=new B("",{providedIn:"root",factory:()=>{let t=x(ve),e=x(qn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function IE(t,e){return HE(t,e)}function rx(t){return HE($E,t)}var JT=(IE.required=rx,IE);function ix(){return cl(an(),xe())}function cl(t,e){return new fg(Qn(t,e))}var fg=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=ix}return t})();function ul(t,e){let n=xf(t,e?.equal),r=n[hn];return n.set=i=>qs(r,i),n.update=i=>kf(r,i),n.asReadonly=ox.bind(n),n}function ox(){let t=this[hn];if(t.readonlyFn===void 0){let e=()=>this();e[hn]=t,t.readonlyFn=e}return t.readonlyFn}function XT(t){return(t.flags&128)===128}var eb=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(eb||{}),tb=new Map,sx=0;function ax(){return sx++}function cx(t){tb.set(t[el],t)}function Cp(t){tb.delete(t[el])}var wE="__ngContext__";function Po(t,e){Dr(e)?(t[wE]=e[el],cx(e)):t[wE]=e}function nb(t){return ib(t[na])}function rb(t){return ib(t[rn])}function ib(t){for(;t!==null&&!Kn(t);)t=t[rn];return t}var Sp;function ob(t){Sp=t}function ux(){if(Sp!==void 0)return Sp;if(typeof document<"u")return document;throw new U(210,!1)}var pg=new B("",{providedIn:"root",factory:()=>lx}),lx="ng",gg=new B(""),In=new B("",{providedIn:"platform",factory:()=>"unknown"});var mg=new B("",{providedIn:"root",factory:()=>ux().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var dx="h",hx="b";var sb=!1,fx=new B("",{providedIn:"root",factory:()=>sb});var ab=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(ab||{}),ll=new B(""),EE=new Set;function yg(t){EE.has(t)||(EE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var px=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})();var gx=(t,e,n,r)=>{};function mx(t,e,n,r){gx(t,e,n,r)}var yx=()=>null;function cb(t,e,n=!1){return yx(t,e,n)}function ub(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];AT(o),a.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function Ap(t,e,n){AT(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function vg(t,e,n){if(eg(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{pe(r)}}}var vn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vn||{});var Rp=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wM})`}};function vx(t){return t instanceof Rp?t.changingThisBreaksApplicationSecurity:t}var _x=/^>|^->|<!--|-->|--!>|<!-$/g,Ix=/(<|>)/g,wx="\u200B$1\u200B";function Ex(t){return t.replace(_x,e=>e.replace(Ix,wx))}function lb(t){return t instanceof Function?t():t}function Tx(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var db="ng-template";function bx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Tx(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(_g(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function _g(t){return t.type===4&&t.value!==db}function Dx(t,e,n){let r=t.type===4&&!n?db:t.value;return e===r}function Cx(t,e,n){let r=4,i=t.attrs,o=i!==null?Rx(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!tn(r)&&!tn(u))return!1;if(s&&tn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Dx(t,u,n)||u===""&&e.length===1){if(tn(r))return!1;s=!0}}else if(r&8){if(i===null||!bx(t,i,u,n)){if(tn(r))return!1;s=!0}}else{let l=e[++a],h=Sx(u,i,_g(t),n);if(h===-1){if(tn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(tn(r))return!1;s=!0}}}}return tn(r)||s}function tn(t){return(t&1)===0}function Sx(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Nx(e,t)}function Ax(t,e,n=!1){for(let r=0;r<e.length;r++)if(Cx(t,e[r],n))return!0;return!1}function Rx(t){for(let e=0;e<t.length;e++){let n=t[e];if(FP(n))return e}return t.length}function Nx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function TE(t,e){return t?":not("+e.trim()+")":e}function Mx(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!tn(s)&&(e+=TE(o,i),i=""),r=s,o=o||!tn(r);n++}return i!==""&&(e+=TE(o,i)),e}function Px(t){return t.map(Mx).join(",")}function xx(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!tn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Yn={};function kx(t,e){return t.createText(e)}function Ox(t,e,n){t.setValue(e,n)}function Fx(t,e){return t.createComment(Ex(e))}function hb(t,e,n){return t.createElement(e,n)}function Hu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function fb(t,e,n){t.appendChild(e,n)}function bE(t,e,n,r,i){r!==null?Hu(t,e,n,r,i):fb(t,e,n)}function Lx(t,e,n){t.removeChild(null,e,n)}function Vx(t,e,n){t.setAttribute(e,"style",n)}function jx(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function pb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&OP(t,e,r),i!==null&&jx(t,e,i),o!==null&&Vx(t,e,o)}function Ig(t,e,n,r,i,o,s,a,u,l,h){let p=gn+r,m=p+i,y=Ux(p,m),C=typeof l=="function"?l():l;return y[ge]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function Ux(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Yn);return n}function Bx(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ig(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function wg(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Gn]=i,p[te]=r|4|128|8|64|1024,(l!==null||t&&t[te]&2048)&&(p[te]|=2048),vT(p),p[Et]=p[Ro]=t,p[Rt]=n,p[Cr]=s||t&&t[Cr],p[st]=a||t&&t[st],p[wo]=u||t&&t[wo]||null,p[sn]=o,p[el]=ax(),p[xu]=h,p[lT]=l,p[pn]=e.type==2?t[pn]:p,p}function $x(t,e,n){let r=Qn(e,t),i=Bx(n),o=t[Cr].rendererFactory,s=Eg(t,wg(t,i,null,gb(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function gb(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function mb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Eg(t,e){return t[na]?t[cE][rn]=e:t[na]=e,t[cE]=e,e}function j(t=1){yb(_n(),xe(),yi()+t,!1)}function yb(t,e,n,r){if(!r)if((e[te]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Tu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&bu(e,o,0,n)}li(n)}var dl=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(dl||{});function Np(t,e,n,r){let i=pe(null);try{let[o,s,a]=t.inputs[n],u=null;(s&dl.SignalBased)!==0&&(u=e[o][hn]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):hT(e,u,o,r)}finally{pe(i)}}function vb(t,e,n,r,i){let o=yi(),s=r&2;try{li(-1),s&&e.length>gn&&yb(t,e,gn,!1),Ae(s?2:0,i),n(r,i)}finally{li(o),Ae(s?3:1,i)}}function hl(t,e,n){Qx(t,e,n),(n.flags&64)===64&&Yx(t,e,n)}function Tg(t,e,n=Qn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Hx(t,e,n,r){let o=r.get(fx,sb)||n===vn.ShadowDom,s=t.selectRootElement(e,o);return zx(s),s}function zx(t){qx(t)}var qx=()=>null;function Wx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Gx(t,e,n,r,i,o,s,a){if(!a&&Dg(e,t,n,r,i)){No(e)&&Kx(n,e.index);return}if(e.type&3){let u=Qn(e,n);r=Wx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function Kx(t,e){let n=yn(e,t);n[te]&16||(n[te]|=64)}function Qx(t,e,n){let r=n.directiveStart,i=n.directiveEnd;No(n)&&$x(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||jT(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Ip(e,t,s,n);if(Po(u,e),o!==null&&Jx(e,s-r,u,a,n,o),fi(a)){let l=yn(n.index,e);l[Rt]=Ip(e,t,s,n)}}}function Yx(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=DP();try{li(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];vp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Zx(u,l)}}finally{li(-1),vp(s)}}function Zx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function bg(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Ax(e,o.selectors,!1)&&(r??=[],fi(o)?r.unshift(o):r.push(o))}return r}function Jx(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Np(r,n,u,l)}}function Xx(t,e){let n=t[wo],r=n?n.get(qn,null):null;r&&r.handleError(e)}function Dg(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Np(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Np(h,l,r,i),a=!0}return a}function ek(t,e){let n=yn(e,t),r=n[ge];tk(r,n);let i=n[Gn];i!==null&&n[xu]===null&&(n[xu]=cb(i,n[wo])),Ae(18),Cg(r,n,n[Rt]),Ae(19,n[Rt])}function tk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Cg(t,e,n){og(e);try{let r=t.viewQuery;r!==null&&Ap(1,r,n);let i=t.template;i!==null&&vb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[To]?.finishViewCreation(t),t.staticContentQueries&&ub(t,e),t.staticViewQueries&&Ap(2,t.viewQuery,n);let o=t.components;o!==null&&nk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,sg()}}function nk(t,e){for(let n=0;n<e.length;n++)ek(t,e[n])}function rk(t,e,n,r){let i=pe(null);try{let o=e.tView,a=t[te]&4096?4096:16,u=wg(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Eo]=l;let h=t[To];return h!==null&&(u[To]=h.createEmbeddedView(o)),Cg(o,u,n),u}finally{pe(i)}}function DE(t,e){return!e||e.firstChild===null||XT(t)}var ik;function Sg(t,e){return ik(t,e)}var Wn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wn||{});function _b(t){return(t.flags&32)===32}function mo(t,e,n,r,i){if(r!=null){let o,s=!1;Kn(r)?o=r:Dr(r)&&(s=!0,r=r[Gn]);let a=mn(r);t===0&&n!==null?i==null?fb(e,n,a):Hu(e,n,a,i||null,!0):t===1&&n!==null?Hu(e,n,a,i||null,!0):t===2?Lx(e,a,s):t===3&&e.destroyNode(a),o!=null&&mk(e,t,o,n,i)}}function ok(t,e){Ib(t,e),e[Gn]=null,e[sn]=null}function sk(t,e,n,r,i,o){r[Gn]=i,r[sn]=e,pl(t,r,n,1,i,o)}function Ib(t,e){e[Cr].changeDetectionScheduler?.notify(9),pl(t,e,e[st],2,null,null)}function ak(t){let e=t[na];if(!e)return rp(t[ge],t);for(;e;){let n=null;if(Dr(e))n=e[na];else{let r=e[zt];r&&(n=r)}if(!n){for(;e&&!e[rn]&&e!==t;)Dr(e)&&rp(e[ge],e),e=e[Et];e===null&&(e=t),Dr(e)&&rp(e[ge],e),n=e&&e[rn]}e=n}}function Ag(t,e){let n=t[Lu],r=n.indexOf(e);n.splice(r,1)}function wb(t,e){if(Mo(e))return;let n=e[st];n.destroyNode&&pl(t,e,n,3,null,null),ak(e)}function rp(t,e){if(Mo(e))return;let n=pe(null);try{e[te]&=-129,e[te]|=256,e[Ht]&&Mf(e[Ht]),uk(t,e),ck(t,e),e[ge].type===1&&e[st].destroy();let r=e[Eo];if(r!==null&&Kn(e[Et])){r!==e[Et]&&Ag(r,e);let i=e[To];i!==null&&i.detachView(t)}Cp(e)}finally{pe(n)}}function ck(t,e){let n=t.cleanup,r=e[ku];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[ku]=null);let i=e[br];if(i!==null){e[br]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ou];if(o!==null){e[Ou]=null;for(let s of o)s.destroy()}}function uk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ra)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Ae(4,a,u);try{u.call(a)}finally{Ae(5,a,u)}}else{Ae(4,i,o);try{o.call(i)}finally{Ae(5,i,o)}}}}}function lk(t,e,n){return dk(t,e.parent,n)}function dk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Gn];if(No(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===vn.None||i===vn.Emulated)return null}return Qn(r,n)}function hk(t,e,n){return pk(t,e,n)}function fk(t,e,n){return t.type&40?Qn(t,n):null}var pk=fk,CE;function fl(t,e,n,r){let i=lk(t,r,e),o=e[st],s=r.parent||e[sn],a=hk(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)bE(o,i,n[u],a,!1);else bE(o,i,n,a,!1);CE!==void 0&&CE(o,r,e,n,i)}function Js(t,e){if(e!==null){let n=e.type;if(n&3)return Qn(e,t);if(n&4)return Mp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Js(t,r);{let i=t[e.index];return Kn(i)?Mp(-1,i):mn(i)}}else{if(n&128)return Js(t,e.next);if(n&32)return Sg(e,t)()||mn(t[e.index]);{let r=Eb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ui(t[pn]);return Js(i,r)}else return Js(t,e.next)}}}return null}function Eb(t,e){if(e!==null){let r=t[pn][sn],i=e.projection;return r.projection[i]}return null}function Mp(t,e){let n=zt+t+1;if(n<e.length){let r=e[n],i=r[ge].firstChild;if(i!==null)return Js(r,i)}return e[ci]}function Rg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Po(mn(a),r),n.flags|=2),!_b(n))if(u&8)Rg(t,e,n.child,r,i,o,!1),mo(e,t,i,a,o);else if(u&32){let l=Sg(n,r),h;for(;h=l();)mo(e,t,i,h,o);mo(e,t,i,a,o)}else u&16?gk(t,e,r,n,i,o):mo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function pl(t,e,n,r,i,o){Rg(n,r,t.firstChild,e,i,o,!1)}function gk(t,e,n,r,i,o){let s=n[pn],u=s[sn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];mo(e,t,i,h,o)}else{let l=u,h=s[Et];XT(r)&&(l.flags|=128),Rg(t,e,l,h,i,o,!0)}}function mk(t,e,n,r,i){let o=n[ci],s=mn(n);o!==s&&mo(e,t,r,o,i);for(let a=zt;a<n.length;a++){let u=n[a];pl(u[ge],u,t,e,r,o)}}function yk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Wn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wn.Important),t.setStyle(n,r,i,o))}}function zu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(mn(o)),Kn(o)&&vk(o,r);let s=n.type;if(s&8)zu(t,e,n.child,r);else if(s&32){let a=Sg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Eb(e,n);if(Array.isArray(a))r.push(...a);else{let u=ui(e[pn]);zu(u[ge],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function vk(t,e){for(let n=zt;n<t.length;n++){let r=t[n],i=r[ge].firstChild;i!==null&&zu(r[ge],r,i,e)}t[ci]!==t[Gn]&&e.push(t[ci])}function Tb(t){if(t[ep]!==null){for(let e of t[ep])e.impl.addSequence(e);t[ep].length=0}}var bb=[];function _k(t){return t[Ht]??Ik(t)}function Ik(t){let e=bb.pop()??Object.create(Ek);return e.lView=t,e}function wk(t){t.lView[Ht]!==t&&(t.lView=null,bb.push(t))}var Ek=Te(F({},zc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{rl(t.lView)},consumerOnSignalRead(){this.lView[Ht]=this}});function Tk(t){let e=t[Ht]??Object.create(bk);return e.lView=t,e}var bk=Te(F({},zc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ui(t.lView);for(;e&&!Db(e[ge]);)e=ui(e);e&&_T(e)},consumerOnSignalRead(){this.lView[Ht]=this}});function Db(t){return t.type!==2}function Cb(t){if(t[Ou]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Ou])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[te]&8192)}}var Dk=100;function Sb(t,e=!0,n=0){let i=t[Cr].rendererFactory,o=!1;o||i.begin?.();try{Ck(t,n)}catch(s){throw e&&Xx(t,s),s}finally{o||i.end?.()}}function Ck(t,e){let n=DT();try{lE(!0),Pp(t,e);let r=0;for(;nl(t);){if(r===Dk)throw new U(103,!1);r++,Pp(t,1)}}finally{lE(n)}}function Sk(t,e,n,r){if(Mo(e))return;let i=e[te],o=!1,s=!1;og(e);let a=!0,u=null,l=null;o||(Db(t)?(l=_k(e),u=Rf(l)):Cf()===null?(a=!1,l=Tk(e),u=Rf(l)):e[Ht]&&(Mf(e[Ht]),e[Ht]=null));try{vT(e),EP(t.bindingStartIndex),n!==null&&vb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Tu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&bu(e,y,0,null),tp(e,0)}if(s||Ak(e),Cb(e),Ab(e,0),t.contentQueries!==null&&ub(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Tu(e,y)}else{let y=t.contentHooks;y!==null&&bu(e,y,1),tp(e,1)}Nk(t,e);let p=t.components;p!==null&&Nb(e,p,0);let m=t.viewQuery;if(m!==null&&Ap(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Tu(e,y)}else{let y=t.viewHooks;y!==null&&bu(e,y,2),tp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Xf]){for(let y of e[Xf])y();e[Xf]=null}o||(Tb(e),e[te]&=-73)}catch(h){throw o||rl(e),h}finally{l!==null&&(Iw(l,u),a&&wk(l)),sg()}}function Ab(t,e){for(let n=nb(t);n!==null;n=rb(n))for(let r=zt;r<n.length;r++){let i=n[r];Rb(i,e)}}function Ak(t){for(let e=nb(t);e!==null;e=rb(e)){if(!(e[te]&2))continue;let n=e[Lu];for(let r=0;r<n.length;r++){let i=n[r];_T(i)}}}function Rk(t,e,n){Ae(18);let r=yn(e,t);Rb(r,n),Ae(19,r[Rt])}function Rb(t,e){ng(t)&&Pp(t,e)}function Pp(t,e){let r=t[ge],i=t[te],o=t[Ht],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Nf(o)),s||=!1,o&&(o.dirty=!1),t[te]&=-9217,s)Sk(r,t,r.template,t[Rt]);else if(i&8192){Cb(t),Ab(t,1);let a=r.components;a!==null&&Nb(t,a,1),Tb(t)}}function Nb(t,e,n){for(let r=0;r<e.length;r++)Rk(t,e[r],n)}function Nk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)li(~i);else{let o=i,s=n[++r],a=n[++r];bP(s,o);let u=e[o];Ae(24,u),a(2,u),Ae(25,u)}}}finally{li(-1)}}function Ng(t,e){let n=DT()?64:1088;for(t[Cr].changeDetectionScheduler?.notify(e);t;){t[te]|=n;let r=ui(t);if(Vu(t)&&!r)return t;t=r}return null}function Mb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Mk(t,e,n,r=!0){let i=e[ge];if(Pk(i,e,t,n),r){let s=Mp(n,t),a=e[st],u=a.parentNode(t[ci]);u!==null&&sk(i,t[sn],a,e,u,s)}let o=e[xu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function xp(t,e){if(t.length<=zt)return;let n=zt+e,r=t[n];if(r){let i=r[Eo];i!==null&&i!==t&&Ag(i,r),e>0&&(t[n-1][rn]=r[rn]);let o=Mu(t,zt+e);ok(r[ge],r);let s=o[To];s!==null&&s.detachView(o[ge]),r[Et]=null,r[rn]=null,r[te]&=-129}return r}function Pk(t,e,n,r){let i=zt+r,o=n.length;r>0&&(n[i-1][rn]=e),r<o-zt?(e[rn]=n[i],tT(n,zt+r,e)):(n.push(e),e[rn]=null),e[Et]=n;let s=e[Eo];s!==null&&n!==s&&Pb(s,e);let a=e[To];a!==null&&a.insertView(t),mp(e),e[te]|=128}function Pb(t,e){let n=t[Lu],r=e[Et];if(Dr(r))t[te]|=2;else{let i=r[Et][pn];e[pn]!==i&&(t[te]|=2)}n===null?t[Lu]=[e]:n.push(e)}var ia=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[ge];return zu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Rt]}set context(e){this._lView[Rt]=e}get destroyed(){return Mo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Et];if(Kn(e)){let n=e[Fu],r=n?n.indexOf(this):-1;r>-1&&(xp(e,r),Mu(n,r))}this._attachedToViewContainer=!1}wb(this._lView[ge],this._lView)}onDestroy(e){IT(this._lView,e)}markForCheck(){Ng(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){mp(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,Sb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Vu(this._lView),n=this._lView[Eo];n!==null&&!e&&Ag(n,this._lView),Ib(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=Vu(this._lView),r=this._lView[Eo];r!==null&&!n&&Pb(r,this._lView),mp(this._lView)}};var gl=(()=>{class t{static __NG_ELEMENT_ID__=Ok}return t})(),xk=gl,kk=class extends xk{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=rk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ia(i)}};function Ok(){return Fk(an(),xe())}function Fk(t,e){return t.type&4?new kk(e,t,cl(t,e)):null}function ml(t,e,n,r,i){let o=t.data[e];if(o===null)o=Lk(t,e,n,r,i),TP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=_P();o.injectorIndex=s===null?-1:s.injectorIndex}return mi(o,!0),o}function Lk(t,e,n,r,i){let o=TT(),s=ig(),a=s?o:o&&o.parent,u=t.data[e]=jk(t,a,n,e,r,i);return Vk(t,u,o,s),u}function Vk(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function jk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return mP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var i8=new RegExp(`^(\\d+)*(${hx}|${dx})*(.*)`);var Uk=()=>null;function SE(t,e){return Uk(t,e)}var Bk=class{},xb=class{},kp=class{resolveComponentFactory(e){throw Error(`No component factory found for ${St(e)}.`)}},yl=class{static NULL=new kp},Co=class{},kb=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>$k()}return t})();function $k(){let t=xe(),e=an(),n=yn(e.index,t);return(Dr(n)?n:t)[st]}var Hk=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>null})}return t})();var ip={},Op=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ju(r);let i=this.injector.get(e,ip,r);return i!==ip||n===ip?i:this.parentInjector.get(e,n,r)}};function Fp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=tE(i,a);else if(o==2){let u=a,l=e[++s];r=tE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Zn(t,e=re.Default){let n=xe();if(n===null)return ie(t,e);let r=an();return HT(r,n,$t(t),e)}function Mg(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,u=null,l=null,h=qk(s);h===null?a=s:[a,u,l]=h,Kk(t,e,n,a,o,u,l)}o!==null&&r!==null&&zk(n,r,o)}function zk(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}function qk(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&fi(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,Wk(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function Wk(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function Gk(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Kk(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&fi(y)&&(u=!0,Gk(t,n,m)),$P(jT(n,e),t,y.type)}eO(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=mb(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=sl(n.mergedAttrs,y.hostAttrs),Yk(t,n,e,p,y),Xk(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);n.directiveToIndex.set(y.type,[p,N+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let C=y.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}Qk(t,n,o)}function Qk(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))AE(0,e,i,r),AE(1,e,i,r),NE(e,r,!1);else{let o=n.get(i);RE(0,e,o,r),RE(1,e,o,r),NE(e,r,!0)}}}function AE(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Ob(e,o)}}function RE(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Ob(e,s)}}function Ob(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function NE(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||_g(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Yk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=vo(i.type,!0)),s=new ra(o,fi(i),Zn);t.blueprint[r]=s,n[r]=s,Zk(t,e,r,mb(t,n,i.hostVars,Yn),i)}function Zk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Jk(s)!=a&&s.push(a),s.push(n,r,o)}}function Jk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Xk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fi(e)&&(n[""]=t)}}function eO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Fb(t,e,n,r,i,o,s,a){let u=e.consts,l=bo(u,s),h=ml(e,t,2,r,l);return o&&Mg(e,n,h,bo(u,a),i),h.mergedAttrs=sl(h.mergedAttrs,h.attrs),h.attrs!==null&&Fp(h,h.attrs,!1),h.mergedAttrs!==null&&Fp(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function Lb(t,e){ag(t,e),eg(e)&&t.queries.elementEnd(e)}var qu=class extends yl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Io(e);return new oa(n,this.ngModule)}};function tO(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&dl.SignalBased)!==0};return i&&(o.transform=i),o})}function nO(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function rO(t,e,n){let r=e instanceof At?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Op(n,r):n}function iO(t){let e=t.get(Co,null);if(e===null)throw new U(407,!1);let n=t.get(Hk,null),r=t.get(Do,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function oO(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return hb(e,n,n==="svg"?cP:n==="math"?uP:null)}var oa=class extends xb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=tO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=nO(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Px(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Ae(22);let o=pe(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:xx(this.componentDef.selectors[0]),u=Ig(0,null,null,1,0,null,null,null,null,[a],null),l=rO(s,i||this.ngModule,e),h=iO(l),p=h.rendererFactory.createRenderer(null,s),m=r?Hx(p,r,s.encapsulation,l):oO(s,p),y=wg(null,u,null,512|gb(s),null,null,h,p,l,null,cb(m,l,!0));y[gn]=m,og(y);let C=null;try{let N=Fb(gn,u,y,"#host",()=>[this.componentDef],!0,0);m&&(pb(p,m,N),Po(m,y)),hl(u,y,N),vg(u,N,y),Lb(u,N),n!==void 0&&sO(N,this.ngContentSelectors,n),C=yn(N.index,y),y[Rt]=C[Rt],Cg(u,y,null)}catch(N){throw C!==null&&Cp(C),Cp(y),N}finally{Ae(23),sg()}return new Lp(this.componentType,y)}finally{pe(o)}}},Lp=class extends Bk{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=yT(n[ge],gn),this.location=cl(this._tNode,n),this.instance=yn(this._tNode.index,n)[Rt],this.hostView=this.changeDetectorRef=new ia(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Dg(r,i[ge],i,e,n);this.previousInputValues.set(e,n);let s=yn(r.index,i);Ng(s,1)}get injector(){return new ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var xo=(()=>{class t{static __NG_ELEMENT_ID__=aO}return t})();function aO(){let t=an();return uO(t,xe())}var cO=xo,Vb=class extends cO{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return cl(this._hostTNode,this._hostLView)}get injector(){return new ai(this._hostTNode,this._hostLView)}get parentInjector(){let e=cg(this._hostTNode,this._hostLView);if(FT(e)){let n=Uu(e,this._hostLView),r=ju(e),i=n[ge].data[r+8];return new ai(i,n)}else return new ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ME(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-zt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=SE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,DE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!iP(e),a;if(s)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new oa(Io(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(At,null);N&&(o=N)}let h=Io(u.componentType??{}),p=SE(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,DE(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(lP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Et],l=new Vb(u,u[sn],u[Et]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Mk(s,i,o,r),e.attachToViewContainerRef(),tT(op(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ME(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=xp(this._lContainer,n);r&&(Mu(op(this._lContainer),n),wb(r[ge],r))}detach(e){let n=this._adjustIndex(e,-1),r=xp(this._lContainer,n);return r&&Mu(op(this._lContainer),n)!=null?new ia(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ME(t){return t[Fu]}function op(t){return t[Fu]||(t[Fu]=[])}function uO(t,e){let n,r=e[t.index];return Kn(r)?n=r:(n=Mb(r,e,null,t),e[t.index]=n,Eg(e,n)),dO(n,e,t,r),new Vb(n,t,e)}function lO(t,e){let n=t[st],r=n.createComment(""),i=Qn(e,t),o=n.parentNode(i);return Hu(n,o,r,n.nextSibling(i),!1),r}var dO=pO,hO=()=>!1;function fO(t,e,n){return hO(t,e,n)}function pO(t,e,n,r){if(t[ci])return;let i;n.type&8?i=mn(r):i=lO(e,n),t[ci]=i}var So=class{},Pg=class{};var Vp=class extends So{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new qu(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=iT(e);this._bootstrapComponents=lb(o.bootstrap),this._r3Injector=WT(e,n,[{provide:So,useValue:this},{provide:yl,useValue:this.componentFactoryResolver},...r],St(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},jp=class extends Pg{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Vp(this.moduleType,e,[])}};var Wu=class extends So{injector;componentFactoryResolver=new qu(this);instance=null;constructor(e){super();let n=new ta([...e.providers,{provide:So,useValue:this},{provide:yl,useValue:this.componentFactoryResolver}],e.parent||Xp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function vl(t,e,n=null){return new Wu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var gO=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=oT(!1,n.type),i=r.length>0?vl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(ie(At))})}return t})();function je(t){return ua(()=>{let e=jb(t),n=Te(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===eb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(gO).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vn.Emulated,styles:t.styles||nn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&yg("NgStandalone"),Ub(n);let r=t.dependencies;return n.directiveDefs=PE(r,!1),n.pipeDefs=PE(r,!0),n.id=IO(n),n})}function mO(t){return Io(t)||WM(t)}function yO(t){return t!==null}function _l(t){return ua(()=>({type:t.type,bootstrap:t.bootstrap||nn,declarations:t.declarations||nn,imports:t.imports||nn,exports:t.exports||nn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vO(t,e){if(t==null)return _o;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=dl.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function _O(t){if(t==null)return _o;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ko(t){return ua(()=>{let e=jb(t);return Ub(e),e})}function jb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||_o,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||nn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vO(t.inputs,e),outputs:_O(t.outputs),debugInfo:null}}function Ub(t){t.features?.forEach(e=>e(t))}function PE(t,e){if(!t)return null;let n=e?GM:mO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(yO)}function IO(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Bb(t){return EO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function wO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function EO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function TO(t,e,n){return t[e]=n}function sa(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Up(t,e,n,r){let i=sa(t,e,n);return sa(t,e+1,r)||i}function bO(t,e,n,r,i,o){let s=Up(t,e,n,r);return Up(t,e+2,i,o)||s}function DO(t,e,n,r,i,o,s,a,u){let l=e.consts,h=ml(e,t,4,s||null,a||null);rg()&&Mg(e,n,h,bo(l,u),bg),h.mergedAttrs=sl(h.mergedAttrs,h.attrs),ag(e,h);let p=h.tView=Ig(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function CO(t,e,n,r,i,o,s,a,u,l){let h=n+gn,p=e.firstCreatePass?DO(h,e,t,r,i,o,s,a,u):e.data[h];mi(p,!1);let m=SO(e,t,p,n);il()&&fl(e,t,m,p),Po(m,t);let y=Mb(m,t,m,p);return t[h]=y,Eg(t,y),fO(y,p,t),tl(p)&&hl(e,t,p),u!=null&&Tg(t,p,l),p}function Jn(t,e,n,r,i,o,s,a){let u=xe(),l=_n(),h=bo(l.consts,o);return CO(u,l,t,e,n,r,i,h,s,a),Jn}var SO=AO;function AO(t,e,n,r){return ol(!0),e[st].createComment("")}var $b=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Hb=new B("");var RO=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>new Bp})}return t})(),Bp=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function ha(t){return!!t&&typeof t.then=="function"}function zb(t){return!!t&&typeof t.subscribe=="function"}var NO=new B("");var qb=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(NO,{optional:!0})??[];injector=x(Ye);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Tt(this.injector,i);if(ha(o))n.push(o);else if(zb(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xg=new B("");function MO(){Pf(()=>{throw new U(600,!1)})}function PO(t){return t.isBoundToModule}var xO=10;var di=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(nx);afterRenderManager=x(px);zonelessEnabled=x(lg);rootEffectScheduler=x(RO);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new rt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(vi).hasPendingTasks.pipe(le(n=>!n));constructor(){x(ll,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(At);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ye.NULL){Ae(10);let o=n instanceof xb;if(!this._injector.get(qb).done){let y="";throw new U(405,y)}let a;o?a=n:a=this._injector.get(yl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let u=PO(a)?void 0:this._injector.get(So),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,m=h.injector.get(Hb,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Du(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),Ae(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ae(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ab.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let n=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,pe(n),this.afterTick.next(),Ae(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Co,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<xO;)Ae(14),this.synchronizeOnce(),Ae(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)kO(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>nl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Du(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(xg,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Du(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Du(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kO(t,e,n,r){if(!n&&!nl(t))return;Sb(t,e,n&&!r?0:1)}function OO(t,e,n,r){return sa(t,CT(),n)?e+Au(n)+r:Yn}function FO(t,e,n,r,i,o){let s=wP(),a=Up(t,s,n,i);return ST(2),a?e+Au(n)+r+Au(i)+o:Yn}function wu(t,e){return t<<17|e<<2}function hi(t){return t>>17&32767}function LO(t){return(t&2)==2}function VO(t,e){return t&131071|e<<17}function $p(t){return t|2}function Ao(t){return(t&131068)>>2}function sp(t,e){return t&-131069|e<<2}function jO(t){return(t&1)===1}function Hp(t){return t|1}function UO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=hi(s),u=Ao(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||la(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=hi(t[a+1]);t[r+1]=wu(m,a),m!==0&&(t[m+1]=sp(t[m+1],r)),t[a+1]=VO(t[a+1],r)}else t[r+1]=wu(a,0),a!==0&&(t[a+1]=sp(t[a+1],r)),a=r;else t[r+1]=wu(u,0),a===0?a=r:t[u+1]=sp(t[u+1],r),u=r;l&&(t[r+1]=$p(t[r+1])),xE(t,h,r,!0),xE(t,h,r,!1),BO(e,h,t,r,o),s=wu(a,u),o?e.classBindings=s:e.styleBindings=s}function BO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&la(o,e)>=0&&(n[r+1]=Hp(n[r+1]))}function xE(t,e,n,r){let i=t[n+1],o=e===null,s=r?hi(i):Ao(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];$O(u,e)&&(a=!0,t[s+1]=r?Hp(l):$p(l)),s=r?hi(l):Ao(l)}a&&(t[n+1]=r?$p(i):Hp(i))}function $O(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?la(t,e)>=0:!1}function J(t,e,n){let r=xe(),i=CT();if(sa(r,i,e)){let o=_n(),s=RP();Gx(o,s,r,t,e,r[st],n,!1)}return J}function kE(t,e,n,r,i){Dg(e,t,n,i?"class":"style",r)}function wn(t,e,n){return Wb(t,e,n,!1),wn}function qt(t,e){return Wb(t,e,null,!0),qt}function Wb(t,e,n,r){let i=xe(),o=_n(),s=ST(2);if(o.firstUpdatePass&&zO(o,t,s,r),e!==Yn&&sa(i,s,e)){let a=o.data[yi()];QO(o,a,i,i[st],t,i[s+1]=YO(e,n),r,s)}}function HO(t,e){return e>=t.expandoStartIndex}function zO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[yi()],s=HO(t,n);ZO(o,r)&&e===null&&!s&&(e=!1),e=qO(i,o,e,r),UO(i,o,e,n,s,r)}}function qO(t,e,n,r){let i=CP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ap(null,t,e,n,r),n=aa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ap(i,t,e,n,r),o===null){let u=WO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=ap(null,t,e,u[1],r),u=aa(u,e.attrs,r),GO(t,e,r,u))}else o=KO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function WO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ao(r)!==0)return t[hi(r)]}function GO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[hi(i)]=r}function KO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=aa(r,s,n)}return aa(r,e.attrs,n)}function ap(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=aa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function aa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),zM(t,s,n?!0:e[++o]))}return t===void 0?null:t}function QO(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=jO(l)?OE(u,e,n,i,Ao(l),s):void 0;if(!Gu(h)){Gu(o)||LO(l)&&(o=OE(u,null,n,i,a,s));let p=mT(yi(),n);yk(r,s,p,i,o)}}function OE(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Yn&&(m=p?nn:void 0);let y=p?Zf(m,r):h===r?m:void 0;if(l&&!Gu(y)&&(y=Zf(u,r)),Gu(y)&&(a=y,s))return a;let C=t[i+1];i=s?hi(C):Ao(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Zf(u,r))}return a}function Gu(t){return t!==void 0}function YO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=St(vx(t)))),t}function ZO(t,e){return(t.flags&(e?8:16))!==0}function q(t,e,n,r){let i=xe(),o=_n(),s=gn+t,a=i[st],u=o.firstCreatePass?Fb(s,o,i,e,bg,rg(),n,r):o.data[s],l=JO(o,i,u,a,e,t);i[s]=l;let h=tl(u);return mi(u,!0),pb(a,l,u),!_b(u)&&il()&&fl(o,i,l,u),(fP()===0||h)&&Po(l,i),pP(),h&&(hl(o,i,u),vg(o,u,i)),r!==null&&Tg(i,u),q}function X(){let t=an();ig()?bT():(t=t.parent,mi(t,!1));let e=t;yP(e)&&vP(),gP();let n=_n();return n.firstCreatePass&&Lb(n,e),e.classesWithoutHost!=null&&xP(e)&&kE(n,e,xe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&kP(e)&&kE(n,e,xe(),e.stylesWithoutHost,!1),X}function Se(t,e,n,r){return q(t,e,n,r),X(),Se}var JO=(t,e,n,r,i,o)=>(ol(!0),hb(r,i,NP()));function XO(t,e,n,r,i){let o=e.consts,s=bo(o,r),a=ml(e,t,8,"ng-container",s);s!==null&&Fp(a,s,!0);let u=bo(o,i);return rg()&&Mg(e,n,a,u,bg),a.mergedAttrs=sl(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function fa(t,e,n){let r=xe(),i=_n(),o=t+gn,s=i.firstCreatePass?XO(o,i,r,e,n):i.data[o];mi(s,!0);let a=e1(i,r,s,t);return r[o]=a,il()&&fl(i,r,a,s),Po(a,r),tl(s)&&(hl(i,r,s),vg(i,s,r)),n!=null&&Tg(r,s),fa}function pa(){let t=an(),e=_n();return ig()?bT():(t=t.parent,mi(t,!1)),e.firstCreatePass&&(ag(e,t),eg(t)&&e.queries.elementEnd(t)),pa}var e1=(t,e,n,r)=>(ol(!0),Fx(e[st],""));function Oo(){return xe()}var Ku="en-US";var t1=Ku;function n1(t){typeof t=="string"&&(t1=t.toLowerCase().replace(/_/g,"-"))}function FE(t,e,n){return function r(i){if(i===Function)return n;let o=No(t)?yn(t.index,e):e;Ng(o,5);let s=e[Rt],a=LE(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=LE(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function LE(t,e,n,r){let i=pe(null);try{return Ae(6,e,n),n(r)!==!1}catch(o){return r1(t,o),!1}finally{Ae(7,e,n),pe(i)}}function r1(t,e){let n=t[wo],r=n?n.get(qn,null):null;r&&r.handleError(e)}function VE(t,e,n,r,i,o){let s=e[n],a=e[ge],l=a.data[n].outputs[r],h=s[l],p=a.firstCreatePass?ET(a):null,m=wT(e),y=h.subscribe(o),C=m.length;m.push(o,y),p&&p.push(i,t.index,C,-(C+1))}function Fe(t,e,n,r){let i=xe(),o=_n(),s=an();return o1(o,i,i[st],s,t,e,r),Fe}function i1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ku],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function o1(t,e,n,r,i,o,s){let a=tl(r),l=t.firstCreatePass?ET(t):null,h=wT(e),p=!0;if(r.type&3||s){let m=Qn(r,e),y=s?s(m):m,C=h.length,N=s?L=>s(mn(L[r.index])):r.index,R=null;if(!s&&a&&(R=i1(t,e,i,r.index)),R!==null){let L=R.__ngLastListenerFn__||R;L.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=FE(r,e,o),mx(e,y,i,o);let L=n.listen(y,i,o);h.push(o,L),l&&l.push(i,N,C,C+1)}}else o=FE(r,e,o);if(p){let m=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let C=0;C<y.length;C+=2){let N=y[C],R=y[C+1];VE(r,e,N,R,i,o)}if(m&&m.length)for(let C of m)VE(r,e,C,i,i,o)}}function Sr(t=1){return AP(t)}function Ee(t,e=""){let n=xe(),r=_n(),i=t+gn,o=r.firstCreatePass?ml(r,i,1,e,null):r.data[i],s=s1(r,n,o,e,t);n[i]=s,il()&&fl(r,n,s,o),mi(o,!1)}var s1=(t,e,n,r,i)=>(ol(!0),kx(e[st],r));function Xn(t){return Il("",t,""),Xn}function Il(t,e,n){let r=xe(),i=OO(r,t,e,n);return i!==Yn&&Gb(r,yi(),i),Il}function kg(t,e,n,r,i){let o=xe(),s=FO(o,t,e,n,r,i);return s!==Yn&&Gb(o,yi(),s),kg}function Gb(t,e,n){let r=mT(e,t);Ox(t[st],r,n)}function Kb(t,e,n,r,i,o,s){return c1(xe(),IP(),t,e,n,r,i,o,s)}function a1(t,e){let n=t[e];return n===Yn?void 0:n}function c1(t,e,n,r,i,o,s,a,u){let l=e+n;return bO(t,l,i,o,s,a)?TO(t,l+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):a1(t,l+4)}var ca=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Qb=new ca("19.2.15"),zp=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Yb=(()=>{class t{compileModuleSync(n){return new jp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=iT(n),o=lb(i.declarations).reduce((s,a)=>{let u=Io(a);return u&&s.push(new oa(u)),s},[]);return new zp(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var u1=(()=>{class t{zone=x(ve);changeDetectionScheduler=x(Do);applicationRef=x(di);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),l1=new B("",{factory:()=>!1});function Zb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(Te(F({},Xb()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:ea,multi:!0,useFactory:()=>{let r=x(u1,{optional:!0});return()=>r.initialize()}},{provide:ea,multi:!0,useFactory:()=>{let r=x(d1);return()=>{r.initialize()}}},e===!0?{provide:KT,useValue:!0}:[],{provide:QT,useValue:n??GT}]}function Jb(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Zb({ngZoneFactory:()=>{let i=Xb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&yg("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return on([{provide:l1,useValue:!0},{provide:lg,useValue:!1},r])}function Xb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var d1=(()=>{class t{subscription=new Pe;initialized=!1;zone=x(ve);pendingTasks=x(vi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var h1=(()=>{class t{appRef=x(di);taskService=x(vi);ngZone=x(ve);zonelessEnabled=x(lg);tracing=x(ll,{optional:!0});disableScheduling=x(KT,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($u):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(QT,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Dp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?yE:YT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($u+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,yE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function f1(){return typeof $localize<"u"&&$localize.locale||Ku}var Og=new B("",{providedIn:"root",factory:()=>x(Og,re.Optional|re.SkipSelf)||f1()});var qp=new B(""),p1=new B("");function Ys(t){return!t.moduleRef}function g1(t){let e=Ys(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{Ys(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(qn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Ys(t)){let o=()=>e.destroy(),s=t.platformInjector.get(qp);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(qp);s.add(o),t.moduleRef.onDestroy(()=>{Du(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return y1(r,n,()=>{let o=e.get(qb);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Og,Ku);if(n1(s||Ku),!e.get(p1,!0))return Ys(t)?e.get(di):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ys(t)){let u=e.get(di);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return m1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function m1(t,e){let n=t.injector.get(di);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new U(-403,!1);e.push(t)}function y1(t,e,n){try{let r=n();return ha(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Cu=null;function v1(t=[],e){return Ye.create({name:e,providers:[{provide:Xu,useValue:"platform"},{provide:qp,useValue:new Set([()=>Cu=null])},...t]})}function _1(t=[]){if(Cu)return Cu;let e=v1(t);return Cu=e,MO(),I1(e),e}function I1(t){let e=t.get(gg,null);Tt(t,()=>{e?.forEach(n=>n())})}function Fg(){return!1}var Lg=(()=>{class t{static __NG_ELEMENT_ID__=w1}return t})();function w1(t){return E1(an(),xe(),(t&16)===16)}function E1(t,e,n){if(No(t)&&!n){let r=yn(t.index,e);return new ia(r,r)}else if(t.type&175){let r=e[pn];return new ia(r,e)}return null}var Wp=class{constructor(){}supports(e){return Bb(e)}create(e){return new Gp(e)}},T1=(t,e)=>e,Gp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||T1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<jE(r,i,o)?n:r,a=jE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,C=y+m;h<=C&&C<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Bb(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,wO(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Kp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Qu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Qu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Kp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Qp=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Qu=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Qp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function jE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function UE(){return new Vg([new Wp])}var Vg=(()=>{class t{factories;static \u0275prov=$({token:t,providedIn:"root",factory:UE});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||UE()),deps:[[t,new $M,new gt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new U(901,!1)}}return t})();function eD(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Ae(8);try{let o=i?.injector??_1(r),s=[Zb({}),{provide:Do,useExisting:h1},...n||[]],a=new Wu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return g1({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ae(9)}}var BE=class{[hn];constructor(e){this[hn]=e}destroy(){this[hn].destroy()}};var mt=new B("");var rD=null;function er(){return rD}function jg(t){rD??=t}var ga=class{},Ug=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(iD),providedIn:"platform"})}return t})();var iD=(()=>{class t extends Ug{_location;_history;_doc=x(mt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return er().getBaseHref(this._doc)}onPopState(n){let r=er().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=er().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function oD(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function tD(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Ar(t){return t&&t[0]!=="?"?`?${t}`:t}var wl=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(aD),providedIn:"root"})}return t})(),sD=new B(""),aD=(()=>{class t extends wl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return oD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ar(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ar(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ar(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ie(Ug),ie(sD,8))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fo=(()=>{class t{_subject=new rt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=C1(tD(nD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ar(r))}normalize(n){return t.stripTrailingSlash(D1(this._basePath,nD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ar(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ar(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ar;static joinWithSlash=oD;static stripTrailingSlash=tD;static \u0275fac=function(r){return new(r||t)(ie(wl))};static \u0275prov=$({token:t,factory:()=>b1(),providedIn:"root"})}return t})();function b1(){return new Fo(ie(wl))}function D1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function nD(t){return t.replace(/\/index.html$/,"")}function C1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Bg=/\s+/,cD=[],$g=(()=>{class t{_ngEl;_renderer;initialClasses=cD;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Bg):cD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Bg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Bg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(Zn(fg),Zn(kb))};static \u0275dir=ko({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var El=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},bl=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new El(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),uD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);uD(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Zn(xo),Zn(gl),Zn(Vg))};static \u0275dir=ko({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function uD(t,e){t.context.$implicit=e.item}var _i=(()=>{class t{_viewContainer;_context=new Tl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){lD(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){lD(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Zn(xo),Zn(gl))};static \u0275dir=ko({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Tl=class{$implicit=null;ngIf=null};function lD(t,e){if(t&&!t.createEmbeddedView)throw new U(2020,!1)}var Ze=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=_l({type:t});static \u0275inj=Yu({})}return t})();function Hg(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Dl="browser",dD="server";function Cl(t){return t===Dl}function Sl(t){return t===dD}var ma=class{};var Nl=new B(""),Gg=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ie(Nl),ie(ve))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),va=class{_doc;constructor(e){this._doc=e}manager},Al="ng-app-id";function hD(t){for(let e of t)e.remove()}function fD(t,e){let n=e.createElement("style");return n.textContent=t,n}function A1(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Al}="${e}"],link[${Al}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Al),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function qg(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Kg=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Sl(o),A1(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,fD);r?.forEach(i=>this.addUsage(i,this.external,qg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(hD(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])hD(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,fD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,qg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Al,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ie(mt),ie(pg),ie(mg,8),ie(In))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),zg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qg=/%COMP%/g;var gD="%COMP%",R1=`_nghost-${gD}`,N1=`_ngcontent-${gD}`,M1=!0,P1=new B("",{providedIn:"root",factory:()=>M1});function x1(t){return N1.replace(Qg,t)}function k1(t){return R1.replace(Qg,t)}function mD(t,e){return e.map(n=>n.replace(Qg,t))}var Yg=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Sl(a),this.defaultRenderer=new _a(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===vn.ShadowDom&&(r=Te(F({},r),{encapsulation:vn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Rl?i.applyToHost(n):i instanceof Ia&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case vn.Emulated:o=new Rl(u,l,r,this.appId,h,s,a,p,m);break;case vn.ShadowDom:return new Wg(u,l,n,r,s,a,this.nonce,p,m);default:o=new Ia(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ie(Gg),ie(Kg),ie(pg),ie(P1),ie(mt),ie(In),ie(ve),ie(mg),ie(ll,8))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),_a=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(zg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(pD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(pD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=zg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=zg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Wn.DashCase|Wn.Important)?e.style.setProperty(n,r,i&Wn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Wn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=er().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function pD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Wg=class extends _a{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=mD(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=qg(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ia=class extends _a{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?mD(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Rl=class extends Ia{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=x1(h),this.hostAttr=k1(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ml=class t extends ga{supportsDOMEvents=!0;static makeCurrent(){jg(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=O1();return n==null?null:F1(n)}resetBaseElement(){wa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Hg(document.cookie,e)}},wa=null;function O1(){return wa=wa||document.head.querySelector("base"),wa?wa.getAttribute("href"):null}function F1(t){return new URL(t,document.baseURI).pathname}var L1=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),vD=(()=>{class t extends va{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ie(mt))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),yD=["alt","control","meta","shift"],V1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},_D=(()=>{class t extends va{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>er().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),yD.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=V1[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),yD.forEach(s=>{if(s!==i){let a=j1[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ie(mt))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function Zg(t,e,n){return eD(F({rootComponent:t,platformRef:n?.platformRef},U1(e)))}function U1(t){return{appProviders:[...q1,...t?.providers??[]],platformProviders:z1}}function B1(){Ml.makeCurrent()}function $1(){return new qn}function H1(){return ob(document),document}var z1=[{provide:In,useValue:Dl},{provide:gg,useValue:B1,multi:!0},{provide:mt,useFactory:H1}];var q1=[{provide:Xu,useValue:"root"},{provide:qn,useFactory:$1},{provide:Nl,useClass:vD,multi:!0,deps:[mt]},{provide:Nl,useClass:_D,multi:!0,deps:[mt]},Yg,Kg,Gg,{provide:Co,useExisting:Yg},{provide:ma,useClass:L1},[]];var ID=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ie(mt))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ne="primary",Oa=Symbol("RouteTitle"),nm=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ei(t){return new nm(t)}function AD(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function G1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!En(t[n],e[n]))return!1;return!0}function En(t,e){let n=t?rm(t):void 0,r=e?rm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!RD(t[i],e[i]))return!1;return!0}function rm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function RD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function ND(t){return t.length>0?t[t.length-1]:null}function Mr(t){return Kf(t)?t:ha(t)?Oe(Promise.resolve(t)):Q(t)}var K1={exact:PD,subset:xD},MD={exact:Q1,subset:Y1,ignored:()=>!0};function wD(t,e,n){return K1[n.paths](t.root,e.root,n.matrixParams)&&MD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Q1(t,e){return En(t,e)}function PD(t,e,n){if(!Ii(t.segments,e.segments)||!kl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!PD(t.children[r],e.children[r],n))return!1;return!0}function Y1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>RD(t[n],e[n]))}function xD(t,e,n){return kD(t,e,e.segments,n)}function kD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ii(i,n)||e.hasChildren()||!kl(i,n,r))}else if(t.segments.length===n.length){if(!Ii(t.segments,n)||!kl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!xD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ii(t.segments,i)||!kl(t.segments,i,r)||!t.children[ne]?!1:kD(t.children[ne],e,o,r)}}function kl(t,e,n){return e.every((r,i)=>MD[n](t[i].parameters,r.parameters))}var bn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){return X1.serialize(this)}},ye=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ol(this)}},Rr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ei(this.parameters),this._parameterMap}toString(){return FD(this)}};function Z1(t,e){return Ii(t,e)&&t.every((n,r)=>En(n.parameters,e[r].parameters))}function Ii(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function J1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var Fa=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new Ti,providedIn:"root"})}return t})(),Ti=class{parse(e){let n=new om(e);return new bn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ea(e.root,!0)}`,r=nF(e.queryParams),i=typeof e.fragment=="string"?`#${eF(e.fragment)}`:"";return`${n}${r}${i}`}},X1=new Ti;function Ol(t){return t.segments.map(e=>FD(e)).join("/")}function Ea(t,e){if(!t.hasChildren())return Ol(t);if(e){let n=t.children[ne]?Ea(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${Ea(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=J1(t,(r,i)=>i===ne?[Ea(t.children[ne],!1)]:[`${i}:${Ea(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${Ol(t)}/${n[0]}`:`${Ol(t)}/(${n.join("//")})`}}function OD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pl(t){return OD(t).replace(/%3B/gi,";")}function eF(t){return encodeURI(t)}function im(t){return OD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fl(t){return decodeURIComponent(t)}function ED(t){return Fl(t.replace(/\+/g,"%20"))}function FD(t){return`${im(t.path)}${tF(t.parameters)}`}function tF(t){return Object.entries(t).map(([e,n])=>`;${im(e)}=${im(n)}`).join("")}function nF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Pl(n)}=${Pl(i)}`).join("&"):`${Pl(n)}=${Pl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var rF=/^[^\/()?;#]+/;function Jg(t){let e=t.match(rF);return e?e[0]:""}var iF=/^[^\/()?;=#]+/;function oF(t){let e=t.match(iF);return e?e[0]:""}var sF=/^[^=?&#]+/;function aF(t){let e=t.match(sF);return e?e[0]:""}var cF=/^[^&#]+/;function uF(t){let e=t.match(cF);return e?e[0]:""}var om=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new ye(e,n)),r}parseSegment(){let e=Jg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Rr(Fl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=oF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Jg(this.remaining);i&&(r=i,this.capture(r))}e[Fl(n)]=Fl(r)}parseQueryParam(e){let n=aF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=uF(this.remaining);s&&(r=s,this.capture(r))}let i=ED(n),o=ED(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Jg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ne]:new ye([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function LD(t){return t.segments.length>0?new ye([],{[ne]:t}):t}function VD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=VD(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ye(t.segments,e);return lF(n)}function lF(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new ye(t.segments.concat(e.segments),e.children)}return t}function Bo(t){return t instanceof bn}function jD(t,e,n=null,r=null){let i=UD(t);return BD(i,e,n,r)}function UD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new ye(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=LD(r);return e??i}function BD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Xg(i,i,i,n,r);let o=dF(e);if(o.toRoot())return Xg(i,i,new ye([],{}),n,r);let s=hF(o,i,t),a=s.processChildren?ba(s.segmentGroup,s.index,o.commands):HD(s.segmentGroup,s.index,o.commands);return Xg(i,s.segmentGroup,a,n,r)}function Vl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ca(t){return typeof t=="object"&&t!=null&&t.outlets}function Xg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=$D(t,e,n);let a=LD(VD(s));return new bn(a,o,i)}function $D(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=$D(o,e,n)}),new ye(t.segments,r)}var jl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Vl(r[0]))throw new U(4003,!1);let i=r.find(Ca);if(i&&i!==ND(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function dF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new jl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new jl(n,e,r)}var jo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function hF(t,e,n){if(t.isAbsolute)return new jo(e,!0,0);if(!n)return new jo(e,!1,NaN);if(n.parent===null)return new jo(n,!0,0);let r=Vl(t.commands[0])?0:1,i=n.segments.length-1+r;return fF(n,i,t.numberOfDoubleDots)}function fF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new jo(r,!1,i-o)}function pF(t){return Ca(t[0])?t[0].outlets:{[ne]:t}}function HD(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return ba(t,e,n);let r=gF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ye(t.segments.slice(0,r.pathIndex),{});return o.children[ne]=new ye(t.segments.slice(r.pathIndex),t.children),ba(o,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?sm(t,e,n):r.match?ba(t,0,i):sm(t,e,n)}function ba(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=pF(n),i={};if(Object.keys(r).some(o=>o!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let o=ba(t.children[ne],e,n);return new ye(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=HD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ye(t.segments,i)}}function gF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ca(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!bD(u,l,s))return o;r+=2}else{if(!bD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function sm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ca(o)){let u=mF(o.outlets);return new ye(r,u)}if(i===0&&Vl(n[0])){let u=t.segments[e];r.push(new Rr(u.path,TD(n[0]))),i++;continue}let s=Ca(o)?o.outlets[ne]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Vl(a)?(r.push(new Rr(s,TD(a))),i+=2):(r.push(new Rr(s,{})),i++)}return new ye(r,{})}function mF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=sm(new ye([],{}),0,r))}),e}function TD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function bD(t,e,n){return t==n.path&&En(e,n.parameters)}var Ll="imperative",Je=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Je||{}),Ft=class{id;url;constructor(e,n){this.id=e,this.url=n}},bi=class extends Ft{type=Je.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},tr=class extends Ft{urlAfterRedirects;type=Je.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Nt||{}),Sa=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Sa||{}),Tn=class extends Ft{reason;code;type=Je.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},nr=class extends Ft{reason;code;type=Je.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},$o=class extends Ft{error;target;type=Je.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Aa=class extends Ft{urlAfterRedirects;state;type=Je.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ul=class extends Ft{urlAfterRedirects;state;type=Je.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bl=class extends Ft{urlAfterRedirects;state;shouldActivate;type=Je.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$l=class extends Ft{urlAfterRedirects;state;type=Je.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hl=class extends Ft{urlAfterRedirects;state;type=Je.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zl=class{route;type=Je.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ql=class{route;type=Je.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wl=class{snapshot;type=Je.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gl=class{snapshot;type=Je.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kl=class{snapshot;type=Je.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ql=class{snapshot;type=Je.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ra=class{},Ho=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function yF(t,e){return t.providers&&!t._injector&&(t._injector=vl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function cn(t){return t.outlet||ne}function vF(t,e){let n=t.filter(r=>cn(r)===e);return n.push(...t.filter(r=>cn(r)!==e)),n}function La(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Yl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return La(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Wo(this.rootInjector)}},Wo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Yl(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ie(At))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=am(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=am(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=cm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cm(e,this._root).map(n=>n.value)}};function am(t,e){if(t===e.value)return e;for(let n of e.children){let r=am(t,n);if(r)return r}return null}function cm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=cm(t,n);if(r.length)return r.unshift(e),r}return[]}var Ot=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Vo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Na=class extends Zl{snapshot;constructor(e,n){super(e),this.snapshot=n,mm(this,e)}toString(){return this.snapshot.toString()}};function zD(t){let e=_F(t),n=new it([new Rr("",{})]),r=new it({}),i=new it({}),o=new it({}),s=new it(""),a=new Nr(n,r,o,s,i,ne,t,e.root);return a.snapshot=e.root,new Na(new Ot(a,[]),e)}function _F(t){let e={},n={},r={},i="",o=new wi([],e,r,i,n,ne,t,null,{});return new Ma("",new Ot(o,[]))}var Nr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(l=>l[Oa]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>Ei(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>Ei(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Jl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&WD(i)&&(r.resolve[Oa]=i.title),r}var wi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Oa]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ei(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ma=class extends Zl{url;constructor(e,n){super(n),this.url=e,mm(this,n)}toString(){return qD(this._root)}};function mm(t,e){e.value._routerState=t,e.children.forEach(n=>mm(t,n))}function qD(t){let e=t.children.length>0?` { ${t.children.map(qD).join(", ")} } `:"";return`${t.value}${e}`}function em(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,En(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),En(e.params,n.params)||t.paramsSubject.next(n.params),G1(e.url,n.url)||t.urlSubject.next(n.url),En(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function um(t,e){let n=En(t.params,e.params)&&Z1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||um(t.parent,e.parent))}function WD(t){return typeof t.title=="string"||t.title===null}var GD=new B(""),Va=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new Qe;deactivateEvents=new Qe;attachEvents=new Qe;detachEvents=new Qe;routerOutletData=JT(void 0);parentContexts=x(Wo);location=x(xo);changeDetector=x(Lg);inputBinder=x(nd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new lm(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ko({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[tg]})}return t})(),lm=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Nr?this.route:e===Wo?this.childContexts:e===GD?this.outletData:this.parent.get(e,n)}},nd=new B("");var ym=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=je({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Se(0,"router-outlet")},dependencies:[Va],encapsulation:2})}return t})();function vm(t){let e=t.children&&t.children.map(vm),n=e?Te(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=ym),n}function IF(t,e,n){let r=Pa(t,e._root,n?n._root:void 0);return new Na(r,e)}function Pa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=wF(t,e,n);return new Ot(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pa(t,a)),s}}let r=EF(e.value),i=e.children.map(o=>Pa(t,o));return new Ot(r,i)}}function wF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Pa(t,r,i);return Pa(t,r)})}function EF(t){return new Nr(new it(t.url),new it(t.params),new it(t.queryParams),new it(t.fragment),new it(t.data),t.outlet,t.component,t)}var zo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},KD="ngNavigationCancelingError";function Xl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Bo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QD(!1,Nt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function QD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[KD]=!0,n.cancellationCode=e,n}function TF(t){return YD(t)&&Bo(t.url)}function YD(t){return!!t&&t[KD]}var bF=(t,e,n,r)=>le(i=>(new dm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),dm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),em(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Vo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Vo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Vo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Vo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ql(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Gl(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(em(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),em(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ed=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Uo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function DF(t,e,n){let r=t._root,i=e?e._root:null;return Ta(r,i,n,[r.value])}function CF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Go(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!GE(t)?t:e.get(t):r}function Ta(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Vo(e);return t.children.forEach(s=>{SF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Da(a,n.getContext(s),i)),i}function SF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=AF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ed(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ta(t,e,a?a.children:null,r,i):Ta(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Uo(a.outlet.component,s))}else s&&Da(e,a,i),i.canActivateChecks.push(new ed(r)),o.component?Ta(t,null,a?a.children:null,r,i):Ta(t,null,n,r,i);return i}function AF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ii(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ii(t.url,e.url)||!En(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!um(t,e)||!En(t.queryParams,e.queryParams);case"paramsChange":default:return!um(t,e)}}function Da(t,e,n){let r=Vo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Da(s,e.children.getContext(o),n):Da(s,null,n):Da(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Uo(e.outlet.component,i)):n.canDeactivateChecks.push(new Uo(null,i)):n.canDeactivateChecks.push(new Uo(null,i))}function ja(t){return typeof t=="function"}function RF(t){return typeof t=="boolean"}function NF(t){return t&&ja(t.canLoad)}function MF(t){return t&&ja(t.canActivate)}function PF(t){return t&&ja(t.canActivateChild)}function xF(t){return t&&ja(t.canDeactivate)}function kF(t){return t&&ja(t.canMatch)}function ZD(t){return t instanceof $n||t?.name==="EmptyError"}var xl=Symbol("INITIAL_VALUE");function qo(){return en(t=>gu(t.map(e=>e.pipe(Hn(1),_u(xl)))).pipe(le(e=>{for(let n of e)if(n!==!0){if(n===xl)return xl;if(n===!1||OF(n))return n}return!0}),Ut(e=>e!==xl),Hn(1)))}function OF(t){return Bo(t)||t instanceof zo}function FF(t,e){return We(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Q(Te(F({},n),{guardsResult:!0})):LF(s,r,i,t).pipe(We(a=>a&&RF(a)?VF(r,o,t,e):Q(a)),le(a=>Te(F({},n),{guardsResult:a})))})}function LF(t,e,n,r){return Oe(t).pipe(We(i=>HF(i.component,i.route,n,e,r)),zn(i=>i!==!0,!0))}function VF(t,e,n,r){return Oe(e).pipe(ho(i=>lo(UF(i.route.parent,r),jF(i.route,r),$F(t,i.path,n),BF(t,i.route,n))),zn(i=>i!==!0,!0))}function jF(t,e){return t!==null&&e&&e(new Kl(t)),Q(!0)}function UF(t,e){return t!==null&&e&&e(new Wl(t)),Q(!0)}function BF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>mu(()=>{let s=La(e)??n,a=Go(o,s),u=MF(a)?a.canActivate(e,t):Tt(s,()=>a(e,t));return Mr(u).pipe(zn())}));return Q(i).pipe(qo())}function $F(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>CF(s)).filter(s=>s!==null).map(s=>mu(()=>{let a=s.guards.map(u=>{let l=La(s.node)??n,h=Go(u,l),p=PF(h)?h.canActivateChild(r,t):Tt(l,()=>h(r,t));return Mr(p).pipe(zn())});return Q(a).pipe(qo())}));return Q(o).pipe(qo())}function HF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let u=La(e)??i,l=Go(a,u),h=xF(l)?l.canDeactivate(t,e,n,r):Tt(u,()=>l(t,e,n,r));return Mr(h).pipe(zn())});return Q(s).pipe(qo())}function zF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=Go(s,t),u=NF(a)?a.canLoad(e,n):Tt(t,()=>a(e,n));return Mr(u)});return Q(o).pipe(qo(),JD(r))}function JD(t){return eu(ot(e=>{if(typeof e!="boolean")throw Xl(t,e)}),le(e=>e===!0))}function qF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=Go(s,t),u=kF(a)?a.canMatch(e,n):Tt(t,()=>a(e,n));return Mr(u)});return Q(o).pipe(qo(),JD(r))}var xa=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ka=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Lo(t){return uo(new xa(t))}function WF(t){return uo(new U(4e3,!1))}function GF(t){return uo(QD(!1,Nt.GuardRejected))}var hm=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[ne])return WF(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:N}=i,R=Tt(o,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(R instanceof bn)throw new ka(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ka(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new bn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ye(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},fm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KF(t,e,n,r,i){let o=XD(t,e,n);return o.matched?(r=yF(e,r),qF(r,e,n,i).pipe(le(s=>s===!0?o:F({},fm)))):Q(o)}function XD(t,e,n){if(e.path==="**")return QF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},fm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||AD)(n,t,e);if(!i)return F({},fm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function QF(t){return{matched:!0,parameters:t.length>0?ND(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function DD(t,e,n,r){return n.length>0&&JF(t,n,r)?{segmentGroup:new ye(e,ZF(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&XF(t,n,r)?{segmentGroup:new ye(t.segments,YF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function YF(t,e,n,r){let i={};for(let o of n)if(rd(t,e,o)&&!r[cn(o)]){let s=new ye([],{});i[cn(o)]=s}return F(F({},r),i)}function ZF(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&cn(r)!==ne){let i=new ye([],{});n[cn(r)]=i}return n}function JF(t,e,n){return n.some(r=>rd(t,e,r)&&cn(r)!==ne)}function XF(t,e,n){return n.some(r=>rd(t,e,r))}function rd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function eL(t,e,n){return e.length===0&&!t.children[n]}var pm=class{};function tL(t,e,n,r,i,o,s="emptyOnly"){return new gm(t,e,n,r,i,s,o).recognize()}var nL=31,gm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new hm(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=DD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:n,rootSnapshot:r})=>{let i=new Ot(r,n),o=new Ma("",i),s=jD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new wi([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,n).pipe(le(r=>({children:r,rootSnapshot:n})),Er(r=>{if(r instanceof ka)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(le(s=>s instanceof Ot?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Oe(o).pipe(ho(s=>{let a=r.children[s],u=vF(n,s);return this.processSegmentGroup(e,u,a,s,i)}),vu((s,a)=>(s.push(...a),s)),Tr(null),Qf(),We(s=>{if(s===null)return Lo(r);let a=e0(s);return rL(a),Q(a)}))}processSegment(e,n,r,i,o,s,a){return Oe(n).pipe(ho(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Er(l=>{if(l instanceof xa)return Q(null);throw l}))),zn(u=>!!u),Er(u=>{if(ZD(u))return eL(r,i,o)?Q(new pm):Lo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return cn(r)!==s&&(s===ne||!rd(i,o,r))?Lo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Lo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=XD(n,i,o);if(!u)return Lo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nL&&(this.allowRedirects=!1));let y=new wi(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,CD(i),cn(i),i.component??i._loadedComponent??null,i,SD(i)),C=Jl(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(We(R=>this.processSegment(e,r,n,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=KF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(en(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(en(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new wi(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,CD(r),cn(r),r.component??r._loadedComponent??null,r,SD(r)),N=Jl(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:L}=DD(n,m,y,l);if(L.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(le(K=>new Ot(C,K)));if(l.length===0&&L.length===0)return Q(new Ot(C,[]));let W=cn(r)===o;return this.processSegment(h,l,R,L,W?ne:o,!0,C).pipe(le(K=>new Ot(C,K instanceof Ot?[K]:[])))}))):Lo(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):zF(e,n,r,this.urlSerializer).pipe(We(i=>i?this.configLoader.loadChildren(e,n).pipe(ot(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):GF(n))):Q({routes:[],injector:e})}};function rL(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function iL(t){let e=t.value.routeConfig;return e&&e.path===""}function e0(t){let e=[],n=new Set;for(let r of t){if(!iL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=e0(r.children);e.push(new Ot(r.value,i))}return e.filter(r=>!n.has(r))}function CD(t){return t.data||{}}function SD(t){return t.resolve||{}}function oL(t,e,n,r,i,o){return We(s=>tL(t,e,n,r,s.extractedUrl,i,o).pipe(le(({state:a,tree:u})=>Te(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function sL(t,e){return We(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of t0(u))s.add(l);let a=0;return Oe(s).pipe(ho(u=>o.has(u)?aL(u,r,t,e):(u.data=Jl(u,u.parent,t).resolve,Q(void 0))),ot(()=>a++),fo(1),We(u=>a===s.size?Q(n):Dt))})}function t0(t){let e=t.children.map(n=>t0(n)).flat();return[t,...e]}function aL(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!WD(i)&&(o[Oa]=i.title),cL(o,t,e,r).pipe(le(s=>(t._resolvedData=s,t.data=Jl(t,t.parent,n).resolve,null)))}function cL(t,e,n,r){let i=rm(t);if(i.length===0)return Q({});let o={};return Oe(i).pipe(We(s=>uL(t[s],e,n,r).pipe(zn(),ot(a=>{if(a instanceof zo)throw Xl(new Ti,a);o[s]=a}))),fo(1),le(()=>o),Er(s=>ZD(s)?Dt:uo(s)))}function uL(t,e,n,r){let i=La(e)??r,o=Go(t,i),s=o.resolve?o.resolve(e,n):Tt(i,()=>o(e,n));return Mr(s)}function tm(t){return en(e=>{let n=t(e);return n?Oe(n).pipe(le(()=>e)):Q(e)})}var _m=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[Oa]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(n0),providedIn:"root"})}return t})(),n0=(()=>{class t extends _m{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ie(ID))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ua=new B("",{providedIn:"root",factory:()=>({})}),Ba=new B(""),r0=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(Yb);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Mr(n.loadComponent()).pipe(le(o0),ot(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Qs(()=>{this.componentLoaders.delete(n)})),i=new oo(r,()=>new rt).pipe(io());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=i0(r,this.compiler,n,this.onLoadEndListener).pipe(Qs(()=>{this.childrenLoaders.delete(r)})),s=new oo(o,()=>new rt).pipe(io());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function i0(t,e,n,r){return Mr(t.loadChildren()).pipe(le(o0),We(i=>i instanceof Pg||Array.isArray(i)?Q(i):Oe(e.compileModuleAsync(i))),le(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ba,[],{optional:!0,self:!0}).flat()),{routes:s.map(vm),injector:o}}))}function lL(t){return t&&typeof t=="object"&&"default"in t}function o0(t){return lL(t)?t.default:t}var id=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(dL),providedIn:"root"})}return t})(),dL=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),s0=new B("");var a0=new B(""),c0=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new rt;transitionAbortSubject=new rt;configLoader=x(r0);environmentInjector=x(At);destroyRef=x(da);urlSerializer=x(Fa);rootContexts=x(Wo);location=x(Fo);inputBindingEnabled=x(nd,{optional:!0})!==null;titleStrategy=x(_m);options=x(Ua,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(id);createViewTransition=x(s0,{optional:!0});navigationErrorHandler=x(a0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new zl(i)),r=i=>this.events.next(new ql(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Te(F({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new it(null),this.transitions.pipe(Ut(r=>r!==null),en(r=>{let i=!1,o=!1;return Q(r).pipe(en(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Nt.SupersededByNewNavigation),Dt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Te(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new nr(s.id,this.urlSerializer.serialize(s.rawUrl),l,Sa.IgnoredSameUrlNavigation)),s.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Q(s).pipe(en(l=>(this.events.next(new bi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Dt:Promise.resolve(l))),oL(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=Te(F({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Aa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:m,extras:y}=s,C=new bi(l,this.urlSerializer.serialize(h),p,m);this.events.next(C);let N=zD(this.rootComponentType).snapshot;return this.currentTransition=r=Te(F({},s),{targetSnapshot:N,urlAfterRedirects:h,extras:Te(F({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Q(r)}else{let l="";return this.events.next(new nr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Sa.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Dt}}),ot(s=>{let a=new Ul(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),le(s=>(this.currentTransition=r=Te(F({},s),{guards:DF(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),FF(this.environmentInjector,s=>this.events.next(s)),ot(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Xl(this.urlSerializer,s.guardsResult);let a=new Bl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ut(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Nt.GuardRejected),!1)),tm(s=>{if(s.guards.canActivateChecks.length!==0)return Q(s).pipe(ot(a=>{let u=new $l(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),en(a=>{let u=!1;return Q(a).pipe(sL(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Nt.NoDataFromResolver)}}))}),ot(a=>{let u=new Hl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),tm(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(ot(h=>{u.component=h}),le(()=>{})));for(let h of u.children)l.push(...a(h));return l};return gu(a(s.targetSnapshot.root)).pipe(Tr(null),Hn(1))}),tm(()=>this.afterPreactivation()),en(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Oe(u).pipe(le(()=>r)):Q(r)}),le(s=>{let a=IF(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Te(F({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),ot(()=>{this.events.next(new Ra)}),bF(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Hn(1),ot({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new tr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Yf(this.transitionAbortSubject.pipe(ot(s=>{throw s}))),Qs(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Er(s=>{if(this.destroyed)return r.resolve(!1),Dt;if(o=!0,YD(s))this.events.next(new Tn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),TF(s)?this.events.next(new Ho(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new $o(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=Tt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof zo){let{message:l,cancellationCode:h}=Xl(this.urlSerializer,u);this.events.next(new Tn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Ho(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Dt}))}))}cancelNavigationTransition(n,r,i){let o=new Tn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hL(t){return t!==Ll}var u0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(fL),providedIn:"root"})}return t})(),td=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},fL=(()=>{class t extends td{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ug(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),l0=(()=>{class t{urlSerializer=x(Fa);options=x(Ua,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(Fo);urlHandlingStrategy=x(id);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new bn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof bn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=zD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(pL),providedIn:"root"})}return t})(),pL=(()=>{class t extends l0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof bi?this.updateStateMemento():n instanceof nr?this.commitTransition(r):n instanceof Aa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ra?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Tn&&(n.code===Nt.GuardRejected||n.code===Nt.NoDataFromResolver)?this.restoreHistory(r):n instanceof $o?this.restoreHistory(r,!0):n instanceof tr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ug(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Im(t,e){t.events.pipe(Ut(n=>n instanceof tr||n instanceof Tn||n instanceof $o||n instanceof nr),le(n=>n instanceof tr||n instanceof nr?0:(n instanceof Tn?n.code===Nt.Redirect||n.code===Nt.SupersededByNewNavigation:!1)?2:1),Ut(n=>n!==2),Hn(1)).subscribe(()=>{e()})}var gL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},od=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x($b);stateManager=x(l0);options=x(Ua,{optional:!0})||{};pendingTasks=x(vi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(c0);urlSerializer=x(Fa);location=x(Fo);urlHandlingStrategy=x(id);_events=new rt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(u0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(Ba,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(nd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Pe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Tn&&r.code!==Nt.Redirect&&r.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof tr)this.navigated=!0;else if(r instanceof Ho){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||hL(i.source)},s);this.scheduleNavigation(a,Ll,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}vL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ll,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(vm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=UD(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return BD(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Bo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ll,null,r)}navigate(n,r={skipLocationChange:!1}){return yL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},gL):r===!1?i=F({},mL):i=r,Bo(n))return wD(this.currentUrlTree,n,i);let o=this.parseUrl(n);return wD(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Im(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}function vL(t){return!(t instanceof Ra)&&!(t instanceof Ho)}var IL=new B("");function wm(t,...e){return on([{provide:Ba,multi:!0,useValue:t},[],{provide:Nr,useFactory:wL,deps:[od]},{provide:xg,multi:!0,useFactory:EL},e.map(n=>n.\u0275providers)])}function wL(t){return t.routerState.root}function EL(){let t=x(Ye);return e=>{let n=t.get(di);if(e!==n.components[0])return;let r=t.get(od),i=t.get(TL);t.get(bL)===1&&r.initialNavigation(),t.get(DL,null,re.Optional)?.setUpPreloading(),t.get(IL,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var TL=new B("",{factory:()=>new rt}),bL=new B("",{providedIn:"root",factory:()=>1});var DL=new B("");var sd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&Se(0,"router-outlet")},dependencies:[Ze,Va],encapsulation:2})};var d0=()=>{};var p0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ad={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(p0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Tm;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Tm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},AL=function(t){let e=p0(t);return ad.encodeByteArray(e,!0)},Ha=function(t){return AL(t).replace(/\./g,"")},cd=function(t){try{return ad.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Dm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var RL=()=>Dm().__FIREBASE_DEFAULTS__,NL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ML=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&cd(t[1]);return e&&JSON.parse(e)},ud=()=>{try{return d0()||RL()||NL()||ML()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Cm=t=>{var e,n;return(n=(e=ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},g0=t=>{let e=Cm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Sm=()=>{var t;return(t=ud())===null||t===void 0?void 0:t.config},Am=t=>{var e;return(e=ud())===null||e===void 0?void 0:e[`_${t}`]};var Di=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function xr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function ld(t){return v(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function m0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ha(JSON.stringify(n)),Ha(JSON.stringify(s)),""].join(".")}var $a={};function PL(){let t={prod:[],emulator:[]};for(let e of Object.keys($a))$a[e]?t.emulator.push(e):t.prod.push(e);return t}function xL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var h0=!1;function dd(t,e){if(typeof window>"u"||typeof document>"u"||!xr(window.location.host)||$a[t]===e||$a[t]||h0)return;$a[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=PL().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{h0=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=xL(r),y=n("text"),C=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),R=document.getElementById(N)||document.createElement("a"),L=n("preprendIcon"),W=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let K=m.element;a(K),h(R,N);let be=l();u(W,L),K.append(W,C,R,be),document.body.appendChild(K)}o?(C.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function kL(){var t;let e=(t=ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hd(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I0(){let t=Xe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w0(){return!kL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ci(){try{return typeof indexedDB=="object"}catch{return!1}}function fd(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function E0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var OL="FirebaseError",ct=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}},bt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?FL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ct(i,a,r)}};function FL(t,e){return t.replace(LL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var LL=/\{\$([^}]+)}/g;function T0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(f0(o)&&f0(s)){if(!Wt(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function f0(t){return t!==null&&typeof t=="object"}function za(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function b0(t,e){let n=new bm(t,e);return n.subscribe.bind(n)}var bm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Em),i.error===void 0&&(i.error=Em),i.complete===void 0&&(i.complete=Em);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function VL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Em(){}var jL=1e3,UL=2,BL=4*60*60*1e3,$L=.5;function pd(t,e=jL,n=UL){let r=e*Math.pow(n,t),i=Math.round($L*r*(Math.random()-.5)*2);return Math.min(BL,r+i)}function Ue(t){return t&&t._delegate?t._delegate:t}var Le=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Si="[DEFAULT]";var Rm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Di;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zL(e))try{this.getOrInitializeService({instanceIdentifier:Si})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Si){return this.instances.has(e)}getOptions(e=Si){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Si){return this.component?this.component.multipleInstances?e:Si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function HL(t){return t===Si?void 0:t}function zL(t){return t.instantiationMode==="EAGER"}var gd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Rm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var qL=[],ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ae||{}),WL={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},GL=ae.INFO,KL={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},QL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=KL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Gt=class{constructor(e){this.name=e,this._logLevel=GL,this._logHandler=QL,this._userLogHandler=null,qL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var YL=(t,e)=>e.some(n=>t instanceof n),D0,C0;function ZL(){return D0||(D0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JL(){return C0||(C0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var S0=new WeakMap,Mm=new WeakMap,A0=new WeakMap,Nm=new WeakMap,xm=new WeakMap;function XL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Dn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&S0.set(n,t)}).catch(()=>{}),xm.set(e,t),e}function eV(t){if(Mm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Mm.set(t,e)}var Pm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R0(t){Pm=t(Pm)}function tV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(md(this),e,...n);return A0.set(r,e.sort?e.sort():[e]),Dn(r)}:JL().includes(t)?function(...e){return t.apply(md(this),e),Dn(S0.get(this))}:function(...e){return Dn(t.apply(md(this),e))}}function nV(t){return typeof t=="function"?tV(t):(t instanceof IDBTransaction&&eV(t),YL(t,ZL())?new Proxy(t,Pm):t)}function Dn(t){if(t instanceof IDBRequest)return XL(t);if(Nm.has(t))return Nm.get(t);let e=nV(t);return e!==t&&(Nm.set(t,e),xm.set(e,t)),e}var md=t=>xm.get(t);function yd(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Dn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Dn(s.result),u.oldVersion,u.newVersion,Dn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var rV=["get","getKey","getAll","getAllKeys","count"],iV=["put","add","delete","clear"],km=new Map;function N0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(km.get(e))return km.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=iV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rV.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return km.set(e,o),o}R0(t=>Te(F({},t),{get:(e,n,r)=>N0(e,n)||t.get(e,n,r),has:(e,n)=>!!N0(e,n)||t.has(e,n)}));var Fm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function oV(t){let e=t.getComponent();return e?.type==="VERSION"}var Lm="@firebase/app",M0="0.13.2";var rr=new Gt("@firebase/app"),sV="@firebase/app-compat",aV="@firebase/analytics-compat",cV="@firebase/analytics",uV="@firebase/app-check-compat",lV="@firebase/app-check",dV="@firebase/auth",hV="@firebase/auth-compat",fV="@firebase/database",pV="@firebase/data-connect",gV="@firebase/database-compat",mV="@firebase/functions",yV="@firebase/functions-compat",vV="@firebase/installations",_V="@firebase/installations-compat",IV="@firebase/messaging",wV="@firebase/messaging-compat",EV="@firebase/performance",TV="@firebase/performance-compat",bV="@firebase/remote-config",DV="@firebase/remote-config-compat",CV="@firebase/storage",SV="@firebase/storage-compat",AV="@firebase/firestore",RV="@firebase/ai",NV="@firebase/firestore-compat",MV="firebase",PV="11.10.0";var Vm="[DEFAULT]",xV={[Lm]:"fire-core",[sV]:"fire-core-compat",[cV]:"fire-analytics",[aV]:"fire-analytics-compat",[lV]:"fire-app-check",[uV]:"fire-app-check-compat",[dV]:"fire-auth",[hV]:"fire-auth-compat",[fV]:"fire-rtdb",[pV]:"fire-data-connect",[gV]:"fire-rtdb-compat",[mV]:"fire-fn",[yV]:"fire-fn-compat",[vV]:"fire-iid",[_V]:"fire-iid-compat",[IV]:"fire-fcm",[wV]:"fire-fcm-compat",[EV]:"fire-perf",[TV]:"fire-perf-compat",[bV]:"fire-rc",[DV]:"fire-rc-compat",[CV]:"fire-gcs",[SV]:"fire-gcs-compat",[AV]:"fire-fst",[NV]:"fire-fst-compat",[RV]:"fire-vertex","fire-js":"fire-js",[MV]:"fire-js-all"};var qa=new Map,kV=new Map,jm=new Map;function P0(t,e){try{t.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ut(t){let e=t.name;if(jm.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,t);for(let n of qa.values())P0(n,t);for(let n of kV.values())P0(n,t);return!0}function Kt(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qt(t){return t==null?!1:t.settings!==void 0}var OV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kr=new bt("app","Firebase",OV);var Um=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Le("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}};var Or=PV;function Hm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Vm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw kr.create("bad-app-name",{appName:String(i)});if(n||(n=Sm()),!n)throw kr.create("no-options");let o=qa.get(i);if(o){if(Wt(n,o.options)&&Wt(r,o.config))return o;throw kr.create("duplicate-app",{appName:i})}let s=new gd(i);for(let u of jm.values())s.addComponent(u);let a=new Um(n,r,s);return qa.set(i,a),a}function Cn(t=Vm){let e=qa.get(t);if(!e&&t===Vm&&Sm())return Hm();if(!e)throw kr.create("no-app",{appName:t});return e}function vd(){return Array.from(qa.values())}function _e(t,e,n){var r;let i=(r=xV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(a.join(" "));return}ut(new Le(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var FV="firebase-heartbeat-database",LV=1,Wa="firebase-heartbeat-store",Om=null;function F0(){return Om||(Om=yd(FV,LV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw kr.create("idb-open",{originalErrorMessage:t.message})})),Om}function VV(t){return v(this,null,function*(){try{let n=(yield F0()).transaction(Wa),r=yield n.objectStore(Wa).get(L0(t));return yield n.done,r}catch(e){if(e instanceof ct)rr.warn(e.message);else{let n=kr.create("idb-get",{originalErrorMessage:e?.message});rr.warn(n.message)}}})}function x0(t,e){return v(this,null,function*(){try{let r=(yield F0()).transaction(Wa,"readwrite");yield r.objectStore(Wa).put(e,L0(t)),yield r.done}catch(n){if(n instanceof ct)rr.warn(n.message);else{let r=kr.create("idb-set",{originalErrorMessage:n?.message});rr.warn(r.message)}}})}function L0(t){return`${t.name}!${t.options.appId}`}var jV=1024,UV=30,Bm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new $m(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=k0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>UV){let s=$V(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=k0(),{heartbeatsToSend:r,unsentEntries:i}=BV(this._heartbeatsCache.heartbeats),o=Ha(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return rr.warn(n),""}})}};function k0(){return new Date().toISOString().substring(0,10)}function BV(t,e=jV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),O0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),O0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var $m=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Ci()?fd().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield VV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return x0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return x0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function O0(t){return Ha(JSON.stringify({version:2,heartbeats:t})).length}function $V(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function HV(t){ut(new Le("platform-logger",e=>new Fm(e),"PRIVATE")),ut(new Le("heartbeat",e=>new Bm(e),"PRIVATE")),_e(Lm,M0,t),_e(Lm,M0,"esm2017"),_e("fire-js","")}HV("");var zV="firebase",qV="11.10.0";_e(zV,qV,"app");function zm(t){t===void 0&&(uT(zm),t=x(Ye));let e=t.get(al);return n=>new ce(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Sn=new ca("ANGULARFIRE2_VERSION");function Ri(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Fr=(t,e)=>{let n=e?[e]:vd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ko=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Ko||{}),V0=Fg()&&typeof Zone<"u"?Ko.WARN:Ko.SILENT;var _d=class{zone;delegate;constructor(e,n=Wf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},An=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=x(ve);this.outsideAngular=n.runOutsideAngular(()=>new _d(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new _d(typeof Zone>"u"?void 0:Zone.current,qf))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),j0=!1;function WV(t,e){!j0&&(V0>Ko.SILENT||Fg())&&(j0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),V0>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function GV(t){let e=x(ve,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Ai(t){let e=x(ve,{optional:!0});return e?e.run(()=>t()):t()}var KV=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Tt(n,()=>Ai(()=>t.apply(void 0,r)))),Mt=(t,e,n)=>(n||=e?Ko.WARN:Ko.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(An),s=x(al),a=x(At)}catch{return WV(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Ai(()=>s.add())),i[l]=KV(i[l],r,a));let u=GV(()=>t.apply(this,i));return e?u instanceof ce?u.pipe(wr(o.outsideAngular),Ir(o.insideAngular),zm(a)):u instanceof Promise?Ai(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>Tt(a,()=>Ai(()=>l(p))),p=>Tt(a,()=>Ai(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Ai(()=>u):u instanceof ce?u.pipe(wr(o.outsideAngular),Ir(o.insideAngular)):Ai(()=>u)});var un=class{constructor(e){return e}},ir=class{constructor(){return vd()}};function QV(t){return t&&t.length===1?t[0]:new un(Cn())}var qm=new B("angularfire2._apps"),YV={provide:un,useFactory:QV,deps:[[new gt,qm]]},ZV={provide:ir,deps:[[new gt,qm]]};function JV(t){return(e,n)=>{let r=n.get(In);_e("angularfire",Sn.full,"core"),_e("angularfire",Sn.full,"app"),_e("angular",Qb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new un(i)}}function U0(t,...e){return on([YV,ZV,{provide:qm,useFactory:JV(t),multi:!0,deps:[ve,Ye,An,...e]}])}var B0=Mt(Hm,!0);var XV=new Map,e2={activated:!1,tokenObservers:[]},t2={initialized:!1,enabled:!1};function ln(t){return XV.get(t)||Object.assign({},e2)}function q0(){return t2}var n2="https://content-firebaseappcheck.googleapis.com/v1";var r2="exchangeDebugToken",$0={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},WK=24*60*60*1e3;var Km=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new Di,this.pending.promise.catch(n=>{}),yield i2(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Di,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function i2(t){return new Promise(e=>{setTimeout(e,t)})}var o2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Lr=new bt("appCheck","AppCheck",o2);function W0(t){if(!ln(t).activated)throw Lr.create("use-before-activation",{appName:t.name})}function G0(r,i){return v(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw Lr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Lr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Lr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Lr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function K0(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${n2}/projects/${n}/apps/${r}:${r2}?key=${i}`,body:{debug_token:e}}}var s2="firebase-app-check-database",a2=1,Qm="firebase-app-check-store";var Id=null;function c2(){return Id||(Id=new Promise((t,e)=>{try{let n=indexedDB.open(s2,a2);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Lr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Qm,{keyPath:"compositeKey"})}}}catch(n){e(Lr.create("storage-open",{originalErrorMessage:n?.message}))}}),Id)}function u2(t,e){return l2(d2(t),e)}function l2(t,e){return v(this,null,function*(){let r=(yield c2()).transaction(Qm,"readwrite"),o=r.objectStore(Qm).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Lr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function d2(t){return`${t.options.appId}-${t.name}`}var Ga=new Gt("@firebase/app-check");function Wm(t,e){return Ci()?u2(t,e).catch(n=>{Ga.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Q0(){return q0().enabled}function Y0(){return v(this,null,function*(){let t=q0();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var h2={error:"UNKNOWN_ERROR"};function f2(t){return ad.encodeString(JSON.stringify(t),!1)}function Ym(t,e=!1,n=!1){return v(this,null,function*(){let r=t.app;W0(r);let i=ln(r),o=i.token,s;if(o&&!Ka(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Ka(l)?o=l:yield Wm(r,void 0))}if(!e&&o&&Ka(o))return{token:o.token};let a=!1;if(Q0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=G0(K0(r,yield Y0()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Wm(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ga.warn(l.message):n&&Ga.error(l),Gm(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield ln(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ga.warn(l.message):n&&Ga.error(l),s=l}let u;return o?s?Ka(o)?u={token:o.token,internalError:s}:u=Gm(s):(u={token:o.token},i.token=o,yield Wm(r,o)):u=Gm(s),a&&y2(r,u),u})}function p2(t){return v(this,null,function*(){let e=t.app;W0(e);let{provider:n}=ln(e);if(Q0()){let r=yield Y0(),{token:i}=yield G0(K0(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function g2(t,e,n,r){let{app:i}=t,o=ln(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ka(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),H0(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>H0(t))}function Z0(t,e){let n=ln(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function H0(t){let{app:e}=t,n=ln(e),r=n.tokenRefresher;r||(r=m2(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function m2(t){let{app:e}=t;return new Km(()=>v(null,null,function*(){let n=ln(e),r;if(n.token?r=yield Ym(t,!0):r=yield Ym(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=ln(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},$0.RETRIAL_MIN_WAIT,$0.RETRIAL_MAX_WAIT)}function y2(t,e){let n=ln(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ka(t){return t.expireTimeMillis-Date.now()>0}function Gm(t){return{token:f2(h2),error:t}}var Zm=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=ln(this.app);for(let n of e)Z0(this.app,n.next);return Promise.resolve()}};function v2(t,e){return new Zm(t,e)}function _2(t){return{getToken:e=>Ym(t,e),getLimitedUseToken:()=>p2(t),addTokenListener:e=>g2(t,"INTERNAL",e),removeTokenListener:e=>Z0(t.app,e)}}var I2="@firebase/app-check",w2="0.10.1";var E2="app-check",z0="app-check-internal";function T2(){ut(new Le(E2,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return v2(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(z0).initialize()})),ut(new Le(z0,t=>{let e=t.getProvider("app-check").getImmediate();return _2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),_e(I2,w2)}T2();var b2="app-check";var Qo=class{constructor(){return Fr(b2)}};var D2=["localhost","0.0.0.0","127.0.0.1"],oQ=typeof window<"u"&&D2.includes(window.location.hostname);function hC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var fC=hC,pC=new bt("auth","Firebase",hC());var Cd=new Gt("@firebase/auth");function C2(t,...e){Cd.logLevel<=ae.WARN&&Cd.warn(`Auth (${Or}): ${t}`,...e)}function Ed(t,...e){Cd.logLevel<=ae.ERROR&&Cd.error(`Auth (${Or}): ${t}`,...e)}function Ur(t,...e){throw yy(t,...e)}function Mi(t,...e){return yy(t,...e)}function gC(t,e,n){let r=Object.assign(Object.assign({},fC()),{[e]:n});return new bt("auth","Firebase",r).create(e,{appName:t.name})}function Ni(t){return gC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pC.create(t,...e)}function G(t,e,...n){if(!t)throw yy(e,...n)}function or(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ed(e),new Error(e)}function Br(t,e){t||or(e)}function ty(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function S2(){return J0()==="http:"||J0()==="https:"}function J0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function A2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S2()||hd()||"connection"in navigator)?navigator.onLine:!0}function R2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Pi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=y0()||_0()}get(){return A2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function vy(t,e){Br(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Sd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var N2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var M2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P2=new Pi(3e4,6e4);function _y(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Yo(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){return mC(t,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=za(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return v0()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&xr(t.emulatorConfig.host)&&(y.credentials="include"),Sd.fetch()(yield yC(t,t.config.apiHost,n,p),y)}))})}function mC(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},N2),e);try{let i=new ny(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw wd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw wd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw wd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw wd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw gC(t,h,l);Ur(t,h)}}catch(i){if(i instanceof ct)throw i;Ur(t,"network-request-failed",{message:String(i)})}})}function x2(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield Yo(t,e,n,r,i);return"mfaPendingCredential"in l&&Ur(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function yC(t,e,n,r){return v(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?vy(t.config,i):`${t.config.apiScheme}://${i}`;return M2.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var ny=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mi(this.auth,"network-request-failed")),P2.get())})}};function wd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Mi(t,e,r);return i.customData._tokenResponse=n,i}function k2(t,e){return v(this,null,function*(){return Yo(t,"POST","/v1/accounts:delete",e)})}function Ad(t,e){return v(this,null,function*(){return Yo(t,"POST","/v1/accounts:lookup",e)})}function Qa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Iy(t,e=!1){return v(this,null,function*(){let n=Ue(t),r=yield n.getIdToken(e),i=wy(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Qa(Jm(i.auth_time)),issuedAtTime:Qa(Jm(i.iat)),expirationTime:Qa(Jm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Jm(t){return Number(t)*1e3}function wy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{let i=cd(n);return i?JSON.parse(i):(Ed("Failed to decode base64 JWT payload"),null)}catch(i){return Ed("Caught error parsing JWT payload as JSON",i?.toString()),null}}function X0(t){let e=wy(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Za(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ct&&O2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function O2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ry=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ja=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qa(this.lastLoginAt),this.creationTime=Qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rd(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Za(t,Ad(n,{idToken:r}));G(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?vC(o.providerUserInfo):[],a=F2(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ja(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Ey(t){return v(this,null,function*(){let e=Ue(t);yield Rd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function F2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vC(t){return t.map(e=>{var{providerId:n}=e,r=Gf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function L2(t,e){return v(this,null,function*(){let n=yield mC(t,{},()=>v(null,null,function*(){let r=za({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield yC(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&xr(t.emulatorConfig.host)&&(u.credentials="include"),Sd.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function V2(t,e){return v(this,null,function*(){return Yo(t,"POST","/v2/accounts:revokeToken",_y(t,e))})}var Ya=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");let n=X0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield L2(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(G(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(G(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return or("not implemented")}};function Vr(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var jr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Gf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ry(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ja(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield Za(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Iy(this,e)}reload(){return Ey(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Rd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Qt(this.auth.app))return Promise.reject(Ni(this.auth));let e=yield this.getIdToken();return yield Za(this,k2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=n.createdAt)!==null&&l!==void 0?l:void 0,W=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:be,isAnonymous:_t,providerData:we,stsTokenManager:T}=n;G(K&&T,e,"internal-error");let _=Ya.fromJSON(this.name,T);G(typeof K=="string",e,"internal-error"),Vr(p,e.name),Vr(m,e.name),G(typeof be=="boolean",e,"internal-error"),G(typeof _t=="boolean",e,"internal-error"),Vr(y,e.name),Vr(C,e.name),Vr(N,e.name),Vr(R,e.name),Vr(L,e.name),Vr(W,e.name);let w=new t({uid:K,auth:e,email:m,emailVerified:be,displayName:p,isAnonymous:_t,photoURL:C,phoneNumber:y,tenantId:N,stsTokenManager:_,createdAt:L,lastLoginAt:W});return we&&Array.isArray(we)&&(w.providerData=we.map(E=>Object.assign({},E))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new Ya;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];G(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?vC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ya;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ja(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var eC=new Map;function sr(t){Br(t instanceof Function,"Expected a class definition");let e=eC.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eC.set(t,e),e)}var j2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),iy=j2;function Td(t,e,n){return`firebase:${t}:${e}:${n}`}var Nd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Td(this.userKey,i.apiKey,o),this.fullPersistenceKey=Td("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Ad(this.auth,{idToken:e}).catch(()=>{});return n?jr._fromGetAccountInfoResponse(this.auth,n,e):null}return jr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(sr(iy),e,r);let i=(yield Promise.all(n.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||sr(iy),s=Td(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Ad(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield jr._fromGetAccountInfoResponse(e,m,h)}else p=jr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function tC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_C(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bC(e))return"Blackberry";if(DC(e))return"Webos";if(IC(e))return"Safari";if((e.includes("chrome/")||wC(e))&&!e.includes("edge/"))return"Chrome";if(TC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function _C(t=Xe()){return/firefox\//i.test(t)}function IC(t=Xe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wC(t=Xe()){return/crios\//i.test(t)}function EC(t=Xe()){return/iemobile/i.test(t)}function TC(t=Xe()){return/android/i.test(t)}function bC(t=Xe()){return/blackberry/i.test(t)}function DC(t=Xe()){return/webos/i.test(t)}function Ty(t=Xe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function U2(t=Xe()){var e;return Ty(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function B2(){return I0()&&document.documentMode===10}function CC(t=Xe()){return Ty(t)||TC(t)||DC(t)||bC(t)||/windows phone/i.test(t)||EC(t)}function SC(t,e=[]){let n;switch(t){case"Browser":n=tC(Xe());break;case"Worker":n=`${tC(Xe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Or}/${r}`}var oy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function $2(n){return v(this,arguments,function*(t,e={}){return Yo(t,"GET","/v2/passwordPolicy",_y(t,e))})}var H2=6,sy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:H2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var ay=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Md(this),this.idTokenSubscription=new Md(this),this.beforeStateQueue=new oy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Nd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield Ad(this,{idToken:e}),r=yield jr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(Qt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Rd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=R2()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Qt(this.app))return Promise.reject(Ni(this));let n=e?Ue(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Qt(this.app)?Promise.reject(Ni(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Qt(this.app)?Promise.reject(Ni(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(sr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield $2(this),n=new sy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield V2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&sr(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=yield Nd.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&C2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function by(t){return Ue(t)}var Md=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=b0(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Dy={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z2(t){Dy=t}function q2(t){return Dy.loadJS(t)}function W2(){return Dy.gapiScript}function AC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Cy(t,e){let n=Kt(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Wt(o,e??{}))return i;Ur(i,"already-initialized")}return n.initialize({options:e})}function G2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Sy(t,e,n){let r=by(t);G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=RC(e),{host:s,port:a}=K2(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){G(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),G(Wt(l,r.config.emulator)&&Wt(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,xr(s)?(ld(`${o}//${s}${u}`),dd("Auth",!0)):i||Q2()}function RC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function K2(t){let e=RC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:nC(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:nC(s)}}}function nC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Q2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Pd=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}};function Xm(t,e){return v(this,null,function*(){return x2(t,"POST","/v1/accounts:signInWithIdp",_y(t,e))})}var xd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var cy=class extends xd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Xa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield jr._fromIdTokenResponse(e,r,i),s=rC(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=rC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function rC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var uy=class t extends ct{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function NC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?uy._fromErrorAndOperation(t,o,e,r):o})}function Y2(t,e,n=!1){return v(this,null,function*(){let r=yield Za(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Xa._forOperation(t,"link",r)})}function Z2(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(Qt(r.app))return Promise.reject(Ni(r));let i="reauthenticate";try{let o=yield Za(t,NC(r,i,e,t),n);G(o.idToken,r,"internal-error");let s=wy(o.idToken);G(s,r,"internal-error");let{sub:a}=s;return G(t.uid===a,r,"user-mismatch"),Xa._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ur(r,"user-mismatch"),o}})}function J2(t,e,n=!1){return v(this,null,function*(){if(Qt(t.app))return Promise.reject(Ni(t));let r="signIn",i=yield NC(t,r,e),o=yield Xa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Ay(t,e,n,r){return Ue(t).onIdTokenChanged(e,n,r)}function Ry(t,e,n){return Ue(t).beforeAuthStateChanged(e,n)}var kd="__sak";var Od=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kd,"1"),this.storage.removeItem(kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var X2=1e3,ej=10,tj=(()=>{class t extends Od{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);B2()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,ej):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},X2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield vr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield vr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield vr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),MC=tj;var nj=(()=>{class t extends Od{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ny=nj;function rj(t){return Promise.all(t.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var ij=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield rj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function PC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var ly=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=PC("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Rn(){return window}function oj(t){Rn().location.href=t}function xC(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}function sj(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function aj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cj(){return xC()?self:null}var kC="firebaseLocalStorageDb",uj=1,Fd="firebaseLocalStorage",OC="fbase_key",xi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Vd(t,e){return t.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function lj(){let t=indexedDB.deleteDatabase(kC);return new xi(t).toPromise()}function dy(){let t=indexedDB.open(kC,uj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Fd,{keyPath:OC})}catch(i){n(i)}}),t.addEventListener("success",()=>v(null,null,function*(){let r=t.result;r.objectStoreNames.contains(Fd)?e(r):(r.close(),yield lj(),e(yield dy()))}))})}function iC(t,e,n){return v(this,null,function*(){let r=Vd(t,!0).put({[OC]:e,value:n});return new xi(r).toPromise()})}function dj(t,e){return v(this,null,function*(){let n=Vd(t,!1).get(e),r=yield new xi(n).toPromise();return r===void 0?null:r.value})}function oC(t,e){let n=Vd(t,!0).delete(e);return new xi(n).toPromise()}var hj=800,fj=3,pj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield dy(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>fj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return xC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=ij._getInstance(cj()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield sj(),!this.activeServiceWorker)return;this.sender=new ly(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||aj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield dy();return yield iC(n,kd,"1"),yield oC(n,kd),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>iC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>dj(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>oC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=Vd(o,!1).getAll();return new xi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),hj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),FC=pj;var gQ=AC("rcb"),mQ=new Pi(3e4,6e4);function gj(t,e){return e?sr(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ec=class extends Pd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function mj(t){return J2(t.auth,new ec(t),t.bypassAuthState)}function yj(t){let{auth:e,user:n}=t;return G(n,e,"internal-error"),Z2(n,new ec(t),t.bypassAuthState)}function vj(t){return v(this,null,function*(){let{auth:e,user:n}=t;return G(n,e,"internal-error"),Y2(n,new ec(t),t.bypassAuthState)})}var hy=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mj;case"linkViaPopup":case"linkViaRedirect":return vj;case"reauthViaPopup":case"reauthViaRedirect":return yj;default:Ur(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var yQ=new Pi(2e3,1e4);var _j="pendingRedirect",bd=new Map,fy=class t extends hy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=bd.get(this.auth._key());if(!e){try{let r=(yield Ij(this.resolver,this.auth))?yield vr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bd.set(this.auth._key(),e)}return this.bypassAuthState||bd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return vr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,vr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function Ij(t,e){return v(this,null,function*(){let n=Tj(e),r=Ej(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function wj(t,e){bd.set(t._key(),e)}function Ej(t){return sr(t._redirectPersistence)}function Tj(t){return Td(_j,t.config.apiKey,t.name)}function bj(t,e,n=!1){return v(this,null,function*(){if(Qt(t.app))return Promise.reject(Ni(t));let r=by(t),i=gj(r,e),s=yield new fy(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var Dj=10*60*1e3,py=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Cj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!LC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dj&&this.cachedEventUids.clear(),this.cachedEventUids.has(sC(e))}saveEventToCache(e){this.cachedEventUids.add(sC(e)),this.lastProcessedEventTime=Date.now()}};function sC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function LC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Cj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LC(t);default:return!1}}function Sj(n){return v(this,arguments,function*(t,e={}){return Yo(t,"GET","/v1/projects",e)})}var Aj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rj=/^https?/;function Nj(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Sj(t);for(let n of e)try{if(Mj(n))return}catch{}Ur(t,"unauthorized-domain")})}function Mj(t){let e=ty(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Rj.test(n))return!1;if(Aj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Pj=new Pi(3e4,6e4);function aC(){let t=Rn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xj(t){return new Promise((e,n)=>{var r,i,o;function s(){aC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aC(),n(Mi(t,"network-request-failed"))},timeout:Pj.get()})}if(!((i=(r=Rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Rn().gapi)===null||o===void 0)&&o.load)s();else{let a=AC("iframefcb");return Rn()[a]=()=>{gapi.load?s():n(Mi(t,"network-request-failed"))},q2(`${W2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Dd=null,e})}var Dd=null;function kj(t){return Dd=Dd||xj(t),Dd}var Oj=new Pi(5e3,15e3),Fj="__/auth/iframe",Lj="emulator/auth/iframe",Vj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uj(t){let e=t.config;G(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?vy(e,Lj):`https://${t.config.authDomain}/${Fj}`,r={apiKey:e.apiKey,appName:t.name,v:Or},i=jj.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${za(r).slice(1)}`}function Bj(t){return v(this,null,function*(){let e=yield kj(t),n=Rn().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:Uj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vj,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Mi(t,"network-request-failed"),a=Rn().setTimeout(()=>{o(s)},Oj.get());function u(){Rn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var $j={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hj=500,zj=600,qj="_blank",Wj="http://localhost",Ld=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Gj(t,e,n,r=Hj,i=zj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},$j),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Xe().toLowerCase();n&&(a=wC(l)?qj:n),_C(l)&&(e=e||Wj,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(U2(l)&&a!=="_self")return Kj(e||"",a),new Ld(null);let p=window.open(e||"",a,h);G(p,t,"popup-blocked");try{p.focus()}catch{}return new Ld(p)}function Kj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Qj="__/auth/handler",Yj="emulator/auth/handler",Zj=encodeURIComponent("fac");function cC(t,e,n,r,i,o){return v(this,null,function*(){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Or,eventId:i};if(e instanceof xd){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",T0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof cy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${Zj}=${encodeURIComponent(u)}`:"";return`${Jj(t)}?${za(a).slice(1)}${l}`})}function Jj({config:t}){return t.emulator?vy(t,Yj):`https://${t.authDomain}/${Qj}`}var ey="webStorageSupport",gy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ny,this._completeRedirectFn=bj,this._overrideRedirectResult=wj}_openPopup(e,n,r,i){return v(this,null,function*(){var o;Br((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield cC(e,n,r,ty(),i);return Gj(e,s,PC())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield cC(e,n,r,ty(),i);return oj(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Br(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield Bj(e),r=new py(e);return n.register("authEvent",i=>(G(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ey,{type:ey},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[ey];s!==void 0&&n(!!s),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Nj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CC()||IC()||Ty()}},VC=gy;var uC="@firebase/auth",lC="1.10.8";var my=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Xj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eU(t){ut(new Le("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SC(t)},l=new ay(r,i,o,u);return G2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ut(new Le("auth-internal",e=>{let n=by(e.getProvider("auth").getImmediate());return(r=>new my(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_e(uC,lC,Xj(t)),_e(uC,lC,"esm2017")}var tU=5*60,nU=Am("authIdTokenMaxAge")||tU,dC=null,rU=t=>e=>v(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nU)return;let i=n?.token;dC!==i&&(dC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function My(t=Cn()){let e=Kt(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Cy(t,{popupRedirectResolver:VC,persistence:[FC,MC,Ny]}),r=Am("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=rU(o.toString());Ry(n,s,()=>s(n.currentUser)),Ay(n,a=>s(a))}}let i=Cm("auth");return i&&Sy(n,`http://${i}`),n}function iU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}z2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Mi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",iU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eU("Browser");var jC="auth",tc=class{constructor(e){return e}},nc=class{constructor(){return Fr(jC)}};var Py=new B("angularfire2.auth-instances");function ZU(t,e){let n=Ri(jC,t,e);return n&&new tc(n)}function JU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new tc(r)}}var XU={provide:nc,deps:[[new gt,Py]]},eB={provide:tc,useFactory:ZU,deps:[[new gt,Py],un]};function UC(t,...e){return _e("angularfire",Sn.full,"auth"),on([eB,XU,{provide:Py,useFactory:JU(t),multi:!0,deps:[ve,Ye,An,ir,[new gt,Qo],...e]}])}var BC=Mt(My,!0);var $C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},HC={};var ar,xy;(function(){var t;function e(T,_){function w(){}w.prototype=_.prototype,T.D=_.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(E,b,S){for(var I=Array(arguments.length-2),Vn=2;Vn<arguments.length;Vn++)I[Vn-2]=arguments[Vn];return _.prototype[b].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,w){w||(w=0);var E=Array(16);if(typeof _=="string")for(var b=0;16>b;++b)E[b]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(b=0;16>b;++b)E[b]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=T.g[0],w=T.g[1],b=T.g[2];var S=T.g[3],I=_+(S^w&(b^S))+E[0]+3614090360&4294967295;_=w+(I<<7&4294967295|I>>>25),I=S+(b^_&(w^b))+E[1]+3905402710&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(w^S&(_^w))+E[2]+606105819&4294967295,b=S+(I<<17&4294967295|I>>>15),I=w+(_^b&(S^_))+E[3]+3250441966&4294967295,w=b+(I<<22&4294967295|I>>>10),I=_+(S^w&(b^S))+E[4]+4118548399&4294967295,_=w+(I<<7&4294967295|I>>>25),I=S+(b^_&(w^b))+E[5]+1200080426&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(w^S&(_^w))+E[6]+2821735955&4294967295,b=S+(I<<17&4294967295|I>>>15),I=w+(_^b&(S^_))+E[7]+4249261313&4294967295,w=b+(I<<22&4294967295|I>>>10),I=_+(S^w&(b^S))+E[8]+1770035416&4294967295,_=w+(I<<7&4294967295|I>>>25),I=S+(b^_&(w^b))+E[9]+2336552879&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(w^S&(_^w))+E[10]+4294925233&4294967295,b=S+(I<<17&4294967295|I>>>15),I=w+(_^b&(S^_))+E[11]+2304563134&4294967295,w=b+(I<<22&4294967295|I>>>10),I=_+(S^w&(b^S))+E[12]+1804603682&4294967295,_=w+(I<<7&4294967295|I>>>25),I=S+(b^_&(w^b))+E[13]+4254626195&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(w^S&(_^w))+E[14]+2792965006&4294967295,b=S+(I<<17&4294967295|I>>>15),I=w+(_^b&(S^_))+E[15]+1236535329&4294967295,w=b+(I<<22&4294967295|I>>>10),I=_+(b^S&(w^b))+E[1]+4129170786&4294967295,_=w+(I<<5&4294967295|I>>>27),I=S+(w^b&(_^w))+E[6]+3225465664&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^w&(S^_))+E[11]+643717713&4294967295,b=S+(I<<14&4294967295|I>>>18),I=w+(S^_&(b^S))+E[0]+3921069994&4294967295,w=b+(I<<20&4294967295|I>>>12),I=_+(b^S&(w^b))+E[5]+3593408605&4294967295,_=w+(I<<5&4294967295|I>>>27),I=S+(w^b&(_^w))+E[10]+38016083&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^w&(S^_))+E[15]+3634488961&4294967295,b=S+(I<<14&4294967295|I>>>18),I=w+(S^_&(b^S))+E[4]+3889429448&4294967295,w=b+(I<<20&4294967295|I>>>12),I=_+(b^S&(w^b))+E[9]+568446438&4294967295,_=w+(I<<5&4294967295|I>>>27),I=S+(w^b&(_^w))+E[14]+3275163606&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^w&(S^_))+E[3]+4107603335&4294967295,b=S+(I<<14&4294967295|I>>>18),I=w+(S^_&(b^S))+E[8]+1163531501&4294967295,w=b+(I<<20&4294967295|I>>>12),I=_+(b^S&(w^b))+E[13]+2850285829&4294967295,_=w+(I<<5&4294967295|I>>>27),I=S+(w^b&(_^w))+E[2]+4243563512&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^w&(S^_))+E[7]+1735328473&4294967295,b=S+(I<<14&4294967295|I>>>18),I=w+(S^_&(b^S))+E[12]+2368359562&4294967295,w=b+(I<<20&4294967295|I>>>12),I=_+(w^b^S)+E[5]+4294588738&4294967295,_=w+(I<<4&4294967295|I>>>28),I=S+(_^w^b)+E[8]+2272392833&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^w)+E[11]+1839030562&4294967295,b=S+(I<<16&4294967295|I>>>16),I=w+(b^S^_)+E[14]+4259657740&4294967295,w=b+(I<<23&4294967295|I>>>9),I=_+(w^b^S)+E[1]+2763975236&4294967295,_=w+(I<<4&4294967295|I>>>28),I=S+(_^w^b)+E[4]+1272893353&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^w)+E[7]+4139469664&4294967295,b=S+(I<<16&4294967295|I>>>16),I=w+(b^S^_)+E[10]+3200236656&4294967295,w=b+(I<<23&4294967295|I>>>9),I=_+(w^b^S)+E[13]+681279174&4294967295,_=w+(I<<4&4294967295|I>>>28),I=S+(_^w^b)+E[0]+3936430074&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^w)+E[3]+3572445317&4294967295,b=S+(I<<16&4294967295|I>>>16),I=w+(b^S^_)+E[6]+76029189&4294967295,w=b+(I<<23&4294967295|I>>>9),I=_+(w^b^S)+E[9]+3654602809&4294967295,_=w+(I<<4&4294967295|I>>>28),I=S+(_^w^b)+E[12]+3873151461&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^w)+E[15]+530742520&4294967295,b=S+(I<<16&4294967295|I>>>16),I=w+(b^S^_)+E[2]+3299628645&4294967295,w=b+(I<<23&4294967295|I>>>9),I=_+(b^(w|~S))+E[0]+4096336452&4294967295,_=w+(I<<6&4294967295|I>>>26),I=S+(w^(_|~b))+E[7]+1126891415&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~w))+E[14]+2878612391&4294967295,b=S+(I<<15&4294967295|I>>>17),I=w+(S^(b|~_))+E[5]+4237533241&4294967295,w=b+(I<<21&4294967295|I>>>11),I=_+(b^(w|~S))+E[12]+1700485571&4294967295,_=w+(I<<6&4294967295|I>>>26),I=S+(w^(_|~b))+E[3]+2399980690&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~w))+E[10]+4293915773&4294967295,b=S+(I<<15&4294967295|I>>>17),I=w+(S^(b|~_))+E[1]+2240044497&4294967295,w=b+(I<<21&4294967295|I>>>11),I=_+(b^(w|~S))+E[8]+1873313359&4294967295,_=w+(I<<6&4294967295|I>>>26),I=S+(w^(_|~b))+E[15]+4264355552&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~w))+E[6]+2734768916&4294967295,b=S+(I<<15&4294967295|I>>>17),I=w+(S^(b|~_))+E[13]+1309151649&4294967295,w=b+(I<<21&4294967295|I>>>11),I=_+(b^(w|~S))+E[4]+4149444226&4294967295,_=w+(I<<6&4294967295|I>>>26),I=S+(w^(_|~b))+E[11]+3174756917&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~w))+E[2]+718787259&4294967295,b=S+(I<<15&4294967295|I>>>17),I=w+(S^(b|~_))+E[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var w=_-this.blockSize,E=this.B,b=this.h,S=0;S<_;){if(b==0)for(;S<=w;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<_;)if(E[b++]=T.charCodeAt(S++),b==this.blockSize){i(this,E),b=0;break}}else for(;S<_;)if(E[b++]=T[S++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var w=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=w&255,w/=256;for(this.u(T),T=Array(16),_=w=0;4>_;++_)for(var E=0;32>E;E+=8)T[w++]=this.g[_]>>>E&255;return T};function o(T,_){var w=a;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=_(T)}function s(T,_){this.h=_;for(var w=[],E=!0,b=T.length-1;0<=b;b--){var S=T[b]|0;E&&S==_||(w[b]=S,E=!1)}this.g=w}var a={};function u(T){return-128<=T&&128>T?o(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var _=[],w=1,E=0;T>=w;E++)_[E]=T/w|0,w*=4294967296;return new s(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return R(h(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(_,8)),E=p,b=0;b<T.length;b+=8){var S=Math.min(8,T.length-b),I=parseInt(T.substring(b,b+S),_);8>S?(S=l(Math.pow(_,S)),E=E.j(S).add(l(I))):(E=E.j(w),E=E.add(l(I)))}return E}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var T=0,_=1,w=0;w<this.g.length;w++){var E=this.i(w);T+=(0<=E?E:4294967296+E)*_,_*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(N(this))return"-"+R(this).toString(T);for(var _=l(Math.pow(T,6)),w=this,E="";;){var b=be(w,_).g;w=L(w,b.j(_));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=b,C(w))return S+E;for(;6>S.length;)S="0"+S;E=S+E}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function N(T){return T.h==-1}t.l=function(T){return T=L(this,T),N(T)?-1:C(T)?0:1};function R(T){for(var _=T.g.length,w=[],E=0;E<_;E++)w[E]=~T.g[E];return new s(w,~T.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0,b=0;b<=_;b++){var S=E+(this.i(b)&65535)+(T.i(b)&65535),I=(S>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);E=I>>>16,S&=65535,I&=65535,w[b]=I<<16|S}return new s(w,w[w.length-1]&-2147483648?-1:0)};function L(T,_){return T.add(R(_))}t.j=function(T){if(C(this)||C(T))return p;if(N(this))return N(T)?R(this).j(R(T)):R(R(this).j(T));if(N(T))return R(this.j(R(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var _=this.g.length+T.g.length,w=[],E=0;E<2*_;E++)w[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<T.g.length;b++){var S=this.i(E)>>>16,I=this.i(E)&65535,Vn=T.i(b)>>>16,Ds=T.i(b)&65535;w[2*E+2*b]+=I*Ds,W(w,2*E+2*b),w[2*E+2*b+1]+=S*Ds,W(w,2*E+2*b+1),w[2*E+2*b+1]+=I*Vn,W(w,2*E+2*b+1),w[2*E+2*b+2]+=S*Vn,W(w,2*E+2*b+2)}for(E=0;E<_;E++)w[E]=w[2*E+1]<<16|w[2*E];for(E=_;E<2*_;E++)w[E]=0;return new s(w,0)};function W(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function K(T,_){this.g=T,this.h=_}function be(T,_){if(C(_))throw Error("division by zero");if(C(T))return new K(p,p);if(N(T))return _=be(R(T),_),new K(R(_.g),R(_.h));if(N(_))return _=be(T,R(_)),new K(R(_.g),_.h);if(30<T.g.length){if(N(T)||N(_))throw Error("slowDivide_ only works with positive integers.");for(var w=m,E=_;0>=E.l(T);)w=_t(w),E=_t(E);var b=we(w,1),S=we(E,1);for(E=we(E,2),w=we(w,2);!C(E);){var I=S.add(E);0>=I.l(T)&&(b=b.add(w),S=I),E=we(E,1),w=we(w,1)}return _=L(T,b.j(_)),new K(b,_)}for(b=p;0<=T.l(_);){for(w=Math.max(1,Math.floor(T.m()/_.m())),E=Math.ceil(Math.log(w)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),S=l(w),I=S.j(_);N(I)||0<I.l(T);)w-=E,S=l(w),I=S.j(_);C(S)&&(S=m),b=b.add(S),T=L(T,I)}return new K(b,T)}t.A=function(T){return be(this,T).h},t.and=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)&T.i(E);return new s(w,this.h&T.h)},t.or=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)|T.i(E);return new s(w,this.h|T.h)},t.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)^T.i(E);return new s(w,this.h^T.h)};function _t(T){for(var _=T.g.length+1,w=[],E=0;E<_;E++)w[E]=T.i(E)<<1|T.i(E-1)>>>31;return new s(w,T.h)}function we(T,_){var w=_>>5;_%=32;for(var E=T.g.length-w,b=[],S=0;S<E;S++)b[S]=0<_?T.i(S+w)>>>_|T.i(S+w+1)<<32-_:T.i(S+w);return new s(b,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xy=HC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ar=HC.Integer=s}).apply(typeof $C<"u"?$C:typeof self<"u"?self:typeof window<"u"?window:{});var jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cr={};var ky,tB,Zo,Oy,rc,Ud,Fy,Ly,Vy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jd=="object"&&jd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,A){for(var k=Array(arguments.length-2),De=2;De<arguments.length;De++)k[De-2]=arguments[De];return d.prototype[D].apply(g,k)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,A=g.length||0;c.length=D+A;for(let k=0;k<A;k++)c[D+k]=g[k]}else c.push(g)}}class L{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function be(c){return be[" "](c),c}be[" "]=function(){};var _t=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function we(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let A=0;A<w.length;A++)f=w[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Jh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Vn{constructor(){this.h=this.g=null}add(d,f){let g=Ds.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ds=new L(()=>new iN,c=>c.reset());class iN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Cs,Ss=!1,Jh=new Vn,pI=()=>{let c=a.Promise.resolve(void 0);Cs=()=>{c.then(oN)}};var oN=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=Ds;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ss=!1};function pr(){this.s=this.s,this.C=this.C}pr.prototype.s=!1,pr.prototype.ma=function(){this.s||(this.s=!0,this.N())},pr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function dt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var sN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function As(c,d){if(dt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(_t){e:{try{be(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:aN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&As.aa.h.call(this)}}C(As,dt);var aN={2:"touch",3:"pen",4:"mouse"};As.prototype.h=function(){As.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Rs="closure_listenable_"+(1e6*Math.random()|0),cN=0;function uN(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++cN,this.da=this.fa=!1}function Cc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sc(c){this.src=c,this.g={},this.h=0}Sc.prototype.add=function(c,d,f,g,D){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var k=ef(c,d,g,D);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new uN(d,this.src,A,!!g,D),d.fa=f,c.push(d)),d};function Xh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=D)&&Array.prototype.splice.call(g,D,1),A&&(Cc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function ef(c,d,f,g){for(var D=0;D<c.length;++D){var A=c[D];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return D}return-1}var tf="closure_lm_"+(1e6*Math.random()|0),nf={};function gI(c,d,f,g,D){if(g&&g.once)return yI(c,d,f,g,D);if(Array.isArray(d)){for(var A=0;A<d.length;A++)gI(c,d[A],f,g,D);return null}return f=af(f),c&&c[Rs]?c.K(d,f,l(g)?!!g.capture:!!g,D):mI(c,d,f,!1,g,D)}function mI(c,d,f,g,D,A){if(!d)throw Error("Invalid event type");var k=l(D)?!!D.capture:!!D,De=of(c);if(De||(c[tf]=De=new Sc(c)),f=De.add(d,f,g,k,A),f.proxy)return f;if(g=lN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)sN||(D=k),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(_I(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function lN(){function c(f){return d.call(c.src,c.listener,f)}let d=dN;return c}function yI(c,d,f,g,D){if(Array.isArray(d)){for(var A=0;A<d.length;A++)yI(c,d[A],f,g,D);return null}return f=af(f),c&&c[Rs]?c.L(d,f,l(g)?!!g.capture:!!g,D):mI(c,d,f,!0,g,D)}function vI(c,d,f,g,D){if(Array.isArray(d))for(var A=0;A<d.length;A++)vI(c,d[A],f,g,D);else g=l(g)?!!g.capture:!!g,f=af(f),c&&c[Rs]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=ef(A,f,g,D),-1<f&&(Cc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=of(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ef(d,f,g,D)),(f=-1<c?d[c]:null)&&rf(f))}function rf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Rs])Xh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(_I(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=of(d))?(Xh(f,c),f.h==0&&(f.src=null,d[tf]=null)):Cc(c)}}}function _I(c){return c in nf?nf[c]:nf[c]="on"+c}function dN(c,d){if(c.da)c=!0;else{d=new As(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&rf(c),c=f.call(g,d)}return c}function of(c){return c=c[tf],c instanceof Sc?c:null}var sf="__closure_events_fn_"+(1e9*Math.random()>>>0);function af(c){return typeof c=="function"?c:(c[sf]||(c[sf]=function(d){return c.handleEvent(d)}),c[sf])}function ht(){pr.call(this),this.i=new Sc(this),this.M=this,this.F=null}C(ht,pr),ht.prototype[Rs]=!0,ht.prototype.removeEventListener=function(c,d,f,g){vI(this,c,d,f,g)};function It(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new dt(d,c);else if(d instanceof dt)d.target=d.target||c;else{var D=d;d=new dt(g,c),E(d,D)}if(D=!0,f)for(var A=f.length-1;0<=A;A--){var k=d.g=f[A];D=Ac(k,g,!0,d)&&D}if(k=d.g=c,D=Ac(k,g,!0,d)&&D,D=Ac(k,g,!1,d)&&D,f)for(A=0;A<f.length;A++)k=d.g=f[A],D=Ac(k,g,!1,d)&&D}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Cc(f[g]);delete c.g[d],c.h--}}this.F=null},ht.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},ht.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Ac(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==f){var De=k.listener,nt=k.ha||k.src;k.fa&&Xh(c.i,k),D=De.call(nt,g)!==!1&&D}}return D&&!g.defaultPrevented}function II(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function wI(c){c.g=II(()=>{c.g=null,c.i&&(c.i=!1,wI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class hN extends pr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:wI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(c){pr.call(this),this.h=c,this.g={}}C(Ns,pr);var EI=[];function TI(c){we(c.g,function(d,f){this.g.hasOwnProperty(f)&&rf(d)},c),c.g={}}Ns.prototype.N=function(){Ns.aa.N.call(this),TI(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cf=a.JSON.stringify,fN=a.JSON.parse,pN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function uf(){}uf.prototype.h=null;function bI(c){return c.h||(c.h=c.i())}function DI(){}var Ms={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lf(){dt.call(this,"d")}C(lf,dt);function df(){dt.call(this,"c")}C(df,dt);var Jr={},CI=null;function Rc(){return CI=CI||new ht}Jr.La="serverreachability";function SI(c){dt.call(this,Jr.La,c)}C(SI,dt);function Ps(c){let d=Rc();It(d,new SI(d))}Jr.STAT_EVENT="statevent";function AI(c,d){dt.call(this,Jr.STAT_EVENT,c),this.stat=d}C(AI,dt);function wt(c){let d=Rc();It(d,new AI(d,c))}Jr.Ma="timingevent";function RI(c,d){dt.call(this,Jr.Ma,c),this.size=d}C(RI,dt);function xs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ks(){this.g=!0}ks.prototype.xa=function(){this.g=!1};function gN(c,d,f,g,D,A){c.info(function(){if(c.g)if(A)for(var k="",De=A.split("&"),nt=0;nt<De.length;nt++){var me=De[nt].split("=");if(1<me.length){var ft=me[0];me=me[1];var pt=ft.split("_");k=2<=pt.length&&pt[1]=="type"?k+(ft+"="+me+"&"):k+(ft+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+k})}function mN(c,d,f,g,D,A,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+A+" "+k})}function Qi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+vN(c,f)+(g?" "+g:"")})}function yN(c,d){c.info(function(){return"TIMEOUT: "+d})}ks.prototype.info=function(){};function vN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<D.length;k++)D[k]=""}}}}return cf(f)}catch{return d}}var Nc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},NI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hf;function Mc(){}C(Mc,uf),Mc.prototype.g=function(){return new XMLHttpRequest},Mc.prototype.i=function(){return{}},hf=new Mc;function gr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new MI}function MI(){this.i=null,this.g="",this.h=!1}var PI={},ff={};function pf(c,d,f){c.L=1,c.v=Oc(jn(d)),c.m=f,c.P=!0,xI(c,null)}function xI(c,d){c.F=Date.now(),Pc(c),c.A=jn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),GI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new MI,c.g=dw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new hN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(EI[0]=D.toString()),D=EI);for(var A=0;A<D.length;A++){var k=gI(f,D[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ps(),gN(c.i,c.u,c.A,c.l,c.R,c.m)}gr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Un(c)==3?d.j():this.Y(c)},gr.prototype.Y=function(c){try{if(c==this.g)e:{let pt=Un(this.g);var d=this.g.Ba();let Ji=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||ew(this.g)))){this.J||pt!=4||d==7||(d==8||0>=Ji?Ps(3):Ps(2)),gf(this);var f=this.g.Z();this.X=f;t:if(kI(this)){var g=ew(this.g);c="";var D=g.length,A=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xr(this),Os(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,mN(this.i,this.u,this.A,this.l,this.R,pt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,nt=this.g;if((De=nt.g?nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(De)){var me=De;break t}}me=null}if(f=me)Qi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mf(this,f);else{this.o=!1,this.s=3,wt(12),Xr(this),Os(this);break e}}if(this.P){f=!0;let Jt;for(;!this.J&&this.C<k.length;)if(Jt=_N(this,k),Jt==ff){pt==4&&(this.s=4,wt(14),f=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==PI){this.s=4,wt(15),Qi(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else Qi(this.i,this.l,Jt,null),mf(this,Jt);if(kI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||k.length!=0||this.h.h||(this.s=1,wt(16),f=!1),this.o=this.o&&f,!f)Qi(this.i,this.l,k,"[Invalid Chunked Response]"),Xr(this),Os(this);else if(0<k.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Ef(ft),ft.M=!0,wt(11))}}else Qi(this.i,this.l,k,null),mf(this,k);pt==4&&Xr(this),this.o&&!this.J&&(pt==4?aw(this.j,this):(this.o=!1,Pc(this)))}else FN(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Xr(this),Os(this)}}}catch{}finally{}};function kI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _N(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?ff:(f=Number(d.substring(f,g)),isNaN(f)?PI:(g+=1,g+f>d.length?ff:(d=d.slice(g,g+f),c.C=g+f,d)))}gr.prototype.cancel=function(){this.J=!0,Xr(this)};function Pc(c){c.S=Date.now()+c.I,OI(c,c.I)}function OI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xs(m(c.ba,c),d)}function gf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}gr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(yN(this.i,this.A),this.L!=2&&(Ps(),wt(17)),Xr(this),this.s=2,Os(this)):OI(this,this.S-c)};function Os(c){c.j.G==0||c.J||aw(c.j,c)}function Xr(c){gf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,TI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function mf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||yf(f.h,c))){if(!c.K&&yf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Uc(f),Vc(f);else break e;wf(f),wt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=xs(m(f.Za,f),6e3));if(1>=VI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ti(f,11)}else if((c.K||f.g==c)&&Uc(f),!W(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let me=D[d];if(f.T=me[0],me=me[1],f.G==2)if(me[0]=="c"){f.K=me[1],f.ia=me[2];let ft=me[3];ft!=null&&(f.la=ft,f.j.info("VER="+f.la));let pt=me[4];pt!=null&&(f.Aa=pt,f.j.info("SVER="+f.Aa));let Ji=me[5];Ji!=null&&typeof Ji=="number"&&0<Ji&&(g=1.5*Ji,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Jt=c.g;if(Jt){let $c=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($c){var A=g.h;A.g||$c.indexOf("spdy")==-1&&$c.indexOf("quic")==-1&&$c.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(vf(A,A.h),A.h=null))}if(g.D){let Tf=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Tf&&(g.ya=Tf,Re(g.I,g.D,Tf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=lw(g,g.J?g.ia:null,g.W),k.K){jI(g.h,k);var De=k,nt=g.L;nt&&(De.I=nt),De.B&&(gf(De),Pc(De)),g.g=k}else ow(g);0<f.i.length&&jc(f)}else me[0]!="stop"&&me[0]!="close"||ti(f,7);else f.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?ti(f,7):If(f):me[0]!="noop"&&f.l&&f.l.ta(me),f.v=0)}}Ps(4)}catch{}}var IN=class{constructor(c,d){this.g=c,this.map=d}};function FI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function LI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function VI(c){return c.h?1:c.g?c.g.size:0}function yf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function vf(c,d){c.g?c.g.add(d):c.h=d}function jI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}FI.prototype.cancel=function(){if(this.i=UI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function UI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function wN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function EN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function BI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=EN(c),g=wN(c),D=g.length,A=0;A<D;A++)d.call(void 0,g[A],f&&f[A],c)}var $I=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var A=c[f].substring(0,g);D=c[f].substring(g+1)}else A=c[f];d(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function ei(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ei){this.h=c.h,xc(this,c.j),this.o=c.o,this.g=c.g,kc(this,c.s),this.l=c.l;var d=c.i,f=new Vs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),HI(this,f),this.m=c.m}else c&&(d=String(c).match($I))?(this.h=!1,xc(this,d[1]||"",!0),this.o=Fs(d[2]||""),this.g=Fs(d[3]||"",!0),kc(this,d[4]),this.l=Fs(d[5]||"",!0),HI(this,d[6]||"",!0),this.m=Fs(d[7]||"")):(this.h=!1,this.i=new Vs(null,this.h))}ei.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ls(d,zI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ls(d,zI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ls(f,f.charAt(0)=="/"?CN:DN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ls(f,AN)),c.join("")};function jn(c){return new ei(c)}function xc(c,d,f){c.j=f?Fs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function kc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function HI(c,d,f){d instanceof Vs?(c.i=d,RN(c.i,c.h)):(f||(d=Ls(d,SN)),c.i=new Vs(d,c.h))}function Re(c,d,f){c.i.set(d,f)}function Oc(c){return Re(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ls(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,bN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zI=/[#\/\?@]/g,DN=/[#\?:]/g,CN=/[#\?]/g,SN=/[#\?@]/g,AN=/#/g;function Vs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function mr(c){c.g||(c.g=new Map,c.h=0,c.i&&TN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Vs.prototype,t.add=function(c,d){mr(this),this.i=null,c=Yi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function qI(c,d){mr(c),d=Yi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function WI(c,d){return mr(c),d=Yi(c,d),c.g.has(d)}t.forEach=function(c,d){mr(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},t.na=function(){mr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let A=0;A<D.length;A++)f.push(d[g])}return f},t.V=function(c){mr(this);let d=[];if(typeof c=="string")WI(this,c)&&(d=d.concat(this.g.get(Yi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return mr(this),this.i=null,c=Yi(this,c),WI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function GI(c,d,f){qI(c,d),0<f.length&&(c.i=null,c.g.set(Yi(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var D=A;k[g]!==""&&(D+="="+encodeURIComponent(String(k[g]))),c.push(D)}}return this.i=c.join("&")};function Yi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function RN(c,d){d&&!c.j&&(mr(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(qI(this,g),GI(this,D,f))},c)),c.j=d}function NN(c,d){let f=new ks;if(a.Image){let g=new Image;g.onload=y(yr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(yr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(yr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(yr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function MN(c,d){let f=new ks,g=new AbortController,D=setTimeout(()=>{g.abort(),yr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(D),A.ok?yr(f,"TestPingServer: ok",!0,d):yr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),yr(f,"TestPingServer: error",!1,d)})}function yr(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function PN(){this.g=new pN}function xN(c,d,f){let g=f||"";try{BI(c,function(D,A){let k=D;l(D)&&(k=cf(D)),d.push(g+A+"="+encodeURIComponent(k))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function js(c){this.l=c.Ub||null,this.j=c.eb||!1}C(js,uf),js.prototype.g=function(){return new Fc(this.l,this.j)},js.prototype.i=function(c){return function(){return c}}({});function Fc(c,d){ht.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Fc,ht),t=Fc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Bs(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Bs(this)),this.g&&(this.readyState=3,Bs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;KI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function KI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Us(this):Bs(this),this.readyState==3&&KI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Us(this))},t.Qa=function(c){this.g&&(this.response=c,Us(this))},t.ga=function(){this.g&&Us(this)};function Us(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Bs(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Bs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function QI(c){let d="";return we(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function _f(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=QI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Re(c,d,f))}function Me(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Me,ht);var kN=/^https?$/i,ON=["POST","PUT"];t=Me.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hf.g(),this.v=this.o?bI(this.o):bI(hf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){YI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ON,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of f)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{XI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){YI(this,A)}};function YI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,ZI(c),Lc(c)}function ZI(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),Lc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lc(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?JI(this):this.bb())},t.bb=function(){JI(this)};function JI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Un(c)!=4||c.Z()!=2)){if(c.u&&Un(c)==4)II(c.Ea,0,c);else if(It(c,"readystatechange"),Un(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var D=String(c.D).match($I)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!kN.test(D?D.toLowerCase():"")}f=g}if(f)It(c,"complete"),It(c,"success");else{c.m=6;try{var A=2<Un(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",ZI(c)}}finally{Lc(c)}}}}function Lc(c,d){if(c.g){XI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||It(c,"ready");try{f.onreadystatechange=g}catch{}}}function XI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Un(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),fN(d)}};function ew(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function FN(c){let d={};c=(c.g&&2<=Un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(W(c[g]))continue;var f=b(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[D]||[];d[D]=A,A.push(f)}T(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function tw(c){this.Aa=0,this.i=[],this.j=new ks,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,c),this.cb=$s("retryDelaySeedMs",1e4,c),this.Wa=$s("forwardChannelMaxRetries",2,c),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new FI(c&&c.concurrentRequestLimit),this.Da=new PN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){wt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=lw(this,null,this.W),jc(this)};function If(c){if(nw(c),c.G==3){var d=c.U++,f=jn(c.I);if(Re(f,"SID",c.K),Re(f,"RID",d),Re(f,"TYPE","terminate"),Hs(c,f),d=new gr(c,c.j,d),d.L=2,d.v=Oc(jn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=dw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Pc(d)}uw(c)}function Vc(c){c.g&&(Ef(c),c.g.cancel(),c.g=null)}function nw(c){Vc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Uc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function jc(c){if(!LI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Cs||pI(),Ss||(Cs(),Ss=!0),Jh.add(d,c),c.B=0}}function LN(c,d){return VI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xs(m(c.Ga,c,d),cw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new gr(this,this.j,c),A=this.o;if(this.S&&(A?(A=_(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=iw(this,D,d),f=jn(this.I),Re(f,"RID",c),Re(f,"CVER",22),this.D&&Re(f,"X-HTTP-Session-Id",this.D),Hs(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(QI(A)))+"&"+d:this.m&&_f(f,this.m,A)),vf(this.h,D),this.Ua&&Re(f,"TYPE","init"),this.P?(Re(f,"$req",d),Re(f,"SID","null"),D.T=!0,pf(D,f,null)):pf(D,f,d),this.G=2}}else this.G==3&&(c?rw(this,c):this.i.length==0||LI(this.h)||rw(this))};function rw(c,d){var f;d?f=d.l:f=c.U++;let g=jn(c.I);Re(g,"SID",c.K),Re(g,"RID",f),Re(g,"AID",c.T),Hs(c,g),c.m&&c.o&&_f(g,c.m,c.o),f=new gr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=iw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),vf(c.h,f),pf(f,g,d)}function Hs(c,d){c.H&&we(c.H,function(f,g){Re(d,g,f)}),c.l&&BI({},function(f,g){Re(d,g,f)})}function iw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let A=-1;for(;;){let k=["count="+f];A==-1?0<f?(A=D[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let De=!0;for(let nt=0;nt<f;nt++){let me=D[nt].g,ft=D[nt].map;if(me-=A,0>me)A=Math.max(0,D[nt].g-100),De=!1;else try{xN(ft,k,"req"+me+"_")}catch{g&&g(ft)}}if(De){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function ow(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Cs||pI(),Ss||(Cs(),Ss=!0),Jh.add(d,c),c.v=0}}function wf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xs(m(c.Fa,c),cw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,sw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xs(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Vc(this),sw(this))};function Ef(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function sw(c){c.g=new gr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=jn(c.qa);Re(d,"RID","rpc"),Re(d,"SID",c.K),Re(d,"AID",c.T),Re(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Re(d,"TO",c.ja),Re(d,"TYPE","xmlhttp"),Hs(c,d),c.m&&c.o&&_f(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Oc(jn(d)),f.m=null,f.P=!0,xI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Vc(this),wf(this),wt(19))};function Uc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function aw(c,d){var f=null;if(c.g==d){Uc(c),Ef(c),c.g=null;var g=2}else if(yf(c.h,d))f=d.D,jI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=Rc(),It(g,new RI(g,f)),jc(c)}else ow(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&LN(c,d)||g==2&&wf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:ti(c,5);break;case 4:ti(c,10);break;case 3:ti(c,6);break;default:ti(c,2)}}}function cw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ti(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new ei(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xc(g,"https"),Oc(g),D?NN(g.toString(),f):MN(g.toString(),f)}else wt(2);c.G=0,c.l&&c.l.sa(d),uw(c),nw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function uw(c){if(c.G=0,c.ka=[],c.l){let d=UI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function lw(c,d,f){var g=f instanceof ei?jn(f):new ei(f);if(g.g!="")d&&(g.g=d+"."+g.g),kc(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var A=new ei(null);g&&xc(A,g),d&&(A.g=d),D&&kc(A,D),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Re(g,f,d),Re(g,"VER",c.la),Hs(c,g),g}function dw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Me(new js({eb:f})):new Me(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hw(){}t=hw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bc(){}Bc.prototype.g=function(c,d){return new xt(c,d)};function xt(c,d){ht.call(this),this.g=new tw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Zi(this)}C(xt,ht),xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){If(this.g)},xt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=cf(c),c=f);d.i.push(new IN(d.Ya++,c)),d.G==3&&jc(d)},xt.prototype.N=function(){this.g.l=null,delete this.j,If(this.g),delete this.g,xt.aa.N.call(this)};function fw(c){lf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(fw,lf);function pw(){df.call(this),this.status=1}C(pw,df);function Zi(c){this.g=c}C(Zi,hw),Zi.prototype.ua=function(){It(this.g,"a")},Zi.prototype.ta=function(c){It(this.g,new fw(c))},Zi.prototype.sa=function(c){It(this.g,new pw)},Zi.prototype.ra=function(){It(this.g,"b")},Bc.prototype.createWebChannel=Bc.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,Vy=cr.createWebChannelTransport=function(){return new Bc},Ly=cr.getStatEventTarget=function(){return Rc()},Fy=cr.Event=Jr,Ud=cr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nc.NO_ERROR=0,Nc.TIMEOUT=8,Nc.HTTP_ERROR=6,rc=cr.ErrorCode=Nc,NI.COMPLETE="complete",Oy=cr.EventType=NI,DI.EventType=Ms,Ms.OPEN="a",Ms.CLOSE="b",Ms.ERROR="c",Ms.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Zo=cr.WebChannel=DI,tB=cr.FetchXmlHttpFactory=js,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,ky=cr.XhrIo=Me}).apply(typeof jd<"u"?jd:typeof self<"u"?self:typeof window<"u"?window:{});var zC="@firebase/firestore",qC="4.8.0";var et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");var _s="11.10.0";var Vi=new Gt("@firebase/firestore");function Jo(){return Vi.logLevel}function O(t,...e){if(Vi.logLevel<=ae.DEBUG){let n=e.map(b_);Vi.debug(`Firestore (${_s}): ${t}`,...n)}}function ur(t,...e){if(Vi.logLevel<=ae.ERROR){let n=e.map(b_);Vi.error(`Firestore (${_s}): ${t}`,...n)}}function Wr(t,...e){if(Vi.logLevel<=ae.WARN){let n=e.map(b_);Vi.warn(`Firestore (${_s}): ${t}`,...n)}}function b_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function H(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xS(t,r,n)}function xS(t,e,n){let r=`FIRESTORE (${_s}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ur(r),new Error(r)}function Ie(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||xS(e,i,r)}function Y(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends ct{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Nn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Gd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Hy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}},zy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},qy=class{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Nn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new Gd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new et(e)}},Wy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Gy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Wy(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Kd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ky=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);let r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function nB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function kS(){return new TextEncoder}var uc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=nB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function oe(t,e){return t<e?-1:t>e?1:0}function Qy(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return oe(r,i);{let o=kS(),s=rB(o.encode(WC(t,n)),o.encode(WC(e,n)));return s!==0?s:oe(r,i)}}n+=r>65535?2:1}return oe(t.length,e.length)}function WC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function rB(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return oe(t[n],e[n]);return oe(t.length,e.length)}function ss(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var GC="__name__",Qd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&H(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&H(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return oe(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Qy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ar.fromString(e.substring(4,e.length-2))}},Ve=class t extends Qd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},iB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vt=class t extends Qd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return iB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GC}static keyField(){return new t([GC])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ve.fromString(e))}static fromName(e){return new t(Ve.fromString(e).popFirst(5))}static empty(){return new t(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ve(e.slice()))}};function oB(t,e,n){if(!n)throw new V(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sB(t,e,n,r){if(e===!0&&r===!0)throw new V(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KC(t){if(!z.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function D_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":H(12329,{type:typeof t})}function Mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=D_(t);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function He(t,e){let n={typeString:t};return e&&(n.value=e),n}function wc(t,e){if(!OS(t))throw new V(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new V(M.INVALID_ARGUMENT,n);return!0}var QC=-62135596800,YC=1e6,ze=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*YC);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<QC)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YC}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wc(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-QC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:He("string",ze._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};var ee=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new ze(0,0))}static max(){return new t(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var lc=-1,Yy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Yy.UNKNOWN_ID=-1;function aB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new ji(i,z.empty(),e)}function cB(t){return new ji(t.readTime,t.key,lc)}var ji=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ee.min(),z.empty(),lc)}static max(){return new t(ee.max(),z.empty(),lc)}};function uB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}var lB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Is(t){return v(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==lB)throw t;O("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function dB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ws(t){return t.name==="IndexedDbTransactionError"}var C_=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),S_=-1;function Rh(t){return t==null}function dc(t){return t===0&&1/t==-1/0}function hB(t){return typeof t=="number"&&Number.isInteger(t)&&!dc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var FS="";function fB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ZC(e)),e=pB(t.get(n),e);return ZC(e)}function pB(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case FS:n+="";break;default:n+=o}}return n}function ZC(t){return t+FS+""}var gB="remoteDocuments",LS="owner";var VS="mutationQueues";var jS="mutations";var US="documentMutations",mB="remoteDocumentsV14";var BS="remoteDocumentGlobal";var $S="targets";var HS="targetDocuments";var zS="targetGlobal",qS="collectionParents";var WS="clientMetadata";var GS="bundles";var KS="namedQueries";var yB="indexConfiguration";var vB="indexState";var _B="indexEntries";var QS="documentOverlays";var IB="globals";var wB=[VS,jS,US,gB,$S,LS,zS,HS,WS,BS,qS,GS,KS],IY=[...wB,QS],EB=[VS,jS,US,mB,$S,LS,zS,HS,WS,BS,qS,GS,KS,QS],TB=EB,bB=[...TB,yB,vB,_B];var wY=[...bB,IB];function JC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ke=class t{constructor(e,n){this.comparator=e,this.root=n||Pn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ns(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ns(this.root,e,this.comparator,!1)}getReverseIterator(){return new ns(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ns(this.root,e,this.comparator,!0)}},ns=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw H(43730,{key:this.key,value:this.value});if(this.right.isRed())throw H(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw H(27949);return e+(this.isRed()?0:1)}};Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw H(57766)}get value(){throw H(16141)}get color(){throw H(16727)}get left(){throw H(29726)}get right(){throw H(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var tt=class t{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yd(this.data.getIterator())}getIteratorFrom(e){return new Yd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Yd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Zt=class t{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new t([])}unionWith(e){let n=new tt(Vt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ss(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Zd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Zd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vt.EMPTY_BYTE_STRING=new vt("");var DB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lr(t){if(Ie(!!t,39018),typeof t=="string"){let e=0,n=DB.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dr(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}var ZS="server_timestamp",JS="__type__",XS="__previous_value__",eA="__local_write_time__";function A_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[JS])===null||n===void 0?void 0:n.stringValue)===ZS}function Nh(t){let e=t.mapValue.fields[XS];return A_(e)?Nh(e):e}function hc(t){let e=lr(t.mapValue.fields[eA].timestampValue);return new ze(e.seconds,e.nanos)}var Jy=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Jd="(default)",Xd=class t{constructor(e,n){this.projectId=e,this.database=n||Jd}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Jd}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var R_="__type__",tA="__max__",Bd={mapValue:{fields:{__type__:{stringValue:tA}}}},N_="__vector__",as="value";function Gr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A_(t)?4:rA(t)?9007199254740991:nA(t)?10:11:H(28295,{value:t})}function On(t,e){if(t===e)return!0;let n=Gr(t);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hc(t).isEqual(hc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=lr(i.timestampValue),a=lr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return dr(i.bytesValue).isEqual(dr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ne(i.doubleValue),a=Ne(o.doubleValue);return s===a?dc(s)===dc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ss(t.arrayValue.values||[],e.arrayValue.values||[],On);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(JC(s)!==JC(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!On(s[u],a[u])))return!1;return!0}(t,e);default:return H(52216,{left:t})}}function fc(t,e){return(t.values||[]).find(n=>On(n,e))!==void 0}function cs(t,e){if(t===e)return 0;let n=Gr(t),r=Gr(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ne(o.integerValue||o.doubleValue),u=Ne(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return XC(t.timestampValue,e.timestampValue);case 4:return XC(hc(t),hc(e));case 5:return Qy(t.stringValue,e.stringValue);case 6:return function(o,s){let a=dr(o),u=dr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=oe(a[l],u[l]);if(h!==0)return h}return oe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=oe(Ne(o.latitude),Ne(s.latitude));return a!==0?a:oe(Ne(o.longitude),Ne(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return eS(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[as])===null||a===void 0?void 0:a.arrayValue,C=(u=m[as])===null||u===void 0?void 0:u.arrayValue,N=oe(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:eS(y,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Bd.mapValue&&s===Bd.mapValue)return 0;if(o===Bd.mapValue)return 1;if(s===Bd.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Qy(u[p],h[p]);if(m!==0)return m;let y=cs(a[u[p]],l[h[p]]);if(y!==0)return y}return oe(u.length,h.length)}(t.mapValue,e.mapValue);default:throw H(23264,{le:n})}}function XC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);let n=lr(t),r=lr(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function eS(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=cs(n[i],r[i]);if(o)return o}return oe(n.length,r.length)}function us(t){return Xy(t)}function Xy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=lr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return dr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Xy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Xy(n.fields[s])}`;return i+"}"}(t.mapValue):H(61005,{value:t})}function zd(t){switch(Gr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Nh(t);return e?16+zd(e):16;case 5:return 2*t.stringValue.length;case 6:return dr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+zd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Zr(r.fields,(o,s)=>{i+=o.length+zd(s)}),i}(t.mapValue);default:throw H(13486,{value:t})}}function ev(t){return!!t&&"integerValue"in t}function M_(t){return!!t&&"arrayValue"in t}function tS(t){return!!t&&"nullValue"in t}function nS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qd(t){return!!t&&"mapValue"in t}function nA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[R_])===null||n===void 0?void 0:n.stringValue)===N_}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Zr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=oc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===tA}var TY={mapValue:{fields:{[R_]:{stringValue:N_},[as]:{arrayValue:{}}}}};var Lt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=oc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return On(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(oc(this.value))}};function iA(t){let e=[];return Zr(t.fields,(n,r)=>{let i=new Vt([n]);if(qd(r)){let o=iA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Zt(e)}var dn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ee.min(),ee.min(),ee.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ee.min(),ee.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ee.min(),ee.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ls=class{constructor(e,n){this.position=e,this.inclusive=n}};function rS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=cs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!On(t.position[n],e.position[n]))return!1;return!0}var ds=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function CB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var eh=class{},Ge=class t extends eh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nv(e,n,r):n==="array-contains"?new ov(e,r):n==="in"?new sv(e,r):n==="not-in"?new av(e,r):n==="array-contains-any"?new cv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rv(e,r):new iv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cs(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(cs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Fn=class t extends eh{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return oA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function oA(t){return t.op==="and"}function sA(t){return SB(t)&&oA(t)}function SB(t){for(let e of t.filters)if(e instanceof Fn)return!1;return!0}function tv(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+us(t.value);if(sA(t))return t.filters.map(e=>tv(e)).join(",");{let e=t.filters.map(n=>tv(n)).join(",");return`${t.op}(${e})`}}function aA(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&On(r.value,i.value)}(t,e):t instanceof Fn?function(r,i){return i instanceof Fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&aA(s,i.filters[a]),!0):!1}(t,e):void H(19439)}function cA(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${us(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(cA).join(" ,")+"}"}(t):"Filter"}var nv=class extends Ge{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},rv=class extends Ge{constructor(e,n){super(e,"in",n),this.keys=uA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},iv=class extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=uA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function uA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var ov=class extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return M_(n)&&fc(n.arrayValue,this.value)}},sv=class extends Ge{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}},av=class extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fc(this.value.arrayValue,n)}},cv=class extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!M_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fc(this.value.arrayValue,r))}};var uv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function oS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new uv(t,e,n,r,i,o,s)}function P_(t){let e=Y(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>us(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>us(r)).join(",")),e.Pe=n}return e.Pe}function x_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iS(t.startAt,e.startAt)&&iS(t.endAt,e.endAt)}function lv(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var hs=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function AB(t,e,n,r,i,o,s,a){return new hs(t,e,n,r,i,o,s,a)}function Mh(t){return new hs(t)}function sS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RB(t){return t.collectionGroup!==null}function sc(t){let e=Y(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new tt(Vt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ds(o,r))}),n.has(Vt.keyField().canonicalString())||e.Te.push(new ds(Vt.keyField(),r))}return e.Te}function xn(t){let e=Y(t);return e.Ie||(e.Ie=NB(e,sc(t))),e.Ie}function NB(t,e){if(t.limitType==="F")return oS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ds(i.field,o)});let n=t.endAt?new ls(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ls(t.startAt.position,t.startAt.inclusive):null;return oS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dv(t,e,n){return new hs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ph(t,e){return x_(xn(t),xn(e))&&t.limitType===e.limitType}function lA(t){return`${P_(xn(t))}|lt:${t.limitType}`}function Xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cA(i)).join(", ")}]`),Rh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>us(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>us(i)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function xh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of sc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=rS(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,sc(r),i)||r.endAt&&!function(s,a,u){let l=rS(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,sc(r),i))}(t,e)}function MB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dA(t){return(e,n)=>{let r=!1;for(let i of sc(t)){let o=PB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function PB(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?cs(u,l):H(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H(19790,{direction:t.dir})}}var hr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return YS(this.inner)}size(){return this.innerSize}};var xB=new ke(z.comparator);function fr(){return xB}var hA=new ke(z.comparator);function ic(...t){let e=hA;for(let n of t)e=e.insert(n.key,n);return e}function fA(t){let e=hA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ki(){return ac()}function pA(){return ac()}function ac(){return new hr(t=>t.toString(),(t,e)=>t.isEqual(e))}var kB=new ke(z.comparator),OB=new tt(z.comparator);function ue(...t){let e=OB;for(let n of t)e=e.add(n);return e}var FB=new tt(oe);function LB(){return FB}function k_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function gA(t){return{integerValue:""+t}}function VB(t,e){return hB(e)?gA(e):k_(t,e)}var fs=class{constructor(){this._=void 0}};function jB(t,e,n){return t instanceof ps?function(i,o){let s={fields:{[JS]:{stringValue:ZS},[eA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&A_(o)&&(o=Nh(o)),o&&(s.fields[XS]=o),{mapValue:s}}(n,e):t instanceof Ui?yA(t,e):t instanceof Bi?vA(t,e):function(i,o){let s=mA(i,o),a=aS(s)+aS(i.Ee);return ev(s)&&ev(i.Ee)?gA(a):k_(i.serializer,a)}(t,e)}function UB(t,e,n){return t instanceof Ui?yA(t,e):t instanceof Bi?vA(t,e):n}function mA(t,e){return t instanceof gs?function(r){return ev(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ps=class extends fs{},Ui=class extends fs{constructor(e){super(),this.elements=e}};function yA(t,e){let n=_A(e);for(let r of t.elements)n.some(i=>On(i,r))||n.push(r);return{arrayValue:{values:n}}}var Bi=class extends fs{constructor(e){super(),this.elements=e}};function vA(t,e){let n=_A(e);for(let r of t.elements)n=n.filter(i=>!On(i,r));return{arrayValue:{values:n}}}var gs=class extends fs{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function aS(t){return Ne(t.integerValue||t.doubleValue)}function _A(t){return M_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ui&&i instanceof Ui||r instanceof Bi&&i instanceof Bi?ss(r.elements,i.elements,On):r instanceof gs&&i instanceof gs?On(r.Ee,i.Ee):r instanceof ps&&i instanceof ps}(t.transform,e.transform)}var hv=class{constructor(e,n){this.version=e,this.transformResults=n}},$r=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ms=class{};function IA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new th(t.key,$r.none()):new $i(t.key,t.data,$r.none());{let n=t.data,r=Lt.empty(),i=new tt(Vt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ln(t.key,r,new Zt(i.toArray()),$r.none())}}function $B(t,e,n){t instanceof $i?function(i,o,s){let a=i.value.clone(),u=uS(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ln?function(i,o,s){if(!Wd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=uS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(wA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function cc(t,e,n,r){return t instanceof $i?function(o,s,a,u){if(!Wd(o.precondition,s))return a;let l=o.value.clone(),h=lS(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ln?function(o,s,a,u){if(!Wd(o.precondition,s))return a;let l=lS(o.fieldTransforms,u,s),h=s.data;return h.setAll(wA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Wd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function HB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=mA(r.transform,i||null);o!=null&&(n===null&&(n=Lt.empty()),n.set(r.field,o))}return n||null}function cS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ss(r,i,(o,s)=>BB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var $i=class extends ms{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ln=class extends ms{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function wA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function uS(t,e,n){let r=new Map;Ie(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,UB(s,a,n[i]))}return r}function lS(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,jB(o,s,e))}return r}var th=class extends ms{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},fv=class extends ms{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var pv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&$B(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=cc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=pA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=IA(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&ss(this.mutations,e.mutations,(n,r)=>cS(n,r))&&ss(this.baseMutations,e.baseMutations,(n,r)=>cS(n,r))}},gv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return kB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var mv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var yv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Be,fe;function zB(t){switch(t){case M.OK:return H(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return H(15467,{code:t})}}function EA(t){if(t===void 0)return ur("GRPC error has no .code"),M.UNKNOWN;switch(t){case Be.OK:return M.OK;case Be.CANCELLED:return M.CANCELLED;case Be.UNKNOWN:return M.UNKNOWN;case Be.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Be.INTERNAL:return M.INTERNAL;case Be.UNAVAILABLE:return M.UNAVAILABLE;case Be.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Be.NOT_FOUND:return M.NOT_FOUND;case Be.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Be.ABORTED:return M.ABORTED;case Be.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Be.DATA_LOSS:return M.DATA_LOSS;default:return H(39323,{code:t})}}(fe=Be||(Be={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var dS=null;var qB=new ar([4294967295,4294967295],0);function hS(t){let e=kS().encode(t),n=new xy;return n.update(e),new Uint8Array(n.digest())}function fS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ar([n,r],0),new ar([i,o],0)]}var vv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oi(`Invalid padding: ${n}`);if(r<0)throw new Oi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oi(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ar.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(ar.fromNumber(r)));return i.compare(qB)===1&&(i=new ar([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=hS(e),[r,i]=fS(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=hS(e),[r,i]=fS(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Oi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var nh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ee.min(),i,new ke(oe),fr(),ue())}},pc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var rs=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},rh=class{constructor(e,n){this.targetId=e,this.De=n}},ih=class{constructor(e,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},oh=class{constructor(){this.ve=0,this.Ce=pS(),this.Fe=vt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ue(),n=ue(),r=ue();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H(38017,{changeType:o})}}),new pc(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=pS()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},_v=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=fr(),this.je=$d(),this.Je=$d(),this.He=new ke(oe)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:H(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(lv(o))if(r===0){let s=new z(o.path);this.Xe(n,s,dn.newNoDocument(s,ee.min()))}else Ie(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}dS?.ct(function(h,p,m,y,C){var N,R,L,W,K,be;let _t={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},we=p.unchangedNames;return we&&(_t.bloomFilter={applied:C===0,hashCount:(N=we?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(W=(L=(R=we?.bits)===null||R===void 0?void 0:R.bitmap)===null||L===void 0?void 0:L.length)!==null&&W!==void 0?W:0,padding:(be=(K=we?.bits)===null||K===void 0?void 0:K.padding)!==null&&be!==void 0?be:0,mightContain:T=>{var _;return(_=y?.mightContain(T))!==null&&_!==void 0&&_}}),_t}(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=dr(r).toUint8Array()}catch(u){if(u instanceof Zd)return Wr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new vv(s,i,o)}catch(u){return Wr(u instanceof Oi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&lv(a.target)){let u=new z(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,dn.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ue();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new nh(e,n,this.He,this.ze,r);return this.ze=fr(),this.je=$d(),this.Je=$d(),this.He=new ke(oe),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new oh,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new tt(oe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new tt(oe),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new oh),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function $d(){return new ke(z.comparator)}function pS(){return new ke(z.comparator)}var WB={asc:"ASCENDING",desc:"DESCENDING"},GB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KB={and:"AND",or:"OR"},Iv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function wv(t,e){return t.useProto3Json||Rh(e)?e:{value:e}}function sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QB(t,e){return sh(t,e.toTimestamp())}function kn(t){return Ie(!!t,49232),ee.fromTimestamp(function(n){let r=lr(n);return new ze(r.seconds,r.nanos)}(t))}function O_(t,e){return Ev(t,e).canonicalString()}function Ev(t,e){let n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bA(t){let e=Ve.fromString(t);return Ie(RA(e),10190,{key:e.toString()}),e}function Tv(t,e){return O_(t.databaseId,e.path)}function jy(t,e){let n=bA(e);if(n.get(1)!==t.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(CA(n))}function DA(t,e){return O_(t.databaseId,e)}function YB(t){let e=bA(t);return e.length===4?Ve.emptyPath():CA(e)}function bv(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CA(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gS(t,e,n){return{name:Tv(t,e),fields:n.value.mapValue.fields}}function ZB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:H(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ie(h===void 0||typeof h=="string",58123),vt.fromBase64String(h||"")):(Ie(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:EA(l.code);return new V(h,l.message||"")}(s);n=new ih(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=jy(t,r.document.name),o=kn(r.document.updateTime),s=r.document.createTime?kn(r.document.createTime):ee.min(),a=new Lt({mapValue:{fields:r.document.fields}}),u=dn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new rs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=jy(t,r.document),o=r.readTime?kn(r.readTime):ee.min(),s=dn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new rs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=jy(t,r.document),o=r.removedTargetIds||[];n=new rs([],o,i,null)}else{if(!("filter"in e))return H(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new yv(i,o),a=r.targetId;n=new rh(a,s)}}return n}function JB(t,e){let n;if(e instanceof $i)n={update:gS(t,e.key,e.value)};else if(e instanceof th)n={delete:Tv(t,e.key)};else if(e instanceof Ln)n={update:gS(t,e.key,e.data),updateMask:a$(e.fieldMask)};else{if(!(e instanceof fv))return H(16599,{Rt:e.type});n={verify:Tv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ps)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ui)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gs)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw H(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:QB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:H(27497)}(t,e.precondition)),n}function XB(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?kn(i.updateTime):kn(o);return s.isEqual(ee.min())&&(s=kn(o)),new hv(s,i.transformResults||[])}(n,e))):[]}function e$(t,e){return{documents:[DA(t,e.path)]}}function t$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DA(t,i);let o=function(l){if(l.length!==0)return AA(Fn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:es(m.field),direction:i$(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=wv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:n,parent:i}}function n$(t){let e=YB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ie(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=SA(p);return m instanceof Fn&&sA(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(C){return new ds(ts(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Rh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new ls(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new ls(y,m)}(n.endAt)),AB(e,i,s,o,a,"F",u,l)}function r$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ts(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ts(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ts(n.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ts(n.unaryFilter.field);return Ge.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return H(61313);default:return H(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(ts(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return H(58110);default:return H(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>SA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return H(1026)}}(n.compositeFilter.op))}(t):H(30097,{filter:t})}function i$(t){return WB[t]}function o$(t){return GB[t]}function s$(t){return KB[t]}function es(t){return{fieldPath:t.canonicalString()}}function ts(t){return Vt.fromServerFormat(t.fieldPath)}function AA(t){return t instanceof Ge?function(n){if(n.op==="=="){if(nS(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NAN"}};if(tS(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nS(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NOT_NAN"}};if(tS(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:es(n.field),op:o$(n.op),value:n.value}}}(t):t instanceof Fn?function(n){let r=n.getFilters().map(i=>AA(i));return r.length===1?r[0]:{compositeFilter:{op:s$(n.op),filters:r}}}(t):H(54877,{filter:t})}function a$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var gc=class t{constructor(e,n,r,i,o=ee.min(),s=ee.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Dv=class{constructor(e){this.gt=e}};function c$(t){let e=n$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dv(e,e.limit,"L"):e}var ah=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),dc(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=lr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(dr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?rA(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):nA(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):H(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=as,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Ne(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),z.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};ah.Ut=new ah;var Cv=class{constructor(){this.Dn=new Sv}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(ji.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},Sv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tt(Ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(Ve.comparator)).toArray()}};var bY=new Uint8Array(0);var mS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NA=41943040,Yt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(NA,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);var mc=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var yS="LruGarbageCollector",u$=1048576;function vS([t,e],[n,r]){let i=oe(t,n);return i===0?oe(e,r):i}var Av=class{constructor(e){this.Tr=e,this.buffer=new tt(vS),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();vS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},Rv=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){O(yS,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){ws(n)?O(yS,"Ignoring IndexedDB error during garbage collection: ",n):yield Is(n)}yield this.Rr(3e5)}))}},Nv=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(C_.ue);let r=new Av(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(mS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mS):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Jo()<=ae.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function l$(t,e){return new Nv(t,e)}var Mv=class{constructor(){this.changes=new hr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Pv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var xv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&cc(r.mutation,i,Zt.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=ki();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ic();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=ki();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=fr(),s=ac(),a=function(){return ac()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Ln)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),cc(h.mutation,l,h.mutation.getFieldMask(),ze.now())):s.set(l.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Pv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ac(),i=new ke((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Zt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=pA();h.forEach(m=>{if(!o.has(m)){let y=IA(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(ki()),a=lc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:fA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=ic();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ic();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,m){return new hs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,dn.newInvalidDocument(h)))});let a=ic();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&cc(h.mutation,l,Zt.empty(),ze.now()),xh(n,l)&&(a=a.insert(u,l))}),a})}};var kv=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:kn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:c$(i.bundledQuery),readTime:kn(i.readTime)}}(n)),P.resolve()}};var Ov=class{constructor(){this.overlays=new ke(z.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ki();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=ki(),o=n.length+1,s=new z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ke((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=ki(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=ki(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new mv(n,r));let o=this.kr.get(n);o===void 0&&(o=ue(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var Fv=class{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var yc=class{constructor(){this.qr=new tt($e.Qr),this.$r=new tt($e.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new $e(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new $e(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new z(new Ve([])),r=new $e(n,e),i=new $e(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new z(new Ve([])),r=new $e(n,e),i=new $e(n,e+1),o=ue();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new $e(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},$e=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return z.comparator(e.key,n.key)||oe(e.Hr,n.Hr)}static Ur(e,n){return oe(e.Hr,n.Hr)||z.comparator(e.key,n.key)}};var Lv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new tt($e.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new pv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new $e(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?S_:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new $e(n,0),i=new $e(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(oe);return n.forEach(i=>{let o=new $e(i,0),s=new $e(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new $e(new z(o),0),a=new tt(oe);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new $e(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new $e(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Vv=class{constructor(e){this.ni=e,this.docs=function(){return new ke(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=fr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=fr(),s=n.path,a=new z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||uB(cB(h),r)<=0||(i.has(h.key)||xh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){H(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jv(this)}getSize(e){return P.resolve(this.size)}},jv=class extends Mv{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var Uv=class{constructor(e){this.persistence=e,this.ii=new hr(n=>P_(n),x_),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.si=0,this.oi=new yc,this.targetCount=0,this._i=mc.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new mc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var ch=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new C_(0),this.ci=!1,this.ci=!0,this.li=new Fv,this.referenceDelegate=e(this),this.hi=new Uv(this),this.indexManager=new Cv,this.remoteDocumentCache=function(i){return new Vv(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new Dv(n),this.Ti=new kv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ov,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new Lv(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);let i=new Bv(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},Bv=class extends Zy{constructor(e){super(),this.currentSequenceNumber=e}},$v=class t{constructor(e){this.persistence=e,this.Ai=new yc,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw H(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=z.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ee.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},uh=class t{constructor(e,n){this.persistence=e,this.gi=new hr(r=>fB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=l$(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zd(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Hv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ue(),i=ue();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var zv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var qv=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return w0()?8:dB(Xe())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new zv;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Jo()<=ae.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",Xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Jo()<=ae.DEBUG&&O("QueryEngine","Query:",Xo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Jo()<=ae.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",Xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):P.resolve())}ps(e,n){if(sS(n))return P.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dv(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,dv(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return sS(n)||i.isEqual(ee.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(Jo()<=ae.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xo(n)),this.vs(e,s,n,aB(i,lc)).next(a=>a))})}bs(e,n){let r=new tt(dA(e));return n.forEach((i,o)=>{xh(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Jo()<=ae.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Xo(n)),this.gs.getDocumentsMatchingQuery(e,n,ji.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var F_="LocalStore",d$=3e8,Wv=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new ke(oe),this.Ms=new hr(o=>P_(o),x_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xv(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function h$(t,e,n,r){return new Wv(t,e,n,r)}function MA(t,e){return v(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ue();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function f$(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(N=>{let R=l.docVersions.get(C);Ie(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function PA(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function p$(t,e){let n=Y(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(vt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,L){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=d$?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(m,y,h)&&a.push(n.hi.updateTargetData(o,y))});let u=fr(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(g$(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ee.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function g$(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=fr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):O(F_,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function m$(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=S_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function y$(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new gc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function Gv(t,e,n){return v(this,null,function*(){let r=Y(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ws(s))throw s;O(F_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function _S(t,e,n){let r=Y(t),i=ee.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Y(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)}(r,s,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ee.min(),n?o:ue())).next(a=>(v$(r,MB(e),a),{documents:a,qs:o})))}function v$(t,e,n){let r=t.xs.get(e)||ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var lh=class{constructor(){this.activeTargetIds=LB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Kv=class{constructor(){this.Fo=new lh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new lh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Qv=class{xo(e){}shutdown(){}};var IS="ConnectivityMonitor",dh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){O(IS,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){O(IS,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Hd=null;function Yv(){return Hd===null?Hd=function(){return 268435456+Math.round(2147483648*Math.random())}():Hd++,"0x"+Hd.toString(16)}var Uy="RestConnection",_$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Zv=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Jd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=Yv(),a=this.Go(e,n.toUriEncodedString());O(Uy,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=xr(l);return this.jo(e,a,u,r,h).then(p=>(O(Uy,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Wr(Uy,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_s}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=_$[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var Jv=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var yt="WebChannelConnection",Xv=class extends Zv{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=Yv();return new Promise((a,u)=>{let l=new ky;l.setWithCredentials(!0),l.listenOnce(Oy.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rc.NO_ERROR:let p=l.getResponseJson();O(yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case rc.TIMEOUT:O(yt,`RPC '${e}' ${s} timed out`),u(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:let m=l.getStatus();if(O(yt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let C=y?.error;if(C&&C.status&&C.message){let N=function(L){let W=L.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(W)>=0?W:M.UNKNOWN}(C.status);u(new V(N,C.message))}else u(new V(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new V(M.UNAVAILABLE,"Connection failed."));break;default:H(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{O(yt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);O(yt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=Yv(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Vy(),a=Ly(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");O(yt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,C=new Jv({Ho:R=>{y?O(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(O(yt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),O(yt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),N=(R,L,W)=>{R.listen(L,K=>{try{W(K)}catch(be){setTimeout(()=>{throw be},0)}})};return N(p,Zo.EventType.OPEN,()=>{y||(O(yt,`RPC '${e}' stream ${i} transport opened.`),C.s_())}),N(p,Zo.EventType.CLOSE,()=>{y||(y=!0,O(yt,`RPC '${e}' stream ${i} transport closed`),C.__(),this.I_(p))}),N(p,Zo.EventType.ERROR,R=>{y||(y=!0,Wr(yt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),C.__(new V(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,Zo.EventType.MESSAGE,R=>{var L;if(!y){let W=R.data[0];Ie(!!W,16349);let K=W,be=K?.error||((L=K[0])===null||L===void 0?void 0:L.error);if(be){O(yt,`RPC '${e}' stream ${i} received error:`,be);let _t=be.status,we=function(w){let E=Be[w];if(E!==void 0)return EA(E)}(_t),T=be.message;we===void 0&&(we=M.INTERNAL,T="Unknown error status: "+_t+" with message "+be.message),y=!0,C.__(new V(we,T)),p.close()}else O(yt,`RPC '${e}' stream ${i} received:`,W),C.a_(W)}}),N(a,Fy.STAT_EVENT,R=>{R.stat===Ud.PROXY?O(yt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Ud.NOPROXY&&O(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function By(){return typeof document<"u"?document:null}function kh(t){return new Iv(t,!0)}var hh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var wS="PersistentStream",fh=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new hh(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new V(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return O(wS,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(O(wS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},e_=class extends fh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=ZB(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?kn(s.readTime):ee.min()}(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=bv(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=lv(u)?{documents:e$(o,u)}:{query:t$(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=TA(o,s.resumeToken);let l=wv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){a.readTime=sh(o,s.snapshotVersion.toTimestamp());let l=wv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=r$(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=bv(this.serializer),n.removeTarget=e,this.k_(n)}},t_=class extends fh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=XB(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=bv(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>JB(this.serializer,r))};this.k_(n)}};var n_=class{},r_=class extends n_{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Ev(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(M.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,Ev(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(M.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},i_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ur(n),this._a=!1):O("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Hi="RemoteStore",o_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){zi(this)&&(O(Hi,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=Y(u);l.Ia.add(4),yield Ec(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Oh(l)})}(this))}))}),this.Aa=new i_(r,i)}};function Oh(t){return v(this,null,function*(){if(zi(t))for(let e of t.da)yield e(!0)})}function Ec(t){return v(this,null,function*(){for(let e of t.da)yield e(!1)})}function xA(t,e){let n=Y(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),U_(n)?j_(n):Es(n).x_()&&V_(n,e))}function L_(t,e){let n=Y(t),r=Es(n);n.Ta.delete(e),r.x_()&&kA(n,e),n.Ta.size===0&&(r.x_()?r.B_():zi(n)&&n.Aa.set("Unknown"))}function V_(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Es(t).H_(e)}function kA(t,e){t.Ra.$e(e),Es(t).Y_(e)}function j_(t){t.Ra=new _v({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Es(t).start(),t.Aa.aa()}function U_(t){return zi(t)&&!Es(t).M_()&&t.Ta.size>0}function zi(t){return Y(t).Ia.size===0}function OA(t){t.Ra=void 0}function I$(t){return v(this,null,function*(){t.Aa.set("Online")})}function w$(t){return v(this,null,function*(){t.Ta.forEach((e,n)=>{V_(t,e)})})}function E$(t,e){return v(this,null,function*(){OA(t),U_(t)?(t.Aa.la(e),j_(t)):t.Aa.set("Unknown")})}function T$(t,e,n){return v(this,null,function*(){if(t.Aa.set("Online"),e instanceof ih&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(t,e)}catch(r){O(Hi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ph(t,r)}else if(e instanceof rs?t.Ra.Ye(e):e instanceof rh?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ee.min()))try{let r=yield PA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),kA(o,u);let p=new gc(h.target,u,l,h.sequenceNumber);V_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){O(Hi,"Failed to raise snapshot:",r),yield ph(t,r)}})}function ph(t,e,n){return v(this,null,function*(){if(!ws(e))throw e;t.Ia.add(1),yield Ec(t),t.Aa.set("Offline"),n||(n=()=>PA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){O(Hi,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield Oh(t)}))})}function FA(t,e){return e().catch(n=>ph(t,n,e))}function Fh(t){return v(this,null,function*(){let e=Y(t),n=Kr(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:S_;for(;b$(e);)try{let i=yield m$(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,D$(e,i)}catch(i){yield ph(e,i)}LA(e)&&VA(e)})}function b$(t){return zi(t)&&t.Pa.length<10}function D$(t,e){t.Pa.push(e);let n=Kr(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function LA(t){return zi(t)&&!Kr(t).M_()&&t.Pa.length>0}function VA(t){Kr(t).start()}function C$(t){return v(this,null,function*(){Kr(t).na()})}function S$(t){return v(this,null,function*(){let e=Kr(t);for(let n of t.Pa)e.X_(n.mutations)})}function A$(t,e,n){return v(this,null,function*(){let r=t.Pa.shift(),i=gv.from(r,e,n);yield FA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Fh(t)})}function R$(t,e){return v(this,null,function*(){e&&Kr(t).Z_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return zB(s)&&s!==M.ABORTED}(i.code)){let o=r.Pa.shift();Kr(r).N_(),yield FA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Fh(r)}})}(t,e)),LA(t)&&VA(t)})}function ES(t,e){return v(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),O(Hi,"RemoteStore received new credentials");let r=zi(n);n.Ia.add(3),yield Ec(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield Oh(n)})}function N$(t,e){return v(this,null,function*(){let n=Y(t);e?(n.Ia.delete(2),yield Oh(n)):e||(n.Ia.add(2),yield Ec(n),n.Aa.set("Unknown"))})}function Es(t){return t.Va||(t.Va=function(n,r,i){let o=Y(n);return o.ia(),new e_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:I$.bind(null,t),e_:w$.bind(null,t),n_:E$.bind(null,t),J_:T$.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.Va.N_(),U_(t)?j_(t):t.Aa.set("Unknown")):(yield t.Va.stop(),OA(t))}))),t.Va}function Kr(t){return t.ma||(t.ma=function(n,r,i){let o=Y(n);return o.ia(),new t_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:C$.bind(null,t),n_:R$.bind(null,t),ea:S$.bind(null,t),ta:A$.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.ma.N_(),yield Fh(t)):(yield t.ma.stop(),t.Pa.length>0&&(O(Hi,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var s_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function B_(t,e){if(ur("AsyncQueue",`${e}: ${t}`),ws(t))return new V(M.UNAVAILABLE,`${e}: ${t}`);throw t}var gh=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=ic(),this.sortedSet=new ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var mh=class{constructor(){this.fa=new ke(z.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):H(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},ys=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,gh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var a_=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},c_=class{constructor(){this.queries=TS(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=Y(n),o=i.queries;i.queries=TS(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new V(M.ABORTED,"Firestore shutting down"))}};function TS(){return new hr(t=>lA(t),Ph)}function jA(t,e){return v(this,null,function*(){let n=Y(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new a_,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=B_(s,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&$_(n)})}function UA(t,e){return v(this,null,function*(){let n=Y(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function M$(t,e){let n=Y(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&$_(n)}function P$(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function $_(t){t.Da.forEach(e=>{e.next()})}var u_,bS;(bS=u_||(u_={})).Fa="default",bS.Cache="cache";var yh=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==u_.Cache}};var vh=class{constructor(e){this.key=e}},_h=class{constructor(e){this.key=e}},l_=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=dA(e),this.eu=new gh(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new mh,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=xh(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?C!==N&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(y,C){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H(20277,{At:R})}};return N(y)-N(C)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new ys(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new mh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ue(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new _h(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new vh(r))}),n}uu(e){this.Ha=e.qs,this.Za=ue();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ys.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},H_="SyncEngine",d_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},h_=class{constructor(e){this.key=e,this.lu=!1}},f_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new hr(a=>lA(a),Ph),this.Tu=new Map,this.Iu=new Set,this.du=new ke(z.comparator),this.Eu=new Map,this.Au=new yc,this.Ru={},this.Vu=new Map,this.mu=mc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function x$(t,e,n=!0){return v(this,null,function*(){let r=WA(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield BA(r,e,n,!0),i})}function k$(t,e){return v(this,null,function*(){let n=WA(t);yield BA(n,e,!0,!1)})}function BA(t,e,n,r){return v(this,null,function*(){let i=yield y$(t.localStore,xn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield O$(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&xA(t.remoteStore,i),a})}function O$(t,e,n,r,i){return v(this,null,function*(){t.gu=(p,m,y)=>function(N,R,L,W){return v(this,null,function*(){let K=R.view.nu(L);K.Ds&&(K=yield _S(N.localStore,R.query,!1).then(({documents:T})=>R.view.nu(T,K)));let be=W&&W.targetChanges.get(R.targetId),_t=W&&W.targetMismatches.get(R.targetId)!=null,we=R.view.applyChanges(K,N.isPrimaryClient,be,_t);return CS(N,R.targetId,we._u),we.snapshot})}(t,p,m,y);let o=yield _S(t.localStore,e,!0),s=new l_(e,o.qs),a=s.nu(o.documents),u=pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);CS(t,n,l._u);let h=new d_(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function F$(t,e,n){return v(this,null,function*(){let r=Y(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Ph(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Gv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&L_(r.remoteStore,i.targetId),p_(r,i.targetId)}).catch(Is))):(p_(r,i.targetId),yield Gv(r.localStore,i.targetId,!0))})}function L$(t,e){return v(this,null,function*(){let n=Y(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),L_(n.remoteStore,r.targetId))})}function V$(t,e,n){return v(this,null,function*(){let r=q$(t);try{let i=yield function(s,a){let u=Y(s),l=ze.now(),h=a.reduce((y,C)=>y.add(C.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=fr(),N=ue();return u.Os.getEntries(y,h).next(R=>{C=R,C.forEach((L,W)=>{W.isValidDocument()||(N=N.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let L=[];for(let W of a){let K=HB(W,p.get(W.key).overlayedDocument);K!=null&&L.push(new Ln(W.key,K,iA(K.value.mapValue),$r.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,L,a)}).next(R=>{m=R;let L=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,L)})}).then(()=>({batchId:m.batchId,changes:fA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new ke(oe)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Tc(r,i.changes),yield Fh(r.remoteStore)}catch(i){let o=B_(i,"Failed to persist write");n.reject(o)}})}function $A(t,e){return v(this,null,function*(){let n=Y(t);try{let r=yield p$(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ie(s.lu,14607):i.removedDocuments.size>0&&(Ie(s.lu,42227),s.lu=!1))}),yield Tc(n,r,e)}catch(r){yield Is(r)}})}function DS(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Y(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&$_(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function j$(t,e,n){return v(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new ke(z.comparator);s=s.insert(o,dn.newNoDocument(o,ee.min()));let a=ue().add(o),u=new nh(ee.min(),new Map,new ke(oe),s,a);yield $A(r,u),r.du=r.du.remove(o),r.Eu.delete(e),z_(r)}else yield Gv(r.localStore,e,!1).then(()=>p_(r,e,n)).catch(Is)})}function U$(t,e){return v(this,null,function*(){let n=Y(t),r=e.batch.batchId;try{let i=yield f$(n.localStore,e);zA(n,r,null),HA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Tc(n,i)}catch(i){yield Is(i)}})}function B$(t,e,n){return v(this,null,function*(){let r=Y(t);try{let i=yield function(s,a){let u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ie(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);zA(r,e,n),HA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Tc(r,i)}catch(i){yield Is(i)}})}function HA(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function zA(t,e,n){let r=Y(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function p_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||qA(t,r)})}function qA(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(L_(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),z_(t))}function CS(t,e,n){for(let r of n)r instanceof vh?(t.Au.addReference(r.key,e),$$(t,r)):r instanceof _h?(O(H_,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||qA(t,r.key)):H(19791,{yu:r})}function $$(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(O(H_,"New document in limbo: "+n),t.Iu.add(r),z_(t))}function z_(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new z(Ve.fromString(e)),r=t.mu.next();t.Eu.set(r,new h_(n)),t.du=t.du.insert(n,r),xA(t.remoteStore,new gc(xn(Mh(n.path)),r,"TargetPurposeLimboResolution",C_.ue))}}function Tc(t,e,n){return v(this,null,function*(){let r=Y(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Hv.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(u,l){return v(this,null,function*(){let h=Y(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ws(p))throw p;O(F_,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);h.Fs=h.Fs.insert(m,N)}}})}(r.localStore,o))})}function H$(t,e){return v(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){O(H_,"User change. New user:",e.toKey());let r=yield MA(n.localStore,e);n.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new V(M.CANCELLED,s))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Tc(n,r.Bs)}})}function z$(t,e){let n=Y(t),r=n.Eu.get(e);if(r&&r.lu)return ue().add(r.key);{let i=ue(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function WA(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$A.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j$.bind(null,e),e.hu.J_=M$.bind(null,e.eventManager),e.hu.pu=P$.bind(null,e.eventManager),e}function q$(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B$.bind(null,e),e}var GA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=kh(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return h$(this.persistence,new qv,n.initialUser,this.serializer)}Du(n){return new ch($v.Vi,this.serializer)}bu(n){return new Kv}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),g_=class extends GA{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ie(this.persistence.referenceDelegate instanceof uh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Rv(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new ch(r=>uh.Vi(r,n),this.serializer)}};var W$=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>DS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=H$.bind(null,this.syncEngine),yield N$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new c_}()}createDatastore(n){let r=kh(n.databaseInfo.databaseId),i=function(s){return new Xv(s)}(n.databaseInfo);return function(s,a,u,l){return new r_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new o_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>DS(this.syncEngine,r,0),function(){return dh.C()?new dh:new Qv}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new f_(o,s,a,u,l,h);return p&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(o){return v(this,null,function*(){let s=Y(o);O(Hi,"RemoteStore shutting down."),s.Ia.add(5),yield Ec(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Ih=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Qr="FirestoreClient",m_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=et.UNAUTHENTICATED,this.clientId=uc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){O(Qr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(O(Qr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=B_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function $y(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),O(Qr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield MA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Wr("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{O("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Wr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function SS(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield G$(t);O(Qr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ES(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ES(e.remoteStore,i)),t._onlineComponents=e})}function G$(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O(Qr,"Using user provided OfflineComponentProvider");try{yield $y(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Wr("Error using user provided cache. Falling back to memory cache: "+n),yield $y(t,new GA)}}else O(Qr,"Using default OfflineComponentProvider"),yield $y(t,new g_(void 0));return t._offlineComponents})}function KA(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(O(Qr,"Using user provided OnlineComponentProvider"),yield SS(t,t._uninitializedComponentsProvider._online)):(O(Qr,"Using default OnlineComponentProvider"),yield SS(t,new W$))),t._onlineComponents})}function K$(t){return KA(t).then(e=>e.syncEngine)}function y_(t){return v(this,null,function*(){let e=yield KA(t),n=e.eventManager;return n.onListen=x$.bind(null,e.syncEngine),n.onUnlisten=F$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L$.bind(null,e.syncEngine),n})}function Q$(t,e,n={}){let r=new Nn;return t.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,u,l){let h=new Ih({next:m=>{h.Ou(),s.enqueueAndForget(()=>UA(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new V(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new V(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new yh(Mh(a.path),h,{includeMetadataChanges:!0,ka:!0});return jA(o,p)}(yield y_(t),t.asyncQueue,e,n,r)})),r.promise}function QA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var AS=new Map;var YA="firestore.googleapis.com",RS=!0,wh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YA,this.ssl=RS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:RS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u$)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},vc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Hy;switch(r.type){case"firstParty":return new Gy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=AS.get(n);r&&(O("ComponentProvider","Removing Datastore"),AS.delete(n),r.terminate())}(this),Promise.resolve()}};function ZA(t,e,n,r={}){var i;t=Mn(t,vc);let o=xr(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(ld(`https://${u}`),dd("Firestore",!0)),s.host!==YA&&s.host!==u&&Wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Wt(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=et.MOCK_USER;else{h=m0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new et(m)}t._authCredentials=new zy(new Gd(h,p))}}var Eh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},lt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _c(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(wc(n,t._jsonSchema))return new t(e,r||null,new z(Ve.fromString(n.referencePath)))}};lt._jsonSchemaVersion="firestore/documentReference/1.0",lt._jsonSchema={type:He("string",lt._jsonSchemaVersion),referencePath:He("string")};var _c=class t extends Eh{constructor(e,n,r){super(e,n,Mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function JA(t,e,...n){if(t=Ue(t),arguments.length===1&&(e=uc.newId()),oB("doc","path",e),t instanceof vc){let r=Ve.fromString(e,...n);return KC(r),new lt(t,null,new z(r))}{if(!(t instanceof lt||t instanceof _c))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ve.fromString(e,...n));return KC(r),new lt(t.firestore,t instanceof _c?t.converter:null,new z(r))}}var NS="AsyncQueue",Th=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new hh(this,"async_queue_retry"),this.oc=()=>{let r=By();r&&O(NS,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=By();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=By();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Nn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ws(e))throw e;O(NS,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ur("INTERNAL UNHANDLED ERROR: ",MS(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=s_.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&H(47125,{hc:MS(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function MS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function PS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Yr=class extends vc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Th,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Th(e),this._firestoreClient=void 0,yield e}})}};function XA(t,e){let n=typeof t=="object"?t:Cn(),r=typeof t=="string"?t:e||Jd,i=Kt(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=g0("firestore");o&&ZA(i,...o)}return i}function q_(t){if(t._terminated)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Y$(t),t._firestoreClient}function Y$(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Jy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,QA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new m_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Hr=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(vt.fromBase64String(e))}catch(n){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wc(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Hr._jsonSchemaVersion="firestore/bytes/1.0",Hr._jsonSchema={type:He("string",Hr._jsonSchemaVersion),bytes:He("string")};var vs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ic=class{constructor(e){this._methodName=e}};var zr=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(wc(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};zr._jsonSchemaVersion="firestore/geoPoint/1.0",zr._jsonSchema={type:He("string",zr._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};var qr=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wc(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new V(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};qr._jsonSchemaVersion="firestore/vectorValue/1.0",qr._jsonSchema={type:He("string",qr._jsonSchemaVersion),vectorValues:He("object")};var Z$=/^__.*__$/,v_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ln(e,this.data,this.fieldMask,n,this.fieldTransforms):new $i(e,this.data,n,this.fieldTransforms)}},bh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ln(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function eR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H(40011,{Ec:t})}}var __=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ch(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(eR(this.Ec)&&Z$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},I_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kh(e)}Dc(e,n,r,i=!1){return new __({Ec:e,methodName:n,bc:r,path:Vt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function tR(t){let e=t._freezeSettings(),n=kh(t._databaseId);return new I_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function J$(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);W_("Data must be an object, but it was:",s,r);let a=nR(r,s),u,l;if(o.merge)u=new Zt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=w_(e,p,n);if(!s.contains(m))throw new V(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);iR(h,m)||h.push(m)}u=new Zt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new v_(new Lt(a),u,l)}var Dh=class t extends Ic{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function X$(t,e,n,r){let i=t.Dc(1,e,n);W_("Data must be an object, but it was:",i,r);let o=[],s=Lt.empty();Zr(r,(u,l)=>{let h=G_(e,u,n);l=Ue(l);let p=i.gc(h);if(l instanceof Dh)o.push(h);else{let m=Lh(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Zt(o);return new bh(s,a,i.fieldTransforms)}function eH(t,e,n,r,i,o){let s=t.Dc(1,e,n),a=[w_(e,r,n)],u=[i];if(o.length%2!=0)throw new V(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(w_(e,o[m])),u.push(o[m+1]);let l=[],h=Lt.empty();for(let m=a.length-1;m>=0;--m)if(!iR(l,a[m])){let y=a[m],C=u[m];C=Ue(C);let N=s.gc(y);if(C instanceof Dh)l.push(y);else{let R=Lh(C,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new Zt(l);return new bh(h,p,s.fieldTransforms)}function Lh(t,e){if(rR(t=Ue(t)))return W_("Unsupported field value:",e,t),nR(t,e);if(t instanceof Ic)return function(r,i){if(!eR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Lh(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ue(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ze.fromDate(r);return{timestampValue:sh(i.serializer,o)}}if(r instanceof ze){let o=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(i.serializer,o)}}if(r instanceof zr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hr)return{bytesValue:TA(i.serializer,r._byteString)};if(r instanceof lt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:O_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qr)return function(s,a){return{mapValue:{fields:{[R_]:{stringValue:N_},[as]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return k_(a.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${D_(r)}`)}(t,e)}function nR(t,e){let n={};return YS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(t,(r,i)=>{let o=Lh(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function rR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof zr||t instanceof Hr||t instanceof lt||t instanceof Ic||t instanceof qr)}function W_(t,e,n){if(!rR(n)||!OS(n)){let r=D_(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function w_(t,e,n){if((e=Ue(e))instanceof vs)return e._internalPath;if(typeof e=="string")return G_(t,e);throw Ch("Field path arguments must be of type string or ",t,!1,void 0,n)}var tH=new RegExp("[~\\*/\\[\\]]");function G_(t,e,n){if(e.search(tH)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vs(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ch(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(M.INVALID_ARGUMENT,a+t+u)}function iR(t,e){return t.some(n=>n.isEqual(e))}var Sh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new E_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(oR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},E_=class extends Sh{data(){return super.data()}};function oR(t,e){return typeof e=="string"?G_(t,e):e instanceof vs?e._internalPath:e._delegate._internalPath}function nH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var T_=class{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw H(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Zr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[as].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ne(s.doubleValue));return new qr(o)}convertGeoPoint(e){return new zr(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Nh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){let n=lr(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ve.fromString(e);Ie(RA(r),9688,{name:e});let i=new Xd(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||ur(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function rH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Fi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Li=class t extends Sh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new is(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(oR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Li._jsonSchemaVersion="firestore/documentSnapshot/1.0",Li._jsonSchema={type:He("string",Li._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};var is=class extends Li{data(e={}){return super.data(e)}},os=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Fi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new is(this._firestore,this._userDataWriter,r.key,r,new Fi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new is(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new is(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Fi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:iH(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function iH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H(61501,{type:t})}}function sR(t){t=Mn(t,lt);let e=Mn(t.firestore,Yr);return Q$(q_(e),t._key).then(n=>lR(e,t,n))}os._jsonSchemaVersion="firestore/querySnapshot/1.0",os._jsonSchema={type:He("string",os._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};var Ah=class extends T_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}};function aR(t,e,n){t=Mn(t,lt);let r=Mn(t.firestore,Yr),i=rH(t.converter,e,n);return uR(r,[J$(tR(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$r.none())])}function cR(t,e,n,...r){t=Mn(t,lt);let i=Mn(t.firestore,Yr),o=tR(i),s;return s=typeof(e=Ue(e))=="string"||e instanceof vs?eH(o,"updateDoc",t._key,e,n,r):X$(o,"updateDoc",t._key,e),uR(i,[s.toMutation(t._key,$r.exists(!0))])}function K_(t,...e){var n,r,i;t=Ue(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||PS(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(PS(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof lt)l=Mn(t.firestore,Yr),h=Mh(t._key.path),u={next:p=>{e[s]&&e[s](lR(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Mn(t,Eh);l=Mn(p.firestore,Yr),h=p._query;let m=new Ah(l);u={next:y=>{e[s]&&e[s](new os(l,m,p,y))},error:e[s+1],complete:e[s+2]},nH(t._query)}return function(m,y,C,N){let R=new Ih(N),L=new yh(y,R,C);return m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return jA(yield y_(m),L)})),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return UA(yield y_(m),L)}))}}(q_(l),h,a,u)}function uR(t,e){return function(r,i){let o=new Nn;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return V$(yield K$(r),i,o)})),o.promise}(q_(t),e)}function lR(t,e,n){let r=n.docs.get(e._key),i=new Ah(t);return new Li(t,i,e._key,r,new Fi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){_s=i})(Or),ut(new Le("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Yr(new qy(r.getProvider("auth-internal")),new Ky(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),_e(zC,qC,e),_e(zC,qC,"esm2017")})();var Vh=function(){return Vh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Vh.apply(this,arguments)};var aH={includeMetadataChanges:!1};function dR(t,e){return e===void 0&&(e=aH),new ce(function(n){var r=K_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function hR(t){return dR(t,{includeMetadataChanges:!0})}function fR(t,e){return e===void 0&&(e={}),hR(t).pipe(le(function(n){return pR(n,e)}))}function pR(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Vh(Vh({},r),(n={},n[e.idField]=t.id,n))}var qi=class{constructor(e){return e}},gR="firestore",Q_=class{constructor(){return Fr(gR)}};var Y_=new B("angularfire2.firestore-instances");function cH(t,e){let n=Ri(gR,t,e);return n&&new qi(n)}function uH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new qi(r)}}var lH={provide:Q_,deps:[[new gt,Y_]]},dH={provide:qi,useFactory:cH,deps:[[new gt,Y_],un]};function mR(t,...e){return _e("angularfire",Sn.full,"fst"),on([dH,lH,{provide:Y_,useFactory:uH(t),multi:!0,deps:[ve,Ye,An,ir,[new gt,nc],[new gt,Qo],...e]}])}var Z_=Mt(fR,!0);var Ts=Mt(JA,!0,2);var yR=Mt(sR,!0);var vR=Mt(XA,!0);var _R=Mt(aR,!0,2);var IR=Mt(cR,!0,2);var bs=class t{constructor(){}firestore=x(qi);getPersonalData(){let e=Ts(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return Z_(e)}getPersonalDataOnce(){return v(this,null,function*(){let e=Ts(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q"),n=yield yR(e);return n.exists()?n.data():void 0})}getDocument(e){if(!this.firestore)return console.warn("Firestore no est\xE1 inicializado. Retornando array vac\xEDo."),Q([]);let n=Ts(this.firestore,e);return Z_(n)}updateDocument(e,n,r){let i=Ts(this.firestore,e,n);return IR(i,r)}updatePersonalData(e){let n=Ts(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return _R(n,e,{merge:!0})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var jh=class t{title=null;secondTitle=null;thirdTitle=null;content=null;openPanel=!1;togglePanel(){this.openPanel=!this.openPanel}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-accordion"]],inputs:{title:"title",secondTitle:"secondTitle",thirdTitle:"thirdTitle",content:"content"},decls:13,vars:8,consts:[[1,"detail-panel"],[1,"detail-header",3,"click"],[1,"accordion-btn"],[1,"detail-content"],[1,"detail-inner"]],template:function(n,r){n&1&&(q(0,"div",0)(1,"div",1),Fe("click",function(){return r.togglePanel()}),q(2,"h2"),Ee(3),X(),q(4,"h4"),Ee(5),X(),q(6,"h5"),Ee(7),X(),Se(8,"button",2),X(),q(9,"div",3)(10,"div",4)(11,"p"),Ee(12),X()()()()),n&2&&(j(3),Xn(r.title),j(2),Xn(r.secondTitle),j(2),Xn(r.thirdTitle),j(),qt("open",r.openPanel),j(),qt("open",r.openPanel),j(3),Il(" ",r.content," "))},dependencies:[Ze],styles:[".detail-panel[_ngcontent-%COMP%]{background-color:var(--color-subpanel-dark);margin:40px 0}.detail-header[_ngcontent-%COMP%]{position:relative;cursor:pointer;-webkit-user-select:none;user-select:none;padding:1rem;background-color:var(--color-subpanel-child-dark);border-radius:8px;transition:background .2s ease}.detail-header[_ngcontent-%COMP%]:hover{background:var(--color-selected-dark)}.detail-content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .7s cubic-bezier(.11,.37,.17,.72)}.detail-content.open[_ngcontent-%COMP%]{max-height:500px;transition:max-height 1s ease-in}.detail-inner[_ngcontent-%COMP%]{padding:1rem}.accordion-btn[_ngcontent-%COMP%]{position:absolute;right:23px;top:50%;transform:translateY(-50%);width:20px;height:20px;border:none;background:url(/assets/mas.png) no-repeat center;background-size:contain;cursor:pointer;transition:background .7s cubic-bezier(.18,0,1,.79)}.accordion-btn.open[_ngcontent-%COMP%]{background-image:url(/assets/menos.png);transition:background .2s cubic-bezier(.18,0,1,.79)}"]})};function hH(t,e){if(t&1){let n=Oo();fa(0),q(1,"div",2),Fe("click",function(){pi(n);let i=Sr();return gi(i.selectView("experience"))}),q(2,"h2"),Ee(3,"Experiencia laboral"),X(),q(4,"p"),Ee(5,"Trayectoria profesional y proyectos destacados."),X()(),q(6,"div",3),Fe("click",function(){pi(n);let i=Sr();return gi(i.selectView("technologies"))}),q(7,"h2"),Ee(8,"Tecnolog\xEDas especializadas"),X(),q(9,"p"),Ee(10,"Stack t\xE9cnico y herramientas utilizadas."),X()(),pa()}}function fH(t,e){if(t&1){let n=Oo();fa(0),q(1,"div",4)(2,"button",5),Fe("click",function(){pi(n);let i=Sr();return gi(i.selectView("menu"))}),Ee(3,"\u2190 Volver"),X(),q(4,"div",6),Se(5,"app-accordion",7)(6,"app-accordion",8),X()(),pa()}t&2&&(j(5),J("title","Desarrollador Full-Stack")("secondTitle","Indra Sistemas")("thirdTitle","Octubre 2024 - ACTUALMENTE"),j(),J("title","Desarrollador Full-Stack")("secondTitle","Mercanza")("thirdTitle","Septiembre 2023 - Diciembre 2023"))}function pH(t,e){if(t&1){let n=Oo();fa(0),q(1,"div",4)(2,"button",5),Fe("click",function(){pi(n);let i=Sr();return gi(i.selectView("menu"))}),Ee(3,"\u2190 Volver"),X(),q(4,"div",6),Se(5,"app-accordion",9)(6,"app-accordion",10)(7,"app-accordion",11)(8,"app-accordion",12)(9,"app-accordion",13)(10,"app-accordion",14)(11,"app-accordion",15)(12,"app-accordion",16)(13,"app-accordion",17)(14,"app-accordion",18)(15,"app-accordion",19)(16,"app-accordion",20)(17,"app-accordion",21)(18,"app-accordion",22)(19,"app-accordion",23)(20,"app-accordion",24)(21,"app-accordion",25)(22,"app-accordion",26)(23,"app-accordion",27)(24,"app-accordion",28)(25,"app-accordion",29)(26,"app-accordion",30)(27,"app-accordion",31)(28,"app-accordion",32),X()(),pa()}t&2&&(j(5),J("title","Java")("secondTitle","Nivel: Alto"),j(),J("title","TypeScript")("secondTitle","Nivel: Alto"),j(),J("title","Python")("secondTitle","Nivel: Intermedio"),j(),J("title","C#")("secondTitle","Nivel: Intermedio"),j(),J("title","JavaScript")("secondTitle","Nivel: B\xE1sico"),j(),J("title","PHP")("secondTitle","Nivel: B\xE1sico"),j(),J("title","HTML5 & CSS3")("secondTitle","Nivel: Intermedio"),j(),J("title","JSON & XML")("secondTitle","Nivel: Alto"),j(),J("title","SQL")("secondTitle","Nivel: Intermedio"),j(),J("title","Spring Boot")("secondTitle","Nivel: Intermedio"),j(),J("title","Angular")("secondTitle","Nivel: Intermedio"),j(),J("title","Ionic")("secondTitle","Nivel: B\xE1sico"),j(),J("title","Node.js")("secondTitle","Nivel: B\xE1sico"),j(),J("title","MySQL & SQL Server")("secondTitle","Nivel: Intermedio"),j(),J("title","MongoDB & Firebase")("secondTitle","Nivel: Intermedio"),j(),J("title","MQTT (Mosquitto)")("secondTitle","Nivel: Alto"),j(),J("title","Kafka, RabbitMQ, NATS")("secondTitle","Nivel: Intermedio"),j(),J("title","Git")("secondTitle","Nivel: Alto"),j(),J("title","Docker")("secondTitle","Nivel: Alto"),j(),J("title","Jenkins")("secondTitle","Nivel: Intermedio"),j(),J("title","JIRA & Kanban (Trello)")("secondTitle","Nivel: Alto"),j(),J("title","Android Studio & Capacitor")("secondTitle","Nivel: Intermedio"),j(),J("title","Unity & Processing")("secondTitle","Nivel: Intermedio"),j(),J("title","Unreal Engine")("secondTitle","Nivel: B\xE1sico"))}var Uh=class t{view="menu";openPanels={indra:!1,mercanza:!1};selectView(e){this.view=e}togglePanel(e){this.openPanels[e]=!this.openPanels[e]}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-experience-panel"]],decls:4,vars:3,consts:[[1,"experience-wrapper"],[4,"ngIf"],[1,"experience-card","experience",3,"click"],[1,"experience-card","technologies",3,"click"],[1,"experience-detail"],[1,"back-btn",3,"click"],[1,"detail-scroll"],["content",`El proyecto en el que actualmente trabajo es un sistema de mando y control,
                          encargado de gestionar recursos, publicar instrucciones y llevar un seguimiento de las acciones.
                          Ademas de comunicarse con otras plataformas con objetivos similares a nuestro sistema.
                          
                          Los desarrollos principales en los que he trabajado han sido:
                          
                          La migracion de la aplicaci\xF3n de Windows a Linux y Android.
                          
                          Integraci\xF3n en el nuevas tecnolog\xEDas y desarrollado un nuevo frontal m\xE1s din\xE1mico y 
                          con apariencia mas moderna usando Angular.
                          
                          Implementar nuevas funcionalidades en un sistema programado en Java con mas de 15 a\xF1os y consolidado.
                          Sin quebrar el funcionamiento de los sistemas ya 
                          existentes y otros que estan en desarrollo y comparten servicios en com\xFAn.`,3,"title","secondTitle","thirdTitle"],["content",`Los proyectos en los que trabaj\xE9 eran encargados de llevar el tratamiento 
                          de datos personales y de negocio de diversas empresas con sus empleados o clientes.
                          
                          Estos proyectos usaban diferentes tecnolog\xEDas pero en los que mas desarroll\xE9
                          usaban Angular y .NET con C#.
          
                          En estas aplicaciones web realic\xE9 sobre todo tareas
                          de resoluci\xF3n de incidencias, correci\xF3n de componentes de interfaz gr\xE1fica y
                          optimizaci\xF3n de consultas a APIs y Bases de datos relaccionales.`,3,"title","secondTitle","thirdTitle"],["content","Desarrollo backend aplicando programaci\xF3n orientada a objetos, creaci\xF3n de APIs REST, WebSockets, manejo de dependencias con Maven y ejecuci\xF3n en servidores de aplicaciones. Experiencia integrando backend con frontend.",3,"title","secondTitle"],["content","Uso avanzado de TypeScript en aplicaciones Angular, tipado est\xE1tico, gen\xE9ricos, manejo de estructuras de datos y l\xF3gica de negocio mantenible.",3,"title","secondTitle"],["content","Desarrollo de scripts y aplicaciones backend sencillas, automatizaci\xF3n de tareas y consumo de APIs.",3,"title","secondTitle"],["content","Desarrollo de aplicaciones y scripts, principalmente en entornos de creaci\xF3n interactiva y motores de juego.",3,"title","secondTitle"],["content","Uso de JavaScript para complementar funcionalidades frontend y comprensi\xF3n de su integraci\xF3n con frameworks modernos.",3,"title","secondTitle"],["content","Conocimientos b\xE1sicos para desarrollo web backend y mantenimiento de aplicaciones existentes.",3,"title","secondTitle"],["content","Maquetaci\xF3n de interfaces web, estructuraci\xF3n sem\xE1ntica y dise\xF1o responsive adaptable a distintos dispositivos.",3,"title","secondTitle"],["content","Uso intensivo de formatos de intercambio de datos en APIs REST, configuraci\xF3n de servicios y comunicaci\xF3n entre sistemas.",3,"title","secondTitle"],["content","Consultas a bases de datos relacionales, operaciones CRUD y comprensi\xF3n de modelos de datos.",3,"title","secondTitle"],["content","Creaci\xF3n de servicios REST, controladores, inyecci\xF3n de dependencias y estructuraci\xF3n de proyectos backend.",3,"title","secondTitle"],["content","Desarrollo de aplicaciones SPA, consumo de APIs REST, componentes, servicios y manejo de estado con TypeScript.",3,"title","secondTitle"],["content","Uso de Ionic para el desarrollo de aplicaciones h\xEDbridas y adaptaci\xF3n de interfaces a dispositivos m\xF3viles.",3,"title","secondTitle"],["content","Conocimientos b\xE1sicos del runtime para ejecuci\xF3n de aplicaciones JavaScript y soporte a herramientas de desarrollo.",3,"title","secondTitle"],["content","Uso de bases de datos relacionales, consultas SQL, gesti\xF3n de datos y conexi\xF3n desde aplicaciones backend.",3,"title","secondTitle"],["content","Uso de bases de datos NoSQL y BaaS para almacenamiento de datos, autenticaci\xF3n y servicios en tiempo real.",3,"title","secondTitle"],["content","Uso de mensajer\xEDa ligera para comunicaci\xF3n entre dispositivos y sistemas distribuidos mediante el protocolo MQTT.",3,"title","secondTitle"],["content","Conocimientos en sistemas de mensajer\xEDa y streaming para comunicaci\xF3n as\xEDncrona entre servicios.",3,"title","secondTitle"],["content","Control de versiones, trabajo con ramas, resoluci\xF3n de conflictos y gesti\xF3n de repositorios.",3,"title","secondTitle"],["content","Creaci\xF3n y uso de contenedores para entornos de desarrollo y despliegue de servicios backend.",3,"title","secondTitle"],["content","Uso de pipelines b\xE1sicos para integraci\xF3n y automatizaci\xF3n de procesos de build.",3,"title","secondTitle"],["content","Gesti\xF3n de tareas, seguimiento de proyectos y trabajo colaborativo con metodolog\xEDas \xE1giles.",3,"title","secondTitle"],["content","Desarrollo y compilaci\xF3n de aplicaciones m\xF3viles, integraci\xF3n con funcionalidades nativas y despliegue en dispositivos f\xEDsicos.",3,"title","secondTitle"],["content","Desarrollo de proyectos interactivos y videojuegos, l\xF3gica de juego y creaci\xF3n visual.",3,"title","secondTitle"],["content","Conocimientos iniciales en motores gr\xE1ficos y desarrollo de experiencias interactivas.",3,"title","secondTitle"]],template:function(n,r){n&1&&(q(0,"div",0),Jn(1,hH,11,0,"ng-container",1)(2,fH,7,6,"ng-container",1)(3,pH,29,48,"ng-container",1),X()),n&2&&(j(),J("ngIf",r.view==="menu"),j(),J("ngIf",r.view==="experience"),j(),J("ngIf",r.view==="technologies"))},dependencies:[Ze,_i,jh],styles:[".experience-wrapper[_ngcontent-%COMP%]{display:flex;gap:2rem;width:100%;height:100%;max-width:900px;margin:0 auto;align-items:anchor-center}.experience-card[_ngcontent-%COMP%]{flex:1;padding:2.5rem;background:#ffffff0a;border:1px solid rgba(255,255,255,.08);cursor:pointer;transition:all .35s ease;position:relative}.experience-card[_ngcontent-%COMP%]:hover{background:#ffffff14;transform:translateY(-6px)}.experience-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem;letter-spacing:.08em;margin-bottom:1rem;text-transform:uppercase}.experience-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;opacity:.85}.experience-card.experience[_ngcontent-%COMP%]{border-left:4px solid #6aa9ff}.experience-card.technologies[_ngcontent-%COMP%]{border-left:4px solid #7dffb3}.experience-detail[_ngcontent-%COMP%]{width:100%;height:100%;align-content:center;position:relative}.back-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6aa9ff;font-size:1rem;cursor:pointer;margin-bottom:1.5rem;position:absolute;top:0}.detail-scroll[_ngcontent-%COMP%]{max-height:93%;overflow-y:auto;padding-right:.75rem}.detail-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.detail-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff40;border-radius:3px}"]})};function gH(t,e){t&1&&Se(0,"div")}function mH(t,e){t&1&&Se(0,"app-experience-panel")}var Bh=class t{visible=!1;activeTab=void 0;close=new Qe;pathImg="";onClose(){this.close.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-left-panel"]],inputs:{visible:"visible",activeTab:"activeTab",pathImg:"pathImg"},outputs:{close:"close"},decls:7,vars:8,consts:[[1,"tab-panel"],[1,"tab-panel-inner"],[1,"close-btn",3,"click"],[4,"ngIf"],[1,"tab-image"]],template:function(n,r){n&1&&(q(0,"div",0)(1,"div",1)(2,"button",2),Fe("click",function(){return r.onClose()}),Ee(3,"\u2715"),X(),Jn(4,gH,1,0,"div",3)(5,mH,1,0,"app-experience-panel",3),X()(),Se(6,"div",4)),n&2&&(qt("is-visible",r.visible),j(4),J("ngIf",r.activeTab==="about"),j(),J("ngIf",r.activeTab==="experience"),j(),wn("background-image","url("+r.pathImg+")"),qt("is-visible",r.visible))},dependencies:[Ze,_i,Uh],styles:[".tab-panel[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:70vw;background:var(--color-panel-dark);color:#f5f5f5;box-shadow:8px 0 30px #00000073;transform:translate(-100%);transition:transform 1s ease;z-index:5;display:flex;align-items:center}.tab-image[_ngcontent-%COMP%]{visibility:hidden;position:fixed;top:0;right:0;left:auto;height:100vh;width:30vw;color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(-500%);transition:transform 1s ease;z-index:5;display:flex;align-items:center;background-size:cover;background-position:center;background-repeat:no-repeat;z-index:0}.tab-image.is-visible[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.tab-panel.is-visible[_ngcontent-%COMP%]{transform:translate(0)}.tab-panel-inner[_ngcontent-%COMP%]{padding:3rem;width:100%;height:100%;box-sizing:border-box;align-content:center}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;border:none;background:transparent;color:#f5f5f5;font-size:1.8rem;cursor:pointer}.tab-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.4rem;margin-bottom:1.5rem;letter-spacing:.08em;text-transform:uppercase}.tab-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.6;max-width:32rem}"]})};function yH(t,e){if(t&1){let n=Oo();q(0,"div",1),Fe("click",function(){let i=pi(n).index,o=Sr();return gi(o.toggleExpand(i))}),q(1,"div",2)(2,"h2"),Ee(3),X(),q(4,"h4"),Ee(5),X(),q(6,"h5"),Ee(7),X(),q(8,"p"),Ee(9),X()(),q(10,"div",3)(11,"p"),Ee(12,"Otro texto que aparece al pulsar"),X()()()}if(t&2){let n=e.$implicit,r=e.index,i=Sr();qt("expanded",i.expandedIndex()===r),j(3),Xn(n.nombre),j(2),Xn(n.entity),j(2),kg("",n.start," ",n.end,""),j(2),Xn(n.description)}}var $h=class t{fireBaseService=x(bs);studiesSignal=ul([]);dataSubscription;expandedIndex=ul(null);toggleExpand(e){this.expandedIndex.set(this.expandedIndex()===e?null:e)}ngOnInit(){this.setDocumentData()}ngOnDestroy(){this.dataSubscription?.unsubscribe()}setDocumentData(){this.dataSubscription=this.fireBaseService.getDocument("ESTUDIOS/JsQdBul7oM8HeoebALwJ").subscribe({next:e=>{console.log("VALUE: ",e?.LISTA_DE_ESTUDIOS),this.studiesSignal.set(e?.LISTA_DE_ESTUDIOS??[])},error:e=>{console.error("Error en get document")}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-studies-panel"]],decls:1,vars:1,consts:[[3,"expanded","click",4,"ngFor","ngForOf"],[3,"click"],[1,"text","text-primary"],[1,"text","text-secondary"]],template:function(n,r){n&1&&Jn(0,yH,13,7,"div",0),n&2&&J("ngForOf",r.studiesSignal())},dependencies:[Ze,bl],styles:["[_nghost-%COMP%]{display:block;width:100%}div[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1rem;background:var(--color-subpanel-child-dark);border-radius:8px;flex:1;overflow:hidden;position:relative}.text[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;transition:all .35s ease}.text-secondary[_ngcontent-%COMP%]{transform:translate(100%);opacity:0}div.expanded[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{transform:translate(-100%);opacity:0}div.expanded[_ngcontent-%COMP%]   .text-secondary[_ngcontent-%COMP%]{transform:translate(0);opacity:1}"]})};function vH(t,e){t&1&&Se(0,"app-studies-panel",6)}function _H(t,e){t&1&&Se(0,"div")}var Hh=class t{visible=!1;title="default-text";contents="default-text";activeTab=void 0;close=new Qe;pathImg="";onClose(){this.close.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-right-panel"]],inputs:{visible:"visible",title:"title",contents:"contents",activeTab:"activeTab",pathImg:"pathImg"},outputs:{close:"close"},decls:7,vars:8,consts:[[1,"tab-panel"],[1,"tab-panel-inner"],[1,"close-btn",3,"click"],["class","studies-wrapper",4,"ngIf"],[4,"ngIf"],[1,"tab-image"],[1,"studies-wrapper"]],template:function(n,r){n&1&&(q(0,"div",0)(1,"div",1)(2,"button",2),Fe("click",function(){return r.onClose()}),Ee(3,"\u2715"),X(),Jn(4,vH,1,0,"app-studies-panel",3)(5,_H,1,0,"div",4),X()(),Se(6,"div",5)),n&2&&(qt("is-visible",r.visible),j(4),J("ngIf",r.activeTab==="studies"),j(),J("ngIf",r.activeTab==="contact"),j(),wn("background-image","url("+r.pathImg+")"),qt("is-visible",r.visible))},dependencies:[Ze,_i,$h],styles:[".tab-panel[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:auto;height:100vh;width:70vw;background:var(--color-panel-dark);color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(100%);transition:transform 1s ease;z-index:5;display:flex;flex-direction:column;align-items:stretch}.tab-image[_ngcontent-%COMP%]{visibility:hidden;position:fixed;top:0;left:0;right:auto;height:100vh;width:30vw;color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(500%);transition:transform 1s ease;z-index:5;display:flex;align-items:center;background-size:cover;background-position:center;background-repeat:no-repeat;z-index:0}.tab-image.is-visible[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.tab-panel.is-visible[_ngcontent-%COMP%]{transform:translate(0)}.tab-panel-inner[_ngcontent-%COMP%]{padding:3rem;width:100%;box-sizing:border-box;height:100%}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;border:none;background:transparent;color:#f5f5f5;font-size:1.8rem;cursor:pointer}.tab-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.4rem;margin-bottom:1.5rem;letter-spacing:.08em;text-transform:uppercase}.tab-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.6;max-width:32rem}.studies-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--color-subpanel-dark);padding:1.5rem;border-radius:12px;box-sizing:border-box;display:flex;flex-direction:column;min-height:min-content;overflow:hidden}"]})};var IH=(t,e,n,r)=>({"is-open-about":t,"is-open-studies":e,"is-open-experience":n,"is-open-contact":r}),zh=class t{activeTab=null;focusedTab=null;openTab(e){this.activeTab=e}closeTab(){this.activeTab=null}focusTab(e){this.focusedTab=e}getImagePath(){switch(this.activeTab){case"about":return"/assets/SobreMi.jpg";case"experience":return"/assets/Experiencia.jpg";case"studies":return"/assets/Estudios.jpg";case"contact":return"/assets/Contacto.jpg";case null:return"";default:return""}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-radial-tabs"]],decls:23,vars:20,consts:[[1,"grid"],[1,"wrap",3,"ngClass"],[1,"top-span",3,"click","mouseover","mouseout"],[1,"down-span",3,"click","mouseover","mouseout"],[1,"avatar"],[3,"close","visible","activeTab","pathImg"]],template:function(n,r){n&1&&(q(0,"div",0)(1,"div",1)(2,"a",2),Fe("click",function(){return r.openTab("about")})("mouseover",function(){return r.focusTab("about")})("mouseout",function(){return r.focusTab(null)}),Se(3,"div"),q(4,"span"),Ee(5,"About"),X()(),q(6,"a",2),Fe("click",function(){return r.openTab("studies")})("mouseover",function(){return r.focusTab("studies")})("mouseout",function(){return r.focusTab(null)}),Se(7,"div"),q(8,"span"),Ee(9,"Studies"),X()(),q(10,"a",3),Fe("click",function(){return r.openTab("experience")})("mouseover",function(){return r.focusTab("experience")})("mouseout",function(){return r.focusTab(null)}),Se(11,"div"),q(12,"span"),Ee(13,"Experience"),X()(),q(14,"a",3),Fe("click",function(){return r.openTab("contact")})("mouseover",function(){return r.focusTab("contact")})("mouseout",function(){return r.focusTab(null)}),Se(15,"div"),q(16,"span"),Ee(17,"Contact"),X()(),q(18,"a"),Se(19,"div"),X(),Se(20,"span",4),X(),q(21,"app-left-panel",5),Fe("close",function(){return r.closeTab()}),X(),q(22,"app-right-panel",5),Fe("close",function(){return r.closeTab()}),X()()),n&2&&(j(),J("ngClass",Kb(15,IH,r.activeTab==="about",r.activeTab==="studies",r.activeTab==="experience",r.activeTab==="contact")),j(),wn("--halo-opacity",r.focusedTab==="about"?.35:.65),j(4),wn("--halo-opacity",r.focusedTab==="studies"?.35:.65),j(4),wn("--halo-opacity",r.focusedTab==="experience"?.35:.65),j(4),wn("--halo-opacity",r.focusedTab==="contact"?.35:.65),j(7),J("visible",r.activeTab==="about"||r.activeTab==="experience")("activeTab",r.activeTab==null?null:r.activeTab.valueOf())("pathImg",r.getImagePath()),j(),J("visible",r.activeTab==="studies"||r.activeTab==="contact")("activeTab",r.activeTab==null?null:r.activeTab.valueOf())("pathImg",r.getImagePath()))},dependencies:[Ze,$g,Bh,Hh],styles:['.grid[_ngcontent-%COMP%]{position:fixed;inset:0;background:#e3dfd2;box-shadow:inset 0 0 20vmin #585247;display:flex;align-items:center;justify-content:center;overflow:hidden}.wrap[_ngcontent-%COMP%]{--size-with: 240vmin;--size-height: 240vmin;position:absolute;left:50%;top:50%;width:var(--size-with);height:var(--size-height);background:transparent;transform-origin:center center;transform:translate(-50%,-50%) scale(.2);opacity:1;z-index:1;transition:transform .9s ease,opacity 1s ease,left 1s ease,top 1s ease}a[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:47.5%;height:47.5%;overflow:hidden;transform:scale(.5) translateZ(0);background:#585247;background-size:cover;background-position:center;background-repeat:no-repeat;display:flex;justify-content:center;align-items:center}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1;color:#fff}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:50%;width:250vmin;height:165vmin;transform:translate(-50%,-50%);border-radius:50%;background:radial-gradient(ellipse,rgb(3 3 3 / var(--halo-opacity)),rgb(3 3 3 / var(--halo-opacity-scnd)),#0000);filter:blur(10px);z-index:-1;pointer-events:none}a[_ngcontent-%COMP%]:nth-child(1){border-radius:40vmin 0 0;transform-origin:110% 110%;transition:transform .4s .15s;background-image:url(/assets/SobreMi.jpg)}a[_ngcontent-%COMP%]:nth-child(2){border-radius:0 40vmin 0 0;left:52.5%;transform-origin:-10% 110%;transition:transform .4s .2s;background-image:url(/assets/Estudios.jpg)}a[_ngcontent-%COMP%]:nth-child(3){border-radius:0 0 0 40vmin;top:52.5%;transform-origin:110% -10%;transition:transform .4s .25s;background-image:url(/assets/Experiencia.jpg)}a[_ngcontent-%COMP%]:nth-child(4){border-radius:0 0 40vmin;top:52.5%;left:52.5%;transform-origin:-10% -10%;transition:transform .4s .3s;background-image:url(/assets/Contacto.jpg)}a[_ngcontent-%COMP%]:nth-child(5){width:55%;height:55%;left:22.5%;top:22.5%;border-radius:50vmin;box-shadow:0 0 0 5vmin #e3dfd2;transform:scale(1)}.top-span[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;--halo-opacity: .65;--halo-opacity-scnd: .1}.down-span[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-end;--halo-opacity: .65;--halo-opacity-scnd: .1}.wrap[_ngcontent-%COMP%] > .avatar[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;width:80vmin;height:80vmin;border-radius:50%;transform-origin:center center;transform:translate(-50%,-50%) scale(1);transition:transform .5s;z-index:2;pointer-events:none}.wrap[_ngcontent-%COMP%]:hover{transform:translate(-50%,-50%) scale(.4);opacity:1}.wrap[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{transform:scale(1) translateZ(0)}a[_ngcontent-%COMP%]:hover   div[_ngcontent-%COMP%]{opacity:1;transform:translateZ(0)}span[_ngcontent-%COMP%]{color:#fff;-webkit-text-stroke:5px black;font-size:30vmin;margin:20vmin 0}.wrap.is-open-about[_ngcontent-%COMP%]{left:80%;top:50%;transform:translate(-46%,-50%) scale(.2)}.wrap.is-open-studies[_ngcontent-%COMP%]{left:20%;top:50%;transform:translate(-54%,-50%) scale(.2)}.wrap.is-open-experience[_ngcontent-%COMP%]{left:80%;top:50%;transform:translate(-46%,-50%) scale(.2)}.wrap.is-open-contact[_ngcontent-%COMP%]{left:20%;top:50%;transform:translate(-54%,-50%) scale(.2)}']})};var qh={production:!1,firebaseConfig:{apiKey:"AIzaSyBF38aXP_jKP6WBKJp78cZGjGmpwvLt_j8",authDomain:"cv-web-angular.firebaseapp.com",projectId:"cv-web-angular",storageBucket:"cv-web-angular.firebasestorage.app",messagingSenderId:"119785680877",appId:"1:119785680877:web:27a7c5644fddd90876c1e4",measurementId:"G-0QL3DQG5NC"}};var Wh=class t{environment=qh;fireBaseService=x(bs);personalData=this.fireBaseService.getPersonalData();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(n,r){n&1&&(q(0,"div"),Se(1,"app-radial-tabs"),X())},dependencies:[Ze,zh],encapsulation:2})};var Gh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-notfound"]],decls:2,vars:0,template:function(n,r){n&1&&(q(0,"p"),Ee(1,"notfound works!"),X())},encapsulation:2})};var wR=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Wh},{path:"**",component:Gh}];var bR="@firebase/installations",tI="0.6.18";var DR=1e4,CR=`w:${tI}`,SR="FIS_v2",wH="https://firebaseinstallations.googleapis.com/v1",EH=60*60*1e3,TH="installations",bH="Installations";var DH={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Gi=new bt(TH,bH,DH);function AR(t){return t instanceof ct&&t.code.includes("request-failed")}function RR({projectId:t}){return`${wH}/projects/${t}/installations`}function NR(t){return{token:t.token,requestStatus:2,expiresIn:SH(t.expiresIn),creationTime:Date.now()}}function MR(t,e){return v(this,null,function*(){let r=(yield e.json()).error;return Gi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function PR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CH(t,{refreshToken:e}){let n=PR(t);return n.append("Authorization",AH(e)),n}function xR(t){return v(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function SH(t){return Number(t.replace("s","000"))}function AH(t){return`${SR} ${t}`}function RH(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let o=RR(t),s=PR(t),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={fid:n,authVersion:SR,appId:t.appId,sdkVersion:CR},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield xR(()=>fetch(o,l));if(h.ok){let p=yield h.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:NR(p.authToken)}}else throw yield MR("Create Installation",h)})}function kR(t){return new Promise(e=>{setTimeout(e,t)})}function NH(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var MH=/^[cdef][\w-]{21}$/,eI="";function PH(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=xH(t);return MH.test(n)?n:eI}catch{return eI}}function xH(t){return NH(t).substr(0,22)}function Qh(t){return`${t.appName}!${t.appId}`}var OR=new Map;function FR(t,e){let n=Qh(t);LR(n,e),kH(n,e)}function LR(t,e){let n=OR.get(t);if(n)for(let r of n)r(e)}function kH(t,e){let n=OH();n&&n.postMessage({key:t,fid:e}),FH()}var Wi=null;function OH(){return!Wi&&"BroadcastChannel"in self&&(Wi=new BroadcastChannel("[Firebase] FID Change"),Wi.onmessage=t=>{LR(t.data.key,t.data.fid)}),Wi}function FH(){OR.size===0&&Wi&&(Wi.close(),Wi=null)}var LH="firebase-installations-database",VH=1,Ki="firebase-installations-store",J_=null;function nI(){return J_||(J_=yd(LH,VH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ki)}}})),J_}function Kh(t,e){return v(this,null,function*(){let n=Qh(t),i=(yield nI()).transaction(Ki,"readwrite"),o=i.objectStore(Ki),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&FR(t,e.fid),e})}function VR(t){return v(this,null,function*(){let e=Qh(t),r=(yield nI()).transaction(Ki,"readwrite");yield r.objectStore(Ki).delete(e),yield r.done})}function Yh(t,e){return v(this,null,function*(){let n=Qh(t),i=(yield nI()).transaction(Ki,"readwrite"),o=i.objectStore(Ki),s=yield o.get(n),a=e(s);return a===void 0?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&FR(t,a.fid),a})}function rI(t){return v(this,null,function*(){let e,n=yield Yh(t.appConfig,r=>{let i=jH(r),o=UH(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===eI?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function jH(t){let e=t||{fid:PH(),registrationStatus:0};return jR(e)}function UH(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Gi.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=BH(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$H(t)}:{installationEntry:e}}function BH(t,e){return v(this,null,function*(){try{let n=yield RH(t,e);return Kh(t.appConfig,n)}catch(n){throw AR(n)&&n.customData.serverCode===409?yield VR(t.appConfig):yield Kh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function $H(t){return v(this,null,function*(){let e=yield ER(t.appConfig);for(;e.registrationStatus===1;)yield kR(100),e=yield ER(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield rI(t);return r||n}return e})}function ER(t){return Yh(t,e=>{if(!e)throw Gi.create("installation-not-found");return jR(e)})}function jR(t){return HH(t)?{fid:t.fid,registrationStatus:0}:t}function HH(t){return t.registrationStatus===1&&t.registrationTime+DR<Date.now()}function zH(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let o=qH(t,n),s=CH(t,n),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={installation:{sdkVersion:CR,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield xR(()=>fetch(o,l));if(h.ok){let p=yield h.json();return NR(p)}else throw yield MR("Generate Auth Token",h)})}function qH(t,{fid:e}){return`${RR(t)}/${e}/authTokens:generate`}function iI(t,e=!1){return v(this,null,function*(){let n,r=yield Yh(t.appConfig,o=>{if(!UR(o))throw Gi.create("not-registered");let s=o.authToken;if(!e&&KH(s))return o;if(s.requestStatus===1)return n=WH(t,e),o;{if(!navigator.onLine)throw Gi.create("app-offline");let a=YH(o);return n=GH(t,a),a}});return n?yield n:r.authToken})}function WH(t,e){return v(this,null,function*(){let n=yield TR(t.appConfig);for(;n.authToken.requestStatus===1;)yield kR(100),n=yield TR(t.appConfig);let r=n.authToken;return r.requestStatus===0?iI(t,e):r})}function TR(t){return Yh(t,e=>{if(!UR(e))throw Gi.create("not-registered");let n=e.authToken;return ZH(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function GH(t,e){return v(this,null,function*(){try{let n=yield zH(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Kh(t.appConfig,r),n}catch(n){if(AR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield VR(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Kh(t.appConfig,r)}throw n}})}function UR(t){return t!==void 0&&t.registrationStatus===2}function KH(t){return t.requestStatus===2&&!QH(t)}function QH(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+EH}function YH(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function ZH(t){return t.requestStatus===1&&t.requestTime+DR<Date.now()}function JH(t){return v(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield rI(e);return r?r.catch(console.error):iI(e).catch(console.error),n.fid})}function XH(t,e=!1){return v(this,null,function*(){let n=t;return yield e4(n),(yield iI(n,e)).token})}function e4(t){return v(this,null,function*(){let{registrationPromise:e}=yield rI(t);e&&(yield e)})}function t4(t){if(!t||!t.options)throw X_("App Configuration");if(!t.name)throw X_("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw X_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function X_(t){return Gi.create("missing-app-config-values",{valueName:t})}var BR="installations",n4="installations-internal",r4=t=>{let e=t.getProvider("app").getImmediate(),n=t4(e),r=Kt(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},i4=t=>{let e=t.getProvider("app").getImmediate(),n=Kt(e,BR).getImmediate();return{getId:()=>JH(n),getToken:i=>XH(n,i)}};function o4(){ut(new Le(BR,r4,"PUBLIC")),ut(new Le(n4,i4,"PRIVATE"))}o4();_e(bR,tI);_e(bR,tI,"esm2017");var Zh="analytics",s4="firebase_id",a4="origin",c4=60*1e3,u4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dI="https://www.googletagmanager.com/gtag/js";var Pt=new Gt("@firebase/analytics");var l4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jt=new bt("analytics","Analytics",l4);function d4(t){if(!t.startsWith(dI)){let e=jt.create("invalid-gtag-resource",{gtagURL:t});return Pt.warn(e.message),""}return t}function KR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function h4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function f4(t,e){let n=h4("firebase-js-sdk-policy",{createScriptURL:d4}),r=document.createElement("script"),i=`${dI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function p4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function g4(t,e,n,r,i,o){return v(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let u=(yield KR(n)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Pt.error(a)}t("config",i,o)})}function m4(t,e,n,r,i){return v(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield KR(n);for(let u of s){let l=a.find(p=>p.measurementId===u),h=l&&e[l.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Pt.error(o)}})}function y4(t,e,n,r){function i(o,...s){return v(this,null,function*(){try{if(o==="event"){let[a,u]=s;yield m4(t,e,n,a,u)}else if(o==="config"){let[a,u]=s;yield g4(t,e,n,r,a,u)}else if(o==="consent"){let[a,u]=s;t("consent",a,u)}else if(o==="get"){let[a,u,l]=s;t("get",a,u,l)}else if(o==="set"){let[a]=s;t("set",a)}else t(o,...s)}catch(a){Pt.error(a)}})}return i}function v4(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=y4(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function _4(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(dI)&&n.src.includes(t))return n;return null}var I4=30,w4=1e3,sI=class{constructor(e={},n=w4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},QR=new sI;function E4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function T4(t){return v(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:E4(r)},o=u4.replace("{app-id}",n),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let u=yield s.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw jt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function b4(r){return v(this,arguments,function*(t,e=QR,n){let{appId:i,apiKey:o,measurementId:s}=t.options;if(!i)throw jt.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw jt.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new aI;return setTimeout(()=>v(null,null,function*(){u.abort()}),n!==void 0?n:c4),YR({appId:i,apiKey:o,measurementId:s},a,u,e)})}function YR(o,s,a){return v(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=QR){var u;let{appId:l,measurementId:h}=t;try{yield D4(r,e)}catch(p){if(h)return Pt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:h};throw p}try{let p=yield T4(t);return i.deleteThrottleMetadata(l),p}catch(p){let m=p;if(!C4(m)){if(i.deleteThrottleMetadata(l),h)return Pt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:h};throw p}let y=Number((u=m?.customData)===null||u===void 0?void 0:u.httpStatus)===503?pd(n,i.intervalMillis,I4):pd(n,i.intervalMillis),C={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return i.setThrottleMetadata(l,C),Pt.debug(`Calling attemptFetch again in ${y} millis`),YR(t,C,r,i)}})}function D4(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(jt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function C4(t){if(!(t instanceof ct)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var aI=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var cI;function S4(t,e,n,r,i){return v(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}})}var uI;function A4(t){uI=t}function R4(t){cI=t}function N4(){return v(this,null,function*(){if(Ci())try{yield fd()}catch(t){return Pt.warn(jt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Pt.warn(jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function M4(t,e,n,r,i,o,s){return v(this,null,function*(){var a;let u=b4(t);u.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Pt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Pt.error(y)),e.push(u);let l=N4().then(y=>{if(y)return r.getId()}),[h,p]=yield Promise.all([u,l]);_4(o)||f4(o,h.measurementId),uI&&(i("consent","default",uI),A4(void 0)),i("js",new Date);let m=(a=s?.config)!==null&&a!==void 0?a:{};return m[a4]="firebase",m.update=!0,p!=null&&(m[s4]=p),i("config",h.measurementId,m),cI&&(i("set",cI),R4(void 0)),h.measurementId})}var lI=class{constructor(e){this.app=e}_delete(){return delete bc[this.app.options.appId],Promise.resolve()}},bc={},$R=[],HR={},oI="dataLayer",P4="gtag",zR,ZR,qR=!1;function x4(){let t=[];if(hd()&&t.push("This is a browser extension environment."),E0()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=jt.create("invalid-analytics-context",{errorInfo:e});Pt.warn(n.message)}}function k4(t,e,n){x4();let r=t.options.appId;if(!r)throw jt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Pt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jt.create("no-api-key");if(bc[r]!=null)throw jt.create("already-exists",{id:r});if(!qR){p4(oI);let{wrappedGtag:o,gtagCore:s}=v4(bc,$R,HR,oI,P4);ZR=o,zR=s,qR=!0}return bc[r]=M4(t,$R,HR,e,zR,oI,n),new lI(t)}function JR(t=Cn()){t=Ue(t);let e=Kt(t,Zh);return e.isInitialized()?e.getImmediate():XR(t)}function XR(t,e={}){let n=Kt(t,Zh);if(n.isInitialized()){let i=n.getImmediate();if(Wt(e,n.getOptions()))return i;throw jt.create("already-initialized")}return n.initialize({options:e})}function eN(t,e,n,r){t=Ue(t),S4(ZR,bc[t.app.options.appId],e,n,r).catch(i=>Pt.error(i))}var WR="@firebase/analytics",GR="0.10.17";function O4(){ut(new Le(Zh,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return k4(r,i,n)},"PUBLIC")),ut(new Le("analytics-internal",t,"PRIVATE")),_e(WR,GR),_e(WR,GR,"esm2017");function t(e){try{let n=e.getProvider(Zh).getImmediate();return{logEvent:(r,i,o)=>eN(n,r,i,o)}}catch(n){throw jt.create("interop-component-reg-failed",{reason:n})}}}O4();var Dc=class{constructor(e){return e}},tN="analytics",hI=class{constructor(){return Fr(tN)}};var nN=Mt(JR,!0);var FX=Math.floor(Math.random()*(2**32-1))-2**31;var fI=new B("angularfire2.analytics-instances");function F4(t,e,n){if(!Cl(n))return null;let r=Ri(tN,t,e);return r&&new Dc(r)}function L4(t){return(e,n,r)=>{if(!Cl(r))return null;let i=e.runOutsideAngular(()=>t(n));return new Dc(i)}}var V4={provide:hI,deps:[[new gt,fI]]},j4={provide:Dc,useFactory:F4,deps:[[new gt,fI],un,In]};function rN(t,...e){return _e("angularfire",Sn.full,"analytics"),on([j4,V4,{provide:fI,useFactory:L4(t),multi:!0,deps:[ve,Ye,In,An,ir,...e]}])}Zg(sd,{providers:[wm(wR),Jb({eventCoalescing:!0}),U0(()=>B0(qh.firebaseConfig)),mR(()=>vR()),UC(()=>BC()),rN(()=>nN())]}).catch(t=>console.error(t));
