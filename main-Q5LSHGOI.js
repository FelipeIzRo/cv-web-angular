var ER=Object.defineProperty,TR=Object.defineProperties;var DR=Object.getOwnPropertyDescriptors;var sI=Object.getOwnPropertySymbols,bR=Object.getPrototypeOf,CR=Object.prototype.hasOwnProperty,SR=Object.prototype.propertyIsEnumerable,AR=Reflect.get;var aI=(t,e,n)=>e in t?ER(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})CR.call(e,n)&&aI(t,n,e[n]);if(sI)for(var n of sI(e))SR.call(e,n)&&aI(t,n,e[n]);return t},ve=(t,e)=>TR(t,DR(e));var Zn=(t,e,n)=>AR(bR(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});function cI(t,e){return Object.is(t,e)}var Oe=null,yc=!1,Sh=1,Pi=Symbol("SIGNAL");function ue(t){let e=Oe;return Oe=t,e}function Ah(){return Oe}var vc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Rh(t){if(yc)throw new Error("");if(Oe===null)return;Oe.consumerOnSignalRead(t);let e=Oe.nextProducerIndex++;if(Ic(Oe),e<Oe.producerNode.length&&Oe.producerNode[e]!==t&&ms(Oe)){let n=Oe.producerNode[e];_c(n,Oe.producerIndexOfThis[e])}Oe.producerNode[e]!==t&&(Oe.producerNode[e]=t,Oe.producerIndexOfThis[e]=ms(Oe)?fI(t,Oe,e):0),Oe.producerLastReadVersion[e]=t.version}function uI(){Sh++}function lI(t){if(!(ms(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Sh)){if(!t.producerMustRecompute(t)&&!Ph(t)){Ch(t);return}t.producerRecomputeValue(t),Ch(t)}}function Nh(t){if(t.liveConsumerNode===void 0)return;let e=yc;yc=!0;try{for(let n of t.liveConsumerNode)n.dirty||RR(n)}finally{yc=e}}function dI(){return Oe?.consumerAllowSignalWrites!==!1}function RR(t){t.dirty=!0,Nh(t),t.consumerMarkedDirty?.(t)}function Ch(t){t.dirty=!1,t.lastCleanEpoch=Sh}function Mh(t){return t&&(t.nextProducerIndex=0),ue(t)}function hI(t,e){if(ue(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ms(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_c(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ph(t){Ic(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(lI(n),r!==n.version))return!0}return!1}function kh(t){if(Ic(t),ms(t))for(let e=0;e<t.producerNode.length;e++)_c(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function fI(t,e,n){if(pI(t),t.liveConsumerNode.length===0&&gI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=fI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function _c(t,e){if(pI(t),t.liveConsumerNode.length===1&&gI(t))for(let r=0;r<t.producerNode.length;r++)_c(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ic(i),i.producerIndexOfThis[r]=e}}function ms(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ic(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function pI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function gI(t){return t.producerNode!==void 0}function NR(){throw new Error}var mI=NR;function MR(t){mI(t)}function xh(t){mI=t}var PR=null;function Oh(t,e){dI()||MR(t),t.equal(t.value,e)||(t.value=e,kR(t))}var Fh=ve(F({},vc),{equal:cI,value:void 0,kind:"signal"});function kR(t){t.version++,uI(),Nh(t),PR?.()}function Lh(t){let e=ue(null);try{return t()}finally{ue(e)}}var Vh;function ys(){return Vh}function En(t){let e=Vh;return Vh=t,e}var wc=Symbol("NotFound");function K(t){return typeof t=="function"}function ki(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ec=ki(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function xr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ce=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(o){e=o instanceof Ec?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{yI(o)}catch(s){e=e??[],s instanceof Ec?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ec(e)}}add(e){var n;if(e&&e!==this)if(this.closed)yI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&xr(n,e)}remove(e){let{_finalizers:n}=this;n&&xr(n,e),e instanceof t&&e._removeParent(this)}};Ce.EMPTY=(()=>{let t=new Ce;return t.closed=!0,t})();var jh=Ce.EMPTY;function Tc(t){return t instanceof Ce||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function yI(t){K(t)?t():t.unsubscribe()}var jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var xi={setTimeout(t,e,...n){let{delegate:r}=xi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=xi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Dc(t){xi.setTimeout(()=>{let{onUnhandledError:e}=jt;if(e)e(t);else throw t})}function vs(){}var vI=Uh("C",void 0,void 0);function _I(t){return Uh("E",void 0,t)}function II(t){return Uh("N",t,void 0)}function Uh(t,e,n){return{kind:t,value:e,error:n}}var Or=null;function Oi(t){if(jt.useDeprecatedSynchronousErrorHandling){let e=!Or;if(e&&(Or={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Or;if(Or=null,n)throw r}}else t()}function wI(t){jt.useDeprecatedSynchronousErrorHandling&&Or&&(Or.errorThrown=!0,Or.error=t)}var Fr=class extends Ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Tc(e)&&e.add(this)):this.destination=$R}static create(e,n,r){return new Fi(e,n,r)}next(e){this.isStopped?$h(II(e),this):this._next(e)}error(e){this.isStopped?$h(_I(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$h(vI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},UR=Function.prototype.bind;function Bh(t,e){return UR.call(t,e)}var Hh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){bc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){bc(r)}else bc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){bc(n)}}},Fi=class extends Fr{constructor(e,n,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&jt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bh(e.next,o),error:e.error&&Bh(e.error,o),complete:e.complete&&Bh(e.complete,o)}):i=e}this.destination=new Hh(i)}};function bc(t){jt.useDeprecatedSynchronousErrorHandling?wI(t):Dc(t)}function BR(t){throw t}function $h(t,e){let{onStoppedNotification:n}=jt;n&&xi.setTimeout(()=>n(t,e))}var $R={closed:!0,next:vs,error:BR,complete:vs};var Li=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wt(t){return t}function Cc(...t){return qh(t)}function qh(t){return t.length===0?wt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=qR(n)?n:new Fi(n,r,i);return Oi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=EI(r),new r((i,o)=>{let s=new Fi({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Li](){return this}pipe(...n){return qh(n)(this)}toPromise(n){return n=EI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function EI(t){var e;return(e=t??jt.Promise)!==null&&e!==void 0?e:Promise}function HR(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function qR(t){return t&&t instanceof Fr||HR(t)&&Tc(t)}function zh(t){return K(t?.lift)}function se(t){return e=>{if(zh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(t,e,n,r,i){return new Wh(t,e,n,r,i)}var Wh=class extends Fr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Vi(){return se((t,e)=>{let n=null;t._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ji=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,zh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ce;let n=this.getSubject();e.add(this.source.subscribe(ae(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ce.EMPTY)}return e}refCount(){return Vi()(this)}};var TI=ki(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Sc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new TI}next(n){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Oi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jh:(this.currentObservers=null,o.push(n),new Ce(()=>{this.currentObservers=null,xr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new Sc(e,n),t})(),Sc=class extends ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:jh}};var We=class extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Gh={now(){return(Gh.delegate||Date).now()},delegate:void 0};var Ac=class extends Ce{constructor(e,n){super()}schedule(e,n=0){return this}};var _s={setInterval(t,e,...n){let{delegate:r}=_s;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=_s;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ui=class extends Ac{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return _s.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&_s.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,xr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Bi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Bi.now=Gh.now;var $i=class extends Bi{constructor(e,n=Bi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Kh=new $i(Ui);var Rc=class extends Ui{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Nc=class extends $i{};var Qh=new Nc(Rc);var ft=new re(t=>t.complete());function DI(t){return t&&K(t.schedule)}function bI(t){return t[t.length-1]}function CI(t){return K(bI(t))?t.pop():void 0}function Jn(t){return DI(bI(t))?t.pop():void 0}function Yh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function SI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lr(t){return this instanceof Lr?(this.v=t,this):new Lr(t)}function RI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(A){return Promise.resolve(A).then(y,p)}}function c(y,A){r[y]&&(i[y]=function(R){return new Promise(function(P,V){o.push([y,R,P,V])>1||u(y,R)})},A&&(i[y]=A(i[y])))}function u(y,A){try{l(r[y](A))}catch(R){m(o[0][3],R)}}function l(y){y.value instanceof Lr?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function m(y,A){y(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function NI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof SI=="function"?SI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Mc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Pc(t){return K(t?.then)}function kc(t){return K(t[Li])}function xc(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function Oc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fc=zR();function Lc(t){return K(t?.[Fc])}function Vc(t){return RI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Lr(n.read());if(i)return yield Lr(void 0);yield yield Lr(r)}}finally{n.releaseLock()}})}function jc(t){return K(t?.getReader)}function Ve(t){if(t instanceof re)return t;if(t!=null){if(kc(t))return WR(t);if(Mc(t))return GR(t);if(Pc(t))return KR(t);if(xc(t))return MI(t);if(Lc(t))return QR(t);if(jc(t))return YR(t)}throw Oc(t)}function WR(t){return new re(e=>{let n=t[Li]();if(K(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function GR(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function KR(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Dc)})}function QR(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function MI(t){return new re(e=>{ZR(t,e).catch(n=>e.error(n))})}function YR(t){return MI(Vc(t))}function ZR(t,e){var n,r,i,o;return AI(this,void 0,void 0,function*(){try{for(n=NI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function pt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Xn(t,e=0){return se((n,r)=>{n.subscribe(ae(r,i=>pt(r,t,()=>r.next(i),e),()=>pt(r,t,()=>r.complete(),e),i=>pt(r,t,()=>r.error(i),e)))})}function er(t,e=0){return se((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function PI(t,e){return Ve(t).pipe(er(e),Xn(e))}function kI(t,e){return Ve(t).pipe(er(e),Xn(e))}function xI(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function OI(t,e){return new re(n=>{let r;return pt(n,e,()=>{r=t[Fc](),pt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function Uc(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{pt(n,e,()=>{let r=t[Symbol.asyncIterator]();pt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function FI(t,e){return Uc(Vc(t),e)}function LI(t,e){if(t!=null){if(kc(t))return PI(t,e);if(Mc(t))return xI(t,e);if(Pc(t))return kI(t,e);if(xc(t))return Uc(t,e);if(Lc(t))return OI(t,e);if(jc(t))return FI(t,e)}throw Oc(t)}function Ae(t,e){return e?LI(t,e):Ve(t)}function Q(...t){let e=Jn(t);return Ae(t,e)}function Hi(t,e){let n=K(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function Zh(t){return!!t&&(t instanceof re||K(t.lift)&&K(t.subscribe))}var Tn=ki(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(t,e){return se((n,r)=>{let i=0;n.subscribe(ae(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:JR}=Array;function XR(t,e){return JR(e)?t(...e):t(e)}function VI(t){return oe(e=>XR(t,e))}var{isArray:eN}=Array,{getPrototypeOf:tN,prototype:nN,keys:rN}=Object;function jI(t){if(t.length===1){let e=t[0];if(eN(e))return{args:e,keys:null};if(iN(e)){let n=rN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function iN(t){return t&&typeof t=="object"&&tN(t)===nN}function UI(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Bc(...t){let e=Jn(t),n=CI(t),{args:r,keys:i}=jI(t);if(r.length===0)return Ae([],e);let o=new re(oN(r,e,i?s=>UI(i,s):wt));return n?o.pipe(VI(n)):o}function oN(t,e,n=wt){return r=>{BI(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)BI(e,()=>{let l=Ae(t[u],e),f=!1;l.subscribe(ae(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function BI(t,e,n){t?pt(n,t,e):e()}function $I(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?A(R):u.push(R),A=R=>{o&&e.next(R),l++;let P=!1;Ve(n(R,f++)).subscribe(ae(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){let V=u.shift();s?pt(e,s,()=>A(V)):A(V)}m()}catch(V){e.error(V)}}))};return t.subscribe(ae(e,y,()=>{p=!0,m()})),()=>{c?.()}}function Fe(t,e,n=1/0){return K(e)?Fe((r,i)=>oe((o,s)=>e(r,o,i,s))(Ve(t(r,i))),n):(typeof e=="number"&&(n=e),se((r,i)=>$I(r,i,t,n)))}function HI(t=1/0){return Fe(wt,t)}function qI(){return HI(1)}function qi(...t){return qI()(Ae(t,Jn(t)))}function $c(t){return new re(e=>{Ve(t()).subscribe(e)})}function At(t,e){return se((n,r)=>{let i=0;n.subscribe(ae(r,o=>t.call(e,o,i++)&&r.next(o)))})}function tr(t){return se((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ae(n,void 0,void 0,s=>{o=Ve(t(s,tr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function zI(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(ae(s,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function zi(t,e){return K(e)?Fe(t,e,1):Fe(t,1)}function nr(t){return se((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Dn(t){return t<=0?()=>ft:se((e,n)=>{let r=0;e.subscribe(ae(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Hc(t=sN){return se((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function sN(){return new Tn}function Is(t){return se((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function bn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?At((i,o)=>t(i,o,r)):wt,Dn(1),n?nr(e):Hc(()=>new Tn))}function Wi(t){return t<=0?()=>ft:se((e,n)=>{let r=[];e.subscribe(ae(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Jh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?At((i,o)=>t(i,o,r)):wt,Wi(1),n?nr(e):Hc(()=>new Tn))}function qc(t,e){return se(zI(t,e,arguments.length>=2,!0))}function zc(...t){let e=Jn(t);return se((n,r)=>{(e?qi(t,n,e):qi(t,n)).subscribe(r)})}function Ut(t,e){return se((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(ae(r,u=>{i?.unsubscribe();let l=0,f=o++;Ve(t(u,f)).subscribe(i=ae(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Xh(t){return se((e,n)=>{Ve(t).subscribe(ae(n,()=>n.complete(),vs)),!n.closed&&e.subscribe(n)})}function Ge(t,e,n){let r=K(t)||e||n?{next:t,error:e,complete:n}:t;return r?se((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ae(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):wt}var U=class extends Error{code;constructor(e,n){super(cN(e,n)),this.code=e}};function aN(t){return`NG0${Math.abs(t)}`}function cN(t,e){return`${aN(t)}${e?": "+e:""}`}var Sw=Symbol("InputSignalNode#UNSET"),uN=ve(F({},Fh),{transformFn:void 0,applyValueToInputSignal(t,e){Oh(t,e)}});function Aw(t,e){let n=Object.create(uN);n.value=t,n.transformFn=e?.transform;function r(){if(Rh(n),n.value===Sw){let i=null;throw new U(-950,i)}return n.value}return r[Pi]=n,r}function ks(t){return{toString:t}.toString()}var Wc="__parameters__";function lN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function dN(t,e,n){return ks(()=>{let r=lN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(Wc)?u[Wc]:Object.defineProperty(u,Wc,{value:[]})[Wc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function Et(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Et).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function WI(t,e){return t?e?`${t} ${e}`:t:e||""}var hN=we({__forward_ref__:we});function Rw(t){return t.__forward_ref__=Rw,t.toString=function(){return Et(this())},t}function Rt(t){return Nw(t)?t():t}function Nw(t){return typeof t=="function"&&t.hasOwnProperty(hN)&&t.__forward_ref__===Rw}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _u(t){return{providers:t.providers||[],imports:t.imports||[]}}function Iu(t){return GI(t,Pw)||GI(t,kw)}function Mw(t){return Iu(t)!==null}function GI(t,e){return t.hasOwnProperty(e)?t[e]:null}function fN(t){let e=t&&(t[Pw]||t[kw]);return e||null}function KI(t){return t&&(t.hasOwnProperty(QI)||t.hasOwnProperty(pN))?t[QI]:null}var Pw=we({\u0275prov:we}),QI=we({\u0275inj:we}),kw=we({ngInjectableDef:we}),pN=we({ngInjectorDef:we}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function xw(t){return t&&!!t.\u0275providers}var gN=we({\u0275cmp:we}),mN=we({\u0275dir:we}),yN=we({\u0275pipe:we}),vN=we({\u0275mod:we}),Jc=we({\u0275fac:we}),Ds=we({__NG_ELEMENT_ID__:we}),YI=we({__NG_ENV_ID__:we});function Ow(t){return typeof t=="string"?t:t==null?"":String(t)}function _N(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ow(t)}function Fw(t,e){throw new U(-200,t)}function $f(t,e){throw new U(-201,!1)}var X=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(X||{}),uf;function Lw(){return uf}function gt(t){let e=uf;return uf=t,e}function Vw(t,e,n){let r=Iu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&X.Optional)return null;if(e!==void 0)return e;$f(t,"Injector")}var IN={},Vr=IN,lf="__NG_DI_FLAG__",Xc=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?wc:Vr,r)}},eu="ngTempTokenPath",wN="ngTokenPath",EN=/\n/gm,TN="\u0275",ZI="__source";function DN(t,e=X.Default){if(ys()===void 0)throw new U(-203,!1);if(ys()===null)return Vw(t,void 0,e);{let n=ys(),r;return n instanceof Xc?r=n.injector:r=n,r.get(t,e&X.Optional?null:void 0,e)}}function ee(t,e=X.Default){return(Lw()||DN)(Rt(t),e)}function k(t,e=X.Default){return ee(t,wu(e))}function wu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function df(t){let e=[];for(let n=0;n<t.length;n++){let r=Rt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=X.Default;for(let s=0;s<r.length;s++){let c=r[s],u=CN(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(ee(i,o))}else e.push(ee(r))}return e}function bN(t,e){return t[lf]=e,t.prototype[lf]=e,t}function CN(t){return t[lf]}function SN(t,e,n,r){let i=t[eu];throw e[ZI]&&i.unshift(e[ZI]),t.message=AN(`
`+t.message,i,n,r),t[wN]=i,t[eu]=null,t}function AN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==TN?t.slice(2):t;let i=Et(e);if(Array.isArray(e))i=e.map(Et).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):Et(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(EN,`
  `)}`}var ut=bN(dN("Optional"),8);function Br(t,e){let n=t.hasOwnProperty(Jc);return n?t[Jc]:null}function Hf(t,e){t.forEach(n=>Array.isArray(n)?Hf(n,e):e(n))}function jw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function tu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Zi={},Xt=[],bs=new j(""),Uw=new j("",-1),Bw=new j(""),nu=class{get(e,n=Vr){if(n===Vr){let r=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw r.name="NullInjectorError",r}return n}};function $w(t,e){let n=t[vN]||null;if(!n&&e===!0)throw new Error(`Type ${Et(t)} does not have '\u0275mod' property.`);return n}function Ji(t){return t[gN]||null}function RN(t){return t[mN]||null}function NN(t){return t[yN]||null}function zt(t){return{\u0275providers:t}}function MN(...t){return{\u0275providers:Hw(!0,t),\u0275fromNgModule:!0}}function Hw(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Hf(e,s=>{let c=s;hf(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&qw(i,o),n}function qw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];qf(i,o=>{e(o,r)})}}function hf(t,e,n,r){if(t=Rt(t),!t)return!1;let i=null,o=KI(t),s=!o&&Ji(t);if(!o&&!s){let u=t.ngModule;if(o=KI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)hf(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Hf(o.imports,f=>{hf(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&qw(l,e)}if(!c){let l=Br(i)||(()=>new i);e({provide:i,useFactory:l,deps:Xt},i),e({provide:Bw,useValue:i,multi:!0},i),e({provide:bs,useValue:()=>ee(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;qf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function qf(t,e){for(let n of t)xw(n)&&(n=n.\u0275providers),Array.isArray(n)?qf(n,e):e(n)}var PN=we({provide:String,useValue:we});function zw(t){return t!==null&&typeof t=="object"&&PN in t}function kN(t){return!!(t&&t.useExisting)}function xN(t){return!!(t&&t.useFactory)}function ff(t){return typeof t=="function"}var Eu=new j(""),Gc={},JI={},ef;function zf(){return ef===void 0&&(ef=new nu),ef}var yt=class{},Cs=class extends yt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,gf(e,s=>this.processProvider(s)),this.records.set(Uw,Gi(void 0,this)),i.has("environment")&&this.records.set(yt,Gi(void 0,this));let o=this.records.get(Eu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Bw,Xt,X.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?wc:Vr,r)}destroy(){Es(this),this._destroyed=!0;let e=ue(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(e)}}onDestroy(e){return Es(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Es(this);let n=En(this),r=gt(void 0),i;try{return e()}finally{En(n),gt(r)}}get(e,n=Vr,r=X.Default){if(Es(this),e.hasOwnProperty(YI))return e[YI](this);r=wu(r);let i,o=En(this),s=gt(void 0);try{if(!(r&X.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=UN(e)&&Iu(e);l&&this.injectableDefInScope(l)?u=Gi(pf(e),Gc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let c=r&X.Self?zf():this.parent;return n=r&X.Optional&&n===Vr?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[eu]=c[eu]||[]).unshift(Et(e)),o)throw c;return SN(c,e,"R3InjectorError",this.source)}else throw c}finally{gt(s),En(o)}}resolveInjectorInitializers(){let e=ue(null),n=En(this),r=gt(void 0),i;try{let o=this.get(bs,Xt,X.Self);for(let s of o)s()}finally{En(n),gt(r),ue(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Et(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Rt(e);let n=ff(e)?e:Rt(e&&e.provide),r=FN(e);if(!ff(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Gi(void 0,Gc,!0),i.factory=()=>df(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ue(null);try{return n.value===JI?Fw(Et(e)):n.value===Gc&&(n.value=JI,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&jN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ue(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Rt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function pf(t){let e=Iu(t),n=e!==null?e.factory:Br(t);if(n!==null)return n;if(t instanceof j)throw new U(204,!1);if(t instanceof Function)return ON(t);throw new U(204,!1)}function ON(t){if(t.length>0)throw new U(204,!1);let n=fN(t);return n!==null?()=>n.factory(t):()=>new t}function FN(t){if(zw(t))return Gi(void 0,t.useValue);{let e=LN(t);return Gi(e,Gc)}}function LN(t,e,n){let r;if(ff(t)){let i=Rt(t);return Br(i)||pf(i)}else if(zw(t))r=()=>Rt(t.useValue);else if(xN(t))r=()=>t.useFactory(...df(t.deps||[]));else if(kN(t))r=(i,o)=>ee(Rt(t.useExisting),o!==void 0&&o&X.Optional?X.Optional:void 0);else{let i=Rt(t&&(t.useClass||t.provide));if(VN(t))r=()=>new i(...df(t.deps));else return Br(i)||pf(i)}return r}function Es(t){if(t.destroyed)throw new U(205,!1)}function Gi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function VN(t){return!!t.deps}function jN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function UN(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function gf(t,e){for(let n of t)Array.isArray(n)?gf(n,e):n&&xw(n)?gf(n.\u0275providers,e):e(n)}function lt(t,e){let n;t instanceof Cs?(Es(t),n=t):n=new Xc(t);let r,i=En(n),o=gt(void 0);try{return e()}finally{En(i),gt(o)}}function Ww(){return Lw()!==void 0||ys()!=null}function Gw(t){if(!Ww())throw new U(-203,!1)}function BN(t){return typeof t=="function"}var Sn=0,le=1,Z=2,ct=3,$t=4,Wt=5,ru=6,XI=7,Ht=8,Ss=9,ir=10,Tt=11,As=12,ew=13,xs=14,tn=15,Xi=16,Ki=17,eo=18,Tu=19,Kw=20,rr=21,tf=22,iu=23,Nt=24,nf=25,qt=26,Qw=1;var $r=7,ou=8,su=9,Mt=10;function jr(t){return Array.isArray(t)&&typeof t[Qw]=="object"}function An(t){return Array.isArray(t)&&t[Qw]===!0}function Yw(t){return(t.flags&4)!==0}function Os(t){return t.componentOffset>-1}function Zw(t){return(t.flags&1)===1}function Wr(t){return!!t.template}function au(t){return(t[Z]&512)!==0}function io(t){return(t[Z]&256)===256}var mf=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Jw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Wf=(()=>{let t=()=>Xw;return t.ngInherit=!0,t})();function Xw(t){return t.type.prototype.ngOnChanges&&(t.setInput=HN),$N}function $N(){let t=tE(this),e=t?.current;if(e){let n=t.previous;if(n===Zi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function HN(t,e,n,r,i){let o=this.declaredInputs[r],s=tE(t)||qN(t,{previous:Zi,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new mf(l&&l.currentValue,n,u===Zi),Jw(t,e,i,n)}var eE="__ngSimpleChanges__";function tE(t){return t[eE]||null}function qN(t,e){return t[eE]=e}var tw=null;var Te=function(t,e=null,n){tw?.(t,e,n)},zN="svg",WN="math";function Cn(t){for(;Array.isArray(t);)t=t[Sn];return t}function GN(t,e){return Cn(e[t])}function ar(t,e){return Cn(e[t.index])}function nE(t,e){return t.data[e]}function KN(t,e){return t[e]}function QN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function or(t,e){let n=e[t];return jr(n)?n:n[Sn]}function Gf(t){return(t[Z]&128)===128}function YN(t){return An(t[ct])}function cu(t,e){return e==null?null:t[e]}function rE(t){t[Ki]=0}function iE(t){t[Z]&1024||(t[Z]|=1024,Gf(t)&&bu(t))}function Du(t){return!!(t[Z]&9216||t[Nt]?.dirty)}function yf(t){t[ir].changeDetectionScheduler?.notify(8),t[Z]&64&&(t[Z]|=1024),Du(t)&&bu(t)}function bu(t){t[ir].changeDetectionScheduler?.notify(0);let e=Hr(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!Gf(e)));)e=Hr(e)}function oE(t,e){if(io(t))throw new U(911,!1);t[rr]===null&&(t[rr]=[]),t[rr].push(e)}function ZN(t,e){if(t[rr]===null)return;let n=t[rr].indexOf(e);n!==-1&&t[rr].splice(n,1)}function Hr(t){let e=t[ct];return An(e)?e[ct]:e}var he={lFrame:pE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var vf=!1;function JN(){return he.lFrame.elementDepthCount}function XN(){he.lFrame.elementDepthCount++}function eM(){he.lFrame.elementDepthCount--}function sE(){return he.bindingsEnabled}function tM(){return he.skipHydrationRootTNode!==null}function nM(t){return he.skipHydrationRootTNode===t}function rM(){he.skipHydrationRootTNode=null}function Ke(){return he.lFrame.lView}function Gr(){return he.lFrame.tView}function cr(){let t=aE();for(;t!==null&&t.type===64;)t=t.parent;return t}function aE(){return he.lFrame.currentTNode}function iM(){let t=he.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Fs(t,e){let n=he.lFrame;n.currentTNode=t,n.isParent=e}function cE(){return he.lFrame.isParent}function oM(){he.lFrame.isParent=!1}function uE(){return vf}function nw(t){let e=vf;return vf=t,e}function sM(){let t=he.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function aM(t){return he.lFrame.bindingIndex=t}function lE(){return he.lFrame.bindingIndex++}function cM(){return he.lFrame.inI18n}function uM(t,e){let n=he.lFrame;n.bindingIndex=n.bindingRootIndex=t,_f(e)}function lM(){return he.lFrame.currentDirectiveIndex}function _f(t){he.lFrame.currentDirectiveIndex=t}function dE(t){he.lFrame.currentQueryIndex=t}function dM(t){let e=t[le];return e.type===2?e.declTNode:e.type===1?t[Wt]:null}function hE(t,e,n){if(n&X.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&X.Host);)if(i=dM(o),i===null||(o=o[xs],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=he.lFrame=fE();return r.currentTNode=e,r.lView=t,!0}function Kf(t){let e=fE(),n=t[le];he.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fE(){let t=he.lFrame,e=t===null?null:t.child;return e===null?pE(t):e}function pE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function gE(){let t=he.lFrame;return he.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var mE=gE;function Qf(){let t=gE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yf(){return he.lFrame.selectedIndex}function qr(t){he.lFrame.selectedIndex=t}function hM(){let t=he.lFrame;return nE(t.tView,t.selectedIndex)}function fM(){return he.lFrame.currentNamespace}var yE=!0;function Zf(){return yE}function Jf(t){yE=t}function pM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Xw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function vE(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Kc(t,e,n){_E(t,e,3,n)}function Qc(t,e,n,r){(t[Z]&3)===n&&_E(t,e,n,r)}function rf(t,e){let n=t[Z];(n&3)===e&&(n&=16383,n+=1,t[Z]=n)}function _E(t,e,n,r){let i=r!==void 0?t[Ki]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Ki]+=65536),(c<o||o==-1)&&(gM(t,n,e,u),t[Ki]=(t[Ki]&4294901760)+u+2),u++}function rw(t,e){Te(4,t,e);let n=ue(null);try{e.call(t)}finally{ue(n),Te(5,t,e)}}function gM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[Z]>>14<t[Ki]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,rw(c,o)):rw(c,o)}var Yi=-1,Rs=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function mM(t){return(t.flags&8)!==0}function yM(t){return(t.flags&16)!==0}function vM(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];IM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function _M(t){return t===3||t===4||t===6}function IM(t){return t.charCodeAt(0)===64}function Xf(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?iw(t,n,i,null,e[++r]):iw(t,n,i,null,null))}}return t}function iw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function IE(t){return t!==Yi}function uu(t){return t&32767}function wM(t){return t>>16}function lu(t,e){let n=wM(t),r=e;for(;n>0;)r=r[xs],n--;return r}var If=!0;function du(t){let e=If;return If=t,e}var EM=256,wE=EM-1,EE=5,TM=0,en={};function DM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ds)&&(r=n[Ds]),r==null&&(r=n[Ds]=TM++);let i=r&wE,o=1<<i;e.data[t+(i>>EE)]|=o}function TE(t,e){let n=DE(t,e);if(n!==-1)return n;let r=e[le];r.firstCreatePass&&(t.injectorIndex=e.length,of(r.data,t),of(e,null),of(r.blueprint,null));let i=ep(t,e),o=t.injectorIndex;if(IE(i)){let s=uu(i),c=lu(i,e),u=c[le].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function of(t,e){t.push(0,0,0,0,0,0,0,0,e)}function DE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ep(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=RE(i),r===null)return Yi;if(n++,i=i[xs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Yi}function bM(t,e,n){DM(t,e,n)}function bE(t,e,n){if(n&X.Optional||t!==void 0)return t;$f(e,"NodeInjector")}function CE(t,e,n,r){if(n&X.Optional&&r===void 0&&(r=null),(n&(X.Self|X.Host))===0){let i=t[Ss],o=gt(void 0);try{return i?i.get(e,r,n&X.Optional):Vw(e,r,n&X.Optional)}finally{gt(o)}}return bE(r,e,n)}function SE(t,e,n,r=X.Default,i){if(t!==null){if(e[Z]&2048&&!(r&X.Self)){let s=NM(t,e,n,r,en);if(s!==en)return s}let o=AE(t,e,n,r,en);if(o!==en)return o}return CE(e,n,r,i)}function AE(t,e,n,r,i){let o=AM(n);if(typeof o=="function"){if(!hE(e,t,r))return r&X.Host?bE(i,n,r):CE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&X.Optional))$f(n);else return s}finally{mE()}}else if(typeof o=="number"){let s=null,c=DE(t,e),u=Yi,l=r&X.Host?e[tn][Wt]:null;for((c===-1||r&X.SkipSelf)&&(u=c===-1?ep(t,e):e[c+8],u===Yi||!sw(r,!1)?c=-1:(s=e[le],c=uu(u),e=lu(u,e)));c!==-1;){let f=e[le];if(ow(o,c,f.data)){let p=CM(c,e,n,s,r,l);if(p!==en)return p}u=e[c+8],u!==Yi&&sw(r,e[le].data[c+8]===l)&&ow(o,c,e)?(s=f,c=uu(u),e=lu(u,e)):c=-1}}return i}function CM(t,e,n,r,i,o){let s=e[le],c=s.data[t+8],u=r==null?Os(c)&&If:r!=s&&(c.type&3)!==0,l=i&X.Host&&o===c,f=SM(c,s,n,u,l);return f!==null?wf(e,s,f,c,i):en}function SM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?c:c+f,m=i?c+f:l;for(let y=p;y<m;y++){let A=s[y];if(y<u&&n===A||y>=u&&A.type===n)return y}if(i){let y=s[u];if(y&&Wr(y)&&y.type===n)return u}return null}function wf(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Rs){let c=o;c.resolving&&Fw(_N(s[n]));let u=du(c.canSeeViewProviders);c.resolving=!0;let l,f=c.injectImpl?gt(c.injectImpl):null,p=hE(t,r,X.Default);try{o=t[n]=c.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&pM(n,s[n],e)}finally{f!==null&&gt(f),du(u),c.resolving=!1,mE()}}return o}function AM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ds)?t[Ds]:void 0;return typeof e=="number"?e>=0?e&wE:RM:e}function ow(t,e,n){let r=1<<t;return!!(n[e+(t>>EE)]&r)}function sw(t,e){return!(t&X.Self)&&!(t&X.Host&&e)}var Ur=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return SE(this._tNode,this._lView,e,wu(r),n)}};function RM(){return new Ur(cr(),Ke())}function tp(t){return ks(()=>{let e=t.prototype.constructor,n=e[Jc]||Ef(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Jc]||Ef(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ef(t){return Nw(t)?()=>{let e=Ef(Rt(t));return e&&e()}:Br(t)}function NM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!au(s);){let c=AE(o,s,n,r|X.Self,en);if(c!==en)return c;let u=o.parent;if(!u){let l=s[Kw];if(l){let f=l.get(n,en,r);if(f!==en)return f}u=RE(s),s=s[xs]}o=u}return i}function RE(t){let e=t[le],n=e.type;return n===2?e.declTNode:n===1?t[Wt]:null}function aw(t,e=null,n=null,r){let i=NE(t,e,n,r);return i.resolveInjectorInitializers(),i}function NE(t,e=null,n=null,r,i=new Set){let o=[n||Xt,MN(t)];return r=r||(typeof t=="object"?void 0:Et(t)),new Cs(o,e||zf(),r||null,i)}var je=class t{static THROW_IF_NOT_FOUND=Vr;static NULL=new nu;static create(e,n){if(Array.isArray(e))return aw({name:""},n,e,"");{let r=e.name??"";return aw({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:t,providedIn:"any",factory:()=>ee(Uw)});static __NG_ELEMENT_ID__=-1};var MM=new j("");MM.__NG_ELEMENT_ID__=t=>{let e=cr();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(t&X.Optional)return null;throw new U(204,!1)};var ME=!1,Ls=(()=>{class t{static __NG_ELEMENT_ID__=PM;static __NG_ENV_ID__=n=>n}return t})(),Tf=class extends Ls{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return io(n)?(e(),()=>{}):(oE(n,e),()=>ZN(n,e))}};function PM(){return new Tf(Ke())}var to=class{},np=new j("",{providedIn:"root",factory:()=>!1});var PE=new j(""),kE=new j(""),Kr=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new We(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),Cu=(()=>{class t{internalPendingTasks=k(Kr);scheduler=k(to);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return v(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),Df=class extends ze{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Ww()&&(this.destroyRef=k(Ls,{optional:!0})??void 0,this.pendingTasks=k(Kr,{optional:!0})??void 0)}emit(e){let n=ue(null);try{super.next(e)}finally{ue(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Ce&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},mt=Df;function hu(...t){}function xE(t){let e,n;function r(){t=hu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function cw(t){return queueMicrotask(()=>t()),()=>{t=hu}}var rp="isAngularZone",fu=rp+"_ID",kM=0,pe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new mt(!1);onMicrotaskEmpty=new mt(!1);onStable=new mt(!1);onError=new mt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ME}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,FM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(rp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,xM,hu,hu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},xM={};function ip(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function OM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){xE(()=>{t.callbackScheduled=!1,bf(t),t.isCheckStableRunning=!0,ip(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),bf(t)}function FM(t){let e=()=>{OM(t)},n=kM++;t._inner=t._inner.fork({name:"angular",properties:{[rp]:!0,[fu]:n,[fu+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(LM(u))return r.invokeTask(o,s,c,u);try{return uw(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),lw(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return uw(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!VM(u)&&e(),lw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,bf(t),ip(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function bf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function uw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lw(t){t._nesting--,ip(t)}var Cf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new mt;onMicrotaskEmpty=new mt;onStable=new mt;onError=new mt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function LM(t){return OE(t,"__ignore_ng_zone__")}function VM(t){return OE(t,"__scheduler_tick__")}function OE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var sr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},jM=new j("",{providedIn:"root",factory:()=>{let t=k(pe),e=k(sr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function dw(t,e){return Aw(t,e)}function UM(t){return Aw(Sw,t)}var FE=(dw.required=UM,dw);function BM(){return Su(cr(),Ke())}function Su(t,e){return new LE(ar(t,e))}var LE=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=BM}return t})();function VE(t){return(t.flags&128)===128}var jE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(jE||{}),UE=new Map,$M=0;function HM(){return $M++}function qM(t){UE.set(t[Tu],t)}function Sf(t){UE.delete(t[Tu])}var hw="__ngContext__";function Vs(t,e){jr(e)?(t[hw]=e[Tu],qM(e)):t[hw]=e}function BE(t){return HE(t[As])}function $E(t){return HE(t[$t])}function HE(t){for(;t!==null&&!An(t);)t=t[$t];return t}var Af;function qE(t){Af=t}function zM(){if(Af!==void 0)return Af;if(typeof document<"u")return document;throw new U(210,!1)}var op=new j("",{providedIn:"root",factory:()=>WM}),WM="ng",sp=new j(""),rn=new j("",{providedIn:"platform",factory:()=>"unknown"});var ap=new j("",{providedIn:"root",factory:()=>zM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var GM="h",KM="b";var zE=!1,QM=new j("",{providedIn:"root",factory:()=>zE});var WE=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(WE||{}),Au=new j(""),fw=new Set;function cp(t){fw.has(t)||(fw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var YM=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})();var ZM=()=>null;function GE(t,e,n=!1){return ZM(t,e,n)}function KE(t,e){let n=t.contentQueries;if(n!==null){let r=ue(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];dE(o),c.contentQueries(2,e[s],s)}}}finally{ue(r)}}}function Rf(t,e,n){dE(0);let r=ue(null);try{e(t,n)}finally{ue(r)}}function QE(t,e,n){if(Yw(e)){let r=ue(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{ue(r)}}}var nn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(nn||{});function YE(t){return t instanceof Function?t():t}function JM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var ZE="ng-template";function XM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&JM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(up(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function up(t){return t.type===4&&t.value!==ZE}function eP(t,e,n){let r=t.type===4&&!n?ZE:t.value;return e===r}function tP(t,e,n){let r=4,i=t.attrs,o=i!==null?iP(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Bt(r)&&!Bt(u))return!1;if(s&&Bt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!eP(t,u,n)||u===""&&e.length===1){if(Bt(r))return!1;s=!0}}else if(r&8){if(i===null||!XM(t,i,u,n)){if(Bt(r))return!1;s=!0}}else{let l=e[++c],f=nP(u,i,up(t),n);if(f===-1){if(Bt(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Bt(r))return!1;s=!0}}}}return Bt(r)||s}function Bt(t){return(t&1)===0}function nP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return oP(e,t)}function rP(t,e,n=!1){for(let r=0;r<e.length;r++)if(tP(t,e[r],n))return!0;return!1}function iP(t){for(let e=0;e<t.length;e++){let n=t[e];if(_M(n))return e}return t.length}function oP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function pw(t,e){return t?":not("+e.trim()+")":e}function sP(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Bt(s)&&(e+=pw(o,i),i=""),r=s,o=o||!Bt(r);n++}return i!==""&&(e+=pw(o,i)),e}function aP(t){return t.map(sP).join(",")}function cP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Bt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var js={};function uP(t,e){return t.createText(e)}function lP(t,e,n){t.setValue(e,n)}function JE(t,e,n){return t.createElement(e,n)}function pu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function XE(t,e,n){t.appendChild(e,n)}function gw(t,e,n,r,i){r!==null?pu(t,e,n,r,i):XE(t,e,n)}function dP(t,e,n){t.removeChild(null,e,n)}function hP(t,e,n){t.setAttribute(e,"style",n)}function fP(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function eT(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&vM(t,e,r),i!==null&&fP(t,e,i),o!==null&&hP(t,e,o)}function lp(t,e,n,r,i,o,s,c,u,l,f){let p=qt+r,m=p+i,y=pP(p,m),A=typeof l=="function"?l():l;return y[le]={type:t,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function pP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:js);return n}function gP(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=lp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function dp(t,e,n,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[Sn]=i,p[Z]=r|4|128|8|64|1024,(l!==null||t&&t[Z]&2048)&&(p[Z]|=2048),rE(p),p[ct]=p[xs]=t,p[Ht]=n,p[ir]=s||t&&t[ir],p[Tt]=c||t&&t[Tt],p[Ss]=u||t&&t[Ss]||null,p[Wt]=o,p[Tu]=HM(),p[ru]=f,p[Kw]=l,p[tn]=e.type==2?t[tn]:p,p}function mP(t,e,n){let r=ar(e,t),i=gP(n),o=t[ir].rendererFactory,s=hp(t,dp(t,i,null,tT(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function tT(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function nT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function hp(t,e){return t[As]?t[ew][$t]=e:t[As]=e,t[ew]=e,e}function Us(t=1){rT(Gr(),Ke(),Yf()+t,!1)}function rT(t,e,n,r){if(!r)if((e[Z]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Kc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Qc(e,o,0,n)}qr(n)}var Ru=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ru||{});function Nf(t,e,n,r){let i=ue(null);try{let[o,s,c]=t.inputs[n],u=null;(s&Ru.SignalBased)!==0&&(u=e[o][Pi]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):Jw(e,u,o,r)}finally{ue(i)}}function iT(t,e,n,r,i){let o=Yf(),s=r&2;try{qr(-1),s&&e.length>qt&&rT(t,e,qt,!1),Te(s?2:0,i),n(r,i)}finally{qr(o),Te(s?3:1,i)}}function fp(t,e,n){TP(t,e,n),(n.flags&64)===64&&DP(t,e,n)}function oT(t,e,n=ar){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function yP(t,e,n,r){let o=r.get(QM,zE)||n===nn.ShadowDom,s=t.selectRootElement(e,o);return vP(s),s}function vP(t){_P(t)}var _P=()=>null;function IP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function wP(t,e,n,r,i,o,s,c){if(!c&&pp(e,t,n,r,i)){Os(e)&&EP(n,e.index);return}if(e.type&3){let u=ar(e,n);r=IP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function EP(t,e){let n=or(e,t);n[Z]&16||(n[Z]|=64)}function TP(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Os(n)&&mP(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||TE(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=wf(e,t,s,n);if(Vs(u,e),o!==null&&CP(e,s-r,u,c,n,o),Wr(c)){let l=or(n.index,e);l[Ht]=wf(e,t,s,n)}}}function DP(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=lM();try{qr(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];_f(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&bP(u,l)}}finally{qr(-1),_f(s)}}function bP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function sT(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];rP(e,o.selectors,!1)&&(r??=[],Wr(o)?r.unshift(o):r.push(o))}return r}function CP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];Nf(r,n,u,l)}}function SP(t,e){let n=t[Ss],r=n?n.get(sr,null):null;r&&r.handleError(e)}function pp(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];Nf(p,n[l],f,i),c=!0}if(o)for(let u of o){let l=n[u],f=e.data[u];Nf(f,l,r,i),c=!0}return c}function AP(t,e){let n=or(e,t),r=n[le];RP(r,n);let i=n[Sn];i!==null&&n[ru]===null&&(n[ru]=GE(i,n[Ss])),Te(18),gp(r,n,n[Ht]),Te(19,n[Ht])}function RP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function gp(t,e,n){Kf(e);try{let r=t.viewQuery;r!==null&&Rf(1,r,n);let i=t.template;i!==null&&iT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[eo]?.finishViewCreation(t),t.staticContentQueries&&KE(t,e),t.staticViewQueries&&Rf(2,t.viewQuery,n);let o=t.components;o!==null&&NP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Z]&=-5,Qf()}}function NP(t,e){for(let n=0;n<e.length;n++)AP(t,e[n])}function MP(t,e,n,r){let i=ue(null);try{let o=e.tView,c=t[Z]&4096?4096:16,u=dp(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Xi]=l;let f=t[eo];return f!==null&&(u[eo]=f.createEmbeddedView(o)),gp(o,u,n),u}finally{ue(i)}}function mw(t,e){return!e||e.firstChild===null||VE(t)}var PP;function mp(t,e){return PP(t,e)}var Qr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qr||{});function aT(t){return(t.flags&32)===32}function Qi(t,e,n,r,i){if(r!=null){let o,s=!1;An(r)?o=r:jr(r)&&(s=!0,r=r[Sn]);let c=Cn(r);t===0&&n!==null?i==null?XE(e,n,c):pu(e,n,c,i||null,!0):t===1&&n!==null?pu(e,n,c,i||null,!0):t===2?dP(e,c,s):t===3&&e.destroyNode(c),o!=null&&qP(e,t,o,n,i)}}function kP(t,e){cT(t,e),e[Sn]=null,e[Wt]=null}function xP(t,e,n,r,i,o){r[Sn]=i,r[Wt]=e,Nu(t,r,n,1,i,o)}function cT(t,e){e[ir].changeDetectionScheduler?.notify(9),Nu(t,e,e[Tt],2,null,null)}function OP(t){let e=t[As];if(!e)return sf(t[le],t);for(;e;){let n=null;if(jr(e))n=e[As];else{let r=e[Mt];r&&(n=r)}if(!n){for(;e&&!e[$t]&&e!==t;)jr(e)&&sf(e[le],e),e=e[ct];e===null&&(e=t),jr(e)&&sf(e[le],e),n=e&&e[$t]}e=n}}function yp(t,e){let n=t[su],r=n.indexOf(e);n.splice(r,1)}function uT(t,e){if(io(e))return;let n=e[Tt];n.destroyNode&&Nu(t,e,n,3,null,null),OP(e)}function sf(t,e){if(io(e))return;let n=ue(null);try{e[Z]&=-129,e[Z]|=256,e[Nt]&&kh(e[Nt]),LP(t,e),FP(t,e),e[le].type===1&&e[Tt].destroy();let r=e[Xi];if(r!==null&&An(e[ct])){r!==e[ct]&&yp(r,e);let i=e[eo];i!==null&&i.detachView(t)}Sf(e)}finally{ue(n)}}function FP(t,e){let n=t.cleanup,r=e[XI];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[XI]=null);let i=e[rr];if(i!==null){e[rr]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[iu];if(o!==null){e[iu]=null;for(let s of o)s.destroy()}}function LP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Rs)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Te(4,c,u);try{u.call(c)}finally{Te(5,c,u)}}else{Te(4,i,o);try{o.call(i)}finally{Te(5,i,o)}}}}}function VP(t,e,n){return jP(t,e.parent,n)}function jP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Sn];if(Os(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===nn.None||i===nn.Emulated)return null}return ar(r,n)}function UP(t,e,n){return $P(t,e,n)}function BP(t,e,n){return t.type&40?ar(t,n):null}var $P=BP,yw;function vp(t,e,n,r){let i=VP(t,r,e),o=e[Tt],s=r.parent||e[Wt],c=UP(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)gw(o,i,n[u],c,!1);else gw(o,i,n,c,!1);yw!==void 0&&yw(o,r,e,n,i)}function Ts(t,e){if(e!==null){let n=e.type;if(n&3)return ar(e,t);if(n&4)return Mf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ts(t,r);{let i=t[e.index];return An(i)?Mf(-1,i):Cn(i)}}else{if(n&128)return Ts(t,e.next);if(n&32)return mp(e,t)()||Cn(t[e.index]);{let r=lT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Hr(t[tn]);return Ts(i,r)}else return Ts(t,e.next)}}}return null}function lT(t,e){if(e!==null){let r=t[tn][Wt],i=e.projection;return r.projection[i]}return null}function Mf(t,e){let n=Mt+t+1;if(n<e.length){let r=e[n],i=r[le].firstChild;if(i!==null)return Ts(r,i)}return e[$r]}function _p(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Vs(Cn(c),r),n.flags|=2),!aT(n))if(u&8)_p(t,e,n.child,r,i,o,!1),Qi(e,t,i,c,o);else if(u&32){let l=mp(n,r),f;for(;f=l();)Qi(e,t,i,f,o);Qi(e,t,i,c,o)}else u&16?HP(t,e,r,n,i,o):Qi(e,t,i,c,o);n=s?n.projectionNext:n.next}}function Nu(t,e,n,r,i,o){_p(n,r,t.firstChild,e,i,o,!1)}function HP(t,e,n,r,i,o){let s=n[tn],u=s[Wt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Qi(e,t,i,f,o)}else{let l=u,f=s[ct];VE(r)&&(l.flags|=128),_p(t,e,l,f,i,o,!0)}}function qP(t,e,n,r,i){let o=n[$r],s=Cn(n);o!==s&&Qi(e,t,r,o,i);for(let c=Mt;c<n.length;c++){let u=n[c];Nu(u[le],u,t,e,r,o)}}function gu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Cn(o)),An(o)&&zP(o,r);let s=n.type;if(s&8)gu(t,e,n.child,r);else if(s&32){let c=mp(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=lT(e,n);if(Array.isArray(c))r.push(...c);else{let u=Hr(e[tn]);gu(u[le],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function zP(t,e){for(let n=Mt;n<t.length;n++){let r=t[n],i=r[le].firstChild;i!==null&&gu(r[le],r,i,e)}t[$r]!==t[Sn]&&e.push(t[$r])}function dT(t){if(t[nf]!==null){for(let e of t[nf])e.impl.addSequence(e);t[nf].length=0}}var hT=[];function WP(t){return t[Nt]??GP(t)}function GP(t){let e=hT.pop()??Object.create(QP);return e.lView=t,e}function KP(t){t.lView[Nt]!==t&&(t.lView=null,hT.push(t))}var QP=ve(F({},vc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{bu(t.lView)},consumerOnSignalRead(){this.lView[Nt]=this}});function YP(t){let e=t[Nt]??Object.create(ZP);return e.lView=t,e}var ZP=ve(F({},vc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Hr(t.lView);for(;e&&!fT(e[le]);)e=Hr(e);e&&iE(e)},consumerOnSignalRead(){this.lView[Nt]=this}});function fT(t){return t.type!==2}function pT(t){if(t[iu]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[iu])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Z]&8192)}}var JP=100;function gT(t,e=!0,n=0){let i=t[ir].rendererFactory,o=!1;o||i.begin?.();try{XP(t,n)}catch(s){throw e&&SP(t,s),s}finally{o||i.end?.()}}function XP(t,e){let n=uE();try{nw(!0),Pf(t,e);let r=0;for(;Du(t);){if(r===JP)throw new U(103,!1);r++,Pf(t,1)}}finally{nw(n)}}function ek(t,e,n,r){if(io(e))return;let i=e[Z],o=!1,s=!1;Kf(e);let c=!0,u=null,l=null;o||(fT(t)?(l=WP(e),u=Mh(l)):Ah()===null?(c=!1,l=YP(e),u=Mh(l)):e[Nt]&&(kh(e[Nt]),e[Nt]=null));try{rE(e),aM(t.bindingStartIndex),n!==null&&iT(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let y=t.preOrderCheckHooks;y!==null&&Kc(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Qc(e,y,0,null),rf(e,0)}if(s||tk(e),pT(e),mT(e,0),t.contentQueries!==null&&KE(t,e),!o)if(f){let y=t.contentCheckHooks;y!==null&&Kc(e,y)}else{let y=t.contentHooks;y!==null&&Qc(e,y,1),rf(e,1)}rk(t,e);let p=t.components;p!==null&&vT(e,p,0);let m=t.viewQuery;if(m!==null&&Rf(2,m,r),!o)if(f){let y=t.viewCheckHooks;y!==null&&Kc(e,y)}else{let y=t.viewHooks;y!==null&&Qc(e,y,2),rf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[tf]){for(let y of e[tf])y();e[tf]=null}o||(dT(e),e[Z]&=-73)}catch(f){throw o||bu(e),f}finally{l!==null&&(hI(l,u),c&&KP(l)),Qf()}}function mT(t,e){for(let n=BE(t);n!==null;n=$E(n))for(let r=Mt;r<n.length;r++){let i=n[r];yT(i,e)}}function tk(t){for(let e=BE(t);e!==null;e=$E(e)){if(!(e[Z]&2))continue;let n=e[su];for(let r=0;r<n.length;r++){let i=n[r];iE(i)}}}function nk(t,e,n){Te(18);let r=or(e,t);yT(r,n),Te(19,r[Ht])}function yT(t,e){Gf(t)&&Pf(t,e)}function Pf(t,e){let r=t[le],i=t[Z],o=t[Nt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ph(o)),s||=!1,o&&(o.dirty=!1),t[Z]&=-9217,s)ek(r,t,r.template,t[Ht]);else if(i&8192){pT(t),mT(t,1);let c=r.components;c!==null&&vT(t,c,1),dT(t)}}function vT(t,e,n){for(let r=0;r<e.length;r++)nk(t,e[r],n)}function rk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)qr(~i);else{let o=i,s=n[++r],c=n[++r];uM(s,o);let u=e[o];Te(24,u),c(2,u),Te(25,u)}}}finally{qr(-1)}}function _T(t,e){let n=uE()?64:1088;for(t[ir].changeDetectionScheduler?.notify(e);t;){t[Z]|=n;let r=Hr(t);if(au(t)&&!r)return t;t=r}return null}function IT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ik(t,e,n,r=!0){let i=e[le];if(ok(i,e,t,n),r){let s=Mf(n,t),c=e[Tt],u=c.parentNode(t[$r]);u!==null&&xP(i,t[Wt],c,e,u,s)}let o=e[ru];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function kf(t,e){if(t.length<=Mt)return;let n=Mt+e,r=t[n];if(r){let i=r[Xi];i!==null&&i!==t&&yp(i,r),e>0&&(t[n-1][$t]=r[$t]);let o=tu(t,Mt+e);kP(r[le],r);let s=o[eo];s!==null&&s.detachView(o[le]),r[ct]=null,r[$t]=null,r[Z]&=-129}return r}function ok(t,e,n,r){let i=Mt+r,o=n.length;r>0&&(n[i-1][$t]=e),r<o-Mt?(e[$t]=n[i],jw(n,Mt+r,e)):(n.push(e),e[$t]=null),e[ct]=n;let s=e[Xi];s!==null&&n!==s&&wT(s,e);let c=e[eo];c!==null&&c.insertView(t),yf(e),e[Z]|=128}function wT(t,e){let n=t[su],r=e[ct];if(jr(r))t[Z]|=2;else{let i=r[ct][tn];e[tn]!==i&&(t[Z]|=2)}n===null?t[su]=[e]:n.push(e)}var Ns=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[le];return gu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ht]}set context(e){this._lView[Ht]=e}get destroyed(){return io(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ct];if(An(e)){let n=e[ou],r=n?n.indexOf(this):-1;r>-1&&(kf(e,r),tu(n,r))}this._attachedToViewContainer=!1}uT(this._lView[le],this._lView)}onDestroy(e){oE(this._lView,e)}markForCheck(){_T(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){yf(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,gT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=au(this._lView),n=this._lView[Xi];n!==null&&!e&&yp(n,this._lView),cT(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=au(this._lView),r=this._lView[Xi];r!==null&&!n&&wT(r,this._lView),yf(this._lView)}};var Ip=(()=>{class t{static __NG_ELEMENT_ID__=ck}return t})(),sk=Ip,ak=class extends sk{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=MP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ns(i)}};function ck(){return uk(cr(),Ke())}function uk(t,e){return t.type&4?new ak(e,t,Su(t,e)):null}function wp(t,e,n,r,i){let o=t.data[e];if(o===null)o=lk(t,e,n,r,i),cM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=iM();o.injectorIndex=s===null?-1:s.injectorIndex}return Fs(o,!0),o}function lk(t,e,n,r,i){let o=aE(),s=cE(),c=s?o:o&&o.parent,u=t.data[e]=hk(t,c,n,e,r,i);return dk(t,u,o,s),u}function dk(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function hk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return tM()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var c9=new RegExp(`^(\\d+)*(${KM}|${GM})*(.*)`);var fk=()=>null;function vw(t,e){return fk(t,e)}var pk=class{},ET=class{},xf=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Et(e)}.`)}},Mu=class{static NULL=new xf},no=class{};var gk=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>null})}return t})();var af={},Of=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=wu(r);let i=this.injector.get(e,af,r);return i!==af||n===af?i:this.parentInjector.get(e,n,r)}};function _w(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=WI(i,c);else if(o==2){let u=c,l=e[++s];r=WI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function oo(t,e=X.Default){let n=Ke();if(n===null)return ee(t,e);let r=cr();return SE(r,n,Rt(t),e)}function TT(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c,u=null,l=null,f=yk(s);f===null?c=s:[c,u,l]=f,Ik(t,e,n,c,o,u,l)}o!==null&&r!==null&&mk(n,r,o)}function mk(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}function yk(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let c=t[s];if(s===0&&Wr(c)&&(e=c),c.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,vk(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function vk(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function _k(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Ik(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&Wr(y)&&(u=!0,_k(t,n,m)),bM(TE(n,e),t,y.type)}Ck(n,t.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=nT(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(n.mergedAttrs=Xf(n.mergedAttrs,y.hostAttrs),Ek(t,n,e,p,y),bk(p,y,i),s!==null&&s.has(y)){let[R,P]=s.get(y);n.directiveToIndex.set(y.type,[p,R+n.directiveStart,P+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let A=y.type.prototype;!l&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!f&&(A.ngOnChanges||A.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}wk(t,n,o)}function wk(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Iw(0,e,i,r),Iw(1,e,i,r),Ew(e,r,!1);else{let o=n.get(i);ww(0,e,o,r),ww(1,e,o,r),Ew(e,r,!0)}}}function Iw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),DT(e,o)}}function ww(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),DT(e,s)}}function DT(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Ew(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||up(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Ek(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Br(i.type,!0)),s=new Rs(o,Wr(i),oo);t.blueprint[r]=s,n[r]=s,Tk(t,e,r,nT(t,n,i.hostVars,js),i)}function Tk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;Dk(s)!=c&&s.push(c),s.push(n,r,o)}}function Dk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function bk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Wr(e)&&(n[""]=t)}}function Ck(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function bT(t,e,n,r,i,o,s,c){let u=e.consts,l=cu(u,s),f=wp(e,t,2,r,l);return o&&TT(e,n,f,cu(u,c),i),f.mergedAttrs=Xf(f.mergedAttrs,f.attrs),f.attrs!==null&&_w(f,f.attrs,!1),f.mergedAttrs!==null&&_w(f,f.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,f),f}function CT(t,e){vE(t,e),Yw(e)&&t.queries.elementEnd(e)}var mu=class extends Mu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ji(e);return new Ms(n,this.ngModule)}};function Sk(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Ru.SignalBased)!==0};return i&&(o.transform=i),o})}function Ak(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Rk(t,e,n){let r=e instanceof yt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Of(n,r):n}function Nk(t){let e=t.get(no,null);if(e===null)throw new U(407,!1);let n=t.get(gk,null),r=t.get(to,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function Mk(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return JE(e,n,n==="svg"?zN:n==="math"?WN:null)}var Ms=class extends ET{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Sk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Ak(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=aP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Te(22);let o=ue(null);try{let s=this.componentDef,c=r?["ng-version","19.2.15"]:cP(this.componentDef.selectors[0]),u=lp(0,null,null,1,0,null,null,null,null,[c],null),l=Rk(s,i||this.ngModule,e),f=Nk(l),p=f.rendererFactory.createRenderer(null,s),m=r?yP(p,r,s.encapsulation,l):Mk(s,p),y=dp(null,u,null,512|tT(s),null,null,f,p,l,null,GE(m,l,!0));y[qt]=m,Kf(y);let A=null;try{let R=bT(qt,u,y,"#host",()=>[this.componentDef],!0,0);m&&(eT(p,m,R),Vs(m,y)),fp(u,y,R),QE(u,R,y),CT(u,R),n!==void 0&&Pk(R,this.ngContentSelectors,n),A=or(R.index,y),y[Ht]=A[Ht],gp(u,y,null)}catch(R){throw A!==null&&Sf(A),Sf(y),R}finally{Te(23),Qf()}return new Ff(this.componentType,y)}finally{ue(o)}}},Ff=class extends pk{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=nE(n[le],qt),this.location=Su(this._tNode,n),this.instance=or(this._tNode.index,n)[Ht],this.hostView=this.changeDetectorRef=new Ns(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=pp(r,i[le],i,e,n);this.previousInputValues.set(e,n);let s=or(r.index,i);_T(s,1)}get injector(){return new Ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Pk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Bs=(()=>{class t{static __NG_ELEMENT_ID__=kk}return t})();function kk(){let t=cr();return Ok(t,Ke())}var xk=Bs,ST=class extends xk{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Su(this._hostTNode,this._hostLView)}get injector(){return new Ur(this._hostTNode,this._hostLView)}get parentInjector(){let e=ep(this._hostTNode,this._hostLView);if(IE(e)){let n=lu(e,this._hostLView),r=uu(e),i=n[le].data[r+8];return new Ur(i,n)}else return new Ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Tw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Mt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=vw(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,mw(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!BN(e),c;if(s)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new Ms(Ji(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let R=(s?l:this.parentInjector).get(yt,null);R&&(o=R)}let f=Ji(u.componentType??{}),p=vw(this._lContainer,f?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,c,mw(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(YN(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[ct],l=new ST(u,u[Wt],u[ct]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ik(s,i,o,r),e.attachToViewContainerRef(),jw(cf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Tw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=kf(this._lContainer,n);r&&(tu(cf(this._lContainer),n),uT(r[le],r))}detach(e){let n=this._adjustIndex(e,-1),r=kf(this._lContainer,n);return r&&tu(cf(this._lContainer),n)!=null?new Ns(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Tw(t){return t[ou]}function cf(t){return t[ou]||(t[ou]=[])}function Ok(t,e){let n,r=e[t.index];return An(r)?n=r:(n=IT(r,e,null,t),e[t.index]=n,hp(e,n)),Lk(n,e,t,r),new ST(n,t,e)}function Fk(t,e){let n=t[Tt],r=n.createComment(""),i=ar(e,t),o=n.parentNode(i);return pu(n,o,r,n.nextSibling(i),!1),r}var Lk=Uk,Vk=()=>!1;function jk(t,e,n){return Vk(t,e,n)}function Uk(t,e,n,r){if(t[$r])return;let i;n.type&8?i=Cn(r):i=Fk(e,n),t[$r]=i}var ro=class{},Ep=class{};var Lf=class extends ro{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new mu(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=$w(e);this._bootstrapComponents=YE(o.bootstrap),this._r3Injector=NE(e,n,[{provide:ro,useValue:this},{provide:Mu,useValue:this.componentFactoryResolver},...r],Et(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Vf=class extends Ep{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Lf(this.moduleType,e,[])}};var yu=class extends ro{injector;componentFactoryResolver=new mu(this);instance=null;constructor(e){super();let n=new Cs([...e.providers,{provide:ro,useValue:this},{provide:Mu,useValue:this.componentFactoryResolver}],e.parent||zf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Pu(t,e,n=null){return new yu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Bk=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Hw(!1,n.type),i=r.length>0?Pu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(ee(yt))})}return t})();function ur(t){return ks(()=>{let e=RT(t),n=ve(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===jE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Bk).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||nn.Emulated,styles:t.styles||Xt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&cp("NgStandalone"),NT(n);let r=t.dependencies;return n.directiveDefs=Dw(r,!1),n.pipeDefs=Dw(r,!0),n.id=Wk(n),n})}function $k(t){return Ji(t)||RN(t)}function Hk(t){return t!==null}function ku(t){return ks(()=>({type:t.type,bootstrap:t.bootstrap||Xt,declarations:t.declarations||Xt,imports:t.imports||Xt,exports:t.exports||Xt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qk(t,e){if(t==null)return Zi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Ru.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function zk(t){if(t==null)return Zi;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function xu(t){return ks(()=>{let e=RT(t);return NT(e),e})}function AT(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function RT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Zi,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Xt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qk(t.inputs,e),outputs:zk(t.outputs),debugInfo:null}}function NT(t){t.features?.forEach(e=>e(t))}function Dw(t,e){if(!t)return null;let n=e?NN:$k;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Hk)}function Wk(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Gk(t,e,n){return t[e]=n}function Tp(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Kk(t,e,n,r,i,o,s,c,u){let l=e.consts,f=wp(e,t,4,s||null,c||null);sE()&&TT(e,n,f,cu(l,u),sT),f.mergedAttrs=Xf(f.mergedAttrs,f.attrs),vE(e,f);let p=f.tView=lp(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function Qk(t,e,n,r,i,o,s,c,u,l){let f=n+qt,p=e.firstCreatePass?Kk(f,e,t,r,i,o,s,c,u):e.data[f];Fs(p,!1);let m=Yk(e,t,p,n);Zf()&&vp(e,t,m,p),Vs(m,t);let y=IT(m,t,m,p);return t[f]=y,hp(t,y),jk(y,p,t),Zw(p)&&fp(e,t,p),u!=null&&oT(t,p,l),p}function Dp(t,e,n,r,i,o,s,c){let u=Ke(),l=Gr(),f=cu(l.consts,o);return Qk(u,l,t,e,n,r,i,f,s,c),Dp}var Yk=Zk;function Zk(t,e,n,r){return Jf(!0),e[Tt].createComment("")}var MT=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var PT=new j("");var Jk=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>new jf})}return t})(),jf=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function so(t){return!!t&&typeof t.then=="function"}function bp(t){return!!t&&typeof t.subscribe=="function"}var Xk=new j("");var kT=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=k(Xk,{optional:!0})??[];injector=k(je);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=lt(this.injector,i);if(so(o))n.push(o);else if(bp(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cp=new j("");function ex(){xh(()=>{throw new U(600,!1)})}function tx(t){return t.isBoundToModule}var nx=10;var zr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=k(jM);afterRenderManager=k(YM);zonelessEnabled=k(np);rootEffectScheduler=k(Jk);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ze;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=k(Kr).hasPendingTasks.pipe(oe(n=>!n));constructor(){k(Au,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=k(yt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=je.NULL){Te(10);let o=n instanceof ET;if(!this._injector.get(kT).done){let y="";throw new U(405,y)}let c;o?c=n:c=this._injector.get(Mu).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=tx(c)?void 0:this._injector.get(ro),l=r||c.selector,f=c.create(i,[],l,u),p=f.location.nativeElement,m=f.injector.get(PT,null);return m?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),Yc(this.components,f),m?.unregisterApplication(p)}),this._loadComponent(f),Te(11,f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(WE.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let n=ue(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ue(n),this.afterTick.next(),Te(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(no,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<nx;)Te(14),this.synchronizeOnce(),Te(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)rx(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Du(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Yc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Cp,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Yc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function rx(t,e,n,r){if(!n&&!Du(t))return;gT(t,e,n&&!r?0:1)}function ix(t,e,n,r){return Tp(t,lE(),n)?e+Ow(n)+r:js}function Sp(t,e,n){let r=Ke(),i=lE();if(Tp(r,i,e)){let o=Gr(),s=hM();wP(o,s,r,t,e,r[Tt],n,!1)}return Sp}function bw(t,e,n,r,i){pp(e,t,n,i?"class":"style",r)}function Rn(t,e,n,r){let i=Ke(),o=Gr(),s=qt+t,c=i[Tt],u=o.firstCreatePass?bT(s,o,i,e,sT,sE(),n,r):o.data[s],l=ox(o,i,u,c,e,t);i[s]=l;let f=Zw(u);return Fs(u,!0),eT(c,l,u),!aT(u)&&Zf()&&vp(o,i,l,u),(JN()===0||f)&&Vs(l,i),XN(),f&&(fp(o,i,u),QE(o,u,i)),r!==null&&oT(i,u),Rn}function Nn(){let t=cr();cE()?oM():(t=t.parent,Fs(t,!1));let e=t;nM(e)&&rM(),eM();let n=Gr();return n.firstCreatePass&&CT(n,e),e.classesWithoutHost!=null&&mM(e)&&bw(n,e,Ke(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&yM(e)&&bw(n,e,Ke(),e.stylesWithoutHost,!1),Nn}function $s(t,e,n,r){return Rn(t,e,n,r),Nn(),$s}var ox=(t,e,n,r,i,o)=>(Jf(!0),JE(r,i,fM()));var vu="en-US";var sx=vu;function ax(t){typeof t=="string"&&(sx=t.toLowerCase().replace(/_/g,"-"))}function Yr(t,e=""){let n=Ke(),r=Gr(),i=t+qt,o=r.firstCreatePass?wp(r,i,1,e,null):r.data[i],s=cx(r,n,o,e,t);n[i]=s,Zf()&&vp(r,n,s,o),Fs(o,!1)}var cx=(t,e,n,r,i)=>(Jf(!0),uP(e[Tt],r));function Hs(t){return xT("",t,""),Hs}function xT(t,e,n){let r=Ke(),i=ix(r,t,e,n);return i!==js&&ux(r,Yf(),i),xT}function ux(t,e,n){let r=GN(e,t);lP(t[Tt],r,n)}function lx(t,e){let n=t[e];return n===js?void 0:n}function dx(t,e,n,r,i,o){let s=e+n;return Tp(t,s,i)?Gk(t,s+1,o?r.call(o,i):r(i)):lx(t,s+1)}function OT(t,e){let n=Gr(),r,i=t+qt;n.firstCreatePass?(r=hx(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Br(r.type,!0)),s,c=gt(oo);try{let u=du(!1),l=o();return du(u),QN(n,Ke(),i,l),l}finally{gt(c)}}function hx(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function FT(t,e,n){let r=t+qt,i=Ke(),o=KN(i,r);return fx(i,r)?dx(i,sM(),e,o.transform,n,o):o.transform(n)}function fx(t,e){return t[le].data[e].pure}var Ps=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},LT=new Ps("19.2.15"),Uf=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},VT=(()=>{class t{compileModuleSync(n){return new Vf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=$w(n),o=YE(i.declarations).reduce((s,c)=>{let u=Ji(c);return u&&s.push(new Ms(u)),s},[]);return new Uf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var px=(()=>{class t{zone=k(pe);changeDetectionScheduler=k(to);applicationRef=k(zr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gx=new j("",{factory:()=>!1});function jT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new pe(ve(F({},BT()),{scheduleInRootZone:n})),[{provide:pe,useFactory:t},{provide:bs,multi:!0,useFactory:()=>{let r=k(px,{optional:!0});return()=>r.initialize()}},{provide:bs,multi:!0,useFactory:()=>{let r=k(mx);return()=>{r.initialize()}}},e===!0?{provide:PE,useValue:!0}:[],{provide:kE,useValue:n??ME}]}function UT(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=jT({ngZoneFactory:()=>{let i=BT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&cp("NgZone_CoalesceEvent"),new pe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return zt([{provide:gx,useValue:!0},{provide:np,useValue:!1},r])}function BT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var mx=(()=>{class t{subscription=new Ce;initialized=!1;zone=k(pe);pendingTasks=k(Kr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var yx=(()=>{class t{appRef=k(zr);taskService=k(Kr);ngZone=k(pe);zonelessEnabled=k(np);tracing=k(Au,{optional:!0});disableScheduling=k(PE,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ce;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(fu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(kE,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?cw:xE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vx(){return typeof $localize<"u"&&$localize.locale||vu}var Ap=new j("",{providedIn:"root",factory:()=>k(Ap,X.Optional|X.SkipSelf)||vx()});var Bf=new j(""),_x=new j("");function ws(t){return!t.moduleRef}function Ix(t){let e=ws(t)?t.r3Injector:t.moduleRef.injector,n=e.get(pe);return n.run(()=>{ws(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(sr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ws(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Bf);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Bf);s.add(o),t.moduleRef.onDestroy(()=>{Yc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Ex(r,n,()=>{let o=e.get(kT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Ap,vu);if(ax(s||vu),!e.get(_x,!0))return ws(t)?e.get(zr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ws(t)){let u=e.get(zr);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return wx(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function wx(t,e){let n=t.injector.get(zr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new U(-403,!1);e.push(t)}function Ex(t,e,n){try{let r=n();return so(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Zc=null;function Tx(t=[],e){return je.create({name:e,providers:[{provide:Eu,useValue:"platform"},{provide:Bf,useValue:new Set([()=>Zc=null])},...t]})}function Dx(t=[]){if(Zc)return Zc;let e=Tx(t);return Zc=e,ex(),bx(e),e}function bx(t){let e=t.get(sp,null);lt(t,()=>{e?.forEach(n=>n())})}function Rp(){return!1}var Ou=(()=>{class t{static __NG_ELEMENT_ID__=Cx}return t})();function Cx(t){return Sx(cr(),Ke(),(t&16)===16)}function Sx(t,e,n){if(Os(t)&&!n){let r=or(t.index,e);return new Ns(r,r)}else if(t.type&175){let r=e[tn];return new Ns(r,e)}return null}function $T(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Te(8);try{let o=i?.injector??Dx(r),s=[jT({}),{provide:to,useExisting:yx},...n||[]],c=new yu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return Ix({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Te(9)}}function Fu(t){return Lh(t)}var Cw=class{[Pi];constructor(e){this[Pi]=e}destroy(){this[Pi].destroy()}};var nt=new j("");var zT=null;function Mn(){return zT}function Np(t){zT??=t}var qs=class{},Mp=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>k(WT),providedIn:"platform"})}return t})();var WT=(()=>{class t extends Mp{_location;_history;_doc=k(nt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mn().getBaseHref(this._doc)}onPopState(n){let r=Mn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Mn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function GT(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function HT(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function lr(t){return t&&t[0]!=="?"?`?${t}`:t}var Lu=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>k(QT),providedIn:"root"})}return t})(),KT=new j(""),QT=(()=>{class t extends Lu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return GT(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+lr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+lr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+lr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ee(Mp),ee(KT,8))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ao=(()=>{class t{_subject=new ze;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Nx(HT(qT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+lr(r))}normalize(n){return t.stripTrailingSlash(Rx(this._basePath,qT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+lr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+lr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=lr;static joinWithSlash=GT;static stripTrailingSlash=HT;static \u0275fac=function(r){return new(r||t)(ee(Lu))};static \u0275prov=B({token:t,factory:()=>Ax(),providedIn:"root"})}return t})();function Ax(){return new ao(ee(Lu))}function Rx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function qT(t){return t.replace(/\/index.html$/,"")}function Nx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var xp=(()=>{class t{_viewContainer;_context=new Vu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){YT(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){YT(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(oo(Bs),oo(Ip))};static \u0275dir=xu({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Vu=class{$implicit=null;ngIf=null};function YT(t,e){if(t&&!t.createEmbeddedView)throw new U(2020,!1)}function Mx(t,e){return new U(2100,!1)}var Pp=class{createSubscription(e,n){return Fu(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Fu(()=>e.unsubscribe())}},kp=class{createSubscription(e,n){return e.then(r=>n?.(r),r=>{throw r}),{unsubscribe:()=>{n=null}}}dispose(e){e.unsubscribe()}},Px=new kp,kx=new Pp,Op=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(so(n))return Px;if(bp(n))return kx;throw Mx(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(oo(Ou,16))};static \u0275pipe=AT({name:"async",type:t,pure:!1})}return t})();var co=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ku({type:t});static \u0275inj=_u({})}return t})();function Fp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ju="browser",ZT="server";function Uu(t){return t===ju}function Bu(t){return t===ZT}var zs=class{};var qu=new j(""),Up=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ee(qu),ee(pe))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Ws=class{_doc;constructor(e){this._doc=e}manager},$u="ng-app-id";function JT(t){for(let e of t)e.remove()}function XT(t,e){let n=e.createElement("style");return n.textContent=t,n}function Fx(t,e,n,r){let i=t.head?.querySelectorAll(`style[${$u}="${e}"],link[${$u}="${e}"]`);if(i)for(let o of i)o.removeAttribute($u),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Vp(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Bp=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Bu(o),Fx(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,XT);r?.forEach(i=>this.addUsage(i,this.external,Vp))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(JT(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])JT(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,XT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Vp(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute($u,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ee(nt),ee(op),ee(ap,8),ee(rn))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Lp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$p=/%COMP%/g;var tD="%COMP%",Lx=`_nghost-${tD}`,Vx=`_ngcontent-${tD}`,jx=!0,Ux=new j("",{providedIn:"root",factory:()=>jx});function Bx(t){return Vx.replace($p,t)}function $x(t){return Lx.replace($p,t)}function nD(t,e){return e.map(n=>n.replace($p,t))}var Hp=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,c,u,l=null,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=f,this.platformIsServer=Bu(c),this.defaultRenderer=new Gs(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===nn.ShadowDom&&(r=ve(F({},r),{encapsulation:nn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Hu?i.applyToHost(n):i instanceof Ks&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case nn.Emulated:o=new Hu(u,l,r,this.appId,f,s,c,p,m);break;case nn.ShadowDom:return new jp(u,l,n,r,s,c,this.nonce,p,m);default:o=new Ks(u,l,r,f,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ee(Up),ee(Bp),ee(op),ee(Ux),ee(nt),ee(rn),ee(pe),ee(ap),ee(Au,8))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Gs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Lp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(eD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(eD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Lp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Lp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Qr.DashCase|Qr.Important)?e.style.setProperty(n,r,i&Qr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Qr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Mn().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function eD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var jp=class extends Gs{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=nD(i.id,f);for(let m of f){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Vp(m,o);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ks=class extends Gs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?nD(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Hu=class extends Ks{contentAttr;hostAttr;constructor(e,n,r,i,o,s,c,u,l){let f=i+"-"+r.id;super(e,n,r,o,s,c,u,l,f),this.contentAttr=Bx(f),this.hostAttr=$x(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var zu=class t extends qs{supportsDOMEvents=!0;static makeCurrent(){Np(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Hx();return n==null?null:qx(n)}resetBaseElement(){Qs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fp(document.cookie,e)}},Qs=null;function Hx(){return Qs=Qs||document.head.querySelector("base"),Qs?Qs.getAttribute("href"):null}function qx(t){return new URL(t,document.baseURI).pathname}var zx=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),iD=(()=>{class t extends Ws{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ee(nt))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),rD=["alt","control","meta","shift"],Wx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},oD=(()=>{class t extends Ws{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mn().onAndCancel(n,s.domEventName,c,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),rD.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=Wx[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),rD.forEach(s=>{if(s!==i){let c=Gx[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ee(nt))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function qp(t,e,n){return $T(F({rootComponent:t,platformRef:n?.platformRef},Kx(e)))}function Kx(t){return{appProviders:[...Xx,...t?.providers??[]],platformProviders:Jx}}function Qx(){zu.makeCurrent()}function Yx(){return new sr}function Zx(){return qE(document),document}var Jx=[{provide:rn,useValue:ju},{provide:sp,useValue:Qx,multi:!0},{provide:nt,useFactory:Zx}];var Xx=[{provide:Eu,useValue:"root"},{provide:sr,useFactory:Yx},{provide:qu,useClass:iD,multi:!0,deps:[nt]},{provide:qu,useClass:oD,multi:!0,deps:[nt]},Hp,Bp,Up,{provide:no,useExisting:Hp},{provide:zs,useClass:zx},[]];var sD=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ee(nt))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var J="primary",ua=Symbol("RouteTitle"),Qp=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Xr(t){return new Qp(t)}function pD(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function tO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!on(t[n],e[n]))return!1;return!0}function on(t,e){let n=t?Yp(t):void 0,r=e?Yp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!gD(t[i],e[i]))return!1;return!0}function Yp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function gD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function mD(t){return t.length>0?t[t.length-1]:null}function fr(t){return Zh(t)?t:so(t)?Ae(Promise.resolve(t)):Q(t)}var nO={exact:vD,subset:_D},yD={exact:rO,subset:iO,ignored:()=>!0};function aD(t,e,n){return nO[n.paths](t.root,e.root,n.matrixParams)&&yD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function rO(t,e){return on(t,e)}function vD(t,e,n){if(!Zr(t.segments,e.segments)||!Ku(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!vD(t.children[r],e.children[r],n))return!1;return!0}function iO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>gD(t[n],e[n]))}function _D(t,e,n){return ID(t,e,e.segments,n)}function ID(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Zr(i,n)||e.hasChildren()||!Ku(i,n,r))}else if(t.segments.length===n.length){if(!Zr(t.segments,n)||!Ku(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!_D(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Zr(t.segments,i)||!Ku(t.segments,i,r)||!t.children[J]?!1:ID(t.children[J],e,o,r)}}function Ku(t,e,n){return e.every((r,i)=>yD[n](t[i].parameters,r.parameters))}var an=class{root;queryParams;fragment;_queryParamMap;constructor(e=new fe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xr(this.queryParams),this._queryParamMap}toString(){return aO.serialize(this)}},fe=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qu(this)}},dr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Xr(this.parameters),this._parameterMap}toString(){return ED(this)}};function oO(t,e){return Zr(t,e)&&t.every((n,r)=>on(n.parameters,e[r].parameters))}function Zr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function sO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===J&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==J&&(n=n.concat(e(i,r)))}),n}var la=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new ei,providedIn:"root"})}return t})(),ei=class{parse(e){let n=new Jp(e);return new an(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ys(e.root,!0)}`,r=lO(e.queryParams),i=typeof e.fragment=="string"?`#${cO(e.fragment)}`:"";return`${n}${r}${i}`}},aO=new ei;function Qu(t){return t.segments.map(e=>ED(e)).join("/")}function Ys(t,e){if(!t.hasChildren())return Qu(t);if(e){let n=t.children[J]?Ys(t.children[J],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==J&&r.push(`${i}:${Ys(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=sO(t,(r,i)=>i===J?[Ys(t.children[J],!1)]:[`${i}:${Ys(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[J]!=null?`${Qu(t)}/${n[0]}`:`${Qu(t)}/(${n.join("//")})`}}function wD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wu(t){return wD(t).replace(/%3B/gi,";")}function cO(t){return encodeURI(t)}function Zp(t){return wD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yu(t){return decodeURIComponent(t)}function cD(t){return Yu(t.replace(/\+/g,"%20"))}function ED(t){return`${Zp(t.path)}${uO(t.parameters)}`}function uO(t){return Object.entries(t).map(([e,n])=>`;${Zp(e)}=${Zp(n)}`).join("")}function lO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Wu(n)}=${Wu(i)}`).join("&"):`${Wu(n)}=${Wu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var dO=/^[^\/()?;#]+/;function zp(t){let e=t.match(dO);return e?e[0]:""}var hO=/^[^\/()?;=#]+/;function fO(t){let e=t.match(hO);return e?e[0]:""}var pO=/^[^=?&#]+/;function gO(t){let e=t.match(pO);return e?e[0]:""}var mO=/^[^&#]+/;function yO(t){let e=t.match(mO);return e?e[0]:""}var Jp=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[J]=new fe(e,n)),r}parseSegment(){let e=zp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new dr(Yu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=fO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=zp(this.remaining);i&&(r=i,this.capture(r))}e[Yu(n)]=Yu(r)}parseQueryParam(e){let n=gO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=yO(this.remaining);s&&(r=s,this.capture(r))}let i=cD(n),o=cD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=zp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=J);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[J]:new fe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function TD(t){return t.segments.length>0?new fe([],{[J]:t}):t}function DD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=DD(i);if(r===J&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new fe(t.segments,e);return vO(n)}function vO(t){if(t.numberOfChildren===1&&t.children[J]){let e=t.children[J];return new fe(t.segments.concat(e.segments),e.children)}return t}function po(t){return t instanceof an}function bD(t,e,n=null,r=null){let i=CD(t);return SD(i,e,n,r)}function CD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new fe(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=TD(r);return e??i}function SD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Wp(i,i,i,n,r);let o=_O(e);if(o.toRoot())return Wp(i,i,new fe([],{}),n,r);let s=IO(o,i,t),c=s.processChildren?Js(s.segmentGroup,s.index,o.commands):RD(s.segmentGroup,s.index,o.commands);return Wp(i,s.segmentGroup,c,n,r)}function Ju(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ea(t){return typeof t=="object"&&t!=null&&t.outlets}function Wp(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=AD(t,e,n);let c=TD(DD(s));return new an(c,o,i)}function AD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=AD(o,e,n)}),new fe(t.segments,r)}var Xu=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ju(r[0]))throw new U(4003,!1);let i=r.find(ea);if(i&&i!==mD(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _O(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Xu(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Xu(n,e,r)}var ho=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function IO(t,e,n){if(t.isAbsolute)return new ho(e,!0,0);if(!n)return new ho(e,!1,NaN);if(n.parent===null)return new ho(n,!0,0);let r=Ju(t.commands[0])?0:1,i=n.segments.length-1+r;return wO(n,i,t.numberOfDoubleDots)}function wO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new ho(r,!1,i-o)}function EO(t){return ea(t[0])?t[0].outlets:{[J]:t}}function RD(t,e,n){if(t??=new fe([],{}),t.segments.length===0&&t.hasChildren())return Js(t,e,n);let r=TO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new fe(t.segments.slice(0,r.pathIndex),{});return o.children[J]=new fe(t.segments.slice(r.pathIndex),t.children),Js(o,0,i)}else return r.match&&i.length===0?new fe(t.segments,{}):r.match&&!t.hasChildren()?Xp(t,e,n):r.match?Js(t,0,i):Xp(t,e,n)}function Js(t,e,n){if(n.length===0)return new fe(t.segments,{});{let r=EO(n),i={};if(Object.keys(r).some(o=>o!==J)&&t.children[J]&&t.numberOfChildren===1&&t.children[J].segments.length===0){let o=Js(t.children[J],e,n);return new fe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=RD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new fe(t.segments,i)}}function TO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(ea(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!lD(u,l,s))return o;r+=2}else{if(!lD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Xp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ea(o)){let u=DO(o.outlets);return new fe(r,u)}if(i===0&&Ju(n[0])){let u=t.segments[e];r.push(new dr(u.path,uD(n[0]))),i++;continue}let s=ea(o)?o.outlets[J]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&Ju(c)?(r.push(new dr(s,uD(c))),i+=2):(r.push(new dr(s,{})),i++)}return new fe(r,{})}function DO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Xp(new fe([],{}),0,r))}),e}function uD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function lD(t,e,n){return t==n.path&&on(e,n.parameters)}var Zu="imperative",Ue=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ue||{}),bt=class{id;url;constructor(e,n){this.id=e,this.url=n}},ti=class extends bt{type=Ue.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Pn=class extends bt{urlAfterRedirects;type=Ue.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(vt||{}),ta=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ta||{}),sn=class extends bt{reason;code;type=Ue.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kn=class extends bt{reason;code;type=Ue.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},go=class extends bt{error;target;type=Ue.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},na=class extends bt{urlAfterRedirects;state;type=Ue.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},el=class extends bt{urlAfterRedirects;state;type=Ue.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tl=class extends bt{urlAfterRedirects;state;shouldActivate;type=Ue.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},nl=class extends bt{urlAfterRedirects;state;type=Ue.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rl=class extends bt{urlAfterRedirects;state;type=Ue.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},il=class{route;type=Ue.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ol=class{route;type=Ue.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sl=class{snapshot;type=Ue.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},al=class{snapshot;type=Ue.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cl=class{snapshot;type=Ue.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ul=class{snapshot;type=Ue.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ra=class{},mo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function bO(t,e){return t.providers&&!t._injector&&(t._injector=Pu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Kt(t){return t.outlet||J}function CO(t,e){let n=t.filter(r=>Kt(r)===e);return n.push(...t.filter(r=>Kt(r)!==e)),n}function da(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ll=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return da(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new _o(this.rootInjector)}},_o=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ll(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ee(yt))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=eg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=eg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=tg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return tg(e,this._root).map(n=>n.value)}};function eg(t,e){if(t===e.value)return e;for(let n of e.children){let r=eg(t,n);if(r)return r}return null}function tg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=tg(t,n);if(r.length)return r.unshift(e),r}return[]}var Dt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function lo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ia=class extends dl{snapshot;constructor(e,n){super(e),this.snapshot=n,ug(this,e)}toString(){return this.snapshot.toString()}};function ND(t){let e=SO(t),n=new We([new dr("",{})]),r=new We({}),i=new We({}),o=new We({}),s=new We(""),c=new hr(n,r,o,s,i,J,t,e.root);return c.snapshot=e.root,new ia(new Dt(c,[]),e)}function SO(t){let e={},n={},r={},i="",o=new Jr([],e,r,i,n,J,t,null,{});return new oa("",new Dt(o,[]))}var hr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(oe(l=>l[ua]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>Xr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>Xr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&PD(i)&&(r.resolve[ua]=i.title),r}var Jr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ua]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},oa=class extends dl{url;constructor(e,n){super(n),this.url=e,ug(this,n)}toString(){return MD(this._root)}};function ug(t,e){e.value._routerState=t,e.children.forEach(n=>ug(t,n))}function MD(t){let e=t.children.length>0?` { ${t.children.map(MD).join(", ")} } `:"";return`${t.value}${e}`}function Gp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,on(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),on(e.params,n.params)||t.paramsSubject.next(n.params),tO(e.url,n.url)||t.urlSubject.next(n.url),on(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ng(t,e){let n=on(t.params,e.params)&&oO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ng(t.parent,e.parent))}function PD(t){return typeof t.title=="string"||t.title===null}var kD=new j(""),ha=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=J;activateEvents=new mt;deactivateEvents=new mt;attachEvents=new mt;detachEvents=new mt;routerOutletData=FE(void 0);parentContexts=k(_o);location=k(Bs);changeDetector=k(Ou);inputBinder=k(ml,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new rg(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=xu({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Wf]})}return t})(),rg=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===hr?this.route:e===_o?this.childContexts:e===kD?this.outletData:this.parent.get(e,n)}},ml=new j("");var lg=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ur({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&$s(0,"router-outlet")},dependencies:[ha],encapsulation:2})}return t})();function dg(t){let e=t.children&&t.children.map(dg),n=e?ve(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==J&&(n.component=lg),n}function AO(t,e,n){let r=sa(t,e._root,n?n._root:void 0);return new ia(r,e)}function sa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=RO(t,e,n);return new Dt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>sa(t,c)),s}}let r=NO(e.value),i=e.children.map(o=>sa(t,o));return new Dt(r,i)}}function RO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return sa(t,r,i);return sa(t,r)})}function NO(t){return new hr(new We(t.url),new We(t.params),new We(t.queryParams),new We(t.fragment),new We(t.data),t.outlet,t.component,t)}var yo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},xD="ngNavigationCancelingError";function fl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=po(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=OD(!1,vt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function OD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[xD]=!0,n.cancellationCode=e,n}function MO(t){return FD(t)&&po(t.url)}function FD(t){return!!t&&t[xD]}var PO=(t,e,n,r)=>oe(i=>(new ig(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ig=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Gp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=lo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=lo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=lo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=lo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ul(o.value.snapshot))}),e.children.length&&this.forwardEvent(new al(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Gp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Gp(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},pl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function kO(t,e,n){let r=t._root,i=e?e._root:null;return Zs(r,i,n,[r.value])}function xO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Io(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Mw(t)?t:e.get(t):r}function Zs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=lo(e);return t.children.forEach(s=>{OO(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Xs(c,n.getContext(s),i)),i}function OO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=FO(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new pl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Zs(t,e,c?c.children:null,r,i):Zs(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new fo(c.outlet.component,s))}else s&&Xs(e,c,i),i.canActivateChecks.push(new pl(r)),o.component?Zs(t,null,c?c.children:null,r,i):Zs(t,null,n,r,i);return i}function FO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Zr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Zr(t.url,e.url)||!on(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ng(t,e)||!on(t.queryParams,e.queryParams);case"paramsChange":default:return!ng(t,e)}}function Xs(t,e,n){let r=lo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Xs(s,e.children.getContext(o),n):Xs(s,null,n):Xs(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new fo(e.outlet.component,i)):n.canDeactivateChecks.push(new fo(null,i)):n.canDeactivateChecks.push(new fo(null,i))}function fa(t){return typeof t=="function"}function LO(t){return typeof t=="boolean"}function VO(t){return t&&fa(t.canLoad)}function jO(t){return t&&fa(t.canActivate)}function UO(t){return t&&fa(t.canActivateChild)}function BO(t){return t&&fa(t.canDeactivate)}function $O(t){return t&&fa(t.canMatch)}function LD(t){return t instanceof Tn||t?.name==="EmptyError"}var Gu=Symbol("INITIAL_VALUE");function vo(){return Ut(t=>Bc(t.map(e=>e.pipe(Dn(1),zc(Gu)))).pipe(oe(e=>{for(let n of e)if(n!==!0){if(n===Gu)return Gu;if(n===!1||HO(n))return n}return!0}),At(e=>e!==Gu),Dn(1)))}function HO(t){return po(t)||t instanceof yo}function qO(t,e){return Fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Q(ve(F({},n),{guardsResult:!0})):zO(s,r,i,t).pipe(Fe(c=>c&&LO(c)?WO(r,o,t,e):Q(c)),oe(c=>ve(F({},n),{guardsResult:c})))})}function zO(t,e,n,r){return Ae(t).pipe(Fe(i=>ZO(i.component,i.route,n,e,r)),bn(i=>i!==!0,!0))}function WO(t,e,n,r){return Ae(e).pipe(zi(i=>qi(KO(i.route.parent,r),GO(i.route,r),YO(t,i.path,n),QO(t,i.route,n))),bn(i=>i!==!0,!0))}function GO(t,e){return t!==null&&e&&e(new cl(t)),Q(!0)}function KO(t,e){return t!==null&&e&&e(new sl(t)),Q(!0)}function QO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>$c(()=>{let s=da(e)??n,c=Io(o,s),u=jO(c)?c.canActivate(e,t):lt(s,()=>c(e,t));return fr(u).pipe(bn())}));return Q(i).pipe(vo())}function YO(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>xO(s)).filter(s=>s!==null).map(s=>$c(()=>{let c=s.guards.map(u=>{let l=da(s.node)??n,f=Io(u,l),p=UO(f)?f.canActivateChild(r,t):lt(l,()=>f(r,t));return fr(p).pipe(bn())});return Q(c).pipe(vo())}));return Q(o).pipe(vo())}function ZO(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(c=>{let u=da(e)??i,l=Io(c,u),f=BO(l)?l.canDeactivate(t,e,n,r):lt(u,()=>l(t,e,n,r));return fr(f).pipe(bn())});return Q(s).pipe(vo())}function JO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let c=Io(s,t),u=VO(c)?c.canLoad(e,n):lt(t,()=>c(e,n));return fr(u)});return Q(o).pipe(vo(),VD(r))}function VD(t){return Cc(Ge(e=>{if(typeof e!="boolean")throw fl(t,e)}),oe(e=>e===!0))}function XO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let c=Io(s,t),u=$O(c)?c.canMatch(e,n):lt(t,()=>c(e,n));return fr(u)});return Q(o).pipe(vo(),VD(r))}var aa=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ca=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function uo(t){return Hi(new aa(t))}function e1(t){return Hi(new U(4e3,!1))}function t1(t){return Hi(OD(!1,vt.GuardRejected))}var og=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[J])return e1(`${e.redirectTo}`);i=i.children[J]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:m,params:y,data:A,title:R}=i,P=lt(o,()=>c({params:y,data:A,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:m,title:R}));if(P instanceof an)throw new ca(P);n=P}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ca(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new an(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new fe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},sg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function n1(t,e,n,r,i){let o=jD(t,e,n);return o.matched?(r=bO(e,r),XO(r,e,n,i).pipe(oe(s=>s===!0?o:F({},sg)))):Q(o)}function jD(t,e,n){if(e.path==="**")return r1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},sg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||pD)(n,t,e);if(!i)return F({},sg);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function r1(t){return{matched:!0,parameters:t.length>0?mD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function dD(t,e,n,r){return n.length>0&&s1(t,n,r)?{segmentGroup:new fe(e,o1(r,new fe(n,t.children))),slicedSegments:[]}:n.length===0&&a1(t,n,r)?{segmentGroup:new fe(t.segments,i1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new fe(t.segments,t.children),slicedSegments:n}}function i1(t,e,n,r){let i={};for(let o of n)if(yl(t,e,o)&&!r[Kt(o)]){let s=new fe([],{});i[Kt(o)]=s}return F(F({},r),i)}function o1(t,e){let n={};n[J]=e;for(let r of t)if(r.path===""&&Kt(r)!==J){let i=new fe([],{});n[Kt(r)]=i}return n}function s1(t,e,n){return n.some(r=>yl(t,e,r)&&Kt(r)!==J)}function a1(t,e,n){return n.some(r=>yl(t,e,r))}function yl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function c1(t,e,n){return e.length===0&&!t.children[n]}var ag=class{};function u1(t,e,n,r,i,o,s="emptyOnly"){return new cg(t,e,n,r,i,s,o).recognize()}var l1=31,cg=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new og(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=dD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:n,rootSnapshot:r})=>{let i=new Dt(r,n),o=new oa("",i),s=bD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Jr([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,J,n).pipe(oe(r=>({children:r,rootSnapshot:n})),tr(r=>{if(r instanceof ca)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof aa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof Dt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ae(o).pipe(zi(s=>{let c=r.children[s],u=CO(n,s);return this.processSegmentGroup(e,u,c,s,i)}),qc((s,c)=>(s.push(...c),s)),nr(null),Jh(),Fe(s=>{if(s===null)return uo(r);let c=UD(s);return d1(c),Q(c)}))}processSegment(e,n,r,i,o,s,c){return Ae(n).pipe(zi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,c).pipe(tr(l=>{if(l instanceof aa)return Q(null);throw l}))),bn(u=>!!u),tr(u=>{if(LD(u))return c1(r,i,o)?Q(new ag):uo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,c,u){return Kt(r)!==s&&(s===J||!yl(i,o,r))?uo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):uo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=jD(n,i,o);if(!u)return uo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>l1&&(this.allowRedirects=!1));let y=new Jr(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,hD(i),Kt(i),i.component??i._loadedComponent??null,i,fD(i)),A=hl(y,c,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data);let R=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(Fe(P=>this.processSegment(e,r,n,P.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let c=n1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Ut(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ut(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,A=new Jr(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,hD(r),Kt(r),r.component??r._loadedComponent??null,r,fD(r)),R=hl(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(R.params),A.data=Object.freeze(R.data);let{segmentGroup:P,slicedSegments:V}=dD(n,m,y,l);if(V.length===0&&P.hasChildren())return this.processChildren(f,l,P,A).pipe(oe(W=>new Dt(A,W)));if(l.length===0&&V.length===0)return Q(new Dt(A,[]));let q=Kt(r)===o;return this.processSegment(f,l,P,V,q?J:o,!0,A).pipe(oe(W=>new Dt(A,W instanceof Dt?[W]:[])))}))):uo(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):JO(e,n,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,n).pipe(Ge(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):t1(n))):Q({routes:[],injector:e})}};function d1(t){t.sort((e,n)=>e.value.outlet===J?-1:n.value.outlet===J?1:e.value.outlet.localeCompare(n.value.outlet))}function h1(t){let e=t.value.routeConfig;return e&&e.path===""}function UD(t){let e=[],n=new Set;for(let r of t){if(!h1(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=UD(r.children);e.push(new Dt(r.value,i))}return e.filter(r=>!n.has(r))}function hD(t){return t.data||{}}function fD(t){return t.resolve||{}}function f1(t,e,n,r,i,o){return Fe(s=>u1(t,e,n,r,s.extractedUrl,i,o).pipe(oe(({state:c,tree:u})=>ve(F({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function p1(t,e){return Fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of BD(u))s.add(l);let c=0;return Ae(s).pipe(zi(u=>o.has(u)?g1(u,r,t,e):(u.data=hl(u,u.parent,t).resolve,Q(void 0))),Ge(()=>c++),Wi(1),Fe(u=>c===s.size?Q(n):ft))})}function BD(t){let e=t.children.map(n=>BD(n)).flat();return[t,...e]}function g1(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!PD(i)&&(o[ua]=i.title),m1(o,t,e,r).pipe(oe(s=>(t._resolvedData=s,t.data=hl(t,t.parent,n).resolve,null)))}function m1(t,e,n,r){let i=Yp(t);if(i.length===0)return Q({});let o={};return Ae(i).pipe(Fe(s=>y1(t[s],e,n,r).pipe(bn(),Ge(c=>{if(c instanceof yo)throw fl(new ei,c);o[s]=c}))),Wi(1),oe(()=>o),tr(s=>LD(s)?ft:Hi(s)))}function y1(t,e,n,r){let i=da(e)??r,o=Io(t,i),s=o.resolve?o.resolve(e,n):lt(i,()=>o(e,n));return fr(s)}function Kp(t){return Ut(e=>{let n=t(e);return n?Ae(n).pipe(oe(()=>e)):Q(e)})}var hg=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===J);return r}getResolvedTitleForRoute(n){return n.data[ua]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>k($D),providedIn:"root"})}return t})(),$D=(()=>{class t extends hg{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ee(sD))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pa=new j("",{providedIn:"root",factory:()=>({})}),ga=new j(""),HD=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=k(VT);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=fr(n.loadComponent()).pipe(oe(zD),Ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Is(()=>{this.componentLoaders.delete(n)})),i=new ji(r,()=>new ze).pipe(Vi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=qD(r,this.compiler,n,this.onLoadEndListener).pipe(Is(()=>{this.childrenLoaders.delete(r)})),s=new ji(o,()=>new ze).pipe(Vi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qD(t,e,n,r){return fr(t.loadChildren()).pipe(oe(zD),Fe(i=>i instanceof Ep||Array.isArray(i)?Q(i):Ae(e.compileModuleAsync(i))),oe(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(ga,[],{optional:!0,self:!0}).flat()),{routes:s.map(dg),injector:o}}))}function v1(t){return t&&typeof t=="object"&&"default"in t}function zD(t){return v1(t)?t.default:t}var vl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>k(_1),providedIn:"root"})}return t})(),_1=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WD=new j("");var GD=new j(""),KD=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ze;transitionAbortSubject=new ze;configLoader=k(HD);environmentInjector=k(yt);destroyRef=k(Ls);urlSerializer=k(la);rootContexts=k(_o);location=k(ao);inputBindingEnabled=k(ml,{optional:!0})!==null;titleStrategy=k(hg);options=k(pa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=k(vl);createViewTransition=k(WD,{optional:!0});navigationErrorHandler=k(GD,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new il(i)),r=i=>this.events.next(new ol(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ve(F({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new We(null),this.transitions.pipe(At(r=>r!==null),Ut(r=>{let i=!1,o=!1;return Q(r).pipe(Ut(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),ft;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ve(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let l="";return this.events.next(new kn(s.id,this.urlSerializer.serialize(s.rawUrl),l,ta.IgnoredSameUrlNavigation)),s.resolve(!1),ft}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Q(s).pipe(Ut(l=>(this.events.next(new ti(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?ft:Promise.resolve(l))),f1(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ve(F({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let f=new na(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:f,source:p,restoredState:m,extras:y}=s,A=new ti(l,this.urlSerializer.serialize(f),p,m);this.events.next(A);let R=ND(this.rootComponentType).snapshot;return this.currentTransition=r=ve(F({},s),{targetSnapshot:R,urlAfterRedirects:f,extras:ve(F({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,Q(r)}else{let l="";return this.events.next(new kn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,ta.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ft}}),Ge(s=>{let c=new el(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),oe(s=>(this.currentTransition=r=ve(F({},s),{guards:kO(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),qO(this.environmentInjector,s=>this.events.next(s)),Ge(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw fl(this.urlSerializer,s.guardsResult);let c=new tl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(c)}),At(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",vt.GuardRejected),!1)),Kp(s=>{if(s.guards.canActivateChecks.length!==0)return Q(s).pipe(Ge(c=>{let u=new nl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ut(c=>{let u=!1;return Q(c).pipe(p1(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",vt.NoDataFromResolver)}}))}),Ge(c=>{let u=new rl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Kp(s=>{let c=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ge(f=>{u.component=f}),oe(()=>{})));for(let f of u.children)l.push(...c(f));return l};return Bc(c(s.targetSnapshot.root)).pipe(nr(null),Dn(1))}),Kp(()=>this.afterPreactivation()),Ut(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return u?Ae(u).pipe(oe(()=>r)):Q(r)}),oe(s=>{let c=AO(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ve(F({},s),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),Ge(()=>{this.events.next(new ra)}),PO(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Dn(1),Ge({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Xh(this.transitionAbortSubject.pipe(Ge(s=>{throw s}))),Is(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),tr(s=>{if(this.destroyed)return r.resolve(!1),ft;if(o=!0,FD(s))this.events.next(new sn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),MO(s)?this.events.next(new mo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new go(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=lt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof yo){let{message:l,cancellationCode:f}=fl(this.urlSerializer,u);this.events.next(new sn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new mo(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return ft}))}))}cancelNavigationTransition(n,r,i){let o=new sn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function I1(t){return t!==Zu}var QD=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>k(w1),providedIn:"root"})}return t})(),gl=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},w1=(()=>{class t extends gl{static \u0275fac=(()=>{let n;return function(i){return(n||(n=tp(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YD=(()=>{class t{urlSerializer=k(la);options=k(pa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=k(ao);urlHandlingStrategy=k(vl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new an;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof an?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=ND(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>k(E1),providedIn:"root"})}return t})(),E1=(()=>{class t extends YD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof ti?this.updateStateMemento():n instanceof kn?this.commitTransition(r):n instanceof na?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ra?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof sn&&(n.code===vt.GuardRejected||n.code===vt.NoDataFromResolver)?this.restoreHistory(r):n instanceof go?this.restoreHistory(r,!0):n instanceof Pn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let c=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,c));this.location.replaceState(n,"",u)}else{let c=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",c)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=tp(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fg(t,e){t.events.pipe(At(n=>n instanceof Pn||n instanceof sn||n instanceof go||n instanceof kn),oe(n=>n instanceof Pn||n instanceof kn?0:(n instanceof sn?n.code===vt.Redirect||n.code===vt.SupersededByNewNavigation:!1)?2:1),At(n=>n!==2),Dn(1)).subscribe(()=>{e()})}var T1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},D1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_l=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=k(MT);stateManager=k(YD);options=k(pa,{optional:!0})||{};pendingTasks=k(Kr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=k(KD);urlSerializer=k(la);location=k(ao);urlHandlingStrategy=k(vl);_events=new ze;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=k(QD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=k(ga,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!k(ml,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ce;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof sn&&r.code!==vt.Redirect&&r.code!==vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Pn)this.navigated=!0;else if(r instanceof mo){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||I1(i.source)},s);this.scheduleNavigation(c,Zu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}C1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(dg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=CD(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return SD(p,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=po(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Zu,null,r)}navigate(n,r={skipLocationChange:!1}){return b1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},T1):r===!1?i=F({},D1):i=r,po(n))return aD(this.currentUrlTree,n,i);let o=this.parseUrl(n);return aD(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let f=this.pendingTasks.add();return fg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function b1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}function C1(t){return!(t instanceof ra)&&!(t instanceof mo)}var A1=new j("");function pg(t,...e){return zt([{provide:ga,multi:!0,useValue:t},[],{provide:hr,useFactory:R1,deps:[_l]},{provide:Cp,multi:!0,useFactory:N1},e.map(n=>n.\u0275providers)])}function R1(t){return t.routerState.root}function N1(){let t=k(je);return e=>{let n=t.get(zr);if(e!==n.components[0])return;let r=t.get(_l),i=t.get(M1);t.get(P1)===1&&r.initialNavigation(),t.get(k1,null,X.Optional)?.setUpPreloading(),t.get(A1,null,X.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var M1=new j("",{factory:()=>new ze}),P1=new j("",{providedIn:"root",factory:()=>1});var k1=new j("");var Il=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ur({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&$s(0,"router-outlet")},dependencies:[co,ha],encapsulation:2})};var JD=()=>{};var tb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},O1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},wl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[f],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):O1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new mg;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},mg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},F1=function(t){let e=tb(t);return wl.encodeByteArray(e,!0)},ya=function(t){return F1(t).replace(/\./g,"")},El=function(t){try{return wl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var L1=()=>vg().__FIREBASE_DEFAULTS__,V1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&El(t[1]);return e&&JSON.parse(e)},Tl=()=>{try{return JD()||L1()||V1()||j1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_g=t=>{var e,n;return(n=(e=Tl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nb=t=>{let e=_g(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ig=()=>{var t;return(t=Tl())===null||t===void 0?void 0:t.config},wg=t=>{var e;return(e=Tl())===null||e===void 0?void 0:e[`_${t}`]};var ni=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function pr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function Dl(t){return v(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function rb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ya(JSON.stringify(n)),ya(JSON.stringify(s)),""].join(".")}var ma={};function U1(){let t={prod:[],emulator:[]};for(let e of Object.keys(ma))ma[e]?t.emulator.push(e):t.prod.push(e);return t}function B1(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var XD=!1;function bl(t,e){if(typeof window>"u"||typeof document>"u"||!pr(window.location.host)||ma[t]===e||ma[t]||XD)return;ma[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=U1().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{XD=!0,s()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=B1(r),y=n("text"),A=document.getElementById(y)||document.createElement("span"),R=n("learnmore"),P=document.getElementById(R)||document.createElement("a"),V=n("preprendIcon"),q=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let W=m.element;c(W),f(P,R);let _e=l();u(q,V),W.append(q,A,P,_e),document.body.appendChild(W)}o?(A.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Be(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ib(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function $1(){var t;let e=(t=Tl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ob(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cl(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ab(){let t=Be();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cb(){return!$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ri(){try{return typeof indexedDB=="object"}catch{return!1}}function Sl(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function ub(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var H1="FirebaseError",Qe=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=H1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dt.prototype.create)}},dt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?q1(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Qe(i,c,r)}};function q1(t,e){return t.replace(z1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var z1=/\{\$([^}]+)}/g;function lb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(eb(o)&&eb(s)){if(!Pt(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function eb(t){return t!==null&&typeof t=="object"}function va(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function db(t,e){let n=new yg(t,e);return n.subscribe.bind(n)}var yg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");W1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gg),i.error===void 0&&(i.error=gg),i.complete===void 0&&(i.complete=gg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function W1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gg(){}var G1=1e3,K1=2,Q1=4*60*60*1e3,Y1=.5;function Al(t,e=G1,n=K1){let r=e*Math.pow(n,t),i=Math.round(Y1*r*(Math.random()-.5)*2);return Math.min(Q1,r+i)}function Ye(t){return t&&t._delegate?t._delegate:t}var Re=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ii="[DEFAULT]";var Eg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ni;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J1(e))try{this.getOrInitializeService({instanceIdentifier:ii})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ii){return this.instances.has(e)}getOptions(e=ii){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Z1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ii){return this.component?this.component.multipleInstances?e:ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Z1(t){return t===ii?void 0:t}function J1(t){return t.instantiationMode==="EAGER"}var Rl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Eg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var X1=[],ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ne||{}),eF={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},tF=ne.INFO,nF={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},rF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=nF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},kt=class{constructor(e){this.name=e,this._logLevel=tF,this._logHandler=rF,this._userLogHandler=null,X1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var iF=(t,e)=>e.some(n=>t instanceof n),hb,fb;function oF(){return hb||(hb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sF(){return fb||(fb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var pb=new WeakMap,Dg=new WeakMap,gb=new WeakMap,Tg=new WeakMap,Cg=new WeakMap;function aF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(cn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&pb.set(n,t)}).catch(()=>{}),Cg.set(e,t),e}function cF(t){if(Dg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Dg.set(t,e)}var bg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mb(t){bg=t(bg)}function uF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Nl(this),e,...n);return gb.set(r,e.sort?e.sort():[e]),cn(r)}:sF().includes(t)?function(...e){return t.apply(Nl(this),e),cn(pb.get(this))}:function(...e){return cn(t.apply(Nl(this),e))}}function lF(t){return typeof t=="function"?uF(t):(t instanceof IDBTransaction&&cF(t),iF(t,oF())?new Proxy(t,bg):t)}function cn(t){if(t instanceof IDBRequest)return aF(t);if(Tg.has(t))return Tg.get(t);let e=lF(t);return e!==t&&(Tg.set(t,e),Cg.set(e,t)),e}var Nl=t=>Cg.get(t);function Ml(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=cn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(cn(s.result),u.oldVersion,u.newVersion,cn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var dF=["get","getKey","getAll","getAllKeys","count"],hF=["put","add","delete","clear"],Sg=new Map;function yb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sg.get(e))return Sg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=hF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dF.includes(n)))return;let o=function(s,...c){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Sg.set(e,o),o}mb(t=>ve(F({},t),{get:(e,n,r)=>yb(e,n)||t.get(e,n,r),has:(e,n)=>!!yb(e,n)||t.has(e,n)}));var Rg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function fF(t){let e=t.getComponent();return e?.type==="VERSION"}var Ng="@firebase/app",vb="0.13.2";var xn=new kt("@firebase/app"),pF="@firebase/app-compat",gF="@firebase/analytics-compat",mF="@firebase/analytics",yF="@firebase/app-check-compat",vF="@firebase/app-check",_F="@firebase/auth",IF="@firebase/auth-compat",wF="@firebase/database",EF="@firebase/data-connect",TF="@firebase/database-compat",DF="@firebase/functions",bF="@firebase/functions-compat",CF="@firebase/installations",SF="@firebase/installations-compat",AF="@firebase/messaging",RF="@firebase/messaging-compat",NF="@firebase/performance",MF="@firebase/performance-compat",PF="@firebase/remote-config",kF="@firebase/remote-config-compat",xF="@firebase/storage",OF="@firebase/storage-compat",FF="@firebase/firestore",LF="@firebase/ai",VF="@firebase/firestore-compat",jF="firebase",UF="11.10.0";var Mg="[DEFAULT]",BF={[Ng]:"fire-core",[pF]:"fire-core-compat",[mF]:"fire-analytics",[gF]:"fire-analytics-compat",[vF]:"fire-app-check",[yF]:"fire-app-check-compat",[_F]:"fire-auth",[IF]:"fire-auth-compat",[wF]:"fire-rtdb",[EF]:"fire-data-connect",[TF]:"fire-rtdb-compat",[DF]:"fire-fn",[bF]:"fire-fn-compat",[CF]:"fire-iid",[SF]:"fire-iid-compat",[AF]:"fire-fcm",[RF]:"fire-fcm-compat",[NF]:"fire-perf",[MF]:"fire-perf-compat",[PF]:"fire-rc",[kF]:"fire-rc-compat",[xF]:"fire-gcs",[OF]:"fire-gcs-compat",[FF]:"fire-fst",[VF]:"fire-fst-compat",[LF]:"fire-vertex","fire-js":"fire-js",[jF]:"fire-js-all"};var _a=new Map,$F=new Map,Pg=new Map;function _b(t,e){try{t.container.addComponent(e)}catch(n){xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ze(t){let e=t.name;if(Pg.has(e))return xn.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,t);for(let n of _a.values())_b(n,t);for(let n of $F.values())_b(n,t);return!0}function xt(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ot(t){return t==null?!1:t.settings!==void 0}var HF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new dt("app","Firebase",HF);var kg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Re("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}};var mr=UF;function Fg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Mg,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw gr.create("bad-app-name",{appName:String(i)});if(n||(n=Ig()),!n)throw gr.create("no-options");let o=_a.get(i);if(o){if(Pt(n,o.options)&&Pt(r,o.config))return o;throw gr.create("duplicate-app",{appName:i})}let s=new Rl(i);for(let u of Pg.values())s.addComponent(u);let c=new kg(n,r,s);return _a.set(i,c),c}function un(t=Mg){let e=_a.get(t);if(!e&&t===Mg&&Ig())return Fg();if(!e)throw gr.create("no-app",{appName:t});return e}function Pl(){return Array.from(_a.values())}function ge(t,e,n){var r;let i=(r=BF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xn.warn(c.join(" "));return}Ze(new Re(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var qF="firebase-heartbeat-database",zF=1,Ia="firebase-heartbeat-store",Ag=null;function Tb(){return Ag||(Ag=Ml(qF,zF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ia)}catch(n){console.warn(n)}}}}).catch(t=>{throw gr.create("idb-open",{originalErrorMessage:t.message})})),Ag}function WF(t){return v(this,null,function*(){try{let n=(yield Tb()).transaction(Ia),r=yield n.objectStore(Ia).get(Db(t));return yield n.done,r}catch(e){if(e instanceof Qe)xn.warn(e.message);else{let n=gr.create("idb-get",{originalErrorMessage:e?.message});xn.warn(n.message)}}})}function Ib(t,e){return v(this,null,function*(){try{let r=(yield Tb()).transaction(Ia,"readwrite");yield r.objectStore(Ia).put(e,Db(t)),yield r.done}catch(n){if(n instanceof Qe)xn.warn(n.message);else{let r=gr.create("idb-set",{originalErrorMessage:n?.message});xn.warn(r.message)}}})}function Db(t){return`${t.name}!${t.options.appId}`}var GF=1024,KF=30,xg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Og(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=wb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>KF){let s=YF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xn.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=wb(),{heartbeatsToSend:r,unsentEntries:i}=QF(this._heartbeatsCache.heartbeats),o=ya(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return xn.warn(n),""}})}};function wb(){return new Date().toISOString().substring(0,10)}function QF(t,e=GF){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Eb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Eb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Og=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return ri()?Sl().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield WF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ib(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ib(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Eb(t){return ya(JSON.stringify({version:2,heartbeats:t})).length}function YF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function ZF(t){Ze(new Re("platform-logger",e=>new Rg(e),"PRIVATE")),Ze(new Re("heartbeat",e=>new xg(e),"PRIVATE")),ge(Ng,vb,t),ge(Ng,vb,"esm2017"),ge("fire-js","")}ZF("");var JF="firebase",XF="11.10.0";ge(JF,XF,"app");function Lg(t){t===void 0&&(Gw(Lg),t=k(je));let e=t.get(Cu);return n=>new re(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var ln=new Ps("ANGULARFIRE2_VERSION");function si(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var yr=(t,e)=>{let n=e?[e]:Pl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},wo=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(wo||{}),bb=Rp()&&typeof Zone<"u"?wo.WARN:wo.SILENT;var kl=class{zone;delegate;constructor(e,n=Qh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},dn=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=k(pe);this.outsideAngular=n.runOutsideAngular(()=>new kl(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new kl(typeof Zone>"u"?void 0:Zone.current,Kh))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cb=!1;function eL(t,e){!Cb&&(bb>wo.SILENT||Rp())&&(Cb=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),bb>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function tL(t){let e=k(pe,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function oi(t){let e=k(pe,{optional:!0});return e?e.run(()=>t()):t()}var nL=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),lt(n,()=>oi(()=>t.apply(void 0,r)))),Ft=(t,e,n)=>(n||=e?wo.WARN:wo.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=k(dn),s=k(Cu),c=k(yt)}catch{return eL(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=oi(()=>s.add())),i[l]=nL(i[l],r,c));let u=tL(()=>t.apply(this,i));return e?u instanceof re?u.pipe(er(o.outsideAngular),Xn(o.insideAngular),Lg(c)):u instanceof Promise?oi(()=>new Promise((l,f)=>{s.run(()=>u).then(p=>lt(c,()=>oi(()=>l(p))),p=>lt(c,()=>oi(()=>f(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:oi(()=>u):u instanceof re?u.pipe(er(o.outsideAngular),Xn(o.insideAngular)):oi(()=>u)});var Qt=class{constructor(e){return e}},On=class{constructor(){return Pl()}};function rL(t){return t&&t.length===1?t[0]:new Qt(un())}var Vg=new j("angularfire2._apps"),iL={provide:Qt,useFactory:rL,deps:[[new ut,Vg]]},oL={provide:On,deps:[[new ut,Vg]]};function sL(t){return(e,n)=>{let r=n.get(rn);ge("angularfire",ln.full,"core"),ge("angularfire",ln.full,"app"),ge("angular",LT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Qt(i)}}function Sb(t,...e){return zt([iL,oL,{provide:Vg,useFactory:sL(t),multi:!0,deps:[pe,je,dn,...e]}])}var Ab=Ft(Fg,!0);var aL=new Map,cL={activated:!1,tokenObservers:[]},uL={initialized:!1,enabled:!1};function Yt(t){return aL.get(t)||Object.assign({},cL)}function Pb(){return uL}var lL="https://content-firebaseappcheck.googleapis.com/v1";var dL="exchangeDebugToken",Rb={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},X5=24*60*60*1e3;var Bg=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new ni,this.pending.promise.catch(n=>{}),yield hL(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ni,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function hL(t){return new Promise(e=>{setTimeout(e,t)})}var fL={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},vr=new dt("appCheck","AppCheck",fL);function kb(t){if(!Yt(t).activated)throw vr.create("use-before-activation",{appName:t.name})}function xb(r,i){return v(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,c)}catch(y){throw vr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw vr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw vr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw vr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(f[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function Ob(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${lL}/projects/${n}/apps/${r}:${dL}?key=${i}`,body:{debug_token:e}}}var pL="firebase-app-check-database",gL=1,$g="firebase-app-check-store";var xl=null;function mL(){return xl||(xl=new Promise((t,e)=>{try{let n=indexedDB.open(pL,gL);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(vr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore($g,{keyPath:"compositeKey"})}}}catch(n){e(vr.create("storage-open",{originalErrorMessage:n?.message}))}}),xl)}function yL(t,e){return vL(_L(t),e)}function vL(t,e){return v(this,null,function*(){let r=(yield mL()).transaction($g,"readwrite"),o=r.objectStore($g).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(vr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function _L(t){return`${t.options.appId}-${t.name}`}var wa=new kt("@firebase/app-check");function jg(t,e){return ri()?yL(t,e).catch(n=>{wa.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Fb(){return Pb().enabled}function Lb(){return v(this,null,function*(){let t=Pb();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var IL={error:"UNKNOWN_ERROR"};function wL(t){return wl.encodeString(JSON.stringify(t),!1)}function Hg(t,e=!1,n=!1){return v(this,null,function*(){let r=t.app;kb(r);let i=Yt(r),o=i.token,s;if(o&&!Ea(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Ea(l)?o=l:yield jg(r,void 0))}if(!e&&o&&Ea(o))return{token:o.token};let c=!1;if(Fb())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=xb(Ob(r,yield Lb()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield jg(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?wa.warn(l.message):n&&wa.error(l),Ug(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield Yt(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?wa.warn(l.message):n&&wa.error(l),s=l}let u;return o?s?Ea(o)?u={token:o.token,internalError:s}:u=Ug(s):(u={token:o.token},i.token=o,yield jg(r,o)):u=Ug(s),c&&bL(r,u),u})}function EL(t){return v(this,null,function*(){let e=t.app;kb(e);let{provider:n}=Yt(e);if(Fb()){let r=yield Lb(),{token:i}=yield xb(Ob(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function TL(t,e,n,r){let{app:i}=t,o=Yt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ea(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),Nb(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Nb(t))}function Vb(t,e){let n=Yt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Nb(t){let{app:e}=t,n=Yt(e),r=n.tokenRefresher;r||(r=DL(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function DL(t){let{app:e}=t;return new Bg(()=>v(null,null,function*(){let n=Yt(e),r;if(n.token?r=yield Hg(t,!0):r=yield Hg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Yt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Rb.RETRIAL_MIN_WAIT,Rb.RETRIAL_MAX_WAIT)}function bL(t,e){let n=Yt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ea(t){return t.expireTimeMillis-Date.now()>0}function Ug(t){return{token:wL(IL),error:t}}var qg=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Yt(this.app);for(let n of e)Vb(this.app,n.next);return Promise.resolve()}};function CL(t,e){return new qg(t,e)}function SL(t){return{getToken:e=>Hg(t,e),getLimitedUseToken:()=>EL(t),addTokenListener:e=>TL(t,"INTERNAL",e),removeTokenListener:e=>Vb(t.app,e)}}var AL="@firebase/app-check",RL="0.10.1";var NL="app-check",Mb="app-check-internal";function ML(){Ze(new Re(NL,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return CL(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Mb).initialize()})),Ze(new Re(Mb,t=>{let e=t.getProvider("app-check").getImmediate();return SL(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ge(AL,RL)}ML();var PL="app-check";var Eo=class{constructor(){return yr(PL)}};var kL=["localhost","0.0.0.0","127.0.0.1"],h7=typeof window<"u"&&kL.includes(window.location.hostname);function Xb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var eC=Xb,tC=new dt("auth","Firebase",Xb());var Ul=new kt("@firebase/auth");function xL(t,...e){Ul.logLevel<=ne.WARN&&Ul.warn(`Auth (${mr}): ${t}`,...e)}function Fl(t,...e){Ul.logLevel<=ne.ERROR&&Ul.error(`Auth (${mr}): ${t}`,...e)}function wr(t,...e){throw lm(t,...e)}function ci(t,...e){return lm(t,...e)}function nC(t,e,n){let r=Object.assign(Object.assign({},eC()),{[e]:n});return new dt("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return nC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tC.create(t,...e)}function z(t,e,...n){if(!t)throw lm(e,...n)}function Fn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Fl(e),new Error(e)}function Er(t,e){t||Fn(e)}function Kg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function OL(){return jb()==="http:"||jb()==="https:"}function jb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function FL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OL()||Cl()||"connection"in navigator)?navigator.onLine:!0}function LL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ui=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=ib()||sb()}get(){return FL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function dm(t,e){Er(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Bl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var VL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var jL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UL=new ui(3e4,6e4);function hm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function To(o,s,c,u){return v(this,arguments,function*(t,e,n,r,i={}){return rC(t,i,()=>v(null,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=va(Object.assign({key:t.config.apiKey},f)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return ob()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&pr(t.emulatorConfig.host)&&(y.credentials="include"),Bl.fetch()(yield iC(t,t.config.apiHost,n,p),y)}))})}function rC(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},VL),e);try{let i=new Qg(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ol(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ol(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ol(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ol(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw nC(t,f,l);wr(t,f)}}catch(i){if(i instanceof Qe)throw i;wr(t,"network-request-failed",{message:String(i)})}})}function BL(o,s,c,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield To(t,e,n,r,i);return"mfaPendingCredential"in l&&wr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function iC(t,e,n,r){return v(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?dm(t.config,i):`${t.config.apiScheme}://${i}`;return jL.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Qg=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ci(this.auth,"network-request-failed")),UL.get())})}};function Ol(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ci(t,e,r);return i.customData._tokenResponse=n,i}function $L(t,e){return v(this,null,function*(){return To(t,"POST","/v1/accounts:delete",e)})}function $l(t,e){return v(this,null,function*(){return To(t,"POST","/v1/accounts:lookup",e)})}function Ta(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function fm(t,e=!1){return v(this,null,function*(){let n=Ye(t),r=yield n.getIdToken(e),i=pm(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ta(zg(i.auth_time)),issuedAtTime:Ta(zg(i.iat)),expirationTime:Ta(zg(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function zg(t){return Number(t)*1e3}function pm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fl("JWT malformed, contained fewer than 3 sections"),null;try{let i=El(n);return i?JSON.parse(i):(Fl("Failed to decode base64 JWT payload"),null)}catch(i){return Fl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ub(t){let e=pm(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ba(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Qe&&HL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function HL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Yg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ca=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ta(this.lastLoginAt),this.creationTime=Ta(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Hl(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ba(t,$l(n,{idToken:r}));z(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?oC(o.providerUserInfo):[],c=qL(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ca(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function gm(t){return v(this,null,function*(){let e=Ye(t);yield Hl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function qL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oC(t){return t.map(e=>{var{providerId:n}=e,r=Yh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function zL(t,e){return v(this,null,function*(){let n=yield rC(t,{},()=>v(null,null,function*(){let r=va({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield iC(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return t.emulatorConfig&&pr(t.emulatorConfig.host)&&(u.credentials="include"),Bl.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function WL(t,e){return v(this,null,function*(){return To(t,"POST","/v2/accounts:revokeToken",hm(t,e))})}var Da=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ub(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){z(e.length!==0,"internal-error");let n=Ub(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield zL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Fn("not implemented")}};function _r(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ir=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Yh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ca(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield ba(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return fm(this,e)}reload(){return gm(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Hl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Ot(this.auth.app))return Promise.reject(ai(this.auth));let e=yield this.getIdToken();return yield ba(this,$L(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=n.createdAt)!==null&&l!==void 0?l:void 0,q=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:W,emailVerified:_e,isAnonymous:ot,providerData:ye,stsTokenManager:T}=n;z(W&&T,e,"internal-error");let _=Da.fromJSON(this.name,T);z(typeof W=="string",e,"internal-error"),_r(p,e.name),_r(m,e.name),z(typeof _e=="boolean",e,"internal-error"),z(typeof ot=="boolean",e,"internal-error"),_r(y,e.name),_r(A,e.name),_r(R,e.name),_r(P,e.name),_r(V,e.name),_r(q,e.name);let w=new t({uid:W,auth:e,email:m,emailVerified:_e,displayName:p,isAnonymous:ot,photoURL:A,phoneNumber:y,tenantId:R,stsTokenManager:_,createdAt:V,lastLoginAt:q});return ye&&Array.isArray(ye)&&(w.providerData=ye.map(E=>Object.assign({},E))),P&&(w._redirectEventId=P),w}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new Da;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Hl(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?oC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Da;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ca(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var Bb=new Map;function Ln(t){Er(t instanceof Function,"Expected a class definition");let e=Bb.get(t);return e?(Er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bb.set(t,e),e)}var GL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Zg=GL;function Ll(t,e,n){return`firebase:${t}:${e}:${n}`}var ql=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ll(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ll("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield $l(this.auth,{idToken:e}).catch(()=>{});return n?Ir._fromGetAccountInfoResponse(this.auth,n,e):null}return Ir._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(Ln(Zg),e,r);let i=(yield Promise.all(n.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ln(Zg),s=Ll(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(s);if(f){let p;if(typeof f=="string"){let m=yield $l(e,{idToken:f}).catch(()=>{});if(!m)break;p=yield Ir._fromGetAccountInfoResponse(e,m,f)}else p=Ir._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function $b(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dC(e))return"Blackberry";if(hC(e))return"Webos";if(aC(e))return"Safari";if((e.includes("chrome/")||cC(e))&&!e.includes("edge/"))return"Chrome";if(lC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function sC(t=Be()){return/firefox\//i.test(t)}function aC(t=Be()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cC(t=Be()){return/crios\//i.test(t)}function uC(t=Be()){return/iemobile/i.test(t)}function lC(t=Be()){return/android/i.test(t)}function dC(t=Be()){return/blackberry/i.test(t)}function hC(t=Be()){return/webos/i.test(t)}function mm(t=Be()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KL(t=Be()){var e;return mm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QL(){return ab()&&document.documentMode===10}function fC(t=Be()){return mm(t)||lC(t)||hC(t)||dC(t)||/windows phone/i.test(t)||uC(t)}function pC(t,e=[]){let n;switch(t){case"Browser":n=$b(Be());break;case"Worker":n=`${$b(Be())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mr}/${r}`}var Jg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function YL(n){return v(this,arguments,function*(t,e={}){return To(t,"GET","/v2/passwordPolicy",hm(t,e))})}var ZL=6,Xg=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:ZL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var em=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zl(this),this.idTokenSubscription=new zl(this),this.beforeStateQueue=new Jg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ln(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield ql.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield $l(this,{idToken:e}),r=yield Ir._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(Ot(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Hl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=LL()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Ot(this.app))return Promise.reject(ai(this));let n=e?Ye(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Ot(this.app)?Promise.reject(ai(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ot(this.app)?Promise.reject(ai(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Ln(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield YL(this),n=new Xg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield WL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ln(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=yield ql.create(this,[Ln(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Ot(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&xL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ym(t){return Ye(t)}var zl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=db(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var vm={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JL(t){vm=t}function XL(t){return vm.loadJS(t)}function eV(){return vm.gapiScript}function gC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function _m(t,e){let n=xt(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Pt(o,e??{}))return i;wr(i,"already-initialized")}return n.initialize({options:e})}function tV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ln);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Im(t,e,n){let r=ym(t);z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=mC(e),{host:s,port:c}=nV(e),u=c===null?"":`:${c}`,l={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),z(Pt(l,r.config.emulator)&&Pt(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,pr(s)?(Dl(`${o}//${s}${u}`),bl("Auth",!0)):i||rV()}function mC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nV(t){let e=mC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Hb(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:Hb(s)}}}function Hb(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function rV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Wl=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fn("not implemented")}_getIdTokenResponse(e){return Fn("not implemented")}_linkToIdToken(e,n){return Fn("not implemented")}_getReauthenticationResolver(e){return Fn("not implemented")}};function Wg(t,e){return v(this,null,function*(){return BL(t,"POST","/v1/accounts:signInWithIdp",hm(t,e))})}var Gl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var tm=class extends Gl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Sa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield Ir._fromIdTokenResponse(e,r,i),s=qb(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=qb(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function qb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var nm=class t extends Qe{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function yC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?nm._fromErrorAndOperation(t,o,e,r):o})}function iV(t,e,n=!1){return v(this,null,function*(){let r=yield ba(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Sa._forOperation(t,"link",r)})}function oV(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(Ot(r.app))return Promise.reject(ai(r));let i="reauthenticate";try{let o=yield ba(t,yC(r,i,e,t),n);z(o.idToken,r,"internal-error");let s=pm(o.idToken);z(s,r,"internal-error");let{sub:c}=s;return z(t.uid===c,r,"user-mismatch"),Sa._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&wr(r,"user-mismatch"),o}})}function sV(t,e,n=!1){return v(this,null,function*(){if(Ot(t.app))return Promise.reject(ai(t));let r="signIn",i=yield yC(t,r,e),o=yield Sa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function wm(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function Em(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}var Kl="__sak";var Ql=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kl,"1"),this.storage.removeItem(Kl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var aV=1e3,cV=10,uV=(()=>{class t extends Ql{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);QL()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,cV):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},aV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield Zn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield Zn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield Zn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),vC=uV;var lV=(()=>{class t extends Ql{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Tm=lV;function dV(t){return Promise.all(t.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var hV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(f=>v(this,null,function*(){return f(r.origin,s)})),l=yield dV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function _C(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var rm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=_C("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(m.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function hn(){return window}function fV(t){hn().location.href=t}function IC(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}function pV(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function gV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mV(){return IC()?self:null}var wC="firebaseLocalStorageDb",yV=1,Yl="firebaseLocalStorage",EC="fbase_key",li=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Jl(t,e){return t.transaction([Yl],e?"readwrite":"readonly").objectStore(Yl)}function vV(){let t=indexedDB.deleteDatabase(wC);return new li(t).toPromise()}function im(){let t=indexedDB.open(wC,yV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Yl,{keyPath:EC})}catch(i){n(i)}}),t.addEventListener("success",()=>v(null,null,function*(){let r=t.result;r.objectStoreNames.contains(Yl)?e(r):(r.close(),yield vV(),e(yield im()))}))})}function zb(t,e,n){return v(this,null,function*(){let r=Jl(t,!0).put({[EC]:e,value:n});return new li(r).toPromise()})}function _V(t,e){return v(this,null,function*(){let n=Jl(t,!1).get(e),r=yield new li(n).toPromise();return r===void 0?null:r.value})}function Wb(t,e){let n=Jl(t,!0).delete(e);return new li(n).toPromise()}var IV=800,wV=3,EV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield im(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>wV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return IC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=hV._getInstance(mV()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield pV(),!this.activeServiceWorker)return;this.sender=new rm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||gV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield im();return yield zb(n,Kl,"1"),yield Wb(n,Kl),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>zb(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>_V(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>Wb(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=Jl(o,!1).getAll();return new li(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),IV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),TC=EV;var E7=gC("rcb"),T7=new ui(3e4,6e4);function TV(t,e){return e?Ln(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Aa=class extends Wl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function DV(t){return sV(t.auth,new Aa(t),t.bypassAuthState)}function bV(t){let{auth:e,user:n}=t;return z(n,e,"internal-error"),oV(n,new Aa(t),t.bypassAuthState)}function CV(t){return v(this,null,function*(){let{auth:e,user:n}=t;return z(n,e,"internal-error"),iV(n,new Aa(t),t.bypassAuthState)})}var om=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DV;case"linkViaPopup":case"linkViaRedirect":return CV;case"reauthViaPopup":case"reauthViaRedirect":return bV;default:wr(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var D7=new ui(2e3,1e4);var SV="pendingRedirect",Vl=new Map,sm=class t extends om{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Vl.get(this.auth._key());if(!e){try{let r=(yield AV(this.resolver,this.auth))?yield Zn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vl.set(this.auth._key(),e)}return this.bypassAuthState||Vl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Zn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Zn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function AV(t,e){return v(this,null,function*(){let n=MV(e),r=NV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function RV(t,e){Vl.set(t._key(),e)}function NV(t){return Ln(t._redirectPersistence)}function MV(t){return Ll(SV,t.config.apiKey,t.name)}function PV(t,e,n=!1){return v(this,null,function*(){if(Ot(t.app))return Promise.reject(ai(t));let r=ym(t),i=TV(r,e),s=yield new sm(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var kV=10*60*1e3,am=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ci(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gb(e))}saveEventToCache(e){this.cachedEventUids.add(Gb(e)),this.lastProcessedEventTime=Date.now()}};function Gb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function xV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DC(t);default:return!1}}function OV(n){return v(this,arguments,function*(t,e={}){return To(t,"GET","/v1/projects",e)})}var FV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LV=/^https?/;function VV(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield OV(t);for(let n of e)try{if(jV(n))return}catch{}wr(t,"unauthorized-domain")})}function jV(t){let e=Kg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!LV.test(n))return!1;if(FV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var UV=new ui(3e4,6e4);function Kb(){let t=hn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BV(t){return new Promise((e,n)=>{var r,i,o;function s(){Kb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kb(),n(ci(t,"network-request-failed"))},timeout:UV.get()})}if(!((i=(r=hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=hn().gapi)===null||o===void 0)&&o.load)s();else{let c=gC("iframefcb");return hn()[c]=()=>{gapi.load?s():n(ci(t,"network-request-failed"))},XL(`${eV()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw jl=null,e})}var jl=null;function $V(t){return jl=jl||BV(t),jl}var HV=new ui(5e3,15e3),qV="__/auth/iframe",zV="emulator/auth/iframe",WV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KV(t){let e=t.config;z(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?dm(e,zV):`https://${t.config.authDomain}/${qV}`,r={apiKey:e.apiKey,appName:t.name,v:mr},i=GV.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${va(r).slice(1)}`}function QV(t){return v(this,null,function*(){let e=yield $V(t),n=hn().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:KV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WV,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ci(t,"network-request-failed"),c=hn().setTimeout(()=>{o(s)},HV.get());function u(){hn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var YV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZV=500,JV=600,XV="_blank",e2="http://localhost",Zl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function t2(t,e,n,r=ZV,i=JV){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},YV),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Be().toLowerCase();n&&(c=cC(l)?XV:n),sC(l)&&(e=e||e2,u.scrollbars="yes");let f=Object.entries(u).reduce((m,[y,A])=>`${m}${y}=${A},`,"");if(KL(l)&&c!=="_self")return n2(e||"",c),new Zl(null);let p=window.open(e||"",c,f);z(p,t,"popup-blocked");try{p.focus()}catch{}return new Zl(p)}function n2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var r2="__/auth/handler",i2="emulator/auth/handler",o2=encodeURIComponent("fac");function Qb(t,e,n,r,i,o){return v(this,null,function*(){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mr,eventId:i};if(e instanceof Gl){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",lb(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof tm){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),l=u?`#${o2}=${encodeURIComponent(u)}`:"";return`${s2(t)}?${va(c).slice(1)}${l}`})}function s2({config:t}){return t.emulator?dm(t,i2):`https://${t.authDomain}/${r2}`}var Gg="webStorageSupport",cm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tm,this._completeRedirectFn=PV,this._overrideRedirectResult=RV}_openPopup(e,n,r,i){return v(this,null,function*(){var o;Er((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Qb(e,n,r,Kg(),i);return t2(e,s,_C())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield Qb(e,n,r,Kg(),i);return fV(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Er(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield QV(e),r=new am(e);return n.register("authEvent",i=>(z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gg,{type:Gg},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Gg];s!==void 0&&n(!!s),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fC()||aC()||mm()}},bC=cm;var Yb="@firebase/auth",Zb="1.10.8";var um=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function a2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c2(t){Ze(new Re("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pC(t)},l=new em(r,i,o,u);return tV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ze(new Re("auth-internal",e=>{let n=ym(e.getProvider("auth").getImmediate());return(r=>new um(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ge(Yb,Zb,a2(t)),ge(Yb,Zb,"esm2017")}var u2=5*60,l2=wg("authIdTokenMaxAge")||u2,Jb=null,d2=t=>e=>v(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l2)return;let i=n?.token;Jb!==i&&(Jb=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Dm(t=un()){let e=xt(t,"auth");if(e.isInitialized())return e.getImmediate();let n=_m(t,{popupRedirectResolver:bC,persistence:[TC,vC,Tm]}),r=wg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=d2(o.toString());Em(n,s,()=>s(n.currentUser)),wm(n,c=>s(c))}}let i=_g("auth");return i&&Im(n,`http://${i}`),n}function h2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}JL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=ci("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",h2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c2("Browser");var CC="auth",Ra=class{constructor(e){return e}},Na=class{constructor(){return yr(CC)}};var bm=new j("angularfire2.auth-instances");function oj(t,e){let n=si(CC,t,e);return n&&new Ra(n)}function sj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ra(r)}}var aj={provide:Na,deps:[[new ut,bm]]},cj={provide:Ra,useFactory:oj,deps:[[new ut,bm],Qt]};function SC(t,...e){return ge("angularfire",ln.full,"auth"),zt([cj,aj,{provide:bm,useFactory:sj(t),multi:!0,deps:[pe,je,dn,On,[new ut,Eo],...e]}])}var AC=Ft(Dm,!0);var RC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},NC={};var Vn,Cm;(function(){var t;function e(T,_){function w(){}w.prototype=_.prototype,T.D=_.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(E,D,C){for(var I=Array(arguments.length-2),_n=2;_n<arguments.length;_n++)I[_n-2]=arguments[_n];return _.prototype[D].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,w){w||(w=0);var E=Array(16);if(typeof _=="string")for(var D=0;16>D;++D)E[D]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(D=0;16>D;++D)E[D]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=T.g[0],w=T.g[1],D=T.g[2];var C=T.g[3],I=_+(C^w&(D^C))+E[0]+3614090360&4294967295;_=w+(I<<7&4294967295|I>>>25),I=C+(D^_&(w^D))+E[1]+3905402710&4294967295,C=_+(I<<12&4294967295|I>>>20),I=D+(w^C&(_^w))+E[2]+606105819&4294967295,D=C+(I<<17&4294967295|I>>>15),I=w+(_^D&(C^_))+E[3]+3250441966&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(C^w&(D^C))+E[4]+4118548399&4294967295,_=w+(I<<7&4294967295|I>>>25),I=C+(D^_&(w^D))+E[5]+1200080426&4294967295,C=_+(I<<12&4294967295|I>>>20),I=D+(w^C&(_^w))+E[6]+2821735955&4294967295,D=C+(I<<17&4294967295|I>>>15),I=w+(_^D&(C^_))+E[7]+4249261313&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(C^w&(D^C))+E[8]+1770035416&4294967295,_=w+(I<<7&4294967295|I>>>25),I=C+(D^_&(w^D))+E[9]+2336552879&4294967295,C=_+(I<<12&4294967295|I>>>20),I=D+(w^C&(_^w))+E[10]+4294925233&4294967295,D=C+(I<<17&4294967295|I>>>15),I=w+(_^D&(C^_))+E[11]+2304563134&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(C^w&(D^C))+E[12]+1804603682&4294967295,_=w+(I<<7&4294967295|I>>>25),I=C+(D^_&(w^D))+E[13]+4254626195&4294967295,C=_+(I<<12&4294967295|I>>>20),I=D+(w^C&(_^w))+E[14]+2792965006&4294967295,D=C+(I<<17&4294967295|I>>>15),I=w+(_^D&(C^_))+E[15]+1236535329&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(D^C&(w^D))+E[1]+4129170786&4294967295,_=w+(I<<5&4294967295|I>>>27),I=C+(w^D&(_^w))+E[6]+3225465664&4294967295,C=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(C^_))+E[11]+643717713&4294967295,D=C+(I<<14&4294967295|I>>>18),I=w+(C^_&(D^C))+E[0]+3921069994&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(D^C&(w^D))+E[5]+3593408605&4294967295,_=w+(I<<5&4294967295|I>>>27),I=C+(w^D&(_^w))+E[10]+38016083&4294967295,C=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(C^_))+E[15]+3634488961&4294967295,D=C+(I<<14&4294967295|I>>>18),I=w+(C^_&(D^C))+E[4]+3889429448&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(D^C&(w^D))+E[9]+568446438&4294967295,_=w+(I<<5&4294967295|I>>>27),I=C+(w^D&(_^w))+E[14]+3275163606&4294967295,C=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(C^_))+E[3]+4107603335&4294967295,D=C+(I<<14&4294967295|I>>>18),I=w+(C^_&(D^C))+E[8]+1163531501&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(D^C&(w^D))+E[13]+2850285829&4294967295,_=w+(I<<5&4294967295|I>>>27),I=C+(w^D&(_^w))+E[2]+4243563512&4294967295,C=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(C^_))+E[7]+1735328473&4294967295,D=C+(I<<14&4294967295|I>>>18),I=w+(C^_&(D^C))+E[12]+2368359562&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(w^D^C)+E[5]+4294588738&4294967295,_=w+(I<<4&4294967295|I>>>28),I=C+(_^w^D)+E[8]+2272392833&4294967295,C=_+(I<<11&4294967295|I>>>21),I=D+(C^_^w)+E[11]+1839030562&4294967295,D=C+(I<<16&4294967295|I>>>16),I=w+(D^C^_)+E[14]+4259657740&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(w^D^C)+E[1]+2763975236&4294967295,_=w+(I<<4&4294967295|I>>>28),I=C+(_^w^D)+E[4]+1272893353&4294967295,C=_+(I<<11&4294967295|I>>>21),I=D+(C^_^w)+E[7]+4139469664&4294967295,D=C+(I<<16&4294967295|I>>>16),I=w+(D^C^_)+E[10]+3200236656&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(w^D^C)+E[13]+681279174&4294967295,_=w+(I<<4&4294967295|I>>>28),I=C+(_^w^D)+E[0]+3936430074&4294967295,C=_+(I<<11&4294967295|I>>>21),I=D+(C^_^w)+E[3]+3572445317&4294967295,D=C+(I<<16&4294967295|I>>>16),I=w+(D^C^_)+E[6]+76029189&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(w^D^C)+E[9]+3654602809&4294967295,_=w+(I<<4&4294967295|I>>>28),I=C+(_^w^D)+E[12]+3873151461&4294967295,C=_+(I<<11&4294967295|I>>>21),I=D+(C^_^w)+E[15]+530742520&4294967295,D=C+(I<<16&4294967295|I>>>16),I=w+(D^C^_)+E[2]+3299628645&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(D^(w|~C))+E[0]+4096336452&4294967295,_=w+(I<<6&4294967295|I>>>26),I=C+(w^(_|~D))+E[7]+1126891415&4294967295,C=_+(I<<10&4294967295|I>>>22),I=D+(_^(C|~w))+E[14]+2878612391&4294967295,D=C+(I<<15&4294967295|I>>>17),I=w+(C^(D|~_))+E[5]+4237533241&4294967295,w=D+(I<<21&4294967295|I>>>11),I=_+(D^(w|~C))+E[12]+1700485571&4294967295,_=w+(I<<6&4294967295|I>>>26),I=C+(w^(_|~D))+E[3]+2399980690&4294967295,C=_+(I<<10&4294967295|I>>>22),I=D+(_^(C|~w))+E[10]+4293915773&4294967295,D=C+(I<<15&4294967295|I>>>17),I=w+(C^(D|~_))+E[1]+2240044497&4294967295,w=D+(I<<21&4294967295|I>>>11),I=_+(D^(w|~C))+E[8]+1873313359&4294967295,_=w+(I<<6&4294967295|I>>>26),I=C+(w^(_|~D))+E[15]+4264355552&4294967295,C=_+(I<<10&4294967295|I>>>22),I=D+(_^(C|~w))+E[6]+2734768916&4294967295,D=C+(I<<15&4294967295|I>>>17),I=w+(C^(D|~_))+E[13]+1309151649&4294967295,w=D+(I<<21&4294967295|I>>>11),I=_+(D^(w|~C))+E[4]+4149444226&4294967295,_=w+(I<<6&4294967295|I>>>26),I=C+(w^(_|~D))+E[11]+3174756917&4294967295,C=_+(I<<10&4294967295|I>>>22),I=D+(_^(C|~w))+E[2]+718787259&4294967295,D=C+(I<<15&4294967295|I>>>17),I=w+(C^(D|~_))+E[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var w=_-this.blockSize,E=this.B,D=this.h,C=0;C<_;){if(D==0)for(;C<=w;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<_;)if(E[D++]=T.charCodeAt(C++),D==this.blockSize){i(this,E),D=0;break}}else for(;C<_;)if(E[D++]=T[C++],D==this.blockSize){i(this,E),D=0;break}}this.h=D,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var w=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=w&255,w/=256;for(this.u(T),T=Array(16),_=w=0;4>_;++_)for(var E=0;32>E;E+=8)T[w++]=this.g[_]>>>E&255;return T};function o(T,_){var w=c;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=_(T)}function s(T,_){this.h=_;for(var w=[],E=!0,D=T.length-1;0<=D;D--){var C=T[D]|0;E&&C==_||(w[D]=C,E=!1)}this.g=w}var c={};function u(T){return-128<=T&&128>T?o(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return P(l(-T));for(var _=[],w=1,E=0;T>=w;E++)_[E]=T/w|0,w*=4294967296;return new s(_,0)}function f(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return P(f(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(_,8)),E=p,D=0;D<T.length;D+=8){var C=Math.min(8,T.length-D),I=parseInt(T.substring(D,D+C),_);8>C?(C=l(Math.pow(_,C)),E=E.j(C).add(l(I))):(E=E.j(w),E=E.add(l(I)))}return E}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-P(this).m();for(var T=0,_=1,w=0;w<this.g.length;w++){var E=this.i(w);T+=(0<=E?E:4294967296+E)*_,_*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A(this))return"0";if(R(this))return"-"+P(this).toString(T);for(var _=l(Math.pow(T,6)),w=this,E="";;){var D=_e(w,_).g;w=V(w,D.j(_));var C=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=D,A(w))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function A(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function R(T){return T.h==-1}t.l=function(T){return T=V(this,T),R(T)?-1:A(T)?0:1};function P(T){for(var _=T.g.length,w=[],E=0;E<_;E++)w[E]=~T.g[E];return new s(w,~T.h).add(m)}t.abs=function(){return R(this)?P(this):this},t.add=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0,D=0;D<=_;D++){var C=E+(this.i(D)&65535)+(T.i(D)&65535),I=(C>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);E=I>>>16,C&=65535,I&=65535,w[D]=I<<16|C}return new s(w,w[w.length-1]&-2147483648?-1:0)};function V(T,_){return T.add(P(_))}t.j=function(T){if(A(this)||A(T))return p;if(R(this))return R(T)?P(this).j(P(T)):P(P(this).j(T));if(R(T))return P(this.j(P(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var _=this.g.length+T.g.length,w=[],E=0;E<2*_;E++)w[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<T.g.length;D++){var C=this.i(E)>>>16,I=this.i(E)&65535,_n=T.i(D)>>>16,Zo=T.i(D)&65535;w[2*E+2*D]+=I*Zo,q(w,2*E+2*D),w[2*E+2*D+1]+=C*Zo,q(w,2*E+2*D+1),w[2*E+2*D+1]+=I*_n,q(w,2*E+2*D+1),w[2*E+2*D+2]+=C*_n,q(w,2*E+2*D+2)}for(E=0;E<_;E++)w[E]=w[2*E+1]<<16|w[2*E];for(E=_;E<2*_;E++)w[E]=0;return new s(w,0)};function q(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function W(T,_){this.g=T,this.h=_}function _e(T,_){if(A(_))throw Error("division by zero");if(A(T))return new W(p,p);if(R(T))return _=_e(P(T),_),new W(P(_.g),P(_.h));if(R(_))return _=_e(T,P(_)),new W(P(_.g),_.h);if(30<T.g.length){if(R(T)||R(_))throw Error("slowDivide_ only works with positive integers.");for(var w=m,E=_;0>=E.l(T);)w=ot(w),E=ot(E);var D=ye(w,1),C=ye(E,1);for(E=ye(E,2),w=ye(w,2);!A(E);){var I=C.add(E);0>=I.l(T)&&(D=D.add(w),C=I),E=ye(E,1),w=ye(w,1)}return _=V(T,D.j(_)),new W(D,_)}for(D=p;0<=T.l(_);){for(w=Math.max(1,Math.floor(T.m()/_.m())),E=Math.ceil(Math.log(w)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=l(w),I=C.j(_);R(I)||0<I.l(T);)w-=E,C=l(w),I=C.j(_);A(C)&&(C=m),D=D.add(C),T=V(T,I)}return new W(D,T)}t.A=function(T){return _e(this,T).h},t.and=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)&T.i(E);return new s(w,this.h&T.h)},t.or=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)|T.i(E);return new s(w,this.h|T.h)},t.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)^T.i(E);return new s(w,this.h^T.h)};function ot(T){for(var _=T.g.length+1,w=[],E=0;E<_;E++)w[E]=T.i(E)<<1|T.i(E-1)>>>31;return new s(w,T.h)}function ye(T,_){var w=_>>5;_%=32;for(var E=T.g.length-w,D=[],C=0;C<E;C++)D[C]=0<_?T.i(C+w)>>>_|T.i(C+w+1)<<32-_:T.i(C+w);return new s(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Cm=NC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Vn=NC.Integer=s}).apply(typeof RC<"u"?RC:typeof self<"u"?self:typeof window<"u"?window:{});var Xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jn={};var Sm,uj,Do,Am,Ma,ed,Rm,Nm,Mm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xl=="object"&&Xl];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var b=a[g];if(!(b in h))break e;h=h[b]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,b={next:function(){if(!g&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function y(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,b,S){for(var x=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)x[Ie-2]=arguments[Ie];return d.prototype[b].apply(g,x)}}function R(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function P(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let b=a.length||0,S=g.length||0;a.length=b+S;for(let x=0;x<S;x++)a[b+x]=g[x]}else a.push(g)}}class V{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(a){return/^[\s\xa0]*$/.test(a)}function W(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function _e(a){return _e[" "](a),a}_e[" "]=function(){};var ot=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ye(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function T(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function _(a){let d={};for(let h in a)d[h]=a[h];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(h in g)a[h]=g[h];for(let S=0;S<w.length;S++)h=w[S],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function D(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function I(){var a=th;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class _n{constructor(){this.h=this.g=null}add(d,h){let g=Zo.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Zo=new V(()=>new $0,a=>a.reset());class $0{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Jo,Xo=!1,th=new _n,o_=()=>{let a=c.Promise.resolve(void 0);Jo=()=>{a.then(H0)}};var H0=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(h){C(h)}var d=Zo;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Xo=!1};function Gn(){this.s=this.s,this.C=this.C}Gn.prototype.s=!1,Gn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Gn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Je(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var q0=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function es(a,d){if(Je.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(ot){e:{try{_e(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:z0[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&es.aa.h.call(this)}}A(es,Je);var z0={2:"touch",3:"pen",4:"mouse"};es.prototype.h=function(){es.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ts="closure_listenable_"+(1e6*Math.random()|0),W0=0;function G0(a,d,h,g,b){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=b,this.key=++W0,this.da=this.fa=!1}function ec(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function tc(a){this.src=a,this.g={},this.h=0}tc.prototype.add=function(a,d,h,g,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var x=rh(a,d,g,b);return-1<x?(d=a[x],h||(d.fa=!1)):(d=new G0(d,this.src,S,!!g,b),d.fa=h,a.push(d)),d};function nh(a,d){var h=d.type;if(h in a.g){var g=a.g[h],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(ec(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function rh(a,d,h,g){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==g)return b}return-1}var ih="closure_lm_"+(1e6*Math.random()|0),oh={};function s_(a,d,h,g,b){if(g&&g.once)return c_(a,d,h,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)s_(a,d[S],h,g,b);return null}return h=uh(h),a&&a[ts]?a.K(d,h,l(g)?!!g.capture:!!g,b):a_(a,d,h,!1,g,b)}function a_(a,d,h,g,b,S){if(!d)throw Error("Invalid event type");var x=l(b)?!!b.capture:!!b,Ie=ah(a);if(Ie||(a[ih]=Ie=new tc(a)),h=Ie.add(d,h,g,x,S),h.proxy)return h;if(g=K0(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)q0||(b=x),b===void 0&&(b=!1),a.addEventListener(d.toString(),g,b);else if(a.attachEvent)a.attachEvent(l_(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function K0(){function a(h){return d.call(a.src,a.listener,h)}let d=Q0;return a}function c_(a,d,h,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)c_(a,d[S],h,g,b);return null}return h=uh(h),a&&a[ts]?a.L(d,h,l(g)?!!g.capture:!!g,b):a_(a,d,h,!0,g,b)}function u_(a,d,h,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)u_(a,d[S],h,g,b);else g=l(g)?!!g.capture:!!g,h=uh(h),a&&a[ts]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=rh(S,h,g,b),-1<h&&(ec(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=ah(a))&&(d=a.g[d.toString()],a=-1,d&&(a=rh(d,h,g,b)),(h=-1<a?d[a]:null)&&sh(h))}function sh(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ts])nh(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(l_(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=ah(d))?(nh(h,a),h.h==0&&(h.src=null,d[ih]=null)):ec(a)}}}function l_(a){return a in oh?oh[a]:oh[a]="on"+a}function Q0(a,d){if(a.da)a=!0;else{d=new es(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&sh(a),a=h.call(g,d)}return a}function ah(a){return a=a[ih],a instanceof tc?a:null}var ch="__closure_events_fn_"+(1e9*Math.random()>>>0);function uh(a){return typeof a=="function"?a:(a[ch]||(a[ch]=function(d){return a.handleEvent(d)}),a[ch])}function Xe(){Gn.call(this),this.i=new tc(this),this.M=this,this.F=null}A(Xe,Gn),Xe.prototype[ts]=!0,Xe.prototype.removeEventListener=function(a,d,h,g){u_(this,a,d,h,g)};function st(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Je(d,a);else if(d instanceof Je)d.target=d.target||a;else{var b=d;d=new Je(g,a),E(d,b)}if(b=!0,h)for(var S=h.length-1;0<=S;S--){var x=d.g=h[S];b=nc(x,g,!0,d)&&b}if(x=d.g=a,b=nc(x,g,!0,d)&&b,b=nc(x,g,!1,d)&&b,h)for(S=0;S<h.length;S++)x=d.g=h[S],b=nc(x,g,!1,d)&&b}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)ec(h[g]);delete a.g[d],a.h--}}this.F=null},Xe.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},Xe.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function nc(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var x=d[S];if(x&&!x.da&&x.capture==h){var Ie=x.listener,qe=x.ha||x.src;x.fa&&nh(a.i,x),b=Ie.call(qe,g)!==!1&&b}}return b&&!g.defaultPrevented}function d_(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function h_(a){a.g=d_(()=>{a.g=null,a.i&&(a.i=!1,h_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class Y0 extends Gn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:h_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(a){Gn.call(this),this.h=a,this.g={}}A(ns,Gn);var f_=[];function p_(a){ye(a.g,function(d,h){this.g.hasOwnProperty(h)&&sh(d)},a),a.g={}}ns.prototype.N=function(){ns.aa.N.call(this),p_(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lh=c.JSON.stringify,Z0=c.JSON.parse,J0=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function dh(){}dh.prototype.h=null;function g_(a){return a.h||(a.h=a.i())}function m_(){}var rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hh(){Je.call(this,"d")}A(hh,Je);function fh(){Je.call(this,"c")}A(fh,Je);var Nr={},y_=null;function rc(){return y_=y_||new Xe}Nr.La="serverreachability";function v_(a){Je.call(this,Nr.La,a)}A(v_,Je);function is(a){let d=rc();st(d,new v_(d))}Nr.STAT_EVENT="statevent";function __(a,d){Je.call(this,Nr.STAT_EVENT,a),this.stat=d}A(__,Je);function at(a){let d=rc();st(d,new __(d,a))}Nr.Ma="timingevent";function I_(a,d){Je.call(this,Nr.Ma,a),this.size=d}A(I_,Je);function os(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function ss(){this.g=!0}ss.prototype.xa=function(){this.g=!1};function X0(a,d,h,g,b,S){a.info(function(){if(a.g)if(S)for(var x="",Ie=S.split("&"),qe=0;qe<Ie.length;qe++){var de=Ie[qe].split("=");if(1<de.length){var et=de[0];de=de[1];var tt=et.split("_");x=2<=tt.length&&tt[1]=="type"?x+(et+"="+de+"&"):x+(et+"=redacted&")}}else x=null;else x=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+h+`
`+x})}function eR(a,d,h,g,b,S,x){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+h+`
`+S+" "+x})}function Ai(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+nR(a,h)+(g?" "+g:"")})}function tR(a,d){a.info(function(){return"TIMEOUT: "+d})}ss.prototype.info=function(){};function nR(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var x=1;x<b.length;x++)b[x]=""}}}}return lh(h)}catch{return d}}var ic={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},w_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ph;function oc(){}A(oc,dh),oc.prototype.g=function(){return new XMLHttpRequest},oc.prototype.i=function(){return{}},ph=new oc;function Kn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new E_}function E_(){this.i=null,this.g="",this.h=!1}var T_={},gh={};function mh(a,d,h){a.L=1,a.v=uc(In(d)),a.m=h,a.P=!0,D_(a,null)}function D_(a,d){a.F=Date.now(),sc(a),a.A=In(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),V_(h.i,"t",g),a.C=0,h=a.j.J,a.h=new E_,a.g=nI(a.j,h?d:null,!a.m),0<a.O&&(a.M=new Y0(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(f_[0]=b.toString()),b=f_);for(var S=0;S<b.length;S++){var x=s_(h,b[S],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),is(),X0(a.i,a.u,a.A,a.l,a.R,a.m)}Kn.prototype.ca=function(a){a=a.target;let d=this.M;d&&wn(a)==3?d.j():this.Y(a)},Kn.prototype.Y=function(a){try{if(a==this.g)e:{let tt=wn(this.g);var d=this.g.Ba();let Mi=this.g.Z();if(!(3>tt)&&(tt!=3||this.g&&(this.h.h||this.g.oa()||z_(this.g)))){this.J||tt!=4||d==7||(d==8||0>=Mi?is(3):is(2)),yh(this);var h=this.g.Z();this.X=h;t:if(b_(this)){var g=z_(this.g);a="";var b=g.length,S=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mr(this),as(this);var x="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=h==200,eR(this.i,this.u,this.A,this.l,this.R,tt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,qe=this.g;if((Ie=qe.g?qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ie)){var de=Ie;break t}}de=null}if(h=de)Ai(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vh(this,h);else{this.o=!1,this.s=3,at(12),Mr(this),as(this);break e}}if(this.P){h=!0;let Vt;for(;!this.J&&this.C<x.length;)if(Vt=rR(this,x),Vt==gh){tt==4&&(this.s=4,at(14),h=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==T_){this.s=4,at(15),Ai(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Ai(this.i,this.l,Vt,null),vh(this,Vt);if(b_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||x.length!=0||this.h.h||(this.s=1,at(16),h=!1),this.o=this.o&&h,!h)Ai(this.i,this.l,x,"[Invalid Chunked Response]"),Mr(this),as(this);else if(0<x.length&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.ba&&!et.M&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Dh(et),et.M=!0,at(11))}}else Ai(this.i,this.l,x,null),vh(this,x);tt==4&&Mr(this),this.o&&!this.J&&(tt==4?J_(this.j,this):(this.o=!1,sc(this)))}else IR(this.g),h==400&&0<x.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Mr(this),as(this)}}}catch{}finally{}};function b_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function rR(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?gh:(h=Number(d.substring(h,g)),isNaN(h)?T_:(g+=1,g+h>d.length?gh:(d=d.slice(g,g+h),a.C=g+h,d)))}Kn.prototype.cancel=function(){this.J=!0,Mr(this)};function sc(a){a.S=Date.now()+a.I,C_(a,a.I)}function C_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=os(m(a.ba,a),d)}function yh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Kn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(tR(this.i,this.A),this.L!=2&&(is(),at(17)),Mr(this),this.s=2,as(this)):C_(this,this.S-a)};function as(a){a.j.G==0||a.J||J_(a.j,a)}function Mr(a){yh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,p_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function vh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||_h(h.h,a))){if(!a.K&&_h(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)pc(h),hc(h);else break e;Th(h),at(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=os(m(h.Za,h),6e3));if(1>=R_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else kr(h,11)}else if((a.K||h.g==a)&&pc(h),!q(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let de=b[d];if(h.T=de[0],de=de[1],h.G==2)if(de[0]=="c"){h.K=de[1],h.ia=de[2];let et=de[3];et!=null&&(h.la=et,h.j.info("VER="+h.la));let tt=de[4];tt!=null&&(h.Aa=tt,h.j.info("SVER="+h.Aa));let Mi=de[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(g=1.5*Mi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Vt=a.g;if(Vt){let mc=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mc){var S=g.h;S.g||mc.indexOf("spdy")==-1&&mc.indexOf("quic")==-1&&mc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Ih(S,S.h),S.h=null))}if(g.D){let bh=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;bh&&(g.ya=bh,Ee(g.I,g.D,bh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var x=a;if(g.qa=tI(g,g.J?g.ia:null,g.W),x.K){N_(g.h,x);var Ie=x,qe=g.L;qe&&(Ie.I=qe),Ie.B&&(yh(Ie),sc(Ie)),g.g=x}else Y_(g);0<h.i.length&&fc(h)}else de[0]!="stop"&&de[0]!="close"||kr(h,7);else h.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?kr(h,7):Eh(h):de[0]!="noop"&&h.l&&h.l.ta(de),h.v=0)}}is(4)}catch{}}var iR=class{constructor(a,d){this.g=a,this.map=d}};function S_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function A_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function R_(a){return a.h?1:a.g?a.g.size:0}function _h(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Ih(a,d){a.g?a.g.add(d):a.h=d}function N_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}S_.prototype.cancel=function(){if(this.i=M_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function M_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return R(a.i)}function oR(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function sR(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function P_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=sR(a),g=oR(a),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],h&&h[S],a)}var k_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aR(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),b=null;if(0<=g){var S=a[h].substring(0,g);b=a[h].substring(g+1)}else S=a[h];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Pr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Pr){this.h=a.h,ac(this,a.j),this.o=a.o,this.g=a.g,cc(this,a.s),this.l=a.l;var d=a.i,h=new ls;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),x_(this,h),this.m=a.m}else a&&(d=String(a).match(k_))?(this.h=!1,ac(this,d[1]||"",!0),this.o=cs(d[2]||""),this.g=cs(d[3]||"",!0),cc(this,d[4]),this.l=cs(d[5]||"",!0),x_(this,d[6]||"",!0),this.m=cs(d[7]||"")):(this.h=!1,this.i=new ls(null,this.h))}Pr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(us(d,O_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(us(d,O_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(us(h,h.charAt(0)=="/"?lR:uR,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",us(h,hR)),a.join("")};function In(a){return new Pr(a)}function ac(a,d,h){a.j=h?cs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function cc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function x_(a,d,h){d instanceof ls?(a.i=d,fR(a.i,a.h)):(h||(d=us(d,dR)),a.i=new ls(d,a.h))}function Ee(a,d,h){a.i.set(d,h)}function uc(a){return Ee(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function cs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function us(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,cR),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function cR(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var O_=/[#\/\?@]/g,uR=/[#\?:]/g,lR=/[#\?]/g,dR=/[#\?@]/g,hR=/#/g;function ls(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Qn(a){a.g||(a.g=new Map,a.h=0,a.i&&aR(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=ls.prototype,t.add=function(a,d){Qn(this),this.i=null,a=Ri(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function F_(a,d){Qn(a),d=Ri(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function L_(a,d){return Qn(a),d=Ri(a,d),a.g.has(d)}t.forEach=function(a,d){Qn(this),this.g.forEach(function(h,g){h.forEach(function(b){a.call(d,b,g,this)},this)},this)},t.na=function(){Qn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let b=a[g];for(let S=0;S<b.length;S++)h.push(d[g])}return h},t.V=function(a){Qn(this);let d=[];if(typeof a=="string")L_(this,a)&&(d=d.concat(this.g.get(Ri(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Qn(this),this.i=null,a=Ri(this,a),L_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function V_(a,d,h){F_(a,d),0<h.length&&(a.i=null,a.g.set(Ri(a,d),R(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let S=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var b=S;x[g]!==""&&(b+="="+encodeURIComponent(String(x[g]))),a.push(b)}}return this.i=a.join("&")};function Ri(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function fR(a,d){d&&!a.j&&(Qn(a),a.i=null,a.g.forEach(function(h,g){var b=g.toLowerCase();g!=b&&(F_(this,g),V_(this,b,h))},a)),a.j=d}function pR(a,d){let h=new ss;if(c.Image){let g=new Image;g.onload=y(Yn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Yn,h,"TestLoadImage: error",!1,d,g),g.onabort=y(Yn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Yn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function gR(a,d){let h=new ss,g=new AbortController,b=setTimeout(()=>{g.abort(),Yn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?Yn(h,"TestPingServer: ok",!0,d):Yn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Yn(h,"TestPingServer: error",!1,d)})}function Yn(a,d,h,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(h)}catch{}}function mR(){this.g=new J0}function yR(a,d,h){let g=h||"";try{P_(a,function(b,S){let x=b;l(b)&&(x=lh(b)),d.push(g+S+"="+encodeURIComponent(x))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function ds(a){this.l=a.Ub||null,this.j=a.eb||!1}A(ds,dh),ds.prototype.g=function(){return new lc(this.l,this.j)},ds.prototype.i=function(a){return function(){return a}}({});function lc(a,d){Xe.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(lc,Xe),t=lc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,fs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,fs(this)),this.g&&(this.readyState=3,fs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;j_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function j_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?hs(this):fs(this),this.readyState==3&&j_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,hs(this))},t.Qa=function(a){this.g&&(this.response=a,hs(this))},t.ga=function(){this.g&&hs(this)};function hs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,fs(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function fs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function U_(a){let d="";return ye(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function wh(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=U_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ee(a,d,h))}function be(a){Xe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(be,Xe);var vR=/^https?$/i,_R=["POST","PUT"];t=be.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ph.g(),this.v=this.o?g_(this.o):g_(ph),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){B_(this,S);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)h.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(_R,d,void 0))||g||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,x]of h)this.g.setRequestHeader(S,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{q_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){B_(this,S)}};function B_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,$_(a),dc(a)}function $_(a){a.A||(a.A=!0,st(a,"complete"),st(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,st(this,"complete"),st(this,"abort"),dc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dc(this,!0)),be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?H_(this):this.bb())},t.bb=function(){H_(this)};function H_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||wn(a)!=4||a.Z()!=2)){if(a.u&&wn(a)==4)d_(a.Ea,0,a);else if(st(a,"readystatechange"),wn(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=x===0){var b=String(a.D).match(k_)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),g=!vR.test(b?b.toLowerCase():"")}h=g}if(h)st(a,"complete"),st(a,"success");else{a.m=6;try{var S=2<wn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",$_(a)}}finally{dc(a)}}}}function dc(a,d){if(a.g){q_(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||st(a,"ready");try{h.onreadystatechange=g}catch{}}}function q_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function wn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Z0(d)}};function z_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function IR(a){let d={};a=(a.g&&2<=wn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(q(a[g]))continue;var h=D(a[g]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[b]||[];d[b]=S,S.push(h)}T(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ps(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function W_(a){this.Aa=0,this.i=[],this.j=new ss,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ps("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ps("baseRetryDelayMs",5e3,a),this.cb=ps("retryDelaySeedMs",1e4,a),this.Wa=ps("forwardChannelMaxRetries",2,a),this.wa=ps("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new S_(a&&a.concurrentRequestLimit),this.Da=new mR,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=W_.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){at(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=tI(this,null,this.W),fc(this)};function Eh(a){if(G_(a),a.G==3){var d=a.U++,h=In(a.I);if(Ee(h,"SID",a.K),Ee(h,"RID",d),Ee(h,"TYPE","terminate"),gs(a,h),d=new Kn(a,a.j,d),d.L=2,d.v=uc(In(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=nI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),sc(d)}eI(a)}function hc(a){a.g&&(Dh(a),a.g.cancel(),a.g=null)}function G_(a){hc(a),a.u&&(c.clearTimeout(a.u),a.u=null),pc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function fc(a){if(!A_(a.h)&&!a.s){a.s=!0;var d=a.Ga;Jo||o_(),Xo||(Jo(),Xo=!0),th.add(d,a),a.B=0}}function wR(a,d){return R_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=os(m(a.Ga,a,d),X_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Kn(this,this.j,a),S=this.o;if(this.S&&(S?(S=_(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=Q_(this,b,d),h=In(this.I),Ee(h,"RID",a),Ee(h,"CVER",22),this.D&&Ee(h,"X-HTTP-Session-Id",this.D),gs(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(U_(S)))+"&"+d:this.m&&wh(h,this.m,S)),Ih(this.h,b),this.Ua&&Ee(h,"TYPE","init"),this.P?(Ee(h,"$req",d),Ee(h,"SID","null"),b.T=!0,mh(b,h,null)):mh(b,h,d),this.G=2}}else this.G==3&&(a?K_(this,a):this.i.length==0||A_(this.h)||K_(this))};function K_(a,d){var h;d?h=d.l:h=a.U++;let g=In(a.I);Ee(g,"SID",a.K),Ee(g,"RID",h),Ee(g,"AID",a.T),gs(a,g),a.m&&a.o&&wh(g,a.m,a.o),h=new Kn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Q_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ih(a.h,h),mh(h,g,d)}function gs(a,d){a.H&&ye(a.H,function(h,g){Ee(d,g,h)}),a.l&&P_({},function(h,g){Ee(d,g,h)})}function Q_(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let x=["count="+h];S==-1?0<h?(S=b[0].g,x.push("ofs="+S)):S=0:x.push("ofs="+S);let Ie=!0;for(let qe=0;qe<h;qe++){let de=b[qe].g,et=b[qe].map;if(de-=S,0>de)S=Math.max(0,b[qe].g-100),Ie=!1;else try{yR(et,x,"req"+de+"_")}catch{g&&g(et)}}if(Ie){g=x.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function Y_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Jo||o_(),Xo||(Jo(),Xo=!0),th.add(d,a),a.v=0}}function Th(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=os(m(a.Fa,a),X_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Z_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=os(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),hc(this),Z_(this))};function Dh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Z_(a){a.g=new Kn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=In(a.qa);Ee(d,"RID","rpc"),Ee(d,"SID",a.K),Ee(d,"AID",a.T),Ee(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ee(d,"TO",a.ja),Ee(d,"TYPE","xmlhttp"),gs(a,d),a.m&&a.o&&wh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=uc(In(d)),h.m=null,h.P=!0,D_(h,a)}t.Za=function(){this.C!=null&&(this.C=null,hc(this),Th(this),at(19))};function pc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function J_(a,d){var h=null;if(a.g==d){pc(a),Dh(a),a.g=null;var g=2}else if(_h(a.h,d))h=d.D,N_(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;g=rc(),st(g,new I_(g,h)),fc(a)}else Y_(a);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&wR(a,d)||g==2&&Th(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),b){case 1:kr(a,5);break;case 4:kr(a,10);break;case 3:kr(a,6);break;default:kr(a,2)}}}function X_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function kr(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let b=!g;g=new Pr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ac(g,"https"),uc(g),b?pR(g.toString(),h):gR(g.toString(),h)}else at(2);a.G=0,a.l&&a.l.sa(d),eI(a),G_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function eI(a){if(a.G=0,a.ka=[],a.l){let d=M_(a.h);(d.length!=0||a.i.length!=0)&&(P(a.ka,d),P(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function tI(a,d,h){var g=h instanceof Pr?In(h):new Pr(h);if(g.g!="")d&&(g.g=d+"."+g.g),cc(g,g.s);else{var b=c.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new Pr(null);g&&ac(S,g),d&&(S.g=d),b&&cc(S,b),h&&(S.l=h),g=S}return h=a.D,d=a.ya,h&&d&&Ee(g,h,d),Ee(g,"VER",a.la),gs(a,g),g}function nI(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new be(new ds({eb:h})):new be(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rI(){}t=rI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gc(){}gc.prototype.g=function(a,d){return new It(a,d)};function It(a,d){Xe.call(this),this.g=new W_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!q(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ni(this)}A(It,Xe),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){Eh(this.g)},It.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=lh(a),a=h);d.i.push(new iR(d.Ya++,a)),d.G==3&&fc(d)},It.prototype.N=function(){this.g.l=null,delete this.j,Eh(this.g),delete this.g,It.aa.N.call(this)};function iI(a){hh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(iI,hh);function oI(){fh.call(this),this.status=1}A(oI,fh);function Ni(a){this.g=a}A(Ni,rI),Ni.prototype.ua=function(){st(this.g,"a")},Ni.prototype.ta=function(a){st(this.g,new iI(a))},Ni.prototype.sa=function(a){st(this.g,new oI)},Ni.prototype.ra=function(){st(this.g,"b")},gc.prototype.createWebChannel=gc.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,Mm=jn.createWebChannelTransport=function(){return new gc},Nm=jn.getStatEventTarget=function(){return rc()},Rm=jn.Event=Nr,ed=jn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ic.NO_ERROR=0,ic.TIMEOUT=8,ic.HTTP_ERROR=6,Ma=jn.ErrorCode=ic,w_.COMPLETE="complete",Am=jn.EventType=w_,m_.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Do=jn.WebChannel=m_,uj=jn.FetchXmlHttpFactory=ds,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,Sm=jn.XhrIo=be}).apply(typeof Xl<"u"?Xl:typeof self<"u"?self:typeof window<"u"?window:{});var MC="@firebase/firestore",PC="4.8.0";var $e=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");var Go="11.10.0";var mi=new kt("@firebase/firestore");function bo(){return mi.logLevel}function O(t,...e){if(mi.logLevel<=ne.DEBUG){let n=e.map(yv);mi.debug(`Firestore (${Go}): ${t}`,...n)}}function Bn(t,...e){if(mi.logLevel<=ne.ERROR){let n=e.map(yv);mi.error(`Firestore (${Go}): ${t}`,...n)}}function Cr(t,...e){if(mi.logLevel<=ne.WARN){let n=e.map(yv);mi.warn(`Firestore (${Go}): ${t}`,...n)}}function yv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function $(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,wS(t,r,n)}function wS(t,e,n){let r=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Bn(r),new Error(r)}function me(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||wS(e,i,r)}function G(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Qe{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Un=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ad=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Fm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($e.UNAUTHENTICATED))}shutdown(){}},Lm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Vm=class{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Un;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Un,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Un)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string",31837,{l:r}),new ad(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string",2055,{h:e}),new $e(e)}},jm=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Um=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jm(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}},cd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Bm=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ot(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){me(this.o===void 0,3512);let r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function lj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function ES(){return new TextEncoder}var La=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=lj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function te(t,e){return t<e?-1:t>e?1:0}function $m(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return te(r,i);{let o=ES(),s=dj(o.encode(kC(t,n)),o.encode(kC(e,n)));return s!==0?s:te(r,i)}}n+=r>65535?2:1}return te(t.length,e.length)}function kC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function dj(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return te(t[n],e[n]);return te(t.length,e.length)}function xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var xC="__name__",ud=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&$(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&$(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return te(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vn.fromString(e.substring(4,e.length-2))}},Ne=class t extends ud{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},hj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ct=class t extends ud{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return hj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xC}static keyField(){return new t([xC])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new L(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new L(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ne.fromString(e))}static fromName(e){return new t(Ne.fromString(e).popFirst(5))}static empty(){return new t(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ne(e.slice()))}};function fj(t,e,n){if(!n)throw new L(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pj(t,e,n,r){if(e===!0&&r===!0)throw new L(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OC(t){if(!H.isDocumentKey(t))throw new L(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$(12329,{type:typeof t})}function No(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=vv(t);throw new L(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ke(t,e){let n={typeString:t};return e&&(n.value=e),n}function Qa(t,e){if(!TS(t))throw new L(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new L(N.INVALID_ARGUMENT,n);return!0}var FC=-62135596800,LC=1e6,xe=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*LC);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<FC)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LC}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qa(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-FC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:ke("string",xe._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};var Y=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new xe(0,0))}static max(){return new t(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Va=-1,Hm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Hm.UNKNOWN_ID=-1;function gj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new xe(n+1,0):new xe(n,r));return new yi(i,H.empty(),e)}function mj(t){return new yi(t.readTime,t.key,Va)}var yi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Y.min(),H.empty(),Va)}static max(){return new t(Y.max(),H.empty(),Va)}};function yj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:te(t.largestBatchId,e.largestBatchId))}var vj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ko(t){return v(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==vj)throw t;O("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function _j(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qo(t){return t.name==="IndexedDbTransactionError"}var _v=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),Iv=-1;function Ud(t){return t==null}function ja(t){return t===0&&1/t==-1/0}function Ij(t){return typeof t=="number"&&Number.isInteger(t)&&!ja(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var DS="";function wj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=VC(e)),e=Ej(t.get(n),e);return VC(e)}function Ej(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case DS:n+="";break;default:n+=o}}return n}function VC(t){return t+DS+""}var Tj="remoteDocuments",bS="owner";var CS="mutationQueues";var SS="mutations";var AS="documentMutations",Dj="remoteDocumentsV14";var RS="remoteDocumentGlobal";var NS="targets";var MS="targetDocuments";var PS="targetGlobal",kS="collectionParents";var xS="clientMetadata";var OS="bundles";var FS="namedQueries";var bj="indexConfiguration";var Cj="indexState";var Sj="indexEntries";var LS="documentOverlays";var Aj="globals";var Rj=[CS,SS,AS,Tj,NS,bS,PS,MS,xS,RS,kS,OS,FS],SK=[...Rj,LS],Nj=[CS,SS,AS,Dj,NS,bS,PS,MS,xS,RS,kS,OS,FS,LS],Mj=Nj,Pj=[...Mj,bj,Cj,Sj];var AK=[...Pj,Aj];function jC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ei(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Se=class t{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}},Ro=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},pn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw $(27949);return e+(this.isRed()?0:1)}};pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw $(57766)}get value(){throw $(16141)}get color(){throw $(16727)}get left(){throw $(29726)}get right(){throw $(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var He=class t{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ld(this.data.getIterator())}getIteratorFrom(e){return new ld(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ld=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var fn=class t{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new t([])}unionWith(e){let n=new He(Ct.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var dd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var it=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};it.EMPTY_BYTE_STRING=new it("");var kj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $n(t){if(me(!!t,39018),typeof t=="string"){let e=0,n=kj.exec(t);if(me(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hn(t){return typeof t=="string"?it.fromBase64String(t):it.fromUint8Array(t)}var jS="server_timestamp",US="__type__",BS="__previous_value__",$S="__local_write_time__";function wv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[US])===null||n===void 0?void 0:n.stringValue)===jS}function Bd(t){let e=t.mapValue.fields[BS];return wv(e)?Bd(e):e}function Ua(t){let e=$n(t.mapValue.fields[$S].timestampValue);return new xe(e.seconds,e.nanos)}var zm=class{constructor(e,n,r,i,o,s,c,u,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},hd="(default)",fd=class t{constructor(e,n){this.projectId=e,this.database=n||hd}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===hd}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ev="__type__",HS="__max__",td={mapValue:{fields:{__type__:{stringValue:HS}}}},Tv="__vector__",Oo="value";function Sr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wv(t)?4:zS(t)?9007199254740991:qS(t)?10:11:$(28295,{value:t})}function yn(t,e){if(t===e)return!0;let n=Sr(t);if(n!==Sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ua(t).isEqual(Ua(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=$n(i.timestampValue),c=$n(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Hn(i.bytesValue).isEqual(Hn(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return De(i.geoPointValue.latitude)===De(o.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return De(i.integerValue)===De(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=De(i.doubleValue),c=De(o.doubleValue);return s===c?ja(s)===ja(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return xo(t.arrayValue.values||[],e.arrayValue.values||[],yn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(jC(s)!==jC(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!yn(s[u],c[u])))return!1;return!0}(t,e);default:return $(52216,{left:t})}}function Ba(t,e){return(t.values||[]).find(n=>yn(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;let n=Sr(t),r=Sr(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=De(o.integerValue||o.doubleValue),u=De(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return UC(t.timestampValue,e.timestampValue);case 4:return UC(Ua(t),Ua(e));case 5:return $m(t.stringValue,e.stringValue);case 6:return function(o,s){let c=Hn(o),u=Hn(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=te(c[l],u[l]);if(f!==0)return f}return te(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=te(De(o.latitude),De(s.latitude));return c!==0?c:te(De(o.longitude),De(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return BC(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let p=o.fields||{},m=s.fields||{},y=(c=p[Oo])===null||c===void 0?void 0:c.arrayValue,A=(u=m[Oo])===null||u===void 0?void 0:u.arrayValue,R=te(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return R!==0?R:BC(y,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===td.mapValue&&s===td.mapValue)return 0;if(o===td.mapValue)return 1;if(s===td.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=$m(u[p],f[p]);if(m!==0)return m;let y=Fo(c[u[p]],l[f[p]]);if(y!==0)return y}return te(u.length,f.length)}(t.mapValue,e.mapValue);default:throw $(23264,{le:n})}}function UC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return te(t,e);let n=$n(t),r=$n(e),i=te(n.seconds,r.seconds);return i!==0?i:te(n.nanos,r.nanos)}function BC(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Fo(n[i],r[i]);if(o)return o}return te(n.length,r.length)}function Lo(t){return Wm(t)}function Wm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=$n(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Wm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Wm(n.fields[s])}`;return i+"}"}(t.mapValue):$(61005,{value:t})}function id(t){switch(Sr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Bd(t);return e?16+id(e):16;case 5:return 2*t.stringValue.length;case 6:return Hn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+id(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ei(r.fields,(o,s)=>{i+=o.length+id(s)}),i}(t.mapValue);default:throw $(13486,{value:t})}}function Gm(t){return!!t&&"integerValue"in t}function Dv(t){return!!t&&"arrayValue"in t}function $C(t){return!!t&&"nullValue"in t}function HC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function od(t){return!!t&&"mapValue"in t}function qS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ev])===null||n===void 0?void 0:n.stringValue)===Tv}function ka(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ka(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ka(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===HS}var NK={mapValue:{fields:{[Ev]:{stringValue:Tv},[Oo]:{arrayValue:{}}}}};var Zt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!od(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ka(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=ka(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());od(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];od(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ei(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ka(this.value))}};function WS(t){let e=[];return Ei(t.fields,(n,r)=>{let i=new Ct([n]);if(od(r)){let o=WS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new fn(e)}var Jt=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Y.min(),Y.min(),Y.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Y.min(),Y.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Y.min(),Y.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Vo=class{constructor(e,n){this.position=e,this.inclusive=n}};function qC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=Fo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yn(t.position[n],e.position[n]))return!1;return!0}var jo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function xj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var pd=class{},Le=class t extends pd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Qm(e,n,r):n==="array-contains"?new Jm(e,r):n==="in"?new Xm(e,r):n==="not-in"?new ey(e,r):n==="array-contains-any"?new ty(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ym(e,r):new Zm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Fo(n,this.value)):n!==null&&Sr(this.value)===Sr(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},vn=class t extends pd{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return GS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function GS(t){return t.op==="and"}function KS(t){return Oj(t)&&GS(t)}function Oj(t){for(let e of t.filters)if(e instanceof vn)return!1;return!0}function Km(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+Lo(t.value);if(KS(t))return t.filters.map(e=>Km(e)).join(",");{let e=t.filters.map(n=>Km(n)).join(",");return`${t.op}(${e})`}}function QS(t,e){return t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&yn(r.value,i.value)}(t,e):t instanceof vn?function(r,i){return i instanceof vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&QS(s,i.filters[c]),!0):!1}(t,e):void $(19439)}function YS(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`}(t):t instanceof vn?function(n){return n.op.toString()+" {"+n.getFilters().map(YS).join(" ,")+"}"}(t):"Filter"}var Qm=class extends Le{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},Ym=class extends Le{constructor(e,n){super(e,"in",n),this.keys=ZS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Zm=class extends Le{constructor(e,n){super(e,"not-in",n),this.keys=ZS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function ZS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var Jm=class extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Dv(n)&&Ba(n.arrayValue,this.value)}},Xm=class extends Le{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ba(this.value.arrayValue,n)}},ey=class extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ba(this.value.arrayValue,n)}},ty=class extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Dv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ba(this.value.arrayValue,r))}};var ny=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function WC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new ny(t,e,n,r,i,o,s)}function bv(t){let e=G(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Km(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lo(r)).join(",")),e.Pe=n}return e.Pe}function Cv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zC(t.startAt,e.startAt)&&zC(t.endAt,e.endAt)}function ry(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Uo=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Fj(t,e,n,r,i,o,s,c){return new Uo(t,e,n,r,i,o,s,c)}function Sv(t){return new Uo(t)}function GC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Lj(t){return t.collectionGroup!==null}function xa(t){let e=G(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new He(Ct.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new jo(o,r))}),n.has(Ct.keyField().canonicalString())||e.Te.push(new jo(Ct.keyField(),r))}return e.Te}function gn(t){let e=G(t);return e.Ie||(e.Ie=Vj(e,xa(t))),e.Ie}function Vj(t,e){if(t.limitType==="F")return WC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new jo(i.field,o)});let n=t.endAt?new Vo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vo(t.startAt.position,t.startAt.inclusive):null;return WC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function iy(t,e,n){return new Uo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $d(t,e){return Cv(gn(t),gn(e))&&t.limitType===e.limitType}function JS(t){return`${bv(gn(t))}|lt:${t.limitType}`}function Co(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>YS(i)).join(", ")}]`),Ud(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Lo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Lo(i)).join(",")),`Target(${r})`}(gn(t))}; limitType=${t.limitType})`}function Hd(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of xa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=qC(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,xa(r),i)||r.endAt&&!function(s,c,u){let l=qC(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,xa(r),i))}(t,e)}function jj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XS(t){return(e,n)=>{let r=!1;for(let i of xa(t)){let o=Uj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Uj(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Fo(u,l):$(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $(19790,{direction:t.dir})}}var qn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return VS(this.inner)}size(){return this.innerSize}};var Bj=new Se(H.comparator);function zn(){return Bj}var eA=new Se(H.comparator);function Pa(...t){let e=eA;for(let n of t)e=e.insert(n.key,n);return e}function tA(t){let e=eA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function di(){return Oa()}function nA(){return Oa()}function Oa(){return new qn(t=>t.toString(),(t,e)=>t.isEqual(e))}var $j=new Se(H.comparator),Hj=new He(H.comparator);function ie(...t){let e=Hj;for(let n of t)e=e.add(n);return e}var qj=new He(te);function zj(){return qj}function Av(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ja(e)?"-0":e}}function rA(t){return{integerValue:""+t}}function Wj(t,e){return Ij(e)?rA(e):Av(t,e)}var Bo=class{constructor(){this._=void 0}};function Gj(t,e,n){return t instanceof $o?function(i,o){let s={fields:{[US]:{stringValue:jS},[$S]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&wv(o)&&(o=Bd(o)),o&&(s.fields[BS]=o),{mapValue:s}}(n,e):t instanceof vi?oA(t,e):t instanceof _i?sA(t,e):function(i,o){let s=iA(i,o),c=KC(s)+KC(i.Ee);return Gm(s)&&Gm(i.Ee)?rA(c):Av(i.serializer,c)}(t,e)}function Kj(t,e,n){return t instanceof vi?oA(t,e):t instanceof _i?sA(t,e):n}function iA(t,e){return t instanceof Ho?function(r){return Gm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var $o=class extends Bo{},vi=class extends Bo{constructor(e){super(),this.elements=e}};function oA(t,e){let n=aA(e);for(let r of t.elements)n.some(i=>yn(i,r))||n.push(r);return{arrayValue:{values:n}}}var _i=class extends Bo{constructor(e){super(),this.elements=e}};function sA(t,e){let n=aA(e);for(let r of t.elements)n=n.filter(i=>!yn(i,r));return{arrayValue:{values:n}}}var Ho=class extends Bo{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function KC(t){return De(t.integerValue||t.doubleValue)}function aA(t){return Dv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Qj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vi&&i instanceof vi||r instanceof _i&&i instanceof _i?xo(r.elements,i.elements,yn):r instanceof Ho&&i instanceof Ho?yn(r.Ee,i.Ee):r instanceof $o&&i instanceof $o}(t.transform,e.transform)}var oy=class{constructor(e,n){this.version=e,this.transformResults=n}},pi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var qo=class{};function cA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gd(t.key,pi.none()):new Ii(t.key,t.data,pi.none());{let n=t.data,r=Zt.empty(),i=new He(Ct.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Wn(t.key,r,new fn(i.toArray()),pi.none())}}function Yj(t,e,n){t instanceof Ii?function(i,o,s){let c=i.value.clone(),u=YC(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Wn?function(i,o,s){if(!sd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=YC(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(uA(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Fa(t,e,n,r){return t instanceof Ii?function(o,s,c,u){if(!sd(o.precondition,s))return c;let l=o.value.clone(),f=ZC(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wn?function(o,s,c,u){if(!sd(o.precondition,s))return c;let l=ZC(o.fieldTransforms,u,s),f=s.data;return f.setAll(uA(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return sd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function Zj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=iA(r.transform,i||null);o!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,o))}return n||null}function QC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xo(r,i,(o,s)=>Qj(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ii=class extends qo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Wn=class extends qo{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function uA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function YC(t,e,n){let r=new Map;me(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,Kj(s,c,n[i]))}return r}function ZC(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Gj(o,s,e))}return r}var gd=class extends qo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},sy=class extends qo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ay=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Yj(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=nA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=cA(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,r)=>QC(n,r))&&xo(this.baseMutations,e.baseMutations,(n,r)=>QC(n,r))}},cy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){me(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return $j}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var uy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ly=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Me,ce;function Jj(t){switch(t){case N.OK:return $(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return $(15467,{code:t})}}function lA(t){if(t===void 0)return Bn("GRPC error has no .code"),N.UNKNOWN;switch(t){case Me.OK:return N.OK;case Me.CANCELLED:return N.CANCELLED;case Me.UNKNOWN:return N.UNKNOWN;case Me.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Me.INTERNAL:return N.INTERNAL;case Me.UNAVAILABLE:return N.UNAVAILABLE;case Me.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Me.NOT_FOUND:return N.NOT_FOUND;case Me.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Me.ABORTED:return N.ABORTED;case Me.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Me.DATA_LOSS:return N.DATA_LOSS;default:return $(39323,{code:t})}}(ce=Me||(Me={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";var JC=null;var Xj=new Vn([4294967295,4294967295],0);function XC(t){let e=ES().encode(t),n=new Cm;return n.update(e),new Uint8Array(n.digest())}function eS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Vn([n,r],0),new Vn([i,o],0)]}var dy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hi(`Invalid padding: ${n}`);if(r<0)throw new hi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hi(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Vn.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Vn.fromNumber(r)));return i.compare(Xj)===1&&(i=new Vn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=XC(e),[r,i]=eS(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let n=XC(e),[r,i]=eS(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},hi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var md=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,$a.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Y.min(),i,new Se(te),zn(),ie())}},$a=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ie(),ie(),ie())}};var Mo=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},yd=class{constructor(e,n){this.targetId=e,this.De=n}},vd=class{constructor(e,n,r=it.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},_d=class{constructor(){this.ve=0,this.Ce=tS(),this.Fe=it.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ie(),n=ie(),r=ie();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$(38017,{changeType:o})}}),new $a(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=tS()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},hy=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=zn(),this.je=nd(),this.Je=nd(),this.He=new Se(te)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:$(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(ry(o))if(r===0){let s=new H(o.path);this.Xe(n,s,Jt.newNoDocument(s,Y.min()))}else me(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}JC?.ct(function(f,p,m,y,A){var R,P,V,q,W,_e;let ot={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ye=p.unchangedNames;return ye&&(ot.bloomFilter={applied:A===0,hashCount:(R=ye?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(q=(V=(P=ye?.bits)===null||P===void 0?void 0:P.bitmap)===null||V===void 0?void 0:V.length)!==null&&q!==void 0?q:0,padding:(_e=(W=ye?.bits)===null||W===void 0?void 0:W.padding)!==null&&_e!==void 0?_e:0,mightContain:T=>{var _;return(_=y?.mightContain(T))!==null&&_!==void 0&&_}}),ot}(s,e.De,this.We.lt(),c,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=Hn(r).toUint8Array()}catch(u){if(u instanceof dd)return Cr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new dy(s,i,o)}catch(u){return Cr(u instanceof hi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&ry(c.target)){let u=new H(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Jt.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ie();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new md(e,n,this.He,this.ze,r);return this.ze=zn(),this.je=nd(),this.Je=nd(),this.He=new Se(te),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new _d,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new He(te),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new He(te),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new _d),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function nd(){return new Se(H.comparator)}function tS(){return new Se(H.comparator)}var eU={asc:"ASCENDING",desc:"DESCENDING"},tU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nU={and:"AND",or:"OR"},fy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function py(t,e){return t.useProto3Json||Ud(e)?e:{value:e}}function Id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rU(t,e){return Id(t,e.toTimestamp())}function mn(t){return me(!!t,49232),Y.fromTimestamp(function(n){let r=$n(n);return new xe(r.seconds,r.nanos)}(t))}function Rv(t,e){return gy(t,e).canonicalString()}function gy(t,e){let n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hA(t){let e=Ne.fromString(t);return me(yA(e),10190,{key:e.toString()}),e}function my(t,e){return Rv(t.databaseId,e.path)}function Pm(t,e){let n=hA(e);if(n.get(1)!==t.databaseId.projectId)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(pA(n))}function fA(t,e){return Rv(t.databaseId,e)}function iU(t){let e=hA(t);return e.length===4?Ne.emptyPath():pA(e)}function yy(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pA(t){return me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function nS(t,e,n){return{name:my(t,e),fields:n.value.mapValue.fields}}function oU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:$(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(me(f===void 0||typeof f=="string",58123),it.fromBase64String(f||"")):(me(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),it.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?N.UNKNOWN:lA(l.code);return new L(f,l.message||"")}(s);n=new vd(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Pm(t,r.document.name),o=mn(r.document.updateTime),s=r.document.createTime?mn(r.document.createTime):Y.min(),c=new Zt({mapValue:{fields:r.document.fields}}),u=Jt.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Mo(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Pm(t,r.document),o=r.readTime?mn(r.readTime):Y.min(),s=Jt.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Mo([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Pm(t,r.document),o=r.removedTargetIds||[];n=new Mo([],o,i,null)}else{if(!("filter"in e))return $(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new ly(i,o),c=r.targetId;n=new yd(c,s)}}return n}function sU(t,e){let n;if(e instanceof Ii)n={update:nS(t,e.key,e.value)};else if(e instanceof gd)n={delete:my(t,e.key)};else if(e instanceof Wn)n={update:nS(t,e.key,e.data),updateMask:gU(e.fieldMask)};else{if(!(e instanceof sy))return $(16599,{Rt:e.type});n={verify:my(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof $o)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof vi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _i)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ho)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw $(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:rU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$(27497)}(t,e.precondition)),n}function aU(t,e){return t&&t.length>0?(me(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?mn(i.updateTime):mn(o);return s.isEqual(Y.min())&&(s=mn(o)),new oy(s,i.transformResults||[])}(n,e))):[]}function cU(t,e){return{documents:[fA(t,e.path)]}}function uU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fA(t,i);let o=function(l){if(l.length!==0)return mA(vn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(m){return{field:So(m.field),direction:hU(m.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=py(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:n,parent:i}}function lU(t){let e=iU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){me(r===1,65062);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){let m=gA(p);return m instanceof vn&&KS(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(A){return new jo(Ao(A.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let c=null;n.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,Ud(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Vo(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Vo(y,m)}(n.endAt)),Fj(e,i,s,o,c,"F",u,l)}function dU(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ao(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ao(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ao(n.unaryFilter.field);return Le.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ao(n.unaryFilter.field);return Le.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $(61313);default:return $(60726)}}(t):t.fieldFilter!==void 0?function(n){return Le.create(Ao(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $(58110);default:return $(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vn.create(n.compositeFilter.filters.map(r=>gA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $(1026)}}(n.compositeFilter.op))}(t):$(30097,{filter:t})}function hU(t){return eU[t]}function fU(t){return tU[t]}function pU(t){return nU[t]}function So(t){return{fieldPath:t.canonicalString()}}function Ao(t){return Ct.fromServerFormat(t.fieldPath)}function mA(t){return t instanceof Le?function(n){if(n.op==="=="){if(HC(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if($C(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HC(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if($C(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:fU(n.op),value:n.value}}}(t):t instanceof vn?function(n){let r=n.getFilters().map(i=>mA(i));return r.length===1?r[0]:{compositeFilter:{op:pU(n.op),filters:r}}}(t):$(54877,{filter:t})}function gU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ha=class t{constructor(e,n,r,i,o=Y.min(),s=Y.min(),c=it.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var vy=class{constructor(e){this.gt=e}};function mU(t){let e=lU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iy(e,e.limit,"L"):e}var wd=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(De(e.integerValue));else if("doubleValue"in e){let r=De(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),ja(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=$n(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Hn(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?zS(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):qS(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):$(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=Oo,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(De(c)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),H.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};wd.Ut=new wd;var _y=class{constructor(){this.Dn=new Iy}addToCollectionParentIndex(e,n){return this.Dn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(yi.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},Iy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new He(Ne.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(Ne.comparator)).toArray()}};var MK=new Uint8Array(0);var rS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vA=41943040,Lt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Lt.DEFAULT_COLLECTION_PERCENTILE=10,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lt.DEFAULT=new Lt(vA,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lt.DISABLED=new Lt(-1,0,0);var qa=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var iS="LruGarbageCollector",yU=1048576;function oS([t,e],[n,r]){let i=te(t,n);return i===0?te(e,r):i}var wy=class{constructor(e){this.Tr=e,this.buffer=new He(oS),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();oS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},Ey=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){O(iS,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qo(n)?O(iS,"Ignoring IndexedDB error during garbage collection: ",n):yield Ko(n)}yield this.Rr(3e5)}))}},Ty=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(_v.ue);let r=new wy(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(rS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rS):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),bo()<=ne.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function vU(t,e){return new Ty(t,e)}var Dy=class{constructor(){this.changes=new qn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var by=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Cy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fa(r.mutation,i,fn.empty(),xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){let i=di();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Pa();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=di();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=zn(),s=Oa(),c=function(){return Oa()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Wn)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Fa(f.mutation,l,f.mutation.getFieldMask(),xe.now())):s.set(l.key,fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new by(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Oa(),i=new Se((s,c)=>s-c),o=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||fn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||ie()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=nA();f.forEach(m=>{if(!o.has(m)){let y=cA(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Lj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(di()),c=Va,u=o;return s.next(l=>M.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ie())).next(f=>({batchId:c,changes:tA(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=Pa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Pa();return this.indexManager.getCollectionParents(e,o).next(c=>M.forEach(c,u=>{let l=function(p,m){return new Uo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Jt.newInvalidDocument(f)))});let c=Pa();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Fa(f.mutation,l,fn.empty(),xe.now()),Hd(n,l)&&(c=c.insert(u,l))}),c})}};var Sy=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return M.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:mn(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:mU(i.bundledQuery),readTime:mn(i.readTime)}}(n)),M.resolve()}};var Ay=class{constructor(){this.overlays=new Se(H.comparator),this.kr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=di();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=di(),o=n.length+1,s=new H(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Se((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=di(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=di(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return M.resolve(c)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new uy(n,r));let o=this.kr.get(n);o===void 0&&(o=ie(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var Ry=class{constructor(){this.sessionToken=it.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var za=class{constructor(){this.qr=new He(Pe.Qr),this.$r=new He(Pe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Pe(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Pe(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new H(new Ne([])),r=new Pe(n,e),i=new Pe(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new H(new Ne([])),r=new Pe(n,e),i=new Pe(n,e+1),o=ie();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Pe(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Pe=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return H.comparator(e.key,n.key)||te(e.Hr,n.Hr)}static Ur(e,n){return te(e.Hr,n.Hr)||H.comparator(e.key,n.key)}};var Ny=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new He(Pe.Qr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new ay(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Pe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?Iv:this.er-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Pe(n,0),i=new Pe(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(te);return n.forEach(i=>{let o=new Pe(i,0),s=new Pe(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),M.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new Pe(new H(o),0),c=new He(te);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),M.resolve(this.ei(c))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){me(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return M.forEach(n.mutations,i=>{let o=new Pe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Pe(n,0),i=this.Yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var My=class{constructor(e){this.ni=e,this.docs=function(){return new Se(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=zn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Jt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=zn(),s=n.path,c=new H(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||yj(mj(f),r)<=0||(i.has(f.key)||Hd(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){$(9500)}ri(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Py(this)}getSize(e){return M.resolve(this.size)}},Py=class extends Dy{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var ky=class{constructor(e){this.persistence=e,this.ii=new qn(n=>bv(n),Cv),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.si=0,this.oi=new za,this.targetCount=0,this._i=qa.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),M.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new qa(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.hr(n),M.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.oi.containsKey(n))}};var Ed=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new _v(0),this.ci=!1,this.ci=!0,this.li=new Ry,this.referenceDelegate=e(this),this.hi=new ky(this),this.indexManager=new _y,this.remoteDocumentCache=function(i){return new My(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new vy(n),this.Ti=new Sy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ay,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new Ny(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);let i=new xy(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return M.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},xy=class extends qm{constructor(e){super(),this.currentSequenceNumber=e}},Oy=class t{constructor(e){this.persistence=e,this.Ai=new za,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw $(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.mi,r=>{let i=H.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,Y.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return M.or([()=>M.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Td=class t{constructor(e,n){this.persistence=e,this.gi=new qn(r=>wj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vU(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return M.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,Y.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=id(e.data.value)),n}Sr(e,n,r){return M.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Fy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ie(),i=ie();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Ly=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Vy=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return cb()?8:_j(Be())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Ly;return this.ws(e,n,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,s,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(bo()<=ne.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",Co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(bo()<=ne.DEBUG&&O("QueryEngine","Query:",Co(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(bo()<=ne.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",Co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(n))):M.resolve())}ps(e,n){if(GC(n))return M.resolve(null);let r=gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=iy(n,null,"F"),r=gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ie(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,c);return this.Ds(n,l,s,u.readTime)?this.ps(e,iy(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return GC(n)||i.isEqual(Y.min())?M.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?M.resolve(null):(bo()<=ne.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Co(n)),this.vs(e,s,n,gj(i,Va)).next(c=>c))})}bs(e,n){let r=new He(XS(e));return n.forEach((i,o)=>{Hd(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return bo()<=ne.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Co(n)),this.gs.getDocumentsMatchingQuery(e,n,yi.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Nv="LocalStore",_U=3e8,jy=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Se(te),this.Ms=new qn(o=>bv(o),Cv),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cy(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function IU(t,e,n,r){return new jy(t,e,n,r)}function _A(t,e){return v(this,null,function*(){let n=G(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ie();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function wU(t,e){let n=G(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let p=l.batch,m=p.keys(),y=M.resolve();return m.forEach(A=>{y=y.next(()=>f.getEntry(u,A)).next(R=>{let P=l.docVersions.get(A);me(P!==null,48541),R.version.compareTo(P)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),f.addEntry(R)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ie();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function IA(t){let e=G(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function EU(t,e){let n=G(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(n.hi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,f.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(it.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),function(R,P,V){return R.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=_U?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(m,y,f)&&c.push(n.hi.updateTargetData(o,y))});let u=zn(),l=ie();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(TU(o,s,e.documentUpdates).next(f=>{u=f.Ls,l=f.ks})),!r.isEqual(Y.min())){let f=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return M.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function TU(t,e,n){let r=ie(),i=ie();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=zn();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):O(Nv,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function DU(t,e){let n=G(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Iv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bU(t,e){let n=G(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new Ha(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function Uy(t,e,n){return v(this,null,function*(){let r=G(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Qo(s))throw s;O(Nv,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function sS(t,e,n){let r=G(t),i=Y.min(),o=ie();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let p=G(u),m=p.Ms.get(f);return m!==void 0?M.resolve(p.Fs.get(m)):p.hi.getTargetData(l,f)}(r,s,gn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Y.min(),n?o:ie())).next(c=>(CU(r,jj(e),c),{documents:c,qs:o})))}function CU(t,e,n){let r=t.xs.get(e)||Y.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var Dd=class{constructor(){this.activeTargetIds=zj()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var By=class{constructor(){this.Fo=new Dd,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Dd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var $y=class{xo(e){}shutdown(){}};var aS="ConnectivityMonitor",bd=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){O(aS,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){O(aS,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var rd=null;function Hy(){return rd===null?rd=function(){return 268435456+Math.round(2147483648*Math.random())}():rd++,"0x"+rd.toString(16)}var km="RestConnection",SU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},qy=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===hd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=Hy(),c=this.Go(e,n.toUriEncodedString());O(km,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),f=pr(l);return this.jo(e,c,u,r,f).then(p=>(O(km,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Cr(km,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=SU[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var zy=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var rt="WebChannelConnection",Wy=class extends qy{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=Hy();return new Promise((c,u)=>{let l=new Sm;l.setWithCredentials(!0),l.listenOnce(Am.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ma.NO_ERROR:let p=l.getResponseJson();O(rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case Ma.TIMEOUT:O(rt,`RPC '${e}' ${s} timed out`),u(new L(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ma.HTTP_ERROR:let m=l.getStatus();if(O(rt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let A=y?.error;if(A&&A.status&&A.message){let R=function(V){let q=V.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(q)>=0?q:N.UNKNOWN}(A.status);u(new L(R,A.message))}else u(new L(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(N.UNAVAILABLE,"Connection failed."));break;default:$(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{O(rt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);O(rt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",f,r,15)})}P_(e,n,r){let i=Hy(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Mm(),c=Nm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");O(rt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.T_(p);let m=!1,y=!1,A=new zy({Ho:P=>{y?O(rt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(O(rt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),O(rt,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},Yo:()=>p.close()}),R=(P,V,q)=>{P.listen(V,W=>{try{q(W)}catch(_e){setTimeout(()=>{throw _e},0)}})};return R(p,Do.EventType.OPEN,()=>{y||(O(rt,`RPC '${e}' stream ${i} transport opened.`),A.s_())}),R(p,Do.EventType.CLOSE,()=>{y||(y=!0,O(rt,`RPC '${e}' stream ${i} transport closed`),A.__(),this.I_(p))}),R(p,Do.EventType.ERROR,P=>{y||(y=!0,Cr(rt,`RPC '${e}' stream ${i} transport errored. Name:`,P.name,"Message:",P.message),A.__(new L(N.UNAVAILABLE,"The operation could not be completed")))}),R(p,Do.EventType.MESSAGE,P=>{var V;if(!y){let q=P.data[0];me(!!q,16349);let W=q,_e=W?.error||((V=W[0])===null||V===void 0?void 0:V.error);if(_e){O(rt,`RPC '${e}' stream ${i} received error:`,_e);let ot=_e.status,ye=function(w){let E=Me[w];if(E!==void 0)return lA(E)}(ot),T=_e.message;ye===void 0&&(ye=N.INTERNAL,T="Unknown error status: "+ot+" with message "+_e.message),y=!0,A.__(new L(ye,T)),p.close()}else O(rt,`RPC '${e}' stream ${i} received:`,q),A.a_(q)}}),R(c,Rm.STAT_EVENT,P=>{P.stat===ed.PROXY?O(rt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===ed.NOPROXY&&O(rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function xm(){return typeof document<"u"?document:null}function qd(t){return new fy(t,!0)}var Cd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var cS="PersistentStream",Sd=class{constructor(e,n,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Cd(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Bn(n.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new L(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return O(cS,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(O(cS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Gy=class extends Sd{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=oU(this.serializer,e),r=function(o){if(!("targetChange"in o))return Y.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?mn(s.readTime):Y.min()}(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=yy(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=ry(u)?{documents:cU(o,u)}:{query:uU(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=dA(o,s.resumeToken);let l=py(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(Y.min())>0){c.readTime=Id(o,s.snapshotVersion.toTimestamp());let l=py(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=dU(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=yy(this.serializer),n.removeTarget=e,this.k_(n)}},Ky=class extends Sd{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=aU(e.writeResults,e.commitTime),r=mn(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=yy(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>sU(this.serializer,r))};this.k_(n)}};var Qy=class{},Yy=class extends Qy{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,gy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(N.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,gy(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Zy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Bn(n),this._a=!1):O("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var wi="RemoteStore",Jy=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){Ti(this)&&(O(wi,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=G(u);l.Ia.add(4),yield Ya(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield zd(l)})}(this))}))}),this.Aa=new Zy(r,i)}};function zd(t){return v(this,null,function*(){if(Ti(t))for(let e of t.da)yield e(!0)})}function Ya(t){return v(this,null,function*(){for(let e of t.da)yield e(!1)})}function wA(t,e){let n=G(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),xv(n)?kv(n):Yo(n).x_()&&Pv(n,e))}function Mv(t,e){let n=G(t),r=Yo(n);n.Ta.delete(e),r.x_()&&EA(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ti(n)&&n.Aa.set("Unknown"))}function Pv(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yo(t).H_(e)}function EA(t,e){t.Ra.$e(e),Yo(t).Y_(e)}function kv(t){t.Ra=new hy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Yo(t).start(),t.Aa.aa()}function xv(t){return Ti(t)&&!Yo(t).M_()&&t.Ta.size>0}function Ti(t){return G(t).Ia.size===0}function TA(t){t.Ra=void 0}function AU(t){return v(this,null,function*(){t.Aa.set("Online")})}function RU(t){return v(this,null,function*(){t.Ta.forEach((e,n)=>{Pv(t,e)})})}function NU(t,e){return v(this,null,function*(){TA(t),xv(t)?(t.Aa.la(e),kv(t)):t.Aa.set("Unknown")})}function MU(t,e,n){return v(this,null,function*(){if(t.Aa.set("Online"),e instanceof vd&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})}(t,e)}catch(r){O(wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ad(t,r)}else if(e instanceof Mo?t.Ra.Ye(e):e instanceof yd?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Y.min()))try{let r=yield IA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ta.get(l);f&&o.Ta.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.Ta.get(u);if(!f)return;o.Ta.set(u,f.withResumeToken(it.EMPTY_BYTE_STRING,f.snapshotVersion)),EA(o,u);let p=new Ha(f.target,u,l,f.sequenceNumber);Pv(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){O(wi,"Failed to raise snapshot:",r),yield Ad(t,r)}})}function Ad(t,e,n){return v(this,null,function*(){if(!Qo(e))throw e;t.Ia.add(1),yield Ya(t),t.Aa.set("Offline"),n||(n=()=>IA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){O(wi,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield zd(t)}))})}function DA(t,e){return e().catch(n=>Ad(t,n,e))}function Wd(t){return v(this,null,function*(){let e=G(t),n=Ar(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Iv;for(;PU(e);)try{let i=yield DU(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,kU(e,i)}catch(i){yield Ad(e,i)}bA(e)&&CA(e)})}function PU(t){return Ti(t)&&t.Pa.length<10}function kU(t,e){t.Pa.push(e);let n=Ar(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function bA(t){return Ti(t)&&!Ar(t).M_()&&t.Pa.length>0}function CA(t){Ar(t).start()}function xU(t){return v(this,null,function*(){Ar(t).na()})}function OU(t){return v(this,null,function*(){let e=Ar(t);for(let n of t.Pa)e.X_(n.mutations)})}function FU(t,e,n){return v(this,null,function*(){let r=t.Pa.shift(),i=cy.from(r,e,n);yield DA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Wd(t)})}function LU(t,e){return v(this,null,function*(){e&&Ar(t).Z_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return Jj(s)&&s!==N.ABORTED}(i.code)){let o=r.Pa.shift();Ar(r).N_(),yield DA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Wd(r)}})}(t,e)),bA(t)&&CA(t)})}function uS(t,e){return v(this,null,function*(){let n=G(t);n.asyncQueue.verifyOperationInProgress(),O(wi,"RemoteStore received new credentials");let r=Ti(n);n.Ia.add(3),yield Ya(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield zd(n)})}function VU(t,e){return v(this,null,function*(){let n=G(t);e?(n.Ia.delete(2),yield zd(n)):e||(n.Ia.add(2),yield Ya(n),n.Aa.set("Unknown"))})}function Yo(t){return t.Va||(t.Va=function(n,r,i){let o=G(n);return o.ia(),new Gy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:AU.bind(null,t),e_:RU.bind(null,t),n_:NU.bind(null,t),J_:MU.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.Va.N_(),xv(t)?kv(t):t.Aa.set("Unknown")):(yield t.Va.stop(),TA(t))}))),t.Va}function Ar(t){return t.ma||(t.ma=function(n,r,i){let o=G(n);return o.ia(),new Ky(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:xU.bind(null,t),n_:LU.bind(null,t),ea:OU.bind(null,t),ta:FU.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.ma.N_(),yield Wd(t)):(yield t.ma.stop(),t.Pa.length>0&&(O(wi,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var Xy=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ov(t,e){if(Bn("AsyncQueue",`${e}: ${t}`),Qo(t))return new L(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Rd=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Pa(),this.sortedSet=new Se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Nd=class{constructor(){this.fa=new Se(H.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):$(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},zo=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,Rd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var ev=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},tv=class{constructor(){this.queries=lS(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=G(n),o=i.queries;i.queries=lS(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new L(N.ABORTED,"Firestore shutting down"))}};function lS(){return new qn(t=>JS(t),$d)}function jU(t,e){return v(this,null,function*(){let n=G(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new ev,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=Ov(s,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&Fv(n)})}function UU(t,e){return v(this,null,function*(){let n=G(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function BU(t,e){let n=G(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&Fv(n)}function $U(t,e,n){let r=G(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function Fv(t){t.Da.forEach(e=>{e.next()})}var nv,dS;(dS=nv||(nv={})).Fa="default",dS.Cache="cache";var rv=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new zo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==nv.Cache}};var Md=class{constructor(e){this.key=e}},Pd=class{constructor(e){this.key=e}},iv=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ie(),this.mutatedKeys=ie(),this.Xa=XS(e),this.eu=new Rd(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Nd,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),y=Hd(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),P=!1;m&&y?m.data.isEqual(y.data)?A!==R&&(r.track({type:3,doc:y}),P=!0):this.iu(m,y)||(r.track({type:2,doc:y}),P=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),P=!0):m&&!y&&(r.track({type:1,doc:m}),P=!0,(u||l)&&(c=!0)),P&&(y?(s=s.add(y),o=R?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((f,p)=>function(y,A){let R=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $(20277,{At:P})}};return R(y)-R(A)}(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let c=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new zo(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Nd,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ie(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Pd(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Md(r))}),n}uu(e){this.Ha=e.qs,this.Za=ie();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return zo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},Lv="SyncEngine",ov=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},sv=class{constructor(e){this.key=e,this.lu=!1}},av=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new qn(c=>JS(c),$d),this.Tu=new Map,this.Iu=new Set,this.du=new Se(H.comparator),this.Eu=new Map,this.Au=new za,this.Ru={},this.Vu=new Map,this.mu=qa.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function HU(t,e,n=!0){return v(this,null,function*(){let r=PA(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield SA(r,e,n,!0),i})}function qU(t,e){return v(this,null,function*(){let n=PA(t);yield SA(n,e,!0,!1)})}function SA(t,e,n,r){return v(this,null,function*(){let i=yield bU(t.localStore,gn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield zU(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&wA(t.remoteStore,i),c})}function zU(t,e,n,r,i){return v(this,null,function*(){t.gu=(p,m,y)=>function(R,P,V,q){return v(this,null,function*(){let W=P.view.nu(V);W.Ds&&(W=yield sS(R.localStore,P.query,!1).then(({documents:T})=>P.view.nu(T,W)));let _e=q&&q.targetChanges.get(P.targetId),ot=q&&q.targetMismatches.get(P.targetId)!=null,ye=P.view.applyChanges(W,R.isPrimaryClient,_e,ot);return fS(R,P.targetId,ye._u),ye.snapshot})}(t,p,m,y);let o=yield sS(t.localStore,e,!0),s=new iv(e,o.qs),c=s.nu(o.documents),u=$a.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);fS(t,n,l._u);let f=new ov(e,n,s);return t.Pu.set(e,f),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function WU(t,e,n){return v(this,null,function*(){let r=G(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!$d(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Uy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Mv(r.remoteStore,i.targetId),cv(r,i.targetId)}).catch(Ko))):(cv(r,i.targetId),yield Uy(r.localStore,i.targetId,!0))})}function GU(t,e){return v(this,null,function*(){let n=G(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mv(n.remoteStore,r.targetId))})}function KU(t,e,n){return v(this,null,function*(){let r=tB(t);try{let i=yield function(s,c){let u=G(s),l=xe.now(),f=c.reduce((y,A)=>y.add(A.key),ie()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=zn(),R=ie();return u.Os.getEntries(y,f).next(P=>{A=P,A.forEach((V,q)=>{q.isValidDocument()||(R=R.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,A)).next(P=>{p=P;let V=[];for(let q of c){let W=Zj(q,p.get(q.key).overlayedDocument);W!=null&&V.push(new Wn(q.key,W,WS(W.value.mapValue),pi.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,c)}).next(P=>{m=P;let V=P.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,P.batchId,V)})}).then(()=>({batchId:m.batchId,changes:tA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Se(te)),l=l.insert(c,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Za(r,i.changes),yield Wd(r.remoteStore)}catch(i){let o=Ov(i,"Failed to persist write");n.reject(o)}})}function AA(t,e){return v(this,null,function*(){let n=G(t);try{let r=yield EU(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?me(s.lu,14607):i.removedDocuments.size>0&&(me(s.lu,42227),s.lu=!1))}),yield Za(n,r,e)}catch(r){yield Ko(r)}})}function hS(t,e,n){let r=G(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=G(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&Fv(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function QU(t,e,n){return v(this,null,function*(){let r=G(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Se(H.comparator);s=s.insert(o,Jt.newNoDocument(o,Y.min()));let c=ie().add(o),u=new md(Y.min(),new Map,new Se(te),s,c);yield AA(r,u),r.du=r.du.remove(o),r.Eu.delete(e),Vv(r)}else yield Uy(r.localStore,e,!1).then(()=>cv(r,e,n)).catch(Ko)})}function YU(t,e){return v(this,null,function*(){let n=G(t),r=e.batch.batchId;try{let i=yield wU(n.localStore,e);NA(n,r,null),RA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Za(n,i)}catch(i){yield Ko(i)}})}function ZU(t,e,n){return v(this,null,function*(){let r=G(t);try{let i=yield function(s,c){let u=G(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(me(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);NA(r,e,n),RA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Za(r,i)}catch(i){yield Ko(i)}})}function RA(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function NA(t,e,n){let r=G(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function cv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||MA(t,r)})}function MA(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(Mv(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Vv(t))}function fS(t,e,n){for(let r of n)r instanceof Md?(t.Au.addReference(r.key,e),JU(t,r)):r instanceof Pd?(O(Lv,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||MA(t,r.key)):$(19791,{yu:r})}function JU(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(O(Lv,"New document in limbo: "+n),t.Iu.add(r),Vv(t))}function Vv(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new H(Ne.fromString(e)),r=t.mu.next();t.Eu.set(r,new sv(n)),t.du=t.du.insert(n,r),wA(t.remoteStore,new Ha(gn(Sv(n.path)),r,"TargetPurposeLimboResolution",_v.ue))}}function Za(t,e,n){return v(this,null,function*(){let r=G(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Fy.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(u,l){return v(this,null,function*(){let f=G(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,m=>M.forEach(m.Is,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>M.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Qo(p))throw p;O(Nv,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=f.Fs.get(m),A=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(A);f.Fs=f.Fs.insert(m,R)}}})}(r.localStore,o))})}function XU(t,e){return v(this,null,function*(){let n=G(t);if(!n.currentUser.isEqual(e)){O(Lv,"User change. New user:",e.toKey());let r=yield _A(n.localStore,e);n.currentUser=e,function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new L(N.CANCELLED,s))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Za(n,r.Bs)}})}function eB(t,e){let n=G(t),r=n.Eu.get(e);if(r&&r.lu)return ie().add(r.key);{let i=ie(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let c=n.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function PA(t){let e=G(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QU.bind(null,e),e.hu.J_=BU.bind(null,e.eventManager),e.hu.pu=$U.bind(null,e.eventManager),e}function tB(t){let e=G(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZU.bind(null,e),e}var kA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=qd(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return IU(this.persistence,new Vy,n.initialUser,this.serializer)}Du(n){return new Ed(Oy.Vi,this.serializer)}bu(n){return new By}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),uv=class extends kA{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){me(this.persistence.referenceDelegate instanceof Td,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Ey(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Lt.withCacheSize(this.cacheSizeBytes):Lt.DEFAULT;return new Ed(r=>Td.Vi(r,n),this.serializer)}};var nB=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=XU.bind(null,this.syncEngine),yield VU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new tv}()}createDatastore(n){let r=qd(n.databaseInfo.databaseId),i=function(s){return new Wy(s)}(n.databaseInfo);return function(s,c,u,l){return new Yy(s,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,u){return new Jy(i,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>hS(this.syncEngine,r,0),function(){return bd.C()?new bd:new $y}())}createSyncEngine(n,r){return function(o,s,c,u,l,f,p){let m=new av(o,s,c,u,l,f);return p&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(o){return v(this,null,function*(){let s=G(o);O(wi,"RemoteStore shutting down."),s.Ia.add(5),yield Ya(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var lv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Bn("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Rr="FirestoreClient",dv=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$e.UNAUTHENTICATED,this.clientId=La.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){O(Rr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(O(Rr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Ov(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Om(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),O(Rr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield _A(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Cr("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{O("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Cr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function pS(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield rB(t);O(Rr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>uS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>uS(e.remoteStore,i)),t._onlineComponents=e})}function rB(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O(Rr,"Using user provided OfflineComponentProvider");try{yield Om(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Cr("Error using user provided cache. Falling back to memory cache: "+n),yield Om(t,new kA)}}else O(Rr,"Using default OfflineComponentProvider"),yield Om(t,new uv(void 0));return t._offlineComponents})}function xA(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(O(Rr,"Using user provided OnlineComponentProvider"),yield pS(t,t._uninitializedComponentsProvider._online)):(O(Rr,"Using default OnlineComponentProvider"),yield pS(t,new nB))),t._onlineComponents})}function iB(t){return xA(t).then(e=>e.syncEngine)}function gS(t){return v(this,null,function*(){let e=yield xA(t),n=e.eventManager;return n.onListen=HU.bind(null,e.syncEngine),n.onUnlisten=WU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GU.bind(null,e.syncEngine),n})}function OA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var mS=new Map;var FA="firestore.googleapis.com",yS=!0,kd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FA,this.ssl=yS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:yS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yU)throw new L(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Wa=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Fm;switch(r.type){case"firstParty":return new Um(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=mS.get(n);r&&(O("ComponentProvider","Removing Datastore"),mS.delete(n),r.terminate())}(this),Promise.resolve()}};function LA(t,e,n,r={}){var i;t=No(t,Wa);let o=pr(e),s=t._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Dl(`https://${u}`),bl("Firestore",!0)),s.host!==FA&&s.host!==u&&Cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Pt(l,c)&&(t._setSettings(l),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=$e.MOCK_USER;else{f=rb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new L(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new $e(m)}t._authCredentials=new Lm(new ad(f,p))}}var xd=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ht=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Qa(n,t._jsonSchema))return new t(e,r||null,new H(Ne.fromString(n.referencePath)))}};ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:ke("string",ht._jsonSchemaVersion),referencePath:ke("string")};var Ga=class t extends xd{constructor(e,n,r){super(e,n,Sv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function VA(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=La.newId()),fj("doc","path",e),t instanceof Wa){let r=Ne.fromString(e,...n);return OC(r),new ht(t,null,new H(r))}{if(!(t instanceof ht||t instanceof Ga))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return OC(r),new ht(t.firestore,t instanceof Ga?t.converter:null,new H(r))}}var vS="AsyncQueue",Od=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Cd(this,"async_queue_retry"),this.oc=()=>{let r=xm();r&&O(vS,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Un;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Qo(e))throw e;O(vS,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Bn("INTERNAL UNHANDLED ERROR: ",_S(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=Xy.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&$(47125,{hc:_S(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function _S(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function IS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Wo=class extends Wa{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Od,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Od(e),this._firestoreClient=void 0,yield e}})}};function jA(t,e){let n=typeof t=="object"?t:un(),r=typeof t=="string"?t:e||hd,i=xt(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=nb("firestore");o&&LA(i,...o)}return i}function UA(t){if(t._terminated)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oB(t),t._firestoreClient}function oB(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,f){return new zm(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,OA(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new dv(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var Tr=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(it.fromBase64String(e))}catch(n){throw new L(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(it.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qa(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Tr._jsonSchemaVersion="firestore/bytes/1.0",Tr._jsonSchema={type:ke("string",Tr._jsonSchemaVersion),bytes:ke("string")};var Ka=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Fd=class{constructor(e){this._methodName=e}};var Dr=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Qa(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Dr._jsonSchemaVersion="firestore/geoPoint/1.0",Dr._jsonSchema={type:ke("string",Dr._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};var br=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qa(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new L(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};br._jsonSchemaVersion="firestore/vectorValue/1.0",br._jsonSchema={type:ke("string",br._jsonSchemaVersion),vectorValues:ke("object")};var sB=/^__.*__$/,hv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ii(e,this.data,n,this.fieldTransforms)}};function BA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $(40011,{Ec:t})}}var fv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ld(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(BA(this.Ec)&&sB.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},pv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qd(e)}Dc(e,n,r,i=!1){return new fv({Ec:e,methodName:n,bc:r,path:Ct.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function aB(t){let e=t._freezeSettings(),n=qd(t._databaseId);return new pv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cB(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);zA("Data must be an object, but it was:",s,r);let c=HA(r,s),u,l;if(o.merge)u=new fn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let m=uB(e,p,n);if(!s.contains(m))throw new L(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);dB(f,m)||f.push(m)}u=new fn(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new hv(new Zt(c),u,l)}function $A(t,e){if(qA(t=Ye(t)))return zA("Unsupported field value:",e,t),HA(t,e);if(t instanceof Fd)return function(r,i){if(!BA(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=$A(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Wj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=xe.fromDate(r);return{timestampValue:Id(i.serializer,o)}}if(r instanceof xe){let o=new xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(i.serializer,o)}}if(r instanceof Dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tr)return{bytesValue:dA(i.serializer,r._byteString)};if(r instanceof ht){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Rv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof br)return function(s,c){return{mapValue:{fields:{[Ev]:{stringValue:Tv},[Oo]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return Av(c.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${vv(r)}`)}(t,e)}function HA(t,e){let n={};return VS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(t,(r,i)=>{let o=$A(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function qA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xe||t instanceof Dr||t instanceof Tr||t instanceof ht||t instanceof Fd||t instanceof br)}function zA(t,e,n){if(!qA(n)||!TS(n)){let r=vv(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function uB(t,e,n){if((e=Ye(e))instanceof Ka)return e._internalPath;if(typeof e=="string")return WA(t,e);throw Ld("Field path arguments must be of type string or ",t,!1,void 0,n)}var lB=new RegExp("[~\\*/\\[\\]]");function WA(t,e,n){if(e.search(lB)>=0)throw Ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ka(...e.split("."))._internalPath}catch{throw Ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ld(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(N.INVALID_ARGUMENT,c+t+u)}function dB(t,e){return t.some(n=>n.isEqual(e))}var Vd=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new gv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(GA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},gv=class extends Vd{data(){return super.data()}};function GA(t,e){return typeof e=="string"?WA(t,e):e instanceof Ka?e._internalPath:e._delegate._internalPath}function hB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var mv=class{convertValue(e,n="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ei(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Oo].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>De(s.doubleValue));return new br(o)}convertGeoPoint(e){return new Dr(De(e.latitude),De(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Bd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ua(e));default:return null}}convertTimestamp(e){let n=$n(e);return new xe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ne.fromString(e);me(yA(r),9688,{name:e});let i=new fd(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||Bn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function fB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var fi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},gi=class t extends Vd{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Po(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(GA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};gi._jsonSchemaVersion="firestore/documentSnapshot/1.0",gi._jsonSchema={type:ke("string",gi._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};var Po=class extends gi{data(e={}){return super.data(e)}},ko=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Po(this._firestore,this._userDataWriter,r.key,r,new fi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Po(i._firestore,i._userDataWriter,c.doc.key,c.doc,new fi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Po(i._firestore,i._userDataWriter,c.doc.key,c.doc,new fi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:pB(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=La.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function pB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $(61501,{type:t})}}ko._jsonSchemaVersion="firestore/querySnapshot/1.0",ko._jsonSchema={type:ke("string",ko._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};var jd=class extends mv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}};function KA(t,e,n){t=No(t,ht);let r=No(t.firestore,Wo),i=fB(t.converter,e,n);return gB(r,[cB(aB(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,pi.none())])}function jv(t,...e){var n,r,i;t=Ye(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||IS(e[s])||(o=e[s++]);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(IS(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(t instanceof ht)l=No(t.firestore,Wo),f=Sv(t._key.path),u={next:p=>{e[s]&&e[s](mB(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=No(t,xd);l=No(p.firestore,Wo),f=p._query;let m=new jd(l);u={next:y=>{e[s]&&e[s](new ko(l,m,p,y))},error:e[s+1],complete:e[s+2]},hB(t._query)}return function(m,y,A,R){let P=new lv(R),V=new rv(y,P,A);return m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return jU(yield gS(m),V)})),()=>{P.Ou(),m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return UU(yield gS(m),V)}))}}(UA(l),f,c,u)}function gB(t,e){return function(r,i){let o=new Un;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return KU(yield iB(r),i,o)})),o.promise}(UA(t),e)}function mB(t,e,n){let r=n.docs.get(e._key),i=new jd(t);return new gi(t,i,e._key,r,new fi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Go=i})(mr),Ze(new Re("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Wo(new Vm(r.getProvider("auth-internal")),new Bm(s,r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fd(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ge(MC,PC,e),ge(MC,PC,"esm2017")})();var Gd=function(){return Gd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Gd.apply(this,arguments)};var _B={includeMetadataChanges:!1};function QA(t,e){return e===void 0&&(e=_B),new re(function(n){var r=jv(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function YA(t){return QA(t,{includeMetadataChanges:!0})}function ZA(t,e){return e===void 0&&(e={}),YA(t).pipe(oe(function(n){return JA(n,e)}))}function JA(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Gd(Gd({},r),(n={},n[e.idField]=t.id,n))}var Di=class{constructor(e){return e}},XA="firestore",Uv=class{constructor(){return yr(XA)}};var Bv=new j("angularfire2.firestore-instances");function IB(t,e){let n=si(XA,t,e);return n&&new Di(n)}function wB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Di(r)}}var EB={provide:Uv,deps:[[new ut,Bv]]},TB={provide:Di,useFactory:IB,deps:[[new ut,Bv],Qt]};function e0(t,...e){return ge("angularfire",ln.full,"fst"),zt([TB,EB,{provide:Bv,useFactory:wB(t),multi:!0,deps:[pe,je,dn,On,[new ut,Na],[new ut,Eo],...e]}])}var t0=Ft(ZA,!0);var $v=Ft(VA,!0,2);var n0=Ft(jA,!0);var r0=Ft(KA,!0,2);var Kd=class t{constructor(){}firestore=k(Di);getPersonalData(){let e=$v(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return t0(e)}updatePersonalData(e){let n=$v(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return r0(n,e,{merge:!0})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};function DB(t,e){if(t&1&&(Rn(0,"div")(1,"h1"),Yr(2),Nn(),Rn(3,"h1"),Yr(4),Nn(),Rn(5,"h1"),Yr(6),Nn()()),t&2){let n=e.ngIf;Us(2),Hs(n.name),Us(2),Hs(n.lastname),Us(2),Hs(n.phone_number)}}var Qd=class t{fireBaseService=k(Kd);personalData=this.fireBaseService.getPersonalData();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ur({type:t,selectors:[["app-home"]],decls:4,vars:3,consts:[[4,"ngIf"]],template:function(n,r){n&1&&(Rn(0,"p"),Yr(1,"YO TE QUIERO MAS HASTA GOOGLE LO SABE "),Nn(),Dp(2,DB,7,3,"div",0),OT(3,"async")),n&2&&(Us(2),Sp("ngIf",FT(3,1,r.personalData)))},dependencies:[co,xp,Op],encapsulation:2})};var Yd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ur({type:t,selectors:[["app-notfound"]],decls:2,vars:0,template:function(n,r){n&1&&(Rn(0,"p"),Yr(1,"notfound works!"),Nn())},encapsulation:2})};var i0=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Qd},{path:"**",component:Yd}];var a0="@firebase/installations",Wv="0.6.18";var c0=1e4,u0=`w:${Wv}`,l0="FIS_v2",bB="https://firebaseinstallations.googleapis.com/v1",CB=60*60*1e3,SB="installations",AB="Installations";var RB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ci=new dt(SB,AB,RB);function d0(t){return t instanceof Qe&&t.code.includes("request-failed")}function h0({projectId:t}){return`${bB}/projects/${t}/installations`}function f0(t){return{token:t.token,requestStatus:2,expiresIn:MB(t.expiresIn),creationTime:Date.now()}}function p0(t,e){return v(this,null,function*(){let r=(yield e.json()).error;return Ci.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function g0({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function NB(t,{refreshToken:e}){let n=g0(t);return n.append("Authorization",PB(e)),n}function m0(t){return v(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function MB(t){return Number(t.replace("s","000"))}function PB(t){return`${l0} ${t}`}function kB(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let o=h0(t),s=g0(t),c=e.getImmediate({optional:!0});if(c){let p=yield c.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={fid:n,authVersion:l0,appId:t.appId,sdkVersion:u0},l={method:"POST",headers:s,body:JSON.stringify(u)},f=yield m0(()=>fetch(o,l));if(f.ok){let p=yield f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:f0(p.authToken)}}else throw yield p0("Create Installation",f)})}function y0(t){return new Promise(e=>{setTimeout(e,t)})}function xB(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var OB=/^[cdef][\w-]{21}$/,zv="";function FB(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=LB(t);return OB.test(n)?n:zv}catch{return zv}}function LB(t){return xB(t).substr(0,22)}function Jd(t){return`${t.appName}!${t.appId}`}var v0=new Map;function _0(t,e){let n=Jd(t);I0(n,e),VB(n,e)}function I0(t,e){let n=v0.get(t);if(n)for(let r of n)r(e)}function VB(t,e){let n=jB();n&&n.postMessage({key:t,fid:e}),UB()}var bi=null;function jB(){return!bi&&"BroadcastChannel"in self&&(bi=new BroadcastChannel("[Firebase] FID Change"),bi.onmessage=t=>{I0(t.data.key,t.data.fid)}),bi}function UB(){v0.size===0&&bi&&(bi.close(),bi=null)}var BB="firebase-installations-database",$B=1,Si="firebase-installations-store",Hv=null;function Gv(){return Hv||(Hv=Ml(BB,$B,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Si)}}})),Hv}function Zd(t,e){return v(this,null,function*(){let n=Jd(t),i=(yield Gv()).transaction(Si,"readwrite"),o=i.objectStore(Si),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&_0(t,e.fid),e})}function w0(t){return v(this,null,function*(){let e=Jd(t),r=(yield Gv()).transaction(Si,"readwrite");yield r.objectStore(Si).delete(e),yield r.done})}function Xd(t,e){return v(this,null,function*(){let n=Jd(t),i=(yield Gv()).transaction(Si,"readwrite"),o=i.objectStore(Si),s=yield o.get(n),c=e(s);return c===void 0?yield o.delete(n):yield o.put(c,n),yield i.done,c&&(!s||s.fid!==c.fid)&&_0(t,c.fid),c})}function Kv(t){return v(this,null,function*(){let e,n=yield Xd(t.appConfig,r=>{let i=HB(r),o=qB(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===zv?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function HB(t){let e=t||{fid:FB(),registrationStatus:0};return E0(e)}function qB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Ci.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=zB(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:WB(t)}:{installationEntry:e}}function zB(t,e){return v(this,null,function*(){try{let n=yield kB(t,e);return Zd(t.appConfig,n)}catch(n){throw d0(n)&&n.customData.serverCode===409?yield w0(t.appConfig):yield Zd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function WB(t){return v(this,null,function*(){let e=yield o0(t.appConfig);for(;e.registrationStatus===1;)yield y0(100),e=yield o0(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield Kv(t);return r||n}return e})}function o0(t){return Xd(t,e=>{if(!e)throw Ci.create("installation-not-found");return E0(e)})}function E0(t){return GB(t)?{fid:t.fid,registrationStatus:0}:t}function GB(t){return t.registrationStatus===1&&t.registrationTime+c0<Date.now()}function KB(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let o=QB(t,n),s=NB(t,n),c=e.getImmediate({optional:!0});if(c){let p=yield c.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={installation:{sdkVersion:u0,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(u)},f=yield m0(()=>fetch(o,l));if(f.ok){let p=yield f.json();return f0(p)}else throw yield p0("Generate Auth Token",f)})}function QB(t,{fid:e}){return`${h0(t)}/${e}/authTokens:generate`}function Qv(t,e=!1){return v(this,null,function*(){let n,r=yield Xd(t.appConfig,o=>{if(!T0(o))throw Ci.create("not-registered");let s=o.authToken;if(!e&&JB(s))return o;if(s.requestStatus===1)return n=YB(t,e),o;{if(!navigator.onLine)throw Ci.create("app-offline");let c=e$(o);return n=ZB(t,c),c}});return n?yield n:r.authToken})}function YB(t,e){return v(this,null,function*(){let n=yield s0(t.appConfig);for(;n.authToken.requestStatus===1;)yield y0(100),n=yield s0(t.appConfig);let r=n.authToken;return r.requestStatus===0?Qv(t,e):r})}function s0(t){return Xd(t,e=>{if(!T0(e))throw Ci.create("not-registered");let n=e.authToken;return t$(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ZB(t,e){return v(this,null,function*(){try{let n=yield KB(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Zd(t.appConfig,r),n}catch(n){if(d0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield w0(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Zd(t.appConfig,r)}throw n}})}function T0(t){return t!==void 0&&t.registrationStatus===2}function JB(t){return t.requestStatus===2&&!XB(t)}function XB(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+CB}function e$(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function t$(t){return t.requestStatus===1&&t.requestTime+c0<Date.now()}function n$(t){return v(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield Kv(e);return r?r.catch(console.error):Qv(e).catch(console.error),n.fid})}function r$(t,e=!1){return v(this,null,function*(){let n=t;return yield i$(n),(yield Qv(n,e)).token})}function i$(t){return v(this,null,function*(){let{registrationPromise:e}=yield Kv(t);e&&(yield e)})}function o$(t){if(!t||!t.options)throw qv("App Configuration");if(!t.name)throw qv("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw qv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function qv(t){return Ci.create("missing-app-config-values",{valueName:t})}var D0="installations",s$="installations-internal",a$=t=>{let e=t.getProvider("app").getImmediate(),n=o$(e),r=xt(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},c$=t=>{let e=t.getProvider("app").getImmediate(),n=xt(e,D0).getImmediate();return{getId:()=>n$(n),getToken:i=>r$(n,i)}};function u$(){Ze(new Re(D0,a$,"PUBLIC")),Ze(new Re(s$,c$,"PRIVATE"))}u$();ge(a0,Wv);ge(a0,Wv,"esm2017");var eh="analytics",l$="firebase_id",d$="origin",h$=60*1e3,f$="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",n_="https://www.googletagmanager.com/gtag/js";var _t=new kt("@firebase/analytics");var p$={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},St=new dt("analytics","Analytics",p$);function g$(t){if(!t.startsWith(n_)){let e=St.create("invalid-gtag-resource",{gtagURL:t});return _t.warn(e.message),""}return t}function M0(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function m$(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function y$(t,e){let n=m$("firebase-js-sdk-policy",{createScriptURL:g$}),r=document.createElement("script"),i=`${n_}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function v$(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function _$(t,e,n,r,i,o){return v(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let u=(yield M0(n)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(c){_t.error(c)}t("config",i,o)})}function I$(t,e,n,r,i){return v(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let c=yield M0(n);for(let u of s){let l=c.find(p=>p.measurementId===u),f=l&&e[l.appId];if(f)o.push(f);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){_t.error(o)}})}function w$(t,e,n,r){function i(o,...s){return v(this,null,function*(){try{if(o==="event"){let[c,u]=s;yield I$(t,e,n,c,u)}else if(o==="config"){let[c,u]=s;yield _$(t,e,n,r,c,u)}else if(o==="consent"){let[c,u]=s;t("consent",c,u)}else if(o==="get"){let[c,u,l]=s;t("get",c,u,l)}else if(o==="set"){let[c]=s;t("set",c)}else t(o,...s)}catch(c){_t.error(c)}})}return i}function E$(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=w$(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function T$(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(n_)&&n.src.includes(t))return n;return null}var D$=30,b$=1e3,Zv=class{constructor(e={},n=b$){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},P0=new Zv;function C$(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function S$(t){return v(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:C$(r)},o=f$.replace("{app-id}",n),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let c="";try{let u=yield s.json();!((e=u.error)===null||e===void 0)&&e.message&&(c=u.error.message)}catch{}throw St.create("config-fetch-failed",{httpStatus:s.status,responseMessage:c})}return s.json()})}function A$(r){return v(this,arguments,function*(t,e=P0,n){let{appId:i,apiKey:o,measurementId:s}=t.options;if(!i)throw St.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw St.create("no-api-key")}let c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Jv;return setTimeout(()=>v(null,null,function*(){u.abort()}),n!==void 0?n:h$),k0({appId:i,apiKey:o,measurementId:s},c,u,e)})}function k0(o,s,c){return v(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=P0){var u;let{appId:l,measurementId:f}=t;try{yield R$(r,e)}catch(p){if(f)return _t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:f};throw p}try{let p=yield S$(t);return i.deleteThrottleMetadata(l),p}catch(p){let m=p;if(!N$(m)){if(i.deleteThrottleMetadata(l),f)return _t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:f};throw p}let y=Number((u=m?.customData)===null||u===void 0?void 0:u.httpStatus)===503?Al(n,i.intervalMillis,D$):Al(n,i.intervalMillis),A={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return i.setThrottleMetadata(l,A),_t.debug(`Calling attemptFetch again in ${y} millis`),k0(t,A,r,i)}})}function R$(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(St.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function N$(t){if(!(t instanceof Qe)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Jv=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var Xv;function M$(t,e,n,r,i){return v(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}})}var e_;function P$(t){e_=t}function k$(t){Xv=t}function x$(){return v(this,null,function*(){if(ri())try{yield Sl()}catch(t){return _t.warn(St.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return _t.warn(St.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function O$(t,e,n,r,i,o,s){return v(this,null,function*(){var c;let u=A$(t);u.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&_t.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>_t.error(y)),e.push(u);let l=x$().then(y=>{if(y)return r.getId()}),[f,p]=yield Promise.all([u,l]);T$(o)||y$(o,f.measurementId),e_&&(i("consent","default",e_),P$(void 0)),i("js",new Date);let m=(c=s?.config)!==null&&c!==void 0?c:{};return m[d$]="firebase",m.update=!0,p!=null&&(m[l$]=p),i("config",f.measurementId,m),Xv&&(i("set",Xv),k$(void 0)),f.measurementId})}var t_=class{constructor(e){this.app=e}_delete(){return delete Ja[this.app.options.appId],Promise.resolve()}},Ja={},b0=[],C0={},Yv="dataLayer",F$="gtag",S0,x0,A0=!1;function L$(){let t=[];if(Cl()&&t.push("This is a browser extension environment."),ub()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=St.create("invalid-analytics-context",{errorInfo:e});_t.warn(n.message)}}function V$(t,e,n){L$();let r=t.options.appId;if(!r)throw St.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)_t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw St.create("no-api-key");if(Ja[r]!=null)throw St.create("already-exists",{id:r});if(!A0){v$(Yv);let{wrappedGtag:o,gtagCore:s}=E$(Ja,b0,C0,Yv,F$);x0=o,S0=s,A0=!0}return Ja[r]=O$(t,b0,C0,e,S0,Yv,n),new t_(t)}function O0(t=un()){t=Ye(t);let e=xt(t,eh);return e.isInitialized()?e.getImmediate():F0(t)}function F0(t,e={}){let n=xt(t,eh);if(n.isInitialized()){let i=n.getImmediate();if(Pt(e,n.getOptions()))return i;throw St.create("already-initialized")}return n.initialize({options:e})}function L0(t,e,n,r){t=Ye(t),M$(x0,Ja[t.app.options.appId],e,n,r).catch(i=>_t.error(i))}var R0="@firebase/analytics",N0="0.10.17";function j$(){Ze(new Re(eh,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return V$(r,i,n)},"PUBLIC")),Ze(new Re("analytics-internal",t,"PRIVATE")),ge(R0,N0),ge(R0,N0,"esm2017");function t(e){try{let n=e.getProvider(eh).getImmediate();return{logEvent:(r,i,o)=>L0(n,r,i,o)}}catch(n){throw St.create("interop-component-reg-failed",{reason:n})}}}j$();var Xa=class{constructor(e){return e}},V0="analytics",r_=class{constructor(){return yr(V0)}};var j0=Ft(O0,!0);var ZY=Math.floor(Math.random()*(2**32-1))-2**31;var i_=new j("angularfire2.analytics-instances");function U$(t,e,n){if(!Uu(n))return null;let r=si(V0,t,e);return r&&new Xa(r)}function B$(t){return(e,n,r)=>{if(!Uu(r))return null;let i=e.runOutsideAngular(()=>t(n));return new Xa(i)}}var $$={provide:r_,deps:[[new ut,i_]]},H$={provide:Xa,useFactory:U$,deps:[[new ut,i_],Qt,rn]};function U0(t,...e){return ge("angularfire",ln.full,"analytics"),zt([H$,$$,{provide:i_,useFactory:B$(t),multi:!0,deps:[pe,je,rn,dn,On,...e]}])}var B0={production:!1,firebaseConfig:{apiKey:"AIzaSyBF38aXP_jKP6WBKJp78cZGjGmpwvLt_j8",authDomain:"cv-web-angular.firebaseapp.com",projectId:"cv-web-angular",storageBucket:"cv-web-angular.firebasestorage.app",messagingSenderId:"119785680877",appId:"1:119785680877:web:27a7c5644fddd90876c1e4",measurementId:"G-0QL3DQG5NC"}};qp(Il,{providers:[pg(i0),UT({eventCoalescing:!0}),Sb(()=>Ab(B0.firebaseConfig)),e0(()=>n0()),SC(()=>AC()),U0(()=>j0())]}).catch(t=>console.error(t));
