var LP=Object.defineProperty,VP=Object.defineProperties;var jP=Object.getOwnPropertyDescriptors;var Vw=Object.getOwnPropertySymbols,UP=Object.getPrototypeOf,BP=Object.prototype.hasOwnProperty,$P=Object.prototype.propertyIsEnumerable,HP=Reflect.get;var jw=(n,e,t)=>e in n?LP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})BP.call(e,t)&&jw(n,t,e[t]);if(Vw)for(var t of Vw(e))$P.call(e,t)&&jw(n,t,e[t]);return n},ce=(n,e)=>VP(n,jP(e));var Sr=(n,e,t)=>HP(UP(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function Mp(n,e){return Object.is(n,e)}var Ye=null,_u=!1,Np=1,sn=Symbol("SIGNAL");function fe(n){let e=Ye;return Ye=n,e}function Pp(){return Ye}var fa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pa(n){if(_u)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(n);let e=Ye.nextProducerIndex++;if(bu(Ye),e<Ye.producerNode.length&&Ye.producerNode[e]!==n&&ha(Ye)){let t=Ye.producerNode[e];wu(t,Ye.producerIndexOfThis[e])}Ye.producerNode[e]!==n&&(Ye.producerNode[e]=n,Ye.producerIndexOfThis[e]=ha(Ye)?Bw(n,Ye,e):0),Ye.producerLastReadVersion[e]=n.version}function Uw(){Np++}function xp(n){if(!(ha(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Np)){if(!n.producerMustRecompute(n)&&!Lp(n)){Rp(n);return}n.producerRecomputeValue(n),Rp(n)}}function kp(n){if(n.liveConsumerNode===void 0)return;let e=_u;_u=!0;try{for(let t of n.liveConsumerNode)t.dirty||zP(t)}finally{_u=e}}function Op(){return Ye?.consumerAllowSignalWrites!==!1}function zP(n){n.dirty=!0,kp(n),n.consumerMarkedDirty?.(n)}function Rp(n){n.dirty=!1,n.lastCleanEpoch=Np}function Iu(n){return n&&(n.nextProducerIndex=0),fe(n)}function Fp(n,e){if(fe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ha(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)wu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Lp(n){bu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(xp(t),r!==t.version))return!0}return!1}function Vp(n){if(bu(n),ha(n))for(let e=0;e<n.producerNode.length;e++)wu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Bw(n,e,t){if($w(n),n.liveConsumerNode.length===0&&Hw(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Bw(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function wu(n,e){if($w(n),n.liveConsumerNode.length===1&&Hw(n))for(let r=0;r<n.producerNode.length;r++)wu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];bu(i),i.producerIndexOfThis[r]=e}}function ha(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function bu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function $w(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Hw(n){return n.producerNode!==void 0}function jp(n,e){let t=Object.create(qP);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(xp(t),pa(t),t.value===Eu)throw t.error;return t.value};return r[sn]=t,r}var Sp=Symbol("UNSET"),Ap=Symbol("COMPUTING"),Eu=Symbol("ERRORED"),qP=ce(L({},fa),{value:Sp,dirty:!0,error:null,equal:Mp,kind:"computed",producerMustRecompute(n){return n.value===Sp||n.value===Ap},producerRecomputeValue(n){if(n.value===Ap)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Ap;let t=Iu(n),r,i=!1;try{r=n.computation(),fe(null),i=e!==Sp&&e!==Eu&&r!==Eu&&n.equal(e,r)}catch(o){r=Eu,n.error=o}finally{Fp(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function GP(){throw new Error}var zw=GP;function qw(n){zw(n)}function Up(n){zw=n}var WP=null;function Bp(n,e){let t=Object.create(Tu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(pa(t),t.value);return r[sn]=t,r}function ga(n,e){Op()||qw(n),n.equal(n.value,e)||(n.value=e,KP(n))}function $p(n,e){Op()||qw(n),ga(n,e(n.value))}var Tu=ce(L({},fa),{equal:Mp,value:void 0,kind:"signal"});function KP(n){n.version++,Uw(),kp(n),WP?.()}function Hp(n){let e=fe(null);try{return n()}finally{fe(e)}}var zp;function ma(){return zp}function Gn(n){let e=zp;return zp=n,e}var Du=Symbol("NotFound");function ne(n){return typeof n=="function"}function go(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Cu=go(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function gi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Fe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof Cu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Gw(o)}catch(s){e=e??[],s instanceof Cu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Cu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Gw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&gi(t,e)}remove(e){let{_finalizers:t}=this;t&&gi(t,e),e instanceof n&&e._removeParent(this)}};Fe.EMPTY=(()=>{let n=new Fe;return n.closed=!0,n})();var qp=Fe.EMPTY;function Su(n){return n instanceof Fe||n&&"closed"in n&&ne(n.remove)&&ne(n.add)&&ne(n.unsubscribe)}function Gw(n){ne(n)?n():n.unsubscribe()}var an={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var mo={setTimeout(n,e,...t){let{delegate:r}=mo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=mo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Au(n){mo.setTimeout(()=>{let{onUnhandledError:e}=an;if(e)e(n);else throw n})}function ya(){}var Ww=Gp("C",void 0,void 0);function Kw(n){return Gp("E",void 0,n)}function Qw(n){return Gp("N",n,void 0)}function Gp(n,e,t){return{kind:n,value:e,error:t}}var mi=null;function yo(n){if(an.useDeprecatedSynchronousErrorHandling){let e=!mi;if(e&&(mi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=mi;if(mi=null,t)throw r}}else n()}function Yw(n){an.useDeprecatedSynchronousErrorHandling&&mi&&(mi.errorThrown=!0,mi.error=n)}var yi=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Su(e)&&e.add(this)):this.destination=ex}static create(e,t,r){return new vo(e,t,r)}next(e){this.isStopped?Kp(Qw(e),this):this._next(e)}error(e){this.isStopped?Kp(Kw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Kp(Ww,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ZP=Function.prototype.bind;function Wp(n,e){return ZP.call(n,e)}var Qp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ru(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ru(r)}else Ru(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ru(t)}}},vo=class extends yi{constructor(e,t,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&an.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Wp(e.next,o),error:e.error&&Wp(e.error,o),complete:e.complete&&Wp(e.complete,o)}):i=e}this.destination=new Qp(i)}};function Ru(n){an.useDeprecatedSynchronousErrorHandling?Yw(n):Au(n)}function XP(n){throw n}function Kp(n,e){let{onStoppedNotification:t}=an;t&&mo.setTimeout(()=>t(n,e))}var ex={closed:!0,next:ya,error:XP,complete:ya};var _o=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Vt(n){return n}function Mu(...n){return Yp(n)}function Yp(n){return n.length===0?Vt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=nx(t)?t:new vo(t,r,i);return yo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Jw(r),new r((i,o)=>{let s=new vo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[_o](){return this}pipe(...t){return Yp(t)(this)}toPromise(t){return t=Jw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Jw(n){var e;return(e=n??an.Promise)!==null&&e!==void 0?e:Promise}function tx(n){return n&&ne(n.next)&&ne(n.error)&&ne(n.complete)}function nx(n){return n&&n instanceof yi||tx(n)&&Su(n)}function Jp(n){return ne(n?.lift)}function me(n){return e=>{if(Jp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,r,i){return new Zp(n,e,t,r,i)}var Zp=class extends yi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Eo(){return me((n,e)=>{let t=null;n._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Io=class extends ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Jp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return Eo()(this)}};var Zw=go(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Je=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Nu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Zw}next(t){yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?qp:(this.currentObservers=null,o.push(t),new Fe(()=>{this.currentObservers=null,gi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new Nu(e,t),n})(),Nu=class extends Je{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:qp}};var ct=class extends Je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Xp={now(){return(Xp.delegate||Date).now()},delegate:void 0};var Pu=class extends Fe{constructor(e,t){super()}schedule(e,t=0){return this}};var va={setInterval(n,e,...t){let{delegate:r}=va;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=va;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var wo=class extends Pu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return va.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&va.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,gi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var bo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};bo.now=Xp.now;var To=class extends bo{constructor(e,t=bo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var eg=new To(wo);var xu=class extends wo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var ku=class extends To{};var tg=new ku(xu);var Rt=new ue(n=>n.complete());function Xw(n){return n&&ne(n.schedule)}function eb(n){return n[n.length-1]}function Ou(n){return ne(eb(n))?n.pop():void 0}function Ar(n){return Xw(eb(n))?n.pop():void 0}function ng(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function nb(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function tb(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vi(n){return this instanceof vi?(this.v=n,this):new vi(n)}function rb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(M){return new Promise(function(R,V){o.push([y,M,R,V])>1||u(y,M)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof vi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function ib(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof tb=="function"?tb(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Fu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Lu(n){return ne(n?.then)}function Vu(n){return ne(n[_o])}function ju(n){return Symbol.asyncIterator&&ne(n?.[Symbol.asyncIterator])}function Uu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function rx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bu=rx();function $u(n){return ne(n?.[Bu])}function Hu(n){return rb(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield vi(t.read());if(i)return yield vi(void 0);yield yield vi(r)}}finally{t.releaseLock()}})}function zu(n){return ne(n?.getReader)}function $e(n){if(n instanceof ue)return n;if(n!=null){if(Vu(n))return ix(n);if(Fu(n))return ox(n);if(Lu(n))return sx(n);if(ju(n))return ob(n);if($u(n))return ax(n);if(zu(n))return cx(n)}throw Uu(n)}function ix(n){return new ue(e=>{let t=n[_o]();if(ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ox(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function sx(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Au)})}function ax(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function ob(n){return new ue(e=>{ux(n,e).catch(t=>e.error(t))})}function cx(n){return ob(Hu(n))}function ux(n,e){var t,r,i,o;return nb(this,void 0,void 0,function*(){try{for(t=ib(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Mt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Rr(n,e=0){return me((t,r)=>{t.subscribe(pe(r,i=>Mt(r,n,()=>r.next(i),e),()=>Mt(r,n,()=>r.complete(),e),i=>Mt(r,n,()=>r.error(i),e)))})}function Mr(n,e=0){return me((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function sb(n,e){return $e(n).pipe(Mr(e),Rr(e))}function ab(n,e){return $e(n).pipe(Mr(e),Rr(e))}function cb(n,e){return new ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ub(n,e){return new ue(t=>{let r;return Mt(t,e,()=>{r=n[Bu](),Mt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function qu(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{Mt(t,e,()=>{let r=n[Symbol.asyncIterator]();Mt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function lb(n,e){return qu(Hu(n),e)}function db(n,e){if(n!=null){if(Vu(n))return sb(n,e);if(Fu(n))return cb(n,e);if(Lu(n))return ab(n,e);if(ju(n))return qu(n,e);if($u(n))return ub(n,e);if(zu(n))return lb(n,e)}throw Uu(n)}function Pe(n,e){return e?db(n,e):$e(n)}function J(...n){let e=Ar(n);return Pe(n,e)}function Do(n,e){let t=ne(n)?n:()=>n,r=i=>i.error(t());return new ue(e?i=>e.schedule(r,0,i):r)}function rg(n){return!!n&&(n instanceof ue||ne(n.lift)&&ne(n.subscribe))}var Wn=go(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(n,e){return me((t,r)=>{let i=0;t.subscribe(pe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:lx}=Array;function dx(n,e){return lx(e)?n(...e):n(e)}function Gu(n){return ie(e=>dx(n,e))}var{isArray:hx}=Array,{getPrototypeOf:fx,prototype:px,keys:gx}=Object;function Wu(n){if(n.length===1){let e=n[0];if(hx(e))return{args:e,keys:null};if(mx(e)){let t=gx(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function mx(n){return n&&typeof n=="object"&&fx(n)===px}function Ku(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Qu(...n){let e=Ar(n),t=Ou(n),{args:r,keys:i}=Wu(n);if(r.length===0)return Pe([],e);let o=new ue(yx(r,e,i?s=>Ku(i,s):Vt));return t?o.pipe(Gu(t)):o}function yx(n,e,t=Vt){return r=>{hb(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)hb(e,()=>{let l=Pe(n[u],e),h=!1;l.subscribe(pe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hb(n,e,t){n?Mt(t,n,e):e()}function fb(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?T(M):u.push(M),T=M=>{o&&e.next(M),l++;let R=!1;$e(t(M,h++)).subscribe(pe(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let V=u.shift();s?Mt(e,s,()=>T(V)):T(V)}m()}catch(V){e.error(V)}}))};return n.subscribe(pe(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ze(n,e,t=1/0){return ne(e)?Ze((r,i)=>ie((o,s)=>e(r,o,i,s))($e(n(r,i))),t):(typeof e=="number"&&(t=e),me((r,i)=>fb(r,i,n,t)))}function pb(n=1/0){return Ze(Vt,n)}function gb(){return pb(1)}function Co(...n){return gb()(Pe(n,Ar(n)))}function Yu(n){return new ue(e=>{$e(n()).subscribe(e)})}function ig(...n){let e=Ou(n),{args:t,keys:r}=Wu(n),i=new ue(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;$e(t[h]).subscribe(pe(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Ku(r,a):a),o.complete())}))}});return e?i.pipe(Gu(e)):i}function Nt(n,e){return me((t,r)=>{let i=0;t.subscribe(pe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Nr(n){return me((e,t)=>{let r=null,i=!1,o;r=e.subscribe(pe(t,void 0,void 0,s=>{o=$e(n(s,Nr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function mb(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(pe(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Pr(n,e){return ne(e)?Ze(n,e,1):Ze(n,1)}function xr(n){return me((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Kn(n){return n<=0?()=>Rt:me((e,t)=>{let r=0;e.subscribe(pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ju(n=vx){return me((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function vx(){return new Wn}function _i(n){return me((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Qn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Nt((i,o)=>n(i,o,r)):Vt,Kn(1),t?xr(e):Ju(()=>new Wn))}function So(n){return n<=0?()=>Rt:me((e,t)=>{let r=[];e.subscribe(pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function og(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Nt((i,o)=>n(i,o,r)):Vt,So(1),t?xr(e):Ju(()=>new Wn))}function Zu(n,e){return me(mb(n,e,arguments.length>=2,!0))}function Xu(...n){let e=Ar(n);return me((t,r)=>{(e?Co(n,t,e):Co(n,t)).subscribe(r)})}function jt(n,e){return me((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,h=o++;$e(n(u,h)).subscribe(i=pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function sg(n){return me((e,t)=>{$e(n).subscribe(pe(t,()=>t.complete(),ya)),!t.closed&&e.subscribe(t)})}function ut(n,e,t){let r=ne(n)||e||t?{next:n,error:e,complete:t}:n;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Vt}var _x="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(e,t){super(Ix(e,t)),this.code=e}};function Ex(n){return`NG0${Math.abs(n)}`}function Ix(n,e){return`${Ex(n)}${e?": "+e:""}`}var i0=Symbol("InputSignalNode#UNSET"),wx=ce(L({},Tu),{transformFn:void 0,applyValueToInputSignal(n,e){ga(n,e)}});function o0(n,e){let t=Object.create(wx);t.value=n,t.transformFn=e?.transform;function r(){if(pa(t),t.value===i0){let i=null;throw new $(-950,i)}return t.value}return r[sn]=t,r}function Ma(n){return{toString:n}.toString()}var el="__parameters__";function bx(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function s0(n,e,t){return Ma(()=>{let r=bx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(el)?u[el]:Object.defineProperty(u,el,{value:[]})[el];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Ig=globalThis;function Re(n){for(let e in n)if(n[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function Tx(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Pt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Pt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function yb(n,e){return n?e?`${n} ${e}`:n:e||""}var Dx=Re({__forward_ref__:Re});function xl(n){return n.__forward_ref__=xl,n.toString=function(){return Pt(this())},n}function Ct(n){return a0(n)?n():n}function a0(n){return typeof n=="function"&&n.hasOwnProperty(Dx)&&n.__forward_ref__===xl}function G(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Fr(n){return{providers:n.providers||[],imports:n.imports||[]}}function kl(n){return vb(n,u0)||vb(n,l0)}function c0(n){return kl(n)!==null}function vb(n,e){return n.hasOwnProperty(e)?n[e]:null}function Cx(n){let e=n&&(n[u0]||n[l0]);return e||null}function _b(n){return n&&(n.hasOwnProperty(Eb)||n.hasOwnProperty(Sx))?n[Eb]:null}var u0=Re({\u0275prov:Re}),Eb=Re({\u0275inj:Re}),l0=Re({ngInjectableDef:Re}),Sx=Re({ngInjectorDef:Re}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=G({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function d0(n){return n&&!!n.\u0275providers}var Ax=Re({\u0275cmp:Re}),Rx=Re({\u0275dir:Re}),Mx=Re({\u0275pipe:Re}),Nx=Re({\u0275mod:Re}),cl=Re({\u0275fac:Re}),wa=Re({__NG_ELEMENT_ID__:Re}),Ib=Re({__NG_ENV_ID__:Re});function ul(n){return typeof n=="string"?n:n==null?"":String(n)}function Px(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ul(n)}function h0(n,e){throw new $(-200,n)}function lm(n,e){throw new $(-201,!1)}var ae=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ae||{}),wg;function f0(){return wg}function Wt(n){let e=wg;return wg=n,e}function p0(n,e,t){let r=kl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ae.Optional)return null;if(e!==void 0)return e;lm(n,"Injector")}var xx={},Ei=xx,bg="__NG_DI_FLAG__",ll=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Du:Ei,r)}},dl="ngTempTokenPath",kx="ngTokenPath",Ox=/\n/gm,Fx="\u0275",wb="__source";function Lx(n,e=ae.Default){if(ma()===void 0)throw new $(-203,!1);if(ma()===null)return p0(n,void 0,e);{let t=ma(),r;return t instanceof ll?r=t.injector:r=t,r.get(n,e&ae.Optional?null:void 0,e)}}function X(n,e=ae.Default){return(f0()||Lx)(Ct(n),e)}function x(n,e=ae.Default){return X(n,Ol(e))}function Ol(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Tg(n){let e=[];for(let t=0;t<n.length;t++){let r=Ct(n[t]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let a=r[s],u=Vx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(X(i,o))}else e.push(X(r))}return e}function g0(n,e){return n[bg]=e,n.prototype[bg]=e,n}function Vx(n){return n[bg]}function jx(n,e,t,r){let i=n[dl];throw e[wb]&&i.unshift(e[wb]),n.message=Ux(`
`+n.message,i,t,r),n[kx]=i,n[dl]=null,n}function Ux(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Fx?n.slice(2):n;let i=Pt(e);if(Array.isArray(e))i=e.map(Pt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Pt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Ox,`
  `)}`}var It=g0(s0("Optional"),8);var Bx=g0(s0("SkipSelf"),4);function Po(n,e){let t=n.hasOwnProperty(cl);return t?n[cl]:null}function dm(n,e){n.forEach(t=>Array.isArray(t)?dm(t,e):e(t))}function m0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function hl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function $x(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Hx(n,e,t){let r=Na(n,e);return r>=0?n[r|1]=t:(r=~r,$x(n,r,e,t)),r}function ag(n,e){let t=Na(n,e);if(t>=0)return n[t|1]}function Na(n,e){return zx(n,e,1)}function zx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var bi={},Kt=[],ba=new B(""),y0=new B("",-1),v0=new B(""),fl=class{get(e,t=Ei){if(t===Ei){let r=new Error(`NullInjectorError: No provider for ${Pt(e)}!`);throw r.name="NullInjectorError",r}return t}};function _0(n,e){let t=n[Nx]||null;if(!t&&e===!0)throw new Error(`Type ${Pt(n)} does not have '\u0275mod' property.`);return t}function xo(n){return n[Ax]||null}function qx(n){return n[Rx]||null}function Gx(n){return n[Mx]||null}function Ut(n){return{\u0275providers:n}}function Wx(...n){return{\u0275providers:E0(!0,n),\u0275fromNgModule:!0}}function E0(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return dm(e,s=>{let a=s;Dg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&I0(i,o),t}function I0(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];hm(i,o=>{e(o,r)})}}function Dg(n,e,t,r){if(n=Ct(n),!n)return!1;let i=null,o=_b(n),s=!o&&xo(n);if(!o&&!s){let u=n.ngModule;if(o=_b(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Dg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{dm(o.imports,h=>{Dg(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&I0(l,e)}if(!a){let l=Po(i)||(()=>new i);e({provide:i,useFactory:l,deps:Kt},i),e({provide:v0,useValue:i,multi:!0},i),e({provide:ba,useValue:()=>X(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;hm(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function hm(n,e){for(let t of n)d0(t)&&(t=t.\u0275providers),Array.isArray(t)?hm(t,e):e(t)}var Kx=Re({provide:String,useValue:Re});function w0(n){return n!==null&&typeof n=="object"&&Kx in n}function Qx(n){return!!(n&&n.useExisting)}function Yx(n){return!!(n&&n.useFactory)}function ko(n){return typeof n=="function"}function Jx(n){return!!n.useClass}var Fl=new B(""),rl={},bb={},cg;function fm(){return cg===void 0&&(cg=new fl),cg}var _t=class{},Ta=class extends _t{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Sg(e,s=>this.processProvider(s)),this.records.set(y0,Ao(void 0,this)),i.has("environment")&&this.records.set(_t,Ao(void 0,this));let o=this.records.get(Fl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(v0,Kt,ae.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Du:Ei,r)}destroy(){Ea(this),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return Ea(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ea(this);let t=Gn(this),r=Wt(void 0),i;try{return e()}finally{Gn(t),Wt(r)}}get(e,t=Ei,r=ae.Default){if(Ea(this),e.hasOwnProperty(Ib))return e[Ib](this);r=Ol(r);let i,o=Gn(this),s=Wt(void 0);try{if(!(r&ae.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=nk(e)&&kl(e);l&&this.injectableDefInScope(l)?u=Ao(Cg(e),rl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&ae.Self?fm():this.parent;return t=r&ae.Optional&&t===Ei?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[dl]=a[dl]||[]).unshift(Pt(e)),o)throw a;return jx(a,e,"R3InjectorError",this.source)}else throw a}finally{Wt(s),Gn(o)}}resolveInjectorInitializers(){let e=fe(null),t=Gn(this),r=Wt(void 0),i;try{let o=this.get(ba,Kt,ae.Self);for(let s of o)s()}finally{Gn(t),Wt(r),fe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Pt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ct(e);let t=ko(e)?e:Ct(e&&e.provide),r=Xx(e);if(!ko(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ao(void 0,rl,!0),i.factory=()=>Tg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=fe(null);try{return t.value===bb?h0(Pt(e)):t.value===rl&&(t.value=bb,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&tk(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{fe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ct(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Cg(n){let e=kl(n),t=e!==null?e.factory:Po(n);if(t!==null)return t;if(n instanceof B)throw new $(204,!1);if(n instanceof Function)return Zx(n);throw new $(204,!1)}function Zx(n){if(n.length>0)throw new $(204,!1);let t=Cx(n);return t!==null?()=>t.factory(n):()=>new n}function Xx(n){if(w0(n))return Ao(void 0,n.useValue);{let e=b0(n);return Ao(e,rl)}}function b0(n,e,t){let r;if(ko(n)){let i=Ct(n);return Po(i)||Cg(i)}else if(w0(n))r=()=>Ct(n.useValue);else if(Yx(n))r=()=>n.useFactory(...Tg(n.deps||[]));else if(Qx(n))r=(i,o)=>X(Ct(n.useExisting),o!==void 0&&o&ae.Optional?ae.Optional:void 0);else{let i=Ct(n&&(n.useClass||n.provide));if(ek(n))r=()=>new i(...Tg(n.deps));else return Po(i)||Cg(i)}return r}function Ea(n){if(n.destroyed)throw new $(205,!1)}function Ao(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ek(n){return!!n.deps}function tk(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function nk(n){return typeof n=="function"||typeof n=="object"&&n instanceof B}function Sg(n,e){for(let t of n)Array.isArray(t)?Sg(t,e):t&&d0(t)?Sg(t.\u0275providers,e):e(t)}function lt(n,e){let t;n instanceof Ta?(Ea(n),t=n):t=new ll(n);let r,i=Gn(t),o=Wt(void 0);try{return e()}finally{Gn(i),Wt(o)}}function T0(){return f0()!==void 0||ma()!=null}function D0(n){if(!T0())throw new $(-203,!1)}function rk(n){return typeof n=="function"}var Xn=0,ye=1,oe=2,St=3,un=4,dn=5,pl=6,gl=7,xt=8,Oo=9,Or=10,Et=11,Da=12,Tb=13,qo=14,En=15,Fo=16,Ro=17,Lo=18,Ll=19,C0=20,kr=21,ug=22,ml=23,Qt=24,lg=25,ln=26,S0=1;var Ti=7,yl=8,vl=9,Yt=10;function Ii(n){return Array.isArray(n)&&typeof n[S0]=="object"}function er(n){return Array.isArray(n)&&n[S0]===!0}function pm(n){return(n.flags&4)!==0}function Go(n){return n.componentOffset>-1}function Vl(n){return(n.flags&1)===1}function In(n){return!!n.template}function _l(n){return(n[oe]&512)!==0}function Wo(n){return(n[oe]&256)===256}var Ag=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function A0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Pa=(()=>{let n=()=>R0;return n.ngInherit=!0,n})();function R0(n){return n.type.prototype.ngOnChanges&&(n.setInput=ok),ik}function ik(){let n=N0(this),e=n?.current;if(e){let t=n.previous;if(t===bi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ok(n,e,t,r,i){let o=this.declaredInputs[r],s=N0(n)||sk(n,{previous:bi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ag(l&&l.currentValue,t,u===bi),A0(n,e,i,t)}var M0="__ngSimpleChanges__";function N0(n){return n[M0]||null}function sk(n,e){return n[M0]=e}var Db=null;var Me=function(n,e=null,t){Db?.(n,e,t)},ak="svg",ck="math";function wn(n){for(;Array.isArray(n);)n=n[Xn];return n}function P0(n,e){return wn(e[n])}function tr(n,e){return wn(e[n.index])}function x0(n,e){return n.data[e]}function uk(n,e){return n[e]}function Yn(n,e){let t=e[n];return Ii(t)?t:t[Xn]}function gm(n){return(n[oe]&128)===128}function lk(n){return er(n[St])}function Vo(n,e){return e==null?null:n[e]}function k0(n){n[Ro]=0}function O0(n){n[oe]&1024||(n[oe]|=1024,gm(n)&&Ul(n))}function dk(n,e){for(;n>0;)e=e[qo],n--;return e}function jl(n){return!!(n[oe]&9216||n[Qt]?.dirty)}function Rg(n){n[Or].changeDetectionScheduler?.notify(8),n[oe]&64&&(n[oe]|=1024),jl(n)&&Ul(n)}function Ul(n){n[Or].changeDetectionScheduler?.notify(0);let e=Di(n);for(;e!==null&&!(e[oe]&8192||(e[oe]|=8192,!gm(e)));)e=Di(e)}function F0(n,e){if(Wo(n))throw new $(911,!1);n[kr]===null&&(n[kr]=[]),n[kr].push(e)}function hk(n,e){if(n[kr]===null)return;let t=n[kr].indexOf(e);t!==-1&&n[kr].splice(t,1)}function Di(n){let e=n[St];return er(e)?e[St]:e}function L0(n){return n[gl]??=[]}function V0(n){return n.cleanup??=[]}var de={lFrame:W0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Mg=!1;function fk(){return de.lFrame.elementDepthCount}function pk(){de.lFrame.elementDepthCount++}function gk(){de.lFrame.elementDepthCount--}function mm(){return de.bindingsEnabled}function mk(){return de.skipHydrationRootTNode!==null}function yk(n){return de.skipHydrationRootTNode===n}function vk(){de.skipHydrationRootTNode=null}function je(){return de.lFrame.lView}function Jt(){return de.lFrame.tView}function nr(n){return de.lFrame.contextLView=n,n[xt]}function rr(n){return de.lFrame.contextLView=null,n}function hn(){let n=j0();for(;n!==null&&n.type===64;)n=n.parent;return n}function j0(){return de.lFrame.currentTNode}function _k(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Mi(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function ym(){return de.lFrame.isParent}function U0(){de.lFrame.isParent=!1}function Ek(){return de.lFrame.contextLView}function B0(){return Mg}function Cb(n){let e=Mg;return Mg=n,e}function Ik(){return de.lFrame.bindingIndex}function wk(n){return de.lFrame.bindingIndex=n}function $0(){return de.lFrame.bindingIndex++}function H0(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function bk(){return de.lFrame.inI18n}function Tk(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ng(e)}function Dk(){return de.lFrame.currentDirectiveIndex}function Ng(n){de.lFrame.currentDirectiveIndex=n}function Ck(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function z0(n){de.lFrame.currentQueryIndex=n}function Sk(n){let e=n[ye];return e.type===2?e.declTNode:e.type===1?n[dn]:null}function q0(n,e,t){if(t&ae.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ae.Host);)if(i=Sk(o),i===null||(o=o[qo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=de.lFrame=G0();return r.currentTNode=e,r.lView=n,!0}function vm(n){let e=G0(),t=n[ye];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function G0(){let n=de.lFrame,e=n===null?null:n.child;return e===null?W0(n):e}function W0(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function K0(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Q0=K0;function _m(){let n=K0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ak(n){return(de.lFrame.contextLView=dk(n,de.lFrame.contextLView))[xt]}function Ni(){return de.lFrame.selectedIndex}function Ci(n){de.lFrame.selectedIndex=n}function Rk(){let n=de.lFrame;return x0(n.tView,n.selectedIndex)}function Mk(){return de.lFrame.currentNamespace}var Y0=!0;function Bl(){return Y0}function $l(n){Y0=n}function Nk(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=R0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Em(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function il(n,e,t){J0(n,e,3,t)}function ol(n,e,t,r){(n[oe]&3)===t&&J0(n,e,t,r)}function dg(n,e){let t=n[oe];(t&3)===e&&(t&=16383,t+=1,n[oe]=t)}function J0(n,e,t,r){let i=r!==void 0?n[Ro]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Ro]+=65536),(a<o||o==-1)&&(Pk(n,t,e,u),n[Ro]=(n[Ro]&4294901760)+u+2),u++}function Sb(n,e){Me(4,n,e);let t=fe(null);try{e.call(n)}finally{fe(t),Me(5,n,e)}}function Pk(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[oe]>>14<n[Ro]>>16&&(n[oe]&3)===e&&(n[oe]+=16384,Sb(a,o)):Sb(a,o)}var No=-1,Si=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function xk(n){return(n.flags&8)!==0}function kk(n){return(n.flags&16)!==0}function Ok(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Lk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Fk(n){return n===3||n===4||n===6}function Lk(n){return n.charCodeAt(0)===64}function jo(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Ab(n,t,i,null,e[++r]):Ab(n,t,i,null,null))}}return n}function Ab(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Z0(n){return n!==No}function El(n){return n&32767}function Vk(n){return n>>16}function Il(n,e){let t=Vk(n),r=e;for(;t>0;)r=r[qo],t--;return r}var Pg=!0;function Rb(n){let e=Pg;return Pg=n,e}var jk=256,X0=jk-1,eT=5,Uk=0,_n={};function Bk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(wa)&&(r=t[wa]),r==null&&(r=t[wa]=Uk++);let i=r&X0,o=1<<i;e.data[n+(i>>eT)]|=o}function wl(n,e){let t=tT(n,e);if(t!==-1)return t;let r=e[ye];r.firstCreatePass&&(n.injectorIndex=e.length,hg(r.data,n),hg(e,null),hg(r.blueprint,null));let i=Im(n,e),o=n.injectorIndex;if(Z0(i)){let s=El(i),a=Il(i,e),u=a[ye].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function hg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function tT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Im(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=sT(i),r===null)return No;if(t++,i=i[qo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return No}function xg(n,e,t){Bk(n,e,t)}function nT(n,e,t){if(t&ae.Optional||n!==void 0)return n;lm(e,"NodeInjector")}function rT(n,e,t,r){if(t&ae.Optional&&r===void 0&&(r=null),(t&(ae.Self|ae.Host))===0){let i=n[Oo],o=Wt(void 0);try{return i?i.get(e,r,t&ae.Optional):p0(e,r,t&ae.Optional)}finally{Wt(o)}}return nT(r,e,t)}function iT(n,e,t,r=ae.Default,i){if(n!==null){if(e[oe]&2048&&!(r&ae.Self)){let s=Gk(n,e,t,r,_n);if(s!==_n)return s}let o=oT(n,e,t,r,_n);if(o!==_n)return o}return rT(e,t,r,i)}function oT(n,e,t,r,i){let o=zk(t);if(typeof o=="function"){if(!q0(e,n,r))return r&ae.Host?nT(i,t,r):rT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))lm(t);else return s}finally{Q0()}}else if(typeof o=="number"){let s=null,a=tT(n,e),u=No,l=r&ae.Host?e[En][dn]:null;for((a===-1||r&ae.SkipSelf)&&(u=a===-1?Im(n,e):e[a+8],u===No||!Nb(r,!1)?a=-1:(s=e[ye],a=El(u),e=Il(u,e)));a!==-1;){let h=e[ye];if(Mb(o,a,h.data)){let p=$k(a,e,t,s,r,l);if(p!==_n)return p}u=e[a+8],u!==No&&Nb(r,e[ye].data[a+8]===l)&&Mb(o,a,e)?(s=h,a=El(u),e=Il(u,e)):a=-1}}return i}function $k(n,e,t,r,i,o){let s=e[ye],a=s.data[n+8],u=r==null?Go(a)&&Pg:r!=s&&(a.type&3)!==0,l=i&ae.Host&&o===a,h=Hk(a,s,t,u,l);return h!==null?bl(e,s,h,a,i):_n}function Hk(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let T=s[y];if(y<u&&t===T||y>=u&&T.type===t)return y}if(i){let y=s[u];if(y&&In(y)&&y.type===t)return u}return null}function bl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Si){let a=o;a.resolving&&h0(Px(s[t]));let u=Rb(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Wt(a.injectImpl):null,p=q0(n,r,ae.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&Nk(t,s[t],e)}finally{h!==null&&Wt(h),Rb(u),a.resolving=!1,Q0()}}return o}function zk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(wa)?n[wa]:void 0;return typeof e=="number"?e>=0?e&X0:qk:e}function Mb(n,e,t){let r=1<<n;return!!(t[e+(n>>eT)]&r)}function Nb(n,e){return!(n&ae.Self)&&!(n&ae.Host&&e)}var wi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return iT(this._tNode,this._lView,e,Ol(r),t)}};function qk(){return new wi(hn(),je())}function Hl(n){return Ma(()=>{let e=n.prototype.constructor,t=e[cl]||kg(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[cl]||kg(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function kg(n){return a0(n)?()=>{let e=kg(Ct(n));return e&&e()}:Po(n)}function Gk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[oe]&2048&&!_l(s);){let a=oT(o,s,t,r|ae.Self,_n);if(a!==_n)return a;let u=o.parent;if(!u){let l=s[C0];if(l){let h=l.get(t,_n,r);if(h!==_n)return h}u=sT(s),s=s[qo]}o=u}return i}function sT(n){let e=n[ye],t=e.type;return t===2?e.declTNode:t===1?n[dn]:null}function Pb(n,e=null,t=null,r){let i=aT(n,e,t,r);return i.resolveInjectorInitializers(),i}function aT(n,e=null,t=null,r,i=new Set){let o=[t||Kt,Wx(n)];return r=r||(typeof n=="object"?void 0:Pt(n)),new Ta(o,e||fm(),r||null,i)}var Xe=class n{static THROW_IF_NOT_FOUND=Ei;static NULL=new fl;static create(e,t){if(Array.isArray(e))return Pb({name:""},t,e,"");{let r=e.name??"";return Pb({name:r},e.parent,e.providers,r)}}static \u0275prov=G({token:n,providedIn:"any",factory:()=>X(y0)});static __NG_ELEMENT_ID__=-1};var Wk=new B("");Wk.__NG_ELEMENT_ID__=n=>{let e=hn();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(n&ae.Optional)return null;throw new $(204,!1)};var cT=!1,Ko=(()=>{class n{static __NG_ELEMENT_ID__=Kk;static __NG_ENV_ID__=t=>t}return n})(),Og=class extends Ko{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Wo(t)?(e(),()=>{}):(F0(t,e),()=>hk(t,e))}};function Kk(){return new Og(je())}var Uo=class{},wm=new B("",{providedIn:"root",factory:()=>!1});var uT=new B(""),lT=new B(""),ir=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ct(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),zl=(()=>{class n{internalPendingTasks=x(ir);scheduler=x(Uo);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return v(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),Fg=class extends Je{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,T0()&&(this.destroyRef=x(Ko,{optional:!0})??void 0,this.pendingTasks=x(ir,{optional:!0})??void 0)}emit(e){let t=fe(null);try{super.next(e)}finally{fe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Le=Fg;function Tl(...n){}function dT(n){let e,t;function r(){n=Tl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function xb(n){return queueMicrotask(()=>n()),()=>{n=Tl}}var bm="isAngularZone",Dl=bm+"_ID",Qk=0,be=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Le(!1);onMicrotaskEmpty=new Le(!1);onStable=new Le(!1);onError=new Le(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=cT}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Zk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(bm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Yk,Tl,Tl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Yk={};function Tm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Jk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){dT(()=>{n.callbackScheduled=!1,Lg(n),n.isCheckStableRunning=!0,Tm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Lg(n)}function Zk(n){let e=()=>{Jk(n)},t=Qk++;n._inner=n._inner.fork({name:"angular",properties:{[bm]:!0,[Dl]:t,[Dl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Xk(u))return r.invokeTask(o,s,a,u);try{return kb(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Ob(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return kb(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!eO(u)&&e(),Ob(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Lg(n),Tm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Lg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function kb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Ob(n){n._nesting--,Tm(n)}var Vg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Le;onMicrotaskEmpty=new Le;onStable=new Le;onError=new Le;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Xk(n){return hT(n,"__ignore_ng_zone__")}function eO(n){return hT(n,"__scheduler_tick__")}function hT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Jn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},tO=new B("",{providedIn:"root",factory:()=>{let n=x(be),e=x(Jn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Fb(n,e){return o0(n,e)}function nO(n){return o0(i0,n)}var fT=(Fb.required=nO,Fb);function rO(){return ql(hn(),je())}function ql(n,e){return new Dm(tr(n,e))}var Dm=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=rO}return n})();function or(n,e){let t=Bp(n,e?.equal),r=t[sn];return t.set=i=>ga(r,i),t.update=i=>$p(r,i),t.asReadonly=iO.bind(t),t}function iO(){let n=this[sn];if(n.readonlyFn===void 0){let e=()=>this();e[sn]=n,n.readonlyFn=e}return n.readonlyFn}function pT(n){return(n.flags&128)===128}var gT=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(gT||{}),mT=new Map,oO=0;function sO(){return oO++}function aO(n){mT.set(n[Ll],n)}function jg(n){mT.delete(n[Ll])}var Lb="__ngContext__";function Qo(n,e){Ii(e)?(n[Lb]=e[Ll],aO(e)):n[Lb]=e}function yT(n){return _T(n[Da])}function vT(n){return _T(n[un])}function _T(n){for(;n!==null&&!er(n);)n=n[un];return n}var Ug;function ET(n){Ug=n}function cO(){if(Ug!==void 0)return Ug;if(typeof document<"u")return document;throw new $(210,!1)}var Cm=new B("",{providedIn:"root",factory:()=>uO}),uO="ng",Sm=new B(""),Tn=new B("",{providedIn:"platform",factory:()=>"unknown"});var Am=new B("",{providedIn:"root",factory:()=>cO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var lO="h",dO="b";var IT=!1,hO=new B("",{providedIn:"root",factory:()=>IT});var wT=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(wT||{}),Gl=new B(""),Vb=new Set;function Rm(n){Vb.has(n)||(Vb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var fO=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})();var pO=(n,e,t,r)=>{};function gO(n,e,t,r){pO(n,e,t,r)}var mO=()=>null;function bT(n,e,t=!1){return mO(n,e,t)}function TT(n,e){let t=n.contentQueries;if(t!==null){let r=fe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];z0(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function Bg(n,e,t){z0(0);let r=fe(null);try{e(n,t)}finally{fe(r)}}function Mm(n,e,t){if(pm(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{fe(r)}}}var bn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(bn||{}),tl;function yO(){if(tl===void 0&&(tl=null,Ig.trustedTypes))try{tl=Ig.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return tl}function vO(n){return yO()?.createScriptURL(n)||n}var $g=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_x})`}};function _O(n){return n instanceof $g?n.changingThisBreaksApplicationSecurity:n}function DT(n){return vO(n[0])}var EO=/^>|^->|<!--|-->|--!>|<!-$/g,IO=/(<|>)/g,wO="\u200B$1\u200B";function bO(n){return n.replace(EO,e=>e.replace(IO,wO))}function CT(n){return n instanceof Function?n():n}function TO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var ST="ng-template";function DO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&TO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Nm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Nm(n){return n.type===4&&n.value!==ST}function CO(n,e,t){let r=n.type===4&&!t?ST:n.value;return e===r}function SO(n,e,t){let r=4,i=n.attrs,o=i!==null?MO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!cn(r)&&!cn(u))return!1;if(s&&cn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!CO(n,u,t)||u===""&&e.length===1){if(cn(r))return!1;s=!0}}else if(r&8){if(i===null||!DO(n,i,u,t)){if(cn(r))return!1;s=!0}}else{let l=e[++a],h=AO(u,i,Nm(n),t);if(h===-1){if(cn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(cn(r))return!1;s=!0}}}}return cn(r)||s}function cn(n){return(n&1)===0}function AO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return NO(e,n)}function RO(n,e,t=!1){for(let r=0;r<e.length;r++)if(SO(n,e[r],t))return!0;return!1}function MO(n){for(let e=0;e<n.length;e++){let t=n[e];if(Fk(t))return e}return n.length}function NO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function jb(n,e){return n?":not("+e.trim()+")":e}function PO(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!cn(s)&&(e+=jb(o,i),i=""),r=s,o=o||!cn(r);t++}return i!==""&&(e+=jb(o,i)),e}function xO(n){return n.map(PO).join(",")}function kO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!cn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Lr={};function OO(n,e){return n.createText(e)}function FO(n,e,t){n.setValue(e,t)}function LO(n,e){return n.createComment(bO(e))}function AT(n,e,t){return n.createElement(e,t)}function Cl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function RT(n,e,t){n.appendChild(e,t)}function Ub(n,e,t,r,i){r!==null?Cl(n,e,t,r,i):RT(n,e,t)}function VO(n,e,t){n.removeChild(null,e,t)}function jO(n,e,t){n.setAttribute(e,"style",t)}function UO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function MT(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Ok(n,e,r),i!==null&&UO(n,e,i),o!==null&&jO(n,e,o)}function Pm(n,e,t,r,i,o,s,a,u,l,h){let p=ln+r,m=p+i,y=BO(p,m),T=typeof l=="function"?l():l;return y[ye]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function BO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Lr);return t}function $O(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Pm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function xm(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Xn]=i,p[oe]=r|4|128|8|64|1024,(l!==null||n&&n[oe]&2048)&&(p[oe]|=2048),k0(p),p[St]=p[qo]=n,p[xt]=t,p[Or]=s||n&&n[Or],p[Et]=a||n&&n[Et],p[Oo]=u||n&&n[Oo]||null,p[dn]=o,p[Ll]=sO(),p[pl]=h,p[C0]=l,p[En]=e.type==2?n[En]:p,p}function HO(n,e,t){let r=tr(e,n),i=$O(t),o=n[Or].rendererFactory,s=km(n,xm(n,i,null,NT(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function NT(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function PT(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function km(n,e){return n[Da]?n[Tb][un]=e:n[Da]=e,n[Tb]=e,e}function H(n=1){xT(Jt(),je(),Ni()+n,!1)}function xT(n,e,t,r){if(!r)if((e[oe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&il(e,o,t)}else{let o=n.preOrderHooks;o!==null&&ol(e,o,0,t)}Ci(t)}var Wl=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Wl||{});function Hg(n,e,t,r){let i=fe(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Wl.SignalBased)!==0&&(u=e[o][sn]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):A0(e,u,o,r)}finally{fe(i)}}function kT(n,e,t,r,i){let o=Ni(),s=r&2;try{Ci(-1),s&&e.length>ln&&xT(n,e,ln,!1),Me(s?2:0,i),t(r,i)}finally{Ci(o),Me(s?3:1,i)}}function Kl(n,e,t){YO(n,e,t),(t.flags&64)===64&&JO(n,e,t)}function Om(n,e,t=tr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function zO(n,e,t,r){let o=r.get(hO,IT)||t===bn.ShadowDom,s=n.selectRootElement(e,o);return qO(s),s}function qO(n){GO(n)}var GO=()=>null;function WO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function KO(n,e,t,r,i,o,s,a){if(!a&&Lm(e,n,t,r,i)){Go(e)&&QO(t,e.index);return}if(e.type&3){let u=tr(e,t);r=WO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function QO(n,e){let t=Yn(e,n);t[oe]&16||(t[oe]|=64)}function YO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Go(t)&&HO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||wl(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=bl(e,n,s,t);if(Qo(u,e),o!==null&&XO(e,s-r,u,a,t,o),In(a)){let l=Yn(t.index,e);l[xt]=bl(e,n,s,t)}}}function JO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Dk();try{Ci(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Ng(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&ZO(u,l)}}finally{Ci(-1),Ng(s)}}function ZO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Fm(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];RO(e,o.selectors,!1)&&(r??=[],In(o)?r.unshift(o):r.push(o))}return r}function XO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Hg(r,t,u,l)}}function e1(n,e){let t=n[Oo],r=t?t.get(Jn,null):null;r&&r.handleError(e)}function Lm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Hg(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Hg(h,l,r,i),a=!0}return a}function t1(n,e){let t=Yn(e,n),r=t[ye];n1(r,t);let i=t[Xn];i!==null&&t[pl]===null&&(t[pl]=bT(i,t[Oo])),Me(18),Vm(r,t,t[xt]),Me(19,t[xt])}function n1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Vm(n,e,t){vm(e);try{let r=n.viewQuery;r!==null&&Bg(1,r,t);let i=n.template;i!==null&&kT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Lo]?.finishViewCreation(n),n.staticContentQueries&&TT(n,e),n.staticViewQueries&&Bg(2,n.viewQuery,t);let o=n.components;o!==null&&r1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[oe]&=-5,_m()}}function r1(n,e){for(let t=0;t<e.length;t++)t1(n,e[t])}function i1(n,e,t,r){let i=fe(null);try{let o=e.tView,a=n[oe]&4096?4096:16,u=xm(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Fo]=l;let h=n[Lo];return h!==null&&(u[Lo]=h.createEmbeddedView(o)),Vm(o,u,t),u}finally{fe(i)}}function Bb(n,e){return!e||e.firstChild===null||pT(n)}var o1;function jm(n,e){return o1(n,e)}var Zn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Zn||{});function OT(n){return(n.flags&32)===32}function Mo(n,e,t,r,i){if(r!=null){let o,s=!1;er(r)?o=r:Ii(r)&&(s=!0,r=r[Xn]);let a=wn(r);n===0&&t!==null?i==null?RT(e,t,a):Cl(e,t,a,i||null,!0):n===1&&t!==null?Cl(e,t,a,i||null,!0):n===2?VO(e,a,s):n===3&&e.destroyNode(a),o!=null&&y1(e,n,o,t,i)}}function s1(n,e){FT(n,e),e[Xn]=null,e[dn]=null}function a1(n,e,t,r,i,o){r[Xn]=i,r[dn]=e,Yl(n,r,t,1,i,o)}function FT(n,e){e[Or].changeDetectionScheduler?.notify(9),Yl(n,e,e[Et],2,null,null)}function c1(n){let e=n[Da];if(!e)return fg(n[ye],n);for(;e;){let t=null;if(Ii(e))t=e[Da];else{let r=e[Yt];r&&(t=r)}if(!t){for(;e&&!e[un]&&e!==n;)Ii(e)&&fg(e[ye],e),e=e[St];e===null&&(e=n),Ii(e)&&fg(e[ye],e),t=e&&e[un]}e=t}}function Um(n,e){let t=n[vl],r=t.indexOf(e);t.splice(r,1)}function LT(n,e){if(Wo(e))return;let t=e[Et];t.destroyNode&&Yl(n,e,t,3,null,null),c1(e)}function fg(n,e){if(Wo(e))return;let t=fe(null);try{e[oe]&=-129,e[oe]|=256,e[Qt]&&Vp(e[Qt]),l1(n,e),u1(n,e),e[ye].type===1&&e[Et].destroy();let r=e[Fo];if(r!==null&&er(e[St])){r!==e[St]&&Um(r,e);let i=e[Lo];i!==null&&i.detachView(n)}jg(e)}finally{fe(t)}}function u1(n,e){let t=n.cleanup,r=e[gl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[gl]=null);let i=e[kr];if(i!==null){e[kr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ml];if(o!==null){e[ml]=null;for(let s of o)s.destroy()}}function l1(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Si)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Me(4,a,u);try{u.call(a)}finally{Me(5,a,u)}}else{Me(4,i,o);try{o.call(i)}finally{Me(5,i,o)}}}}}function d1(n,e,t){return h1(n,e.parent,t)}function h1(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Xn];if(Go(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===bn.None||i===bn.Emulated)return null}return tr(r,t)}function f1(n,e,t){return g1(n,e,t)}function p1(n,e,t){return n.type&40?tr(n,t):null}var g1=p1,$b;function Ql(n,e,t,r){let i=d1(n,r,e),o=e[Et],s=r.parent||e[dn],a=f1(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Ub(o,i,t[u],a,!1);else Ub(o,i,t,a,!1);$b!==void 0&&$b(o,r,e,t,i)}function Ia(n,e){if(e!==null){let t=e.type;if(t&3)return tr(e,n);if(t&4)return zg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ia(n,r);{let i=n[e.index];return er(i)?zg(-1,i):wn(i)}}else{if(t&128)return Ia(n,e.next);if(t&32)return jm(e,n)()||wn(n[e.index]);{let r=VT(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Di(n[En]);return Ia(i,r)}else return Ia(n,e.next)}}}return null}function VT(n,e){if(e!==null){let r=n[En][dn],i=e.projection;return r.projection[i]}return null}function zg(n,e){let t=Yt+n+1;if(t<e.length){let r=e[t],i=r[ye].firstChild;if(i!==null)return Ia(r,i)}return e[Ti]}function Bm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Qo(wn(a),r),t.flags|=2),!OT(t))if(u&8)Bm(n,e,t.child,r,i,o,!1),Mo(e,n,i,a,o);else if(u&32){let l=jm(t,r),h;for(;h=l();)Mo(e,n,i,h,o);Mo(e,n,i,a,o)}else u&16?m1(n,e,r,t,i,o):Mo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Yl(n,e,t,r,i,o){Bm(t,r,n.firstChild,e,i,o,!1)}function m1(n,e,t,r,i,o){let s=t[En],u=s[dn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Mo(e,n,i,h,o)}else{let l=u,h=s[St];pT(r)&&(l.flags|=128),Bm(n,e,l,h,i,o,!0)}}function y1(n,e,t,r,i){let o=t[Ti],s=wn(t);o!==s&&Mo(e,n,r,o,i);for(let a=Yt;a<t.length;a++){let u=t[a];Yl(u[ye],u,n,e,r,o)}}function v1(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Zn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Zn.Important),n.setStyle(t,r,i,o))}}function Sl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(wn(o)),er(o)&&_1(o,r);let s=t.type;if(s&8)Sl(n,e,t.child,r);else if(s&32){let a=jm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=VT(e,t);if(Array.isArray(a))r.push(...a);else{let u=Di(e[En]);Sl(u[ye],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function _1(n,e){for(let t=Yt;t<n.length;t++){let r=n[t],i=r[ye].firstChild;i!==null&&Sl(r[ye],r,i,e)}n[Ti]!==n[Xn]&&e.push(n[Ti])}function jT(n){if(n[lg]!==null){for(let e of n[lg])e.impl.addSequence(e);n[lg].length=0}}var UT=[];function E1(n){return n[Qt]??I1(n)}function I1(n){let e=UT.pop()??Object.create(b1);return e.lView=n,e}function w1(n){n.lView[Qt]!==n&&(n.lView=null,UT.push(n))}var b1=ce(L({},fa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ul(n.lView)},consumerOnSignalRead(){this.lView[Qt]=this}});function T1(n){let e=n[Qt]??Object.create(D1);return e.lView=n,e}var D1=ce(L({},fa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Di(n.lView);for(;e&&!BT(e[ye]);)e=Di(e);e&&O0(e)},consumerOnSignalRead(){this.lView[Qt]=this}});function BT(n){return n.type!==2}function $T(n){if(n[ml]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[ml])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[oe]&8192)}}var C1=100;function HT(n,e=!0,t=0){let i=n[Or].rendererFactory,o=!1;o||i.begin?.();try{S1(n,t)}catch(s){throw e&&e1(n,s),s}finally{o||i.end?.()}}function S1(n,e){let t=B0();try{Cb(!0),qg(n,e);let r=0;for(;jl(n);){if(r===C1)throw new $(103,!1);r++,qg(n,1)}}finally{Cb(t)}}function A1(n,e,t,r){if(Wo(e))return;let i=e[oe],o=!1,s=!1;vm(e);let a=!0,u=null,l=null;o||(BT(n)?(l=E1(e),u=Iu(l)):Pp()===null?(a=!1,l=T1(e),u=Iu(l)):e[Qt]&&(Vp(e[Qt]),e[Qt]=null));try{k0(e),wk(n.bindingStartIndex),t!==null&&kT(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&il(e,y,null)}else{let y=n.preOrderHooks;y!==null&&ol(e,y,0,null),dg(e,0)}if(s||R1(e),$T(e),zT(e,0),n.contentQueries!==null&&TT(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&il(e,y)}else{let y=n.contentHooks;y!==null&&ol(e,y,1),dg(e,1)}N1(n,e);let p=n.components;p!==null&&GT(e,p,0);let m=n.viewQuery;if(m!==null&&Bg(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&il(e,y)}else{let y=n.viewHooks;y!==null&&ol(e,y,2),dg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ug]){for(let y of e[ug])y();e[ug]=null}o||(jT(e),e[oe]&=-73)}catch(h){throw o||Ul(e),h}finally{l!==null&&(Fp(l,u),a&&w1(l)),_m()}}function zT(n,e){for(let t=yT(n);t!==null;t=vT(t))for(let r=Yt;r<t.length;r++){let i=t[r];qT(i,e)}}function R1(n){for(let e=yT(n);e!==null;e=vT(e)){if(!(e[oe]&2))continue;let t=e[vl];for(let r=0;r<t.length;r++){let i=t[r];O0(i)}}}function M1(n,e,t){Me(18);let r=Yn(e,n);qT(r,t),Me(19,r[xt])}function qT(n,e){gm(n)&&qg(n,e)}function qg(n,e){let r=n[ye],i=n[oe],o=n[Qt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Lp(o)),s||=!1,o&&(o.dirty=!1),n[oe]&=-9217,s)A1(r,n,r.template,n[xt]);else if(i&8192){$T(n),zT(n,1);let a=r.components;a!==null&&GT(n,a,1),jT(n)}}function GT(n,e,t){for(let r=0;r<e.length;r++)M1(n,e[r],t)}function N1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ci(~i);else{let o=i,s=t[++r],a=t[++r];Tk(s,o);let u=e[o];Me(24,u),a(2,u),Me(25,u)}}}finally{Ci(-1)}}function $m(n,e){let t=B0()?64:1088;for(n[Or].changeDetectionScheduler?.notify(e);n;){n[oe]|=t;let r=Di(n);if(_l(n)&&!r)return n;n=r}return null}function WT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function P1(n,e,t,r=!0){let i=e[ye];if(x1(i,e,n,t),r){let s=zg(t,n),a=e[Et],u=a.parentNode(n[Ti]);u!==null&&a1(i,n[dn],a,e,u,s)}let o=e[pl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Gg(n,e){if(n.length<=Yt)return;let t=Yt+e,r=n[t];if(r){let i=r[Fo];i!==null&&i!==n&&Um(i,r),e>0&&(n[t-1][un]=r[un]);let o=hl(n,Yt+e);s1(r[ye],r);let s=o[Lo];s!==null&&s.detachView(o[ye]),r[St]=null,r[un]=null,r[oe]&=-129}return r}function x1(n,e,t,r){let i=Yt+r,o=t.length;r>0&&(t[i-1][un]=e),r<o-Yt?(e[un]=t[i],m0(t,Yt+r,e)):(t.push(e),e[un]=null),e[St]=t;let s=e[Fo];s!==null&&t!==s&&KT(s,e);let a=e[Lo];a!==null&&a.insertView(n),Rg(e),e[oe]|=128}function KT(n,e){let t=n[vl],r=e[St];if(Ii(r))n[oe]|=2;else{let i=r[St][En];e[En]!==i&&(n[oe]|=2)}t===null?n[vl]=[e]:t.push(e)}var Ca=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[ye];return Sl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[xt]}set context(e){this._lView[xt]=e}get destroyed(){return Wo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[St];if(er(e)){let t=e[yl],r=t?t.indexOf(this):-1;r>-1&&(Gg(e,r),hl(t,r))}this._attachedToViewContainer=!1}LT(this._lView[ye],this._lView)}onDestroy(e){F0(this._lView,e)}markForCheck(){$m(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[oe]&=-129}reattach(){Rg(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,HT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=_l(this._lView),t=this._lView[Fo];t!==null&&!e&&Um(t,this._lView),FT(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let t=_l(this._lView),r=this._lView[Fo];r!==null&&!t&&KT(r,this._lView),Rg(this._lView)}};var Jl=(()=>{class n{static __NG_ELEMENT_ID__=F1}return n})(),k1=Jl,O1=class extends k1{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=i1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Ca(i)}};function F1(){return L1(hn(),je())}function L1(n,e){return n.type&4?new O1(e,n,ql(n,e)):null}function Zl(n,e,t,r,i){let o=n.data[e];if(o===null)o=V1(n,e,t,r,i),bk()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=_k();o.injectorIndex=s===null?-1:s.injectorIndex}return Mi(o,!0),o}function V1(n,e,t,r,i){let o=j0(),s=ym(),a=s?o:o&&o.parent,u=n.data[e]=U1(n,a,t,e,r,i);return j1(n,u,o,s),u}function j1(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function U1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return mk()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var h7=new RegExp(`^(\\d+)*(${dO}|${lO})*(.*)`);var B1=()=>null;function Hb(n,e){return B1(n,e)}var $1=class{},QT=class{},Wg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Pt(e)}.`)}},Xl=class{static NULL=new Wg},Bo=class{};var H1=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>null})}return n})();var pg={},Kg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ol(r);let i=this.injector.get(e,pg,r);return i!==pg||t===pg?i:this.parentInjector.get(e,t,r)}};function Qg(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=yb(i,a);else if(o==2){let u=a,l=e[++s];r=yb(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function dt(n,e=ae.Default){let t=je();if(t===null)return X(n,e);let r=hn();return iT(r,t,Ct(n),e)}function Hm(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,u=null,l=null,h=q1(s);h===null?a=s:[a,u,l]=h,K1(n,e,t,a,o,u,l)}o!==null&&r!==null&&z1(t,r,o)}function z1(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}function q1(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&In(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,G1(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function G1(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function W1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function K1(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&In(y)&&(u=!0,W1(n,t,m)),xg(wl(t,e),n,y.type)}eF(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=PT(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=jo(t.mergedAttrs,y.hostAttrs),Y1(n,t,e,p,y),X1(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let T=y.type.prototype;!l&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}Q1(n,t,o)}function Q1(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))zb(0,e,i,r),zb(1,e,i,r),Gb(e,r,!1);else{let o=t.get(i);qb(0,e,o,r),qb(1,e,o,r),Gb(e,r,!0)}}}function zb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),YT(e,o)}}function qb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),YT(e,s)}}function YT(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Gb(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Nm(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function Y1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Po(i.type,!0)),s=new Si(o,In(i),dt);n.blueprint[r]=s,t[r]=s,J1(n,e,r,PT(n,t,i.hostVars,Lr),i)}function J1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Z1(s)!=a&&s.push(a),s.push(t,r,o)}}function Z1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function X1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;In(e)&&(t[""]=n)}}function eF(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function JT(n,e,t,r,i,o,s,a){let u=e.consts,l=Vo(u,s),h=Zl(e,n,2,r,l);return o&&Hm(e,t,h,Vo(u,a),i),h.mergedAttrs=jo(h.mergedAttrs,h.attrs),h.attrs!==null&&Qg(h,h.attrs,!1),h.mergedAttrs!==null&&Qg(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function ZT(n,e){Em(n,e),pm(e)&&n.queries.elementEnd(e)}var Al=class extends Xl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=xo(e);return new Sa(t,this.ngModule)}};function tF(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Wl.SignalBased)!==0};return i&&(o.transform=i),o})}function nF(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function rF(n,e,t){let r=e instanceof _t?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Kg(t,r):t}function iF(n){let e=n.get(Bo,null);if(e===null)throw new $(407,!1);let t=n.get(H1,null),r=n.get(Uo,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function oF(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return AT(e,t,t==="svg"?ak:t==="math"?ck:null)}var Sa=class extends QT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=tF(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=nF(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=xO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Me(22);let o=fe(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:kO(this.componentDef.selectors[0]),u=Pm(0,null,null,1,0,null,null,null,null,[a],null),l=rF(s,i||this.ngModule,e),h=iF(l),p=h.rendererFactory.createRenderer(null,s),m=r?zO(p,r,s.encapsulation,l):oF(s,p),y=xm(null,u,null,512|NT(s),null,null,h,p,l,null,bT(m,l,!0));y[ln]=m,vm(y);let T=null;try{let M=JT(ln,u,y,"#host",()=>[this.componentDef],!0,0);m&&(MT(p,m,M),Qo(m,y)),Kl(u,y,M),Mm(u,M,y),ZT(u,M),t!==void 0&&sF(M,this.ngContentSelectors,t),T=Yn(M.index,y),y[xt]=T[xt],Vm(u,y,null)}catch(M){throw T!==null&&jg(T),jg(y),M}finally{Me(23),_m()}return new Yg(this.componentType,y)}finally{fe(o)}}},Yg=class extends $1{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=x0(t[ye],ln),this.location=ql(this._tNode,t),this.instance=Yn(this._tNode.index,t)[xt],this.hostView=this.changeDetectorRef=new Ca(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Lm(r,i[ye],i,e,t);this.previousInputValues.set(e,t);let s=Yn(r.index,i);$m(s,1)}get injector(){return new wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sF(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Yo=(()=>{class n{static __NG_ELEMENT_ID__=aF}return n})();function aF(){let n=hn();return uF(n,je())}var cF=Yo,XT=class extends cF{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ql(this._hostTNode,this._hostLView)}get injector(){return new wi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Im(this._hostTNode,this._hostLView);if(Z0(e)){let t=Il(e,this._hostLView),r=El(e),i=t[ye].data[r+8];return new wi(i,t)}else return new wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Wb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Yt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Hb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Bb(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!rk(e),a;if(s)a=t;else{let T=t||{};a=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let u=s?e:new Sa(xo(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(_t,null);M&&(o=M)}let h=xo(u.componentType??{}),p=Hb(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,Bb(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(lk(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[St],l=new XT(u,u[dn],u[St]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return P1(s,i,o,r),e.attachToViewContainerRef(),m0(gg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Wb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Gg(this._lContainer,t);r&&(hl(gg(this._lContainer),t),LT(r[ye],r))}detach(e){let t=this._adjustIndex(e,-1),r=Gg(this._lContainer,t);return r&&hl(gg(this._lContainer),t)!=null?new Ca(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Wb(n){return n[yl]}function gg(n){return n[yl]||(n[yl]=[])}function uF(n,e){let t,r=e[n.index];return er(r)?t=r:(t=WT(r,e,null,n),e[n.index]=t,km(e,t)),dF(t,e,n,r),new XT(t,n,e)}function lF(n,e){let t=n[Et],r=t.createComment(""),i=tr(e,n),o=t.parentNode(i);return Cl(t,o,r,t.nextSibling(i),!1),r}var dF=pF,hF=()=>!1;function fF(n,e,t){return hF(n,e,t)}function pF(n,e,t,r){if(n[Ti])return;let i;t.type&8?i=wn(r):i=lF(e,t),n[Ti]=i}var $o=class{},zm=class{};var Jg=class extends $o{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Al(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=_0(e);this._bootstrapComponents=CT(o.bootstrap),this._r3Injector=aT(e,t,[{provide:$o,useValue:this},{provide:Xl,useValue:this.componentFactoryResolver},...r],Pt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Zg=class extends zm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Jg(this.moduleType,e,[])}};var Rl=class extends $o{injector;componentFactoryResolver=new Al(this);instance=null;constructor(e){super();let t=new Ta([...e.providers,{provide:$o,useValue:this},{provide:Xl,useValue:this.componentFactoryResolver}],e.parent||fm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ed(n,e,t=null){return new Rl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var gF=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=E0(!1,t.type),i=r.length>0?ed([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:n,providedIn:"environment",factory:()=>new n(X(_t))})}return n})();function De(n){return Ma(()=>{let e=eD(n),t=ce(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===gT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(gF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||bn.Emulated,styles:n.styles||Kt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Rm("NgStandalone"),tD(t);let r=n.dependencies;return t.directiveDefs=Kb(r,!1),t.pipeDefs=Kb(r,!0),t.id=EF(t),t})}function mF(n){return xo(n)||qx(n)}function yF(n){return n!==null}function Vr(n){return Ma(()=>({type:n.type,bootstrap:n.bootstrap||Kt,declarations:n.declarations||Kt,imports:n.imports||Kt,exports:n.exports||Kt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function vF(n,e){if(n==null)return bi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Wl.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function _F(n){if(n==null)return bi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function sr(n){return Ma(()=>{let e=eD(n);return tD(e),e})}function eD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||bi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Kt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vF(n.inputs,e),outputs:_F(n.outputs),debugInfo:null}}function tD(n){n.features?.forEach(e=>e(n))}function Kb(n,e){if(!n)return null;let t=e?Gx:mF;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(yF)}function EF(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function IF(n){return Object.getPrototypeOf(n.prototype).constructor}function td(n){let e=IF(n.type),t=!0,r=[n];for(;e;){let i;if(In(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=mg(n.inputs),s.declaredInputs=mg(n.declaredInputs),s.outputs=mg(n.outputs);let a=i.hostBindings;a&&CF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&TF(n,u),l&&DF(n,l),wF(n,i),Tx(n.outputs,i.outputs),In(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===td&&(t=!1)}}e=Object.getPrototypeOf(e)}bF(r)}function wF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function bF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=jo(i.hostAttrs,t=jo(t,i.hostAttrs))}}function mg(n){return n===bi?{}:n===Kt?[]:n}function TF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function DF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function CF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function nD(n){return AF(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function SF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function AF(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Aa(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function RF(n,e,t,r){let i=Aa(n,e,t);return Aa(n,e+1,r)||i}function MF(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Zl(e,n,4,s||null,a||null);mm()&&Hm(e,t,h,Vo(l,u),Fm),h.mergedAttrs=jo(h.mergedAttrs,h.attrs),Em(e,h);let p=h.tView=Pm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function NF(n,e,t,r,i,o,s,a,u,l){let h=t+ln,p=e.firstCreatePass?MF(h,e,n,r,i,o,s,a,u):e.data[h];Mi(p,!1);let m=PF(e,n,p,t);Bl()&&Ql(e,n,m,p),Qo(m,n);let y=WT(m,n,m,p);return n[h]=y,km(n,y),fF(y,p,n),Vl(p)&&Kl(e,n,p),u!=null&&Om(n,p,l),p}function fn(n,e,t,r,i,o,s,a){let u=je(),l=Jt(),h=Vo(l.consts,o);return NF(u,l,n,e,t,r,i,h,s,a),fn}var PF=xF;function xF(n,e,t,r){return $l(!0),e[Et].createComment("")}var rD=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var iD=new B("");var kF=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>new Xg})}return n})(),Xg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Pi(n){return!!n&&typeof n.then=="function"}function oD(n){return!!n&&typeof n.subscribe=="function"}var OF=new B("");var sD=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=x(OF,{optional:!0})??[];injector=x(Xe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=lt(this.injector,i);if(Pi(o))t.push(o);else if(oD(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qm=new B("");function FF(){Up(()=>{throw new $(600,!1)})}function LF(n){return n.isBoundToModule}var VF=10;var Ai=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(tO);afterRenderManager=x(fO);zonelessEnabled=x(wm);rootEffectScheduler=x(kF);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Je;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(ir).hasPendingTasks.pipe(ie(t=>!t));constructor(){x(Gl,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=x(_t);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Xe.NULL){Me(10);let o=t instanceof QT;if(!this._injector.get(sD).done){let y="";throw new $(405,y)}let a;o?a=t:a=this._injector.get(Xl).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=LF(a)?void 0:this._injector.get($o),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,m=h.injector.get(iD,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),sl(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),Me(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Me(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(wT.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $(101,!1);let t=fe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,fe(t),this.afterTick.next(),Me(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Bo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<VF;)Me(14),this.synchronizeOnce(),Me(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)jF(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>jl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;sl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(qm,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>sl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function jF(n,e,t,r){if(!t&&!jl(n))return;HT(n,e,t&&!r?0:1)}function UF(n,e,t,r){return Aa(n,$0(),t)?e+ul(t)+r:Lr}function BF(n,e,t,r,i,o){let s=Ik(),a=RF(n,s,t,i);return H0(2),a?e+ul(t)+r+ul(i)+o:Lr}function nl(n,e){return n<<17|e<<2}function Ri(n){return n>>17&32767}function $F(n){return(n&2)==2}function HF(n,e){return n&131071|e<<17}function em(n){return n|2}function Ho(n){return(n&131068)>>2}function yg(n,e){return n&-131069|e<<2}function zF(n){return(n&1)===1}function tm(n){return n|1}function qF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ri(s),u=Ho(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Na(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Ri(n[a+1]);n[r+1]=nl(m,a),m!==0&&(n[m+1]=yg(n[m+1],r)),n[a+1]=HF(n[a+1],r)}else n[r+1]=nl(a,0),a!==0&&(n[a+1]=yg(n[a+1],r)),a=r;else n[r+1]=nl(u,0),a===0?a=r:n[u+1]=yg(n[u+1],r),u=r;l&&(n[r+1]=em(n[r+1])),Qb(n,h,r,!0),Qb(n,h,r,!1),GF(e,h,n,r,o),s=nl(a,u),o?e.classBindings=s:e.styleBindings=s}function GF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Na(o,e)>=0&&(t[r+1]=tm(t[r+1]))}function Qb(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ri(i):Ho(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];WF(u,e)&&(a=!0,n[s+1]=r?tm(l):em(l)),s=r?Ri(l):Ho(l)}a&&(n[t+1]=r?em(i):tm(i))}function WF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Na(n,e)>=0:!1}function W(n,e,t){let r=je(),i=$0();if(Aa(r,i,e)){let o=Jt(),s=Rk();KO(o,s,r,n,e,r[Et],t,!1)}return W}function Yb(n,e,t,r,i){Lm(e,n,t,i?"class":"style",r)}function xa(n,e,t){return aD(n,e,t,!1),xa}function He(n,e){return aD(n,e,null,!0),He}function aD(n,e,t,r){let i=je(),o=Jt(),s=H0(2);if(o.firstUpdatePass&&QF(o,n,s,r),e!==Lr&&Aa(i,s,e)){let a=o.data[Ni()];eL(o,a,i,i[Et],n,i[s+1]=tL(e,t),r,s)}}function KF(n,e){return e>=n.expandoStartIndex}function QF(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ni()],s=KF(n,t);nL(o,r)&&e===null&&!s&&(e=!1),e=YF(i,o,e,r),qF(i,o,e,t,s,r)}}function YF(n,e,t,r){let i=Ck(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=vg(null,n,e,t,r),t=Ra(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=vg(i,n,e,t,r),o===null){let u=JF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=vg(null,n,e,u[1],r),u=Ra(u,e.attrs,r),ZF(n,e,r,u))}else o=XF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function JF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ho(r)!==0)return n[Ri(r)]}function ZF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ri(i)]=r}function XF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ra(r,s,t)}return Ra(r,e.attrs,t)}function vg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ra(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ra(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Hx(n,s,t?!0:e[++o]))}return n===void 0?null:n}function eL(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=zF(l)?Jb(u,e,t,i,Ho(l),s):void 0;if(!Ml(h)){Ml(o)||$F(l)&&(o=Jb(u,null,t,i,a,s));let p=P0(Ni(),t);v1(r,s,p,i,o)}}function Jb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Lr&&(m=p?Kt:void 0);let y=p?ag(m,r):h===r?m:void 0;if(l&&!Ml(y)&&(y=ag(u,r)),Ml(y)&&(a=y,s))return a;let T=n[i+1];i=s?Ri(T):Ho(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ag(u,r))}return a}function Ml(n){return n!==void 0}function tL(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Pt(_O(n)))),n}function nL(n,e){return(n.flags&(e?8:16))!==0}function k(n,e,t,r){let i=je(),o=Jt(),s=ln+n,a=i[Et],u=o.firstCreatePass?JT(s,o,i,e,Fm,mm(),t,r):o.data[s],l=rL(o,i,u,a,e,n);i[s]=l;let h=Vl(u);return Mi(u,!0),MT(a,l,u),!OT(u)&&Bl()&&Ql(o,i,l,u),(fk()===0||h)&&Qo(l,i),pk(),h&&(Kl(o,i,u),Mm(o,u,i)),r!==null&&Om(i,u),k}function O(){let n=hn();ym()?U0():(n=n.parent,Mi(n,!1));let e=n;yk(e)&&vk(),gk();let t=Jt();return t.firstCreatePass&&ZT(t,e),e.classesWithoutHost!=null&&xk(e)&&Yb(t,e,je(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&kk(e)&&Yb(t,e,je(),e.stylesWithoutHost,!1),O}function Z(n,e,t,r){return k(n,e,t,r),O(),Z}var rL=(n,e,t,r,i,o)=>($l(!0),AT(r,i,Mk()));function iL(n,e,t,r,i){let o=e.consts,s=Vo(o,r),a=Zl(e,n,8,"ng-container",s);s!==null&&Qg(a,s,!0);let u=Vo(o,i);return mm()&&Hm(e,t,a,u,Fm),a.mergedAttrs=jo(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function ka(n,e,t){let r=je(),i=Jt(),o=n+ln,s=i.firstCreatePass?iL(o,i,r,e,t):i.data[o];Mi(s,!0);let a=oL(i,r,s,n);return r[o]=a,Bl()&&Ql(i,r,a,s),Qo(a,r),Vl(s)&&(Kl(i,r,s),Mm(i,s,r)),t!=null&&Om(r,s),ka}function Oa(){let n=hn(),e=Jt();return ym()?U0():(n=n.parent,Mi(n,!1)),e.firstCreatePass&&(Em(e,n),pm(n)&&e.queries.elementEnd(n)),Oa}var oL=(n,e,t,r)=>($l(!0),LO(e[Et],""));function jr(){return je()}var Nl="en-US";var sL=Nl;function aL(n){typeof n=="string"&&(sL=n.toLowerCase().replace(/_/g,"-"))}function Zb(n,e,t){return function r(i){if(i===Function)return t;let o=Go(n)?Yn(n.index,e):e;$m(o,5);let s=e[xt],a=Xb(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=Xb(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function Xb(n,e,t,r){let i=fe(null);try{return Me(6,e,t),t(r)!==!1}catch(o){return cL(n,o),!1}finally{Me(7,e,t),fe(i)}}function cL(n,e){let t=n[Oo],r=t?t.get(Jn,null):null;r&&r.handleError(e)}function e0(n,e,t,r,i,o){let s=e[t],a=e[ye],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?V0(a):null,m=L0(e),y=h.subscribe(o),T=m.length;m.push(o,y),p&&p.push(i,n.index,T,-(T+1))}function _e(n,e,t,r){let i=je(),o=Jt(),s=hn();return lL(o,i,i[Et],s,n,e,r),_e}function uL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[gl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function lL(n,e,t,r,i,o,s){let a=Vl(r),l=n.firstCreatePass?V0(n):null,h=L0(e),p=!0;if(r.type&3||s){let m=tr(r,e),y=s?s(m):m,T=h.length,M=s?V=>s(wn(V[r.index])):r.index,R=null;if(!s&&a&&(R=uL(n,e,i,r.index)),R!==null){let V=R.__ngLastListenerFn__||R;V.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=Zb(r,e,o),gO(e,y,i,o);let V=t.listen(y,i,o);h.push(o,V),l&&l.push(i,M,T,T+1)}}else o=Zb(r,e,o);if(p){let m=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let T=0;T<y.length;T+=2){let M=y[T],R=y[T+1];e0(r,e,M,R,i,o)}if(m&&m.length)for(let T of m)e0(r,e,T,i,i,o)}}function Ur(n=1){return Ak(n)}function nd(n){let e=Ek();return uk(e,ln+n)}function j(n,e=""){let t=je(),r=Jt(),i=n+ln,o=r.firstCreatePass?Zl(r,i,1,e,null):r.data[i],s=dL(r,t,o,e,n);t[i]=s,Bl()&&Ql(r,t,s,o),Mi(o,!1)}var dL=(n,e,t,r,i)=>($l(!0),OO(e[Et],r));function pn(n){return rd("",n,""),pn}function rd(n,e,t){let r=je(),i=UF(r,n,e,t);return i!==Lr&&cD(r,Ni(),i),rd}function Gm(n,e,t,r,i){let o=je(),s=BF(o,n,e,t,r,i);return s!==Lr&&cD(o,Ni(),s),Gm}function cD(n,e,t){let r=P0(e,n);FO(n[Et],r,t)}function hL(n,e,t){let r=Jt();if(r.firstCreatePass){let i=In(n);nm(t,r.data,r.blueprint,i,!0),nm(e,r.data,r.blueprint,i,!1)}}function nm(n,e,t,r,i){if(n=Ct(n),Array.isArray(n))for(let o=0;o<n.length;o++)nm(n[o],e,t,r,i);else{let o=Jt(),s=je(),a=hn(),u=ko(n)?n:Ct(n.provide),l=b0(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ko(n)||!n.multi){let y=new Si(l,i,dt),T=Eg(u,e,i?h:h+m,p);T===-1?(xg(wl(a,s),o,u),_g(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[T]=y,s[T]=y)}else{let y=Eg(u,e,h+m,p),T=Eg(u,e,h,h+m),M=y>=0&&t[y],R=T>=0&&t[T];if(i&&!R||!i&&!M){xg(wl(a,s),o,u);let V=gL(i?pL:fL,t.length,i,r,l);!i&&R&&(t[T].providerFactory=V),_g(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=uD(t[i?T:y],l,!i&&r);_g(o,n,y>-1?y:T,V)}!i&&r&&R&&t[T].componentProviders++}}}function _g(n,e,t,r){let i=ko(e),o=Jx(e);if(i||o){let u=(o?Ct(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function uD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Eg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function fL(n,e,t,r,i){return rm(this.multi,[])}function pL(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=bl(r,r[ye],this.providerFactory.index,i);s=u.slice(0,a),rm(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],rm(o,s);return s}function rm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function gL(n,e,t,r,i){let o=new Si(n,t,dt);return o.multi=[],o.index=e,o.componentProviders=0,uD(o,i,r&&!t),o}function lD(n,e=[]){return t=>{t.providersResolver=(r,i)=>hL(r,i?i(n):n,e)}}var zo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},dD=new zo("19.2.15"),im=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},hD=(()=>{class n{compileModuleSync(t){return new Zg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=_0(t),o=CT(i.declarations).reduce((s,a)=>{let u=xo(a);return u&&s.push(new Sa(u)),s},[]);return new im(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mL=(()=>{class n{zone=x(be);changeDetectionScheduler=x(Uo);applicationRef=x(Ai);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yL=new B("",{factory:()=>!1});function fD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new be(ce(L({},gD()),{scheduleInRootZone:t})),[{provide:be,useFactory:n},{provide:ba,multi:!0,useFactory:()=>{let r=x(mL,{optional:!0});return()=>r.initialize()}},{provide:ba,multi:!0,useFactory:()=>{let r=x(vL);return()=>{r.initialize()}}},e===!0?{provide:uT,useValue:!0}:[],{provide:lT,useValue:t??cT}]}function pD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=fD({ngZoneFactory:()=>{let i=gD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Rm("NgZone_CoalesceEvent"),new be(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Ut([{provide:yL,useValue:!0},{provide:wm,useValue:!1},r])}function gD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var vL=(()=>{class n{subscription=new Fe;initialized=!1;zone=x(be);pendingTasks=x(ir);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _L=(()=>{class n{appRef=x(Ai);taskService=x(ir);ngZone=x(be);zonelessEnabled=x(wm);tracing=x(Gl,{optional:!0});disableScheduling=x(uT,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Fe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Dl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(lT,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Vg||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?xb:dT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Dl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EL(){return typeof $localize<"u"&&$localize.locale||Nl}var Wm=new B("",{providedIn:"root",factory:()=>x(Wm,ae.Optional|ae.SkipSelf)||EL()});var om=new B(""),IL=new B("");function _a(n){return!n.moduleRef}function wL(n){let e=_a(n)?n.r3Injector:n.moduleRef.injector,t=e.get(be);return t.run(()=>{_a(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Jn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),_a(n)){let o=()=>e.destroy(),s=n.platformInjector.get(om);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(om);s.add(o),n.moduleRef.onDestroy(()=>{sl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return TL(r,t,()=>{let o=e.get(sD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Wm,Nl);if(aL(s||Nl),!e.get(IL,!0))return _a(n)?e.get(Ai):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(_a(n)){let u=e.get(Ai);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return bL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function bL(n,e){let t=n.injector.get(Ai);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new $(-403,!1);e.push(n)}function TL(n,e,t){try{let r=t();return Pi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var al=null;function DL(n=[],e){return Xe.create({name:e,providers:[{provide:Fl,useValue:"platform"},{provide:om,useValue:new Set([()=>al=null])},...n]})}function CL(n=[]){if(al)return al;let e=DL(n);return al=e,FF(),SL(e),e}function SL(n){let e=n.get(Sm,null);lt(n,()=>{e?.forEach(t=>t())})}function Km(){return!1}var id=(()=>{class n{static __NG_ELEMENT_ID__=AL}return n})();function AL(n){return RL(hn(),je(),(n&16)===16)}function RL(n,e,t){if(Go(n)&&!t){let r=Yn(n.index,e);return new Ca(r,r)}else if(n.type&175){let r=e[En];return new Ca(r,e)}return null}var sm=class{constructor(){}supports(e){return nD(e)}create(e){return new am(e)}},ML=(n,e)=>e,am=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||ML}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<t0(r,i,o)?t:r,a=t0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,T=y+m;h<=T&&T<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!nD(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,SF(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new cm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Pl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Pl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},cm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},um=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Pl=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new um,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function t0(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function n0(){return new Qm([new sm])}var Qm=(()=>{class n{factories;static \u0275prov=G({token:n,providedIn:"root",factory:n0});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||n0()),deps:[[n,new Bx,new It]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new $(901,!1)}}return n})();function mD(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Me(8);try{let o=i?.injector??CL(r),s=[fD({}),{provide:Uo,useExisting:_L},...t||[]],a=new Rl({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return wL({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Me(9)}}function Dn(n){return Hp(n)}function Jo(n,e){return jp(n,e?.equal)}var r0=class{[sn];constructor(e){this[sn]=e}destroy(){this[sn].destroy()}};var tt=new B("");var _D=null;function ar(){return _D}function Ym(n){_D??=n}var Fa=class{},Jm=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>x(ED),providedIn:"platform"})}return n})();var ED=(()=>{class n extends Jm{_location;_history;_doc=x(tt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ar().getBaseHref(this._doc)}onPopState(t){let r=ar().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ar().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ID(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function yD(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Br(n){return n&&n[0]!=="?"?`?${n}`:n}var od=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>x(bD),providedIn:"root"})}return n})(),wD=new B(""),bD=(()=>{class n extends od{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ID(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Br(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Br(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Br(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(X(Jm),X(wD,8))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zo=(()=>{class n{_subject=new Je;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=xL(yD(vD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Br(r))}normalize(t){return n.stripTrailingSlash(PL(this._basePath,vD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Br(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Br(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Br;static joinWithSlash=ID;static stripTrailingSlash=yD;static \u0275fac=function(r){return new(r||n)(X(od))};static \u0275prov=G({token:n,factory:()=>NL(),providedIn:"root"})}return n})();function NL(){return new Zo(X(od))}function PL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function vD(n){return n.replace(/\/index.html$/,"")}function xL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var sd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},cd=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new sd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),TD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);TD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(dt(Yo),dt(Jl),dt(Qm))};static \u0275dir=sr({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function TD(n,e){n.context.$implicit=e.item}var cr=(()=>{class n{_viewContainer;_context=new ad;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){DD(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){DD(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(dt(Yo),dt(Jl))};static \u0275dir=sr({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),ad=class{$implicit=null;ngIf=null};function DD(n,e){if(n&&!n.createEmbeddedView)throw new $(2020,!1)}var ze=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Vr({type:n});static \u0275inj=Fr({})}return n})();function La(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ud="browser",CD="server";function ld(n){return n===ud}function dd(n){return n===CD}var xi=class{};var pd=new B(""),ty=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(X(pd),X(be))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),ja=class{_doc;constructor(e){this._doc=e}manager},hd="ng-app-id";function SD(n){for(let e of n)e.remove()}function AD(n,e){let t=e.createElement("style");return t.textContent=n,t}function OL(n,e,t,r){let i=n.head?.querySelectorAll(`style[${hd}="${e}"],link[${hd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(hd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Xm(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ny=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=dd(o),OL(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,AD);r?.forEach(i=>this.addUsage(i,this.external,Xm))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(SD(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])SD(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,AD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Xm(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(hd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(X(tt),X(Cm),X(Am,8),X(Tn))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Zm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ry=/%COMP%/g;var MD="%COMP%",FL=`_nghost-${MD}`,LL=`_ngcontent-${MD}`,VL=!0,jL=new B("",{providedIn:"root",factory:()=>VL});function UL(n){return LL.replace(ry,n)}function BL(n){return FL.replace(ry,n)}function ND(n,e){return e.map(t=>t.replace(ry,n))}var iy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=dd(a),this.defaultRenderer=new Ua(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===bn.ShadowDom&&(r=ce(L({},r),{encapsulation:bn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof fd?i.applyToHost(t):i instanceof Ba&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case bn.Emulated:o=new fd(u,l,r,this.appId,h,s,a,p,m);break;case bn.ShadowDom:return new ey(u,l,t,r,s,a,this.nonce,p,m);default:o=new Ba(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(X(ty),X(ny),X(Cm),X(jL),X(tt),X(Tn),X(be),X(Am),X(Gl,8))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Ua=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Zm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(RD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(RD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Zm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Zm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Zn.DashCase|Zn.Important)?e.style.setProperty(t,r,i&Zn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Zn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=ar().getGlobalEventTarget(this.doc,e),!e))throw new $(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function RD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ey=class extends Ua{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=ND(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Xm(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ba=class extends Ua{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?ND(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},fd=class extends Ba{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=UL(h),this.hostAttr=BL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var gd=class n extends Fa{supportsDOMEvents=!0;static makeCurrent(){Ym(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=$L();return t==null?null:HL(t)}resetBaseElement(){$a=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return La(document.cookie,e)}},$a=null;function $L(){return $a=$a||document.head.querySelector("base"),$a?$a.getAttribute("href"):null}function HL(n){return new URL(n,document.baseURI).pathname}var zL=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),xD=(()=>{class n extends ja{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(X(tt))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),PD=["alt","control","meta","shift"],qL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},kD=(()=>{class n extends ja{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ar().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),PD.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=qL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),PD.forEach(s=>{if(s!==i){let a=GL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(X(tt))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function oy(n,e,t){return mD(L({rootComponent:n,platformRef:t?.platformRef},WL(e)))}function WL(n){return{appProviders:[...ZL,...n?.providers??[]],platformProviders:JL}}function KL(){gd.makeCurrent()}function QL(){return new Jn}function YL(){return ET(document),document}var JL=[{provide:Tn,useValue:ud},{provide:Sm,useValue:KL,multi:!0},{provide:tt,useFactory:YL}];var ZL=[{provide:Fl,useValue:"root"},{provide:Jn,useFactory:QL},{provide:pd,useClass:xD,multi:!0,deps:[tt]},{provide:pd,useClass:kD,multi:!0,deps:[tt]},iy,ny,ty,{provide:Bo,useExisting:iy},{provide:xi,useClass:zL},[]];var es=class{},Ha=class{},Cn=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var yd=class{encodeKey(e){return OD(e)}encodeValue(e){return OD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function XL(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var eV=/%(\d[a-f0-9])/gi,tV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OD(n){return encodeURIComponent(n).replace(eV,(e,t)=>tV[t]??e)}function md(n){return`${n}`}var ur=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new yd,e.fromString){if(e.fromObject)throw new $(2805,!1);this.map=XL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(md):[md(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(md(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(md(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var vd=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function nV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function FD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function LD(n){return typeof Blob<"u"&&n instanceof Blob}function VD(n){return typeof FormData<"u"&&n instanceof FormData}function rV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var jD="Content-Type",UD="Accept",BD="X-Request-URL",$D="text/plain",HD="application/json",iV=`${HD}, ${$D}, */*`,Xo=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(nV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Cn,this.context??=new vd,!this.params)this.params=new ur,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||FD(this.body)||LD(this.body)||VD(this.body)||rV(this.body)?this.body:this.body instanceof ur?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||VD(this.body)?null:LD(this.body)?this.body.type||null:FD(this.body)?null:typeof this.body=="string"?$D:this.body instanceof ur?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?HD:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},ki=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ki||{}),ts=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Cn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},_d=class n extends ts{constructor(e={}){super(e)}type=ki.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},za=class n extends ts{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ki.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},qa=class extends ts{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},oV=200,sV=204;function sy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Id=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Xo)o=t;else{let u;i.headers instanceof Cn?u=i.headers:u=new Cn(i.headers);let l;i.params&&(i.params instanceof ur?l=i.params:l=new ur({fromObject:i.params})),o=new Xo(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=J(o).pipe(Pr(u=>this.handler.handle(u)));if(t instanceof Xo||i.observe==="events")return s;let a=s.pipe(Nt(u=>u instanceof za));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new $(2806,!1);return u.body}));case"blob":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new $(2807,!1);return u.body}));case"text":return a.pipe(ie(u=>{if(u.body!==null&&typeof u.body!="string")throw new $(2808,!1);return u.body}));case"json":default:return a.pipe(ie(u=>u.body))}case"response":return a;default:throw new $(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ur().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,sy(i,r))}post(t,r,i={}){return this.request("POST",t,sy(i,r))}put(t,r,i={}){return this.request("PUT",t,sy(i,r))}static \u0275fac=function(r){return new(r||n)(X(es))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();var aV=new B("");function cV(n,e){return e(n)}function uV(n,e,t){return(r,i)=>lt(t,()=>e(r,o=>n(o,i)))}var zD=new B(""),qD=new B(""),GD=new B("",{providedIn:"root",factory:()=>!0});var Ed=(()=>{class n extends es{backend;injector;chain=null;pendingTasks=x(ir);contributeToStability=x(GD);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(zD),...this.injector.get(qD,[])]));this.chain=r.reduceRight((i,o)=>uV(i,o,this.injector),cV)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(_i(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(X(Ha),X(_t))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();var lV=/^\)\]\}',?\n/,dV=RegExp(`^${BD}:`,"m");function hV(n){return"responseURL"in n&&n.responseURL?n.responseURL:dV.test(n.getAllResponseHeaders())?n.getResponseHeader(BD):null}var ay=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new $(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Pe(r.\u0275loadImpl()):J(null)).pipe(jt(()=>new ue(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,R)=>s.setRequestHeader(M,R.join(","))),t.headers.has(UD)||s.setRequestHeader(UD,iV),!t.headers.has(jD)){let M=t.detectContentTypeHeader();M!==null&&s.setRequestHeader(jD,M)}if(t.responseType){let M=t.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let M=s.statusText||"OK",R=new Cn(s.getAllResponseHeaders()),V=hV(s)||t.url;return u=new _d({headers:R,status:s.status,statusText:M,url:V}),u},h=()=>{let{headers:M,status:R,statusText:V,url:Y}=l(),q=null;R!==sV&&(q=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=q?oV:0);let Ie=R>=200&&R<300;if(t.responseType==="json"&&typeof q=="string"){let st=q;q=q.replace(lV,"");try{q=q!==""?JSON.parse(q):null}catch(we){q=st,Ie&&(Ie=!1,q={error:we,text:q})}}Ie?(o.next(new za({body:q,headers:M,status:R,statusText:V,url:Y||void 0})),o.complete()):o.error(new qa({error:q,headers:M,status:R,statusText:V,url:Y||void 0}))},p=M=>{let{url:R}=l(),V=new qa({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(V)},m=!1,y=M=>{m||(o.next(l()),m=!0);let R={type:ki.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},T=M=>{let R={type:ki.UploadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",T)),s.send(a),o.next({type:ki.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",T)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(X(xi))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),WD=new B(""),fV="XSRF-TOKEN",pV=new B("",{providedIn:"root",factory:()=>fV}),gV="X-XSRF-TOKEN",mV=new B("",{providedIn:"root",factory:()=>gV}),Ga=class{},yV=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=La(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(X(tt),X(pV))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function vV(n,e){let t=n.url.toLowerCase();if(!x(WD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=x(Ga).getToken(),i=x(mV);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function cy(...n){let e=[Id,ay,Ed,{provide:es,useExisting:Ed},{provide:Ha,useFactory:()=>x(aV,{optional:!0})??x(ay)},{provide:zD,useValue:vV,multi:!0},{provide:WD,useValue:!0},{provide:Ga,useClass:yV}];for(let t of n)e.push(...t.\u0275providers);return Ut(e)}var KD=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(X(tt))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var se="primary",sc=Symbol("RouteTitle"),fy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Li(n){return new fy(n)}function nC(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function IV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Sn(n[t],e[t]))return!1;return!0}function Sn(n,e){let t=n?py(n):void 0,r=e?py(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!rC(n[i],e[i]))return!1;return!0}function py(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function rC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function iC(n){return n.length>0?n[n.length-1]:null}function zr(n){return rg(n)?n:Pi(n)?Pe(Promise.resolve(n)):J(n)}var wV={exact:sC,subset:aC},oC={exact:bV,subset:TV,ignored:()=>!0};function QD(n,e,t){return wV[t.paths](n.root,e.root,t.matrixParams)&&oC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function bV(n,e){return Sn(n,e)}function sC(n,e,t){if(!Oi(n.segments,e.segments)||!Td(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!sC(n.children[r],e.children[r],t))return!1;return!0}function TV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rC(n[t],e[t]))}function aC(n,e,t){return cC(n,e,e.segments,t)}function cC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Oi(i,t)||e.hasChildren()||!Td(i,t,r))}else if(n.segments.length===t.length){if(!Oi(n.segments,t)||!Td(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!aC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Oi(n.segments,i)||!Td(n.segments,i,r)||!n.children[se]?!1:cC(n.children[se],e,o,r)}}function Td(n,e,t){return e.every((r,i)=>oC[t](n[i].parameters,r.parameters))}var Rn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Te([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Li(this.queryParams),this._queryParamMap}toString(){return SV.serialize(this)}},Te=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dd(this)}},$r=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Li(this.parameters),this._parameterMap}toString(){return lC(this)}};function DV(n,e){return Oi(n,e)&&n.every((t,r)=>Sn(t.parameters,e[r].parameters))}function Oi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function CV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===se&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==se&&(t=t.concat(e(i,r)))}),t}var ac=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new Vi,providedIn:"root"})}return n})(),Vi=class{parse(e){let t=new my(e);return new Rn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Wa(e.root,!0)}`,r=MV(e.queryParams),i=typeof e.fragment=="string"?`#${AV(e.fragment)}`:"";return`${t}${r}${i}`}},SV=new Vi;function Dd(n){return n.segments.map(e=>lC(e)).join("/")}function Wa(n,e){if(!n.hasChildren())return Dd(n);if(e){let t=n.children[se]?Wa(n.children[se],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${Wa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=CV(n,(r,i)=>i===se?[Wa(n.children[se],!1)]:[`${i}:${Wa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[se]!=null?`${Dd(n)}/${t[0]}`:`${Dd(n)}/(${t.join("//")})`}}function uC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wd(n){return uC(n).replace(/%3B/gi,";")}function AV(n){return encodeURI(n)}function gy(n){return uC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cd(n){return decodeURIComponent(n)}function YD(n){return Cd(n.replace(/\+/g,"%20"))}function lC(n){return`${gy(n.path)}${RV(n.parameters)}`}function RV(n){return Object.entries(n).map(([e,t])=>`;${gy(e)}=${gy(t)}`).join("")}function MV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${wd(t)}=${wd(i)}`).join("&"):`${wd(t)}=${wd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var NV=/^[^\/()?;#]+/;function uy(n){let e=n.match(NV);return e?e[0]:""}var PV=/^[^\/()?;=#]+/;function xV(n){let e=n.match(PV);return e?e[0]:""}var kV=/^[^=?&#]+/;function OV(n){let e=n.match(kV);return e?e[0]:""}var FV=/^[^&#]+/;function LV(n){let e=n.match(FV);return e?e[0]:""}var my=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[se]=new Te(e,t)),r}parseSegment(){let e=uy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new $r(Cd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=xV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=uy(this.remaining);i&&(r=i,this.capture(r))}e[Cd(t)]=Cd(r)}parseQueryParam(e){let t=OV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=LV(this.remaining);s&&(r=s,this.capture(r))}let i=YD(t),o=YD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=uy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[se]:new Te([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function dC(n){return n.segments.length>0?new Te([],{[se]:n}):n}function hC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=hC(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Te(n.segments,e);return VV(t)}function VV(n){if(n.numberOfChildren===1&&n.children[se]){let e=n.children[se];return new Te(n.segments.concat(e.segments),e.children)}return n}function ss(n){return n instanceof Rn}function fC(n,e,t=null,r=null){let i=pC(n);return gC(i,e,t,r)}function pC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Te(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=dC(r);return e??i}function gC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return ly(i,i,i,t,r);let o=jV(e);if(o.toRoot())return ly(i,i,new Te([],{}),t,r);let s=UV(o,i,n),a=s.processChildren?Qa(s.segmentGroup,s.index,o.commands):yC(s.segmentGroup,s.index,o.commands);return ly(i,s.segmentGroup,a,t,r)}function Ad(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ja(n){return typeof n=="object"&&n!=null&&n.outlets}function ly(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=mC(n,e,t);let a=dC(hC(s));return new Rn(a,o,i)}function mC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=mC(o,e,t)}),new Te(n.segments,r)}var Rd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ad(r[0]))throw new $(4003,!1);let i=r.find(Ja);if(i&&i!==iC(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function jV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Rd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Rd(t,e,r)}var is=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function UV(n,e,t){if(n.isAbsolute)return new is(e,!0,0);if(!t)return new is(e,!1,NaN);if(t.parent===null)return new is(t,!0,0);let r=Ad(n.commands[0])?0:1,i=t.segments.length-1+r;return BV(t,i,n.numberOfDoubleDots)}function BV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new is(r,!1,i-o)}function $V(n){return Ja(n[0])?n[0].outlets:{[se]:n}}function yC(n,e,t){if(n??=new Te([],{}),n.segments.length===0&&n.hasChildren())return Qa(n,e,t);let r=HV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Te(n.segments.slice(0,r.pathIndex),{});return o.children[se]=new Te(n.segments.slice(r.pathIndex),n.children),Qa(o,0,i)}else return r.match&&i.length===0?new Te(n.segments,{}):r.match&&!n.hasChildren()?yy(n,e,t):r.match?Qa(n,0,i):yy(n,e,t)}function Qa(n,e,t){if(t.length===0)return new Te(n.segments,{});{let r=$V(t),i={};if(Object.keys(r).some(o=>o!==se)&&n.children[se]&&n.numberOfChildren===1&&n.children[se].segments.length===0){let o=Qa(n.children[se],e,t);return new Te(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=yC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Te(n.segments,i)}}function HV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ja(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!ZD(u,l,s))return o;r+=2}else{if(!ZD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function yy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ja(o)){let u=zV(o.outlets);return new Te(r,u)}if(i===0&&Ad(t[0])){let u=n.segments[e];r.push(new $r(u.path,JD(t[0]))),i++;continue}let s=Ja(o)?o.outlets[se]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ad(a)?(r.push(new $r(s,JD(a))),i+=2):(r.push(new $r(s,{})),i++)}return new Te(r,{})}function zV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=yy(new Te([],{}),0,r))}),e}function JD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function ZD(n,e,t){return n==t.path&&Sn(e,t.parameters)}var Sd="imperative",nt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(nt||{}),$t=class{id;url;constructor(e,t){this.id=e,this.url=t}},ji=class extends $t{type=nt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},lr=class extends $t{urlAfterRedirects;type=nt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(kt||{}),Za=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Za||{}),An=class extends $t{reason;code;type=nt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},dr=class extends $t{reason;code;type=nt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},as=class extends $t{error;target;type=nt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xa=class extends $t{urlAfterRedirects;state;type=nt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Md=class extends $t{urlAfterRedirects;state;type=nt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nd=class extends $t{urlAfterRedirects;state;shouldActivate;type=nt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pd=class extends $t{urlAfterRedirects;state;type=nt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xd=class extends $t{urlAfterRedirects;state;type=nt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kd=class{route;type=nt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Od=class{route;type=nt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Fd=class{snapshot;type=nt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ld=class{snapshot;type=nt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vd=class{snapshot;type=nt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jd=class{snapshot;type=nt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ec=class{},cs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function qV(n,e){return n.providers&&!n._injector&&(n._injector=ed(n.providers,e,`Route: ${n.path}`)),n._injector??e}function gn(n){return n.outlet||se}function GV(n,e){let t=n.filter(r=>gn(r)===e);return t.push(...n.filter(r=>gn(r)!==e)),t}function cc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ud=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return cc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ds(this.rootInjector)}},ds=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ud(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(X(_t))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=vy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=vy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=_y(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _y(e,this._root).map(t=>t.value)}};function vy(n,e){if(n===e.value)return e;for(let t of e.children){let r=vy(n,t);if(r)return r}return null}function _y(n,e){if(n===e.value)return[e];for(let t of e.children){let r=_y(n,t);if(r.length)return r.unshift(e),r}return[]}var Bt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function rs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var tc=class extends Bd{snapshot;constructor(e,t){super(e),this.snapshot=t,Sy(this,e)}toString(){return this.snapshot.toString()}};function vC(n){let e=WV(n),t=new ct([new $r("",{})]),r=new ct({}),i=new ct({}),o=new ct({}),s=new ct(""),a=new Hr(t,r,o,s,i,se,n,e.root);return a.snapshot=e.root,new tc(new Bt(a,[]),e)}function WV(n){let e={},t={},r={},i="",o=new Fi([],e,r,i,t,se,n,null,{});return new nc("",new Bt(o,[]))}var Hr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[sc]))??J(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Li(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Li(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $d(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&EC(i)&&(r.resolve[sc]=i.title),r}var Fi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[sc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Li(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Li(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},nc=class extends Bd{url;constructor(e,t){super(t),this.url=e,Sy(this,t)}toString(){return _C(this._root)}};function Sy(n,e){e.value._routerState=n,e.children.forEach(t=>Sy(n,t))}function _C(n){let e=n.children.length>0?` { ${n.children.map(_C).join(", ")} } `:"";return`${n.value}${e}`}function dy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Sn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Sn(e.params,t.params)||n.paramsSubject.next(t.params),IV(e.url,t.url)||n.urlSubject.next(t.url),Sn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ey(n,e){let t=Sn(n.params,e.params)&&DV(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Ey(n.parent,e.parent))}function EC(n){return typeof n.title=="string"||n.title===null}var IC=new B(""),uc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=se;activateEvents=new Le;deactivateEvents=new Le;attachEvents=new Le;detachEvents=new Le;routerOutletData=fT(void 0);parentContexts=x(ds);location=x(Yo);changeDetector=x(id);inputBinder=x(Gd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Iy(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=sr({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Pa]})}return n})(),Iy=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Hr?this.route:e===ds?this.childContexts:e===IC?this.outletData:this.parent.get(e,t)}},Gd=new B("");var Ay=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=De({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Z(0,"router-outlet")},dependencies:[uc],encapsulation:2})}return n})();function Ry(n){let e=n.children&&n.children.map(Ry),t=e?ce(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==se&&(t.component=Ay),t}function KV(n,e,t){let r=rc(n,e._root,t?t._root:void 0);return new tc(r,e)}function rc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=QV(n,e,t);return new Bt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>rc(n,a)),s}}let r=YV(e.value),i=e.children.map(o=>rc(n,o));return new Bt(r,i)}}function QV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return rc(n,r,i);return rc(n,r)})}function YV(n){return new Hr(new ct(n.url),new ct(n.params),new ct(n.queryParams),new ct(n.fragment),new ct(n.data),n.outlet,n.component,n)}var us=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},wC="ngNavigationCancelingError";function Hd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ss(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=bC(!1,kt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function bC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[wC]=!0,t.cancellationCode=e,t}function JV(n){return TC(n)&&ss(n.url)}function TC(n){return!!n&&n[wC]}var ZV=(n,e,t,r)=>ie(i=>(new wy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),wy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=rs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=rs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=rs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=rs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new jd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ld(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(dy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),dy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},zd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},os=class{component;route;constructor(e,t){this.component=e,this.route=t}};function XV(n,e,t){let r=n._root,i=e?e._root:null;return Ka(r,i,t,[r.value])}function e2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function hs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!c0(n)?n:e.get(n):r}function Ka(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=rs(e);return n.children.forEach(s=>{t2(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ya(a,t.getContext(s),i)),i}function t2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=n2(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new zd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ka(n,e,a?a.children:null,r,i):Ka(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new os(a.outlet.component,s))}else s&&Ya(e,a,i),i.canActivateChecks.push(new zd(r)),o.component?Ka(n,null,a?a.children:null,r,i):Ka(n,null,t,r,i);return i}function n2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Oi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Oi(n.url,e.url)||!Sn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ey(n,e)||!Sn(n.queryParams,e.queryParams);case"paramsChange":default:return!Ey(n,e)}}function Ya(n,e,t){let r=rs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ya(s,e.children.getContext(o),t):Ya(s,null,t):Ya(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new os(e.outlet.component,i)):t.canDeactivateChecks.push(new os(null,i)):t.canDeactivateChecks.push(new os(null,i))}function lc(n){return typeof n=="function"}function r2(n){return typeof n=="boolean"}function i2(n){return n&&lc(n.canLoad)}function o2(n){return n&&lc(n.canActivate)}function s2(n){return n&&lc(n.canActivateChild)}function a2(n){return n&&lc(n.canDeactivate)}function c2(n){return n&&lc(n.canMatch)}function DC(n){return n instanceof Wn||n?.name==="EmptyError"}var bd=Symbol("INITIAL_VALUE");function ls(){return jt(n=>Qu(n.map(e=>e.pipe(Kn(1),Xu(bd)))).pipe(ie(e=>{for(let t of e)if(t!==!0){if(t===bd)return bd;if(t===!1||u2(t))return t}return!0}),Nt(e=>e!==bd),Kn(1)))}function u2(n){return ss(n)||n instanceof us}function l2(n,e){return Ze(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?J(ce(L({},t),{guardsResult:!0})):d2(s,r,i,n).pipe(Ze(a=>a&&r2(a)?h2(r,o,n,e):J(a)),ie(a=>ce(L({},t),{guardsResult:a})))})}function d2(n,e,t,r){return Pe(n).pipe(Ze(i=>y2(i.component,i.route,t,e,r)),Qn(i=>i!==!0,!0))}function h2(n,e,t,r){return Pe(e).pipe(Pr(i=>Co(p2(i.route.parent,r),f2(i.route,r),m2(n,i.path,t),g2(n,i.route,t))),Qn(i=>i!==!0,!0))}function f2(n,e){return n!==null&&e&&e(new Vd(n)),J(!0)}function p2(n,e){return n!==null&&e&&e(new Fd(n)),J(!0)}function g2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(o=>Yu(()=>{let s=cc(e)??t,a=hs(o,s),u=o2(a)?a.canActivate(e,n):lt(s,()=>a(e,n));return zr(u).pipe(Qn())}));return J(i).pipe(ls())}function m2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>e2(s)).filter(s=>s!==null).map(s=>Yu(()=>{let a=s.guards.map(u=>{let l=cc(s.node)??t,h=hs(u,l),p=s2(h)?h.canActivateChild(r,n):lt(l,()=>h(r,n));return zr(p).pipe(Qn())});return J(a).pipe(ls())}));return J(o).pipe(ls())}function y2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return J(!0);let s=o.map(a=>{let u=cc(e)??i,l=hs(a,u),h=a2(l)?l.canDeactivate(n,e,t,r):lt(u,()=>l(n,e,t,r));return zr(h).pipe(Qn())});return J(s).pipe(ls())}function v2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let o=i.map(s=>{let a=hs(s,n),u=i2(a)?a.canLoad(e,t):lt(n,()=>a(e,t));return zr(u)});return J(o).pipe(ls(),CC(r))}function CC(n){return Mu(ut(e=>{if(typeof e!="boolean")throw Hd(n,e)}),ie(e=>e===!0))}function _2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let o=i.map(s=>{let a=hs(s,n),u=c2(a)?a.canMatch(e,t):lt(n,()=>a(e,t));return zr(u)});return J(o).pipe(ls(),CC(r))}var ic=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},oc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ns(n){return Do(new ic(n))}function E2(n){return Do(new $(4e3,!1))}function I2(n){return Do(bC(!1,kt.GuardRejected))}var by=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[se])return E2(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:T,title:M}=i,R=lt(o,()=>a({params:y,data:T,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof Rn)throw new oc(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new oc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Rn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Te(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Ty={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function w2(n,e,t,r,i){let o=SC(n,e,t);return o.matched?(r=qV(e,r),_2(r,e,t,i).pipe(ie(s=>s===!0?o:L({},Ty)))):J(o)}function SC(n,e,t){if(e.path==="**")return b2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},Ty):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||nC)(t,n,e);if(!i)return L({},Ty);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function b2(n){return{matched:!0,parameters:n.length>0?iC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function XD(n,e,t,r){return t.length>0&&C2(n,t,r)?{segmentGroup:new Te(e,D2(r,new Te(t,n.children))),slicedSegments:[]}:t.length===0&&S2(n,t,r)?{segmentGroup:new Te(n.segments,T2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Te(n.segments,n.children),slicedSegments:t}}function T2(n,e,t,r){let i={};for(let o of t)if(Wd(n,e,o)&&!r[gn(o)]){let s=new Te([],{});i[gn(o)]=s}return L(L({},r),i)}function D2(n,e){let t={};t[se]=e;for(let r of n)if(r.path===""&&gn(r)!==se){let i=new Te([],{});t[gn(r)]=i}return t}function C2(n,e,t){return t.some(r=>Wd(n,e,r)&&gn(r)!==se)}function S2(n,e,t){return t.some(r=>Wd(n,e,r))}function Wd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function A2(n,e,t){return e.length===0&&!n.children[t]}var Dy=class{};function R2(n,e,t,r,i,o,s="emptyOnly"){return new Cy(n,e,t,r,i,s,o).recognize()}var M2=31,Cy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new by(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=XD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:t,rootSnapshot:r})=>{let i=new Bt(r,t),o=new nc("",i),s=fC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Fi([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,t).pipe(ie(r=>({children:r,rootSnapshot:t})),Nr(r=>{if(r instanceof oc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ic?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof Bt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Pe(o).pipe(Pr(s=>{let a=r.children[s],u=GV(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Zu((s,a)=>(s.push(...a),s)),xr(null),og(),Ze(s=>{if(s===null)return ns(r);let a=AC(s);return N2(a),J(a)}))}processSegment(e,t,r,i,o,s,a){return Pe(t).pipe(Pr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Nr(l=>{if(l instanceof ic)return J(null);throw l}))),Qn(u=>!!u),Nr(u=>{if(DC(u))return A2(r,i,o)?J(new Dy):ns(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return gn(r)!==s&&(s===se||!Wd(i,o,r))?ns(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):ns(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=SC(t,i,o);if(!u)return ns(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>M2&&(this.allowRedirects=!1));let y=new Fi(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,eC(i),gn(i),i.component??i._loadedComponent??null,i,tC(i)),T=$d(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Ze(R=>this.processSegment(e,r,t,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=w2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(jt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(jt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,T=new Fi(m,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,eC(r),gn(r),r.component??r._loadedComponent??null,r,tC(r)),M=$d(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(M.params),T.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:V}=XD(t,m,y,l);if(V.length===0&&R.hasChildren())return this.processChildren(h,l,R,T).pipe(ie(q=>new Bt(T,q)));if(l.length===0&&V.length===0)return J(new Bt(T,[]));let Y=gn(r)===o;return this.processSegment(h,l,R,V,Y?se:o,!0,T).pipe(ie(q=>new Bt(T,q instanceof Bt?[q]:[])))}))):ns(t)))}getChildConfig(e,t,r){return t.children?J({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?J({routes:t._loadedRoutes,injector:t._loadedInjector}):v2(e,t,r,this.urlSerializer).pipe(Ze(i=>i?this.configLoader.loadChildren(e,t).pipe(ut(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):I2(t))):J({routes:[],injector:e})}};function N2(n){n.sort((e,t)=>e.value.outlet===se?-1:t.value.outlet===se?1:e.value.outlet.localeCompare(t.value.outlet))}function P2(n){let e=n.value.routeConfig;return e&&e.path===""}function AC(n){let e=[],t=new Set;for(let r of n){if(!P2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=AC(r.children);e.push(new Bt(r.value,i))}return e.filter(r=>!t.has(r))}function eC(n){return n.data||{}}function tC(n){return n.resolve||{}}function x2(n,e,t,r,i,o){return Ze(s=>R2(n,e,t,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:u})=>ce(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function k2(n,e){return Ze(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return J(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of RC(u))s.add(l);let a=0;return Pe(s).pipe(Pr(u=>o.has(u)?O2(u,r,n,e):(u.data=$d(u,u.parent,n).resolve,J(void 0))),ut(()=>a++),So(1),Ze(u=>a===s.size?J(t):Rt))})}function RC(n){let e=n.children.map(t=>RC(t)).flat();return[n,...e]}function O2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!EC(i)&&(o[sc]=i.title),F2(o,n,e,r).pipe(ie(s=>(n._resolvedData=s,n.data=$d(n,n.parent,t).resolve,null)))}function F2(n,e,t,r){let i=py(n);if(i.length===0)return J({});let o={};return Pe(i).pipe(Ze(s=>L2(n[s],e,t,r).pipe(Qn(),ut(a=>{if(a instanceof us)throw Hd(new Vi,a);o[s]=a}))),So(1),ie(()=>o),Nr(s=>DC(s)?Rt:Do(s)))}function L2(n,e,t,r){let i=cc(e)??r,o=hs(n,i),s=o.resolve?o.resolve(e,t):lt(i,()=>o(e,t));return zr(s)}function hy(n){return jt(e=>{let t=n(e);return t?Pe(t).pipe(ie(()=>e)):J(e)})}var My=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(t){return t.data[sc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>x(MC),providedIn:"root"})}return n})(),MC=(()=>{class n extends My{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(X(KD))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dc=new B("",{providedIn:"root",factory:()=>({})}),hc=new B(""),NC=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(hD);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return J(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=zr(t.loadComponent()).pipe(ie(xC),ut(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),_i(()=>{this.componentLoaders.delete(t)})),i=new Io(r,()=>new Je).pipe(Eo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return J({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=PC(r,this.compiler,t,this.onLoadEndListener).pipe(_i(()=>{this.childrenLoaders.delete(r)})),s=new Io(o,()=>new Je).pipe(Eo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PC(n,e,t,r){return zr(n.loadChildren()).pipe(ie(xC),Ze(i=>i instanceof zm||Array.isArray(i)?J(i):Pe(e.compileModuleAsync(i))),ie(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(hc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ry),injector:o}}))}function V2(n){return n&&typeof n=="object"&&"default"in n}function xC(n){return V2(n)?n.default:n}var Kd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>x(j2),providedIn:"root"})}return n})(),j2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kC=new B("");var OC=new B(""),FC=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Je;transitionAbortSubject=new Je;configLoader=x(NC);environmentInjector=x(_t);destroyRef=x(Ko);urlSerializer=x(ac);rootContexts=x(ds);location=x(Zo);inputBindingEnabled=x(Gd,{optional:!0})!==null;titleStrategy=x(My);options=x(dc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(Kd);createViewTransition=x(kC,{optional:!0});navigationErrorHandler=x(OC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>J(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new kd(i)),r=i=>this.events.next(new Od(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ce(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new ct(null),this.transitions.pipe(Nt(r=>r!==null),jt(r=>{let i=!1,o=!1;return J(r).pipe(jt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",kt.SupersededByNewNavigation),Rt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ce(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new dr(s.id,this.urlSerializer.serialize(s.rawUrl),l,Za.IgnoredSameUrlNavigation)),s.resolve(!1),Rt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return J(s).pipe(jt(l=>(this.events.next(new ji(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Rt:Promise.resolve(l))),x2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ut(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ce(L({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Xa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:m,extras:y}=s,T=new ji(l,this.urlSerializer.serialize(h),p,m);this.events.next(T);let M=vC(this.rootComponentType).snapshot;return this.currentTransition=r=ce(L({},s),{targetSnapshot:M,urlAfterRedirects:h,extras:ce(L({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,J(r)}else{let l="";return this.events.next(new dr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Za.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Rt}}),ut(s=>{let a=new Md(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ie(s=>(this.currentTransition=r=ce(L({},s),{guards:XV(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),l2(this.environmentInjector,s=>this.events.next(s)),ut(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Hd(this.urlSerializer,s.guardsResult);let a=new Nd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Nt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",kt.GuardRejected),!1)),hy(s=>{if(s.guards.canActivateChecks.length!==0)return J(s).pipe(ut(a=>{let u=new Pd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),jt(a=>{let u=!1;return J(a).pipe(k2(this.paramsInheritanceStrategy,this.environmentInjector),ut({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",kt.NoDataFromResolver)}}))}),ut(a=>{let u=new xd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),hy(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(ut(h=>{u.component=h}),ie(()=>{})));for(let h of u.children)l.push(...a(h));return l};return Qu(a(s.targetSnapshot.root)).pipe(xr(null),Kn(1))}),hy(()=>this.afterPreactivation()),jt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Pe(u).pipe(ie(()=>r)):J(r)}),ie(s=>{let a=KV(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ce(L({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),ut(()=>{this.events.next(new ec)}),ZV(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Kn(1),ut({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new lr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),sg(this.transitionAbortSubject.pipe(ut(s=>{throw s}))),_i(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",kt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Nr(s=>{if(this.destroyed)return r.resolve(!1),Rt;if(o=!0,TC(s))this.events.next(new An(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),JV(s)?this.events.next(new cs(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new as(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=lt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof us){let{message:l,cancellationCode:h}=Hd(this.urlSerializer,u);this.events.next(new An(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new cs(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Rt}))}))}cancelNavigationTransition(t,r,i){let o=new An(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function U2(n){return n!==Sd}var LC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>x(B2),providedIn:"root"})}return n})(),qd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},B2=(()=>{class n extends qd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Hl(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VC=(()=>{class n{urlSerializer=x(ac);options=x(dc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(Zo);urlHandlingStrategy=x(Kd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Rn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Rn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=vC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>x($2),providedIn:"root"})}return n})(),$2=(()=>{class n extends VC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ji?this.updateStateMemento():t instanceof dr?this.commitTransition(r):t instanceof Xa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ec?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof An&&(t.code===kt.GuardRejected||t.code===kt.NoDataFromResolver)?this.restoreHistory(r):t instanceof as?this.restoreHistory(r,!0):t instanceof lr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Hl(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ny(n,e){n.events.pipe(Nt(t=>t instanceof lr||t instanceof An||t instanceof as||t instanceof dr),ie(t=>t instanceof lr||t instanceof dr?0:(t instanceof An?t.code===kt.Redirect||t.code===kt.SupersededByNewNavigation:!1)?2:1),Nt(t=>t!==2),Kn(1)).subscribe(()=>{e()})}var H2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},z2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Qd=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(rD);stateManager=x(VC);options=x(dc,{optional:!0})||{};pendingTasks=x(ir);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(FC);urlSerializer=x(ac);location=x(Zo);urlHandlingStrategy=x(Kd);_events=new Je;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(LC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(hc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(Gd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof An&&r.code!==kt.Redirect&&r.code!==kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof lr)this.navigated=!0;else if(r instanceof cs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||U2(i.source)},s);this.scheduleNavigation(a,Sd,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}G2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ry),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=pC(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return gC(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ss(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Sd,null,r)}navigate(t,r={skipLocationChange:!1}){return q2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},H2):r===!1?i=L({},z2):i=r,ss(t))return QD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return QD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Ny(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function q2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $(4008,!1)}function G2(n){return!(n instanceof ec)&&!(n instanceof cs)}var Q2=new B("");function Py(n,...e){return Ut([{provide:hc,multi:!0,useValue:n},[],{provide:Hr,useFactory:Y2,deps:[Qd]},{provide:qm,multi:!0,useFactory:J2},e.map(t=>t.\u0275providers)])}function Y2(n){return n.routerState.root}function J2(){let n=x(Xe);return e=>{let t=n.get(Ai);if(e!==t.components[0])return;let r=n.get(Qd),i=n.get(Z2);n.get(X2)===1&&r.initialNavigation(),n.get(ej,null,ae.Optional)?.setUpPreloading(),n.get(Q2,null,ae.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Z2=new B("",{factory:()=>new Je}),X2=new B("",{providedIn:"root",factory:()=>1});var ej=new B("");var Yd=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&Z(0,"router-outlet")},dependencies:[ze,uc],encapsulation:2})};var jC=()=>{};var $C=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},nj=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Jd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($C(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):nj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new ky;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ky=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},rj=function(n){let e=$C(n);return Jd.encodeByteArray(e,!0)},pc=function(n){return rj(n).replace(/\./g,"")},Zd=function(n){try{return Jd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Fy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ij=()=>Fy().__FIREBASE_DEFAULTS__,oj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Zd(n[1]);return e&&JSON.parse(e)},Xd=()=>{try{return jC()||ij()||oj()||sj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ly=n=>{var e,t;return(t=(e=Xd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},HC=n=>{let e=Ly(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Vy=()=>{var n;return(n=Xd())===null||n===void 0?void 0:n.config},jy=n=>{var e;return(e=Xd())===null||e===void 0?void 0:e[`_${n}`]};var Ui=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function qr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function eh(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function zC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[pc(JSON.stringify(t)),pc(JSON.stringify(s)),""].join(".")}var fc={};function aj(){let n={prod:[],emulator:[]};for(let e of Object.keys(fc))fc[e]?n.emulator.push(e):n.prod.push(e);return n}function cj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var UC=!1;function th(n,e){if(typeof window>"u"||typeof document>"u"||!qr(window.location.host)||fc[n]===e||fc[n]||UC)return;fc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=aj().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{UC=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=cj(r),y=t("text"),T=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),R=document.getElementById(M)||document.createElement("a"),V=t("preprendIcon"),Y=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let q=m.element;a(q),h(R,M);let Ie=l();u(Y,V),q.append(Y,T,R,Ie),document.body.appendChild(q)}o?(T.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function uj(){var n;let e=(n=Xd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nh(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KC(){let n=rt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QC(){return!uj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bi(){try{return typeof indexedDB=="object"}catch{return!1}}function rh(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function YC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var lj="FirebaseError",ht=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=lj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,At.prototype.create)}},At=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?dj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ht(i,a,r)}};function dj(n,e){return n.replace(hj,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var hj=/\{\$([^}]+)}/g;function JC(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zt(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(BC(o)&&BC(s)){if(!Zt(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function BC(n){return n!==null&&typeof n=="object"}function gc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ZC(n,e){let t=new Oy(n,e);return t.subscribe.bind(t)}var Oy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");fj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=xy),i.error===void 0&&(i.error=xy),i.complete===void 0&&(i.complete=xy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function fj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xy(){}var pj=1e3,gj=2,mj=4*60*60*1e3,yj=.5;function ih(n,e=pj,t=gj){let r=e*Math.pow(t,n),i=Math.round(yj*r*(Math.random()-.5)*2);return Math.min(mj,r+i)}function qe(n){return n&&n._delegate?n._delegate:n}var Ue=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var $i="[DEFAULT]";var Uy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ui;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_j(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function vj(n){return n===$i?void 0:n}function _j(n){return n.instantiationMode==="EAGER"}var oh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Uy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Ej=[],he=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(he||{}),Ij={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},wj=he.INFO,bj={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},Tj=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=bj[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Xt=class{constructor(e){this.name=e,this._logLevel=wj,this._logHandler=Tj,this._userLogHandler=null,Ej.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ij[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var Dj=(n,e)=>e.some(t=>n instanceof t),XC,eS;function Cj(){return XC||(XC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sj(){return eS||(eS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var tS=new WeakMap,$y=new WeakMap,nS=new WeakMap,By=new WeakMap,zy=new WeakMap;function Aj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Mn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&tS.set(t,n)}).catch(()=>{}),zy.set(e,n),e}function Rj(n){if($y.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});$y.set(n,e)}var Hy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $y.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function rS(n){Hy=n(Hy)}function Mj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(sh(this),e,...t);return nS.set(r,e.sort?e.sort():[e]),Mn(r)}:Sj().includes(n)?function(...e){return n.apply(sh(this),e),Mn(tS.get(this))}:function(...e){return Mn(n.apply(sh(this),e))}}function Nj(n){return typeof n=="function"?Mj(n):(n instanceof IDBTransaction&&Rj(n),Dj(n,Cj())?new Proxy(n,Hy):n)}function Mn(n){if(n instanceof IDBRequest)return Aj(n);if(By.has(n))return By.get(n);let e=Nj(n);return e!==n&&(By.set(n,e),zy.set(e,n)),e}var sh=n=>zy.get(n);function ah(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Mn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Mn(s.result),u.oldVersion,u.newVersion,Mn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Pj=["get","getKey","getAll","getAllKeys","count"],xj=["put","add","delete","clear"],qy=new Map;function iS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(qy.get(e))return qy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=xj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Pj.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return qy.set(e,o),o}rS(n=>ce(L({},n),{get:(e,t,r)=>iS(e,t)||n.get(e,t,r),has:(e,t)=>!!iS(e,t)||n.has(e,t)}));var Wy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function kj(n){let e=n.getComponent();return e?.type==="VERSION"}var Ky="@firebase/app",oS="0.13.2";var hr=new Xt("@firebase/app"),Oj="@firebase/app-compat",Fj="@firebase/analytics-compat",Lj="@firebase/analytics",Vj="@firebase/app-check-compat",jj="@firebase/app-check",Uj="@firebase/auth",Bj="@firebase/auth-compat",$j="@firebase/database",Hj="@firebase/data-connect",zj="@firebase/database-compat",qj="@firebase/functions",Gj="@firebase/functions-compat",Wj="@firebase/installations",Kj="@firebase/installations-compat",Qj="@firebase/messaging",Yj="@firebase/messaging-compat",Jj="@firebase/performance",Zj="@firebase/performance-compat",Xj="@firebase/remote-config",eU="@firebase/remote-config-compat",tU="@firebase/storage",nU="@firebase/storage-compat",rU="@firebase/firestore",iU="@firebase/ai",oU="@firebase/firestore-compat",sU="firebase",aU="11.10.0";var Qy="[DEFAULT]",cU={[Ky]:"fire-core",[Oj]:"fire-core-compat",[Lj]:"fire-analytics",[Fj]:"fire-analytics-compat",[jj]:"fire-app-check",[Vj]:"fire-app-check-compat",[Uj]:"fire-auth",[Bj]:"fire-auth-compat",[$j]:"fire-rtdb",[Hj]:"fire-data-connect",[zj]:"fire-rtdb-compat",[qj]:"fire-fn",[Gj]:"fire-fn-compat",[Wj]:"fire-iid",[Kj]:"fire-iid-compat",[Qj]:"fire-fcm",[Yj]:"fire-fcm-compat",[Jj]:"fire-perf",[Zj]:"fire-perf-compat",[Xj]:"fire-rc",[eU]:"fire-rc-compat",[tU]:"fire-gcs",[nU]:"fire-gcs-compat",[rU]:"fire-fst",[oU]:"fire-fst-compat",[iU]:"fire-vertex","fire-js":"fire-js",[sU]:"fire-js-all"};var mc=new Map,uU=new Map,Yy=new Map;function sS(n,e){try{n.container.addComponent(e)}catch(t){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ft(n){let e=n.name;if(Yy.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;Yy.set(e,n);for(let t of mc.values())sS(t,n);for(let t of uU.values())sS(t,n);return!0}function en(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function tn(n){return n==null?!1:n.settings!==void 0}var lU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new At("app","Firebase",lU);var Jy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ue("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}};var Wr=aU;function ev(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Qy,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(t||(t=Vy()),!t)throw Gr.create("no-options");let o=mc.get(i);if(o){if(Zt(t,o.options)&&Zt(r,o.config))return o;throw Gr.create("duplicate-app",{appName:i})}let s=new oh(i);for(let u of Yy.values())s.addComponent(u);let a=new Jy(t,r,s);return mc.set(i,a),a}function Nn(n=Qy){let e=mc.get(n);if(!e&&n===Qy&&Vy())return ev();if(!e)throw Gr.create("no-app",{appName:n});return e}function ch(){return Array.from(mc.values())}function Ce(n,e,t){var r;let i=(r=cU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(a.join(" "));return}ft(new Ue(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var dU="firebase-heartbeat-database",hU=1,yc="firebase-heartbeat-store",Gy=null;function lS(){return Gy||(Gy=ah(dU,hU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Gr.create("idb-open",{originalErrorMessage:n.message})})),Gy}function fU(n){return v(this,null,function*(){try{let t=(yield lS()).transaction(yc),r=yield t.objectStore(yc).get(dS(n));return yield t.done,r}catch(e){if(e instanceof ht)hr.warn(e.message);else{let t=Gr.create("idb-get",{originalErrorMessage:e?.message});hr.warn(t.message)}}})}function aS(n,e){return v(this,null,function*(){try{let r=(yield lS()).transaction(yc,"readwrite");yield r.objectStore(yc).put(e,dS(n)),yield r.done}catch(t){if(t instanceof ht)hr.warn(t.message);else{let r=Gr.create("idb-set",{originalErrorMessage:t?.message});hr.warn(r.message)}}})}function dS(n){return`${n.name}!${n.options.appId}`}var pU=1024,gU=30,Zy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Xy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=cS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>gU){let s=yU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=cS(),{heartbeatsToSend:r,unsentEntries:i}=mU(this._heartbeatsCache.heartbeats),o=pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return hr.warn(t),""}})}};function cS(){return new Date().toISOString().substring(0,10)}function mU(n,e=pU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),uS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),uS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Xy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Bi()?rh().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield fU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return aS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return aS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function uS(n){return pc(JSON.stringify({version:2,heartbeats:n})).length}function yU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function vU(n){ft(new Ue("platform-logger",e=>new Wy(e),"PRIVATE")),ft(new Ue("heartbeat",e=>new Zy(e),"PRIVATE")),Ce(Ky,oS,n),Ce(Ky,oS,"esm2017"),Ce("fire-js","")}vU("");var _U="firebase",EU="11.10.0";Ce(_U,EU,"app");function tv(n){n===void 0&&(D0(tv),n=x(Xe));let e=n.get(zl);return t=>new ue(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Pn=new zo("ANGULARFIRE2_VERSION");function zi(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Kr=(n,e)=>{let t=e?[e]:ch(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},fs=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(fs||{}),hS=Km()&&typeof Zone<"u"?fs.WARN:fs.SILENT;var uh=class{zone;delegate;constructor(e,t=tg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},xn=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=x(be);this.outsideAngular=t.runOutsideAngular(()=>new uh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new uh(typeof Zone>"u"?void 0:Zone.current,eg))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fS=!1;function IU(n,e){!fS&&(hS>fs.SILENT||Km())&&(fS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),hS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function wU(n){let e=x(be,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Hi(n){let e=x(be,{optional:!0});return e?e.run(()=>n()):n()}var bU=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),lt(t,()=>Hi(()=>n.apply(void 0,r)))),Ot=(n,e,t)=>(t||=e?fs.WARN:fs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(xn),s=x(zl),a=x(_t)}catch{return IU(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Hi(()=>s.add())),i[l]=bU(i[l],r,a));let u=wU(()=>n.apply(this,i));return e?u instanceof ue?u.pipe(Mr(o.outsideAngular),Rr(o.insideAngular),tv(a)):u instanceof Promise?Hi(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>lt(a,()=>Hi(()=>l(p))),p=>lt(a,()=>Hi(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Hi(()=>u):u instanceof ue?u.pipe(Mr(o.outsideAngular),Rr(o.insideAngular)):Hi(()=>u)});var mn=class{constructor(e){return e}},fr=class{constructor(){return ch()}};function TU(n){return n&&n.length===1?n[0]:new mn(Nn())}var nv=new B("angularfire2._apps"),DU={provide:mn,useFactory:TU,deps:[[new It,nv]]},CU={provide:fr,deps:[[new It,nv]]};function SU(n){return(e,t)=>{let r=t.get(Tn);Ce("angularfire",Pn.full,"core"),Ce("angularfire",Pn.full,"app"),Ce("angular",dD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new mn(i)}}function pS(n,...e){return Ut([DU,CU,{provide:nv,useFactory:SU(n),multi:!0,deps:[be,Xe,xn,...e]}])}var gS=Ot(ev,!0);var AU=new Map,RU={activated:!1,tokenObservers:[]},MU={initialized:!1,enabled:!1};function yn(n){return AU.get(n)||Object.assign({},RU)}function _S(){return MU}var NU="https://content-firebaseappcheck.googleapis.com/v1";var PU="exchangeDebugToken",mS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},xZ=24*60*60*1e3;var ov=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new Ui,this.pending.promise.catch(t=>{}),yield xU(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ui,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function xU(n){return new Promise(e=>{setTimeout(e,n)})}var kU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Qr=new At("appCheck","AppCheck",kU);function ES(n){if(!yn(n).activated)throw Qr.create("use-before-activation",{appName:n.name})}function IS(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw Qr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Qr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Qr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Qr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function wS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${NU}/projects/${t}/apps/${r}:${PU}?key=${i}`,body:{debug_token:e}}}var OU="firebase-app-check-database",FU=1,sv="firebase-app-check-store";var lh=null;function LU(){return lh||(lh=new Promise((n,e)=>{try{let t=indexedDB.open(OU,FU);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Qr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(sv,{keyPath:"compositeKey"})}}}catch(t){e(Qr.create("storage-open",{originalErrorMessage:t?.message}))}}),lh)}function VU(n,e){return jU(UU(n),e)}function jU(n,e){return v(this,null,function*(){let r=(yield LU()).transaction(sv,"readwrite"),o=r.objectStore(sv).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Qr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function UU(n){return`${n.options.appId}-${n.name}`}var vc=new Xt("@firebase/app-check");function rv(n,e){return Bi()?VU(n,e).catch(t=>{vc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function bS(){return _S().enabled}function TS(){return v(this,null,function*(){let n=_S();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var BU={error:"UNKNOWN_ERROR"};function $U(n){return Jd.encodeString(JSON.stringify(n),!1)}function av(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;ES(r);let i=yn(r),o=i.token,s;if(o&&!_c(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(_c(l)?o=l:yield rv(r,void 0))}if(!e&&o&&_c(o))return{token:o.token};let a=!1;if(bS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=IS(wS(r,yield TS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield rv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?vc.warn(l.message):t&&vc.error(l),iv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield yn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?vc.warn(l.message):t&&vc.error(l),s=l}let u;return o?s?_c(o)?u={token:o.token,internalError:s}:u=iv(s):(u={token:o.token},i.token=o,yield rv(r,o)):u=iv(s),a&&GU(r,u),u})}function HU(n){return v(this,null,function*(){let e=n.app;ES(e);let{provider:t}=yn(e);if(bS()){let r=yield TS(),{token:i}=yield IS(wS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function zU(n,e,t,r){let{app:i}=n,o=yn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&_c(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),yS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>yS(n))}function DS(n,e){let t=yn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function yS(n){let{app:e}=n,t=yn(e),r=t.tokenRefresher;r||(r=qU(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function qU(n){let{app:e}=n;return new ov(()=>v(null,null,function*(){let t=yn(e),r;if(t.token?r=yield av(n,!0):r=yield av(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=yn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},mS.RETRIAL_MIN_WAIT,mS.RETRIAL_MAX_WAIT)}function GU(n,e){let t=yn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function _c(n){return n.expireTimeMillis-Date.now()>0}function iv(n){return{token:$U(BU),error:n}}var cv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=yn(this.app);for(let t of e)DS(this.app,t.next);return Promise.resolve()}};function WU(n,e){return new cv(n,e)}function KU(n){return{getToken:e=>av(n,e),getLimitedUseToken:()=>HU(n),addTokenListener:e=>zU(n,"INTERNAL",e),removeTokenListener:e=>DS(n.app,e)}}var QU="@firebase/app-check",YU="0.10.1";var JU="app-check",vS="app-check-internal";function ZU(){ft(new Ue(JU,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return WU(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(vS).initialize()})),ft(new Ue(vS,n=>{let e=n.getProvider("app-check").getImmediate();return KU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ce(QU,YU)}ZU();var XU="app-check";var ps=class{constructor(){return Kr(XU)}};var eB=["localhost","0.0.0.0","127.0.0.1"],GZ=typeof window<"u"&&eB.includes(window.location.hostname);function US(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var BS=US,$S=new At("auth","Firebase",US());var mh=new Xt("@firebase/auth");function tB(n,...e){mh.logLevel<=he.WARN&&mh.warn(`Auth (${Wr}): ${n}`,...e)}function hh(n,...e){mh.logLevel<=he.ERROR&&mh.error(`Auth (${Wr}): ${n}`,...e)}function Zr(n,...e){throw Av(n,...e)}function Gi(n,...e){return Av(n,...e)}function HS(n,e,t){let r=Object.assign(Object.assign({},BS()),{[e]:t});return new At("auth","Firebase",r).create(e,{appName:n.name})}function qi(n){return HS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Av(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return $S.create(n,...e)}function ee(n,e,...t){if(!n)throw Av(e,...t)}function pr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw hh(e),new Error(e)}function Xr(n,e){n||pr(e)}function hv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function nB(){return CS()==="http:"||CS()==="https:"}function CS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function rB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nB()||nh()||"connection"in navigator)?navigator.onLine:!0}function iB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Wi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xr(t>e,"Short delay should be less than long delay!"),this.isMobile=qC()||WC()}get(){return rB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Rv(n,e){Xr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var yh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var oB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var sB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aB=new Wi(3e4,6e4);function Mv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function gs(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){return zS(n,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=gc(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return GC()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&qr(n.emulatorConfig.host)&&(y.credentials="include"),yh.fetch()(yield qS(n,n.config.apiHost,t,p),y)}))})}function zS(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},oB),e);try{let i=new fv(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw dh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw dh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw dh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw HS(n,h,l);Zr(n,h)}}catch(i){if(i instanceof ht)throw i;Zr(n,"network-request-failed",{message:String(i)})}})}function cB(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield gs(n,e,t,r,i);return"mfaPendingCredential"in l&&Zr(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function qS(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Rv(n.config,i):`${n.config.apiScheme}://${i}`;return sB.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var fv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Gi(this.auth,"network-request-failed")),aB.get())})}};function dh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Gi(n,e,r);return i.customData._tokenResponse=t,i}function uB(n,e){return v(this,null,function*(){return gs(n,"POST","/v1/accounts:delete",e)})}function vh(n,e){return v(this,null,function*(){return gs(n,"POST","/v1/accounts:lookup",e)})}function Ec(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Nv(n,e=!1){return v(this,null,function*(){let t=qe(n),r=yield t.getIdToken(e),i=Pv(r);ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ec(uv(i.auth_time)),issuedAtTime:Ec(uv(i.iat)),expirationTime:Ec(uv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function uv(n){return Number(n)*1e3}function Pv(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Zd(t);return i?JSON.parse(i):(hh("Failed to decode base64 JWT payload"),null)}catch(i){return hh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function SS(n){let e=Pv(n);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function wc(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof ht&&lB(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function lB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var pv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var bc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function _h(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield wc(n,vh(t,{idToken:r}));ee(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?GS(o.providerUserInfo):[],a=dB(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function xv(n){return v(this,null,function*(){let e=qe(n);yield _h(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function dB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GS(n){return n.map(e=>{var{providerId:t}=e,r=ng(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function hB(n,e){return v(this,null,function*(){let t=yield zS(n,{},()=>v(null,null,function*(){let r=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield qS(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&qr(n.emulatorConfig.host)&&(u.credentials="include"),yh.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function fB(n,e){return v(this,null,function*(){return gs(n,"POST","/v2/accounts:revokeToken",Mv(n,e))})}var Ic=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ee(e.length!==0,"internal-error");let t=SS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield hB(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return pr("not implemented")}};function Yr(n,e){ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Jr=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=ng(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield wc(this,this.stsTokenManager.getToken(this.auth,e));return ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Nv(this,e)}reload(){return xv(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield _h(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(tn(this.auth.app))return Promise.reject(qi(this.auth));let e=yield this.getIdToken();return yield wc(this,uB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=t.createdAt)!==null&&l!==void 0?l:void 0,Y=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:Ie,isAnonymous:st,providerData:we,stsTokenManager:b}=t;ee(q&&b,e,"internal-error");let _=Ic.fromJSON(this.name,b);ee(typeof q=="string",e,"internal-error"),Yr(p,e.name),Yr(m,e.name),ee(typeof Ie=="boolean",e,"internal-error"),ee(typeof st=="boolean",e,"internal-error"),Yr(y,e.name),Yr(T,e.name),Yr(M,e.name),Yr(R,e.name),Yr(V,e.name),Yr(Y,e.name);let I=new n({uid:q,auth:e,email:m,emailVerified:Ie,displayName:p,isAnonymous:st,photoURL:T,phoneNumber:y,tenantId:M,stsTokenManager:_,createdAt:V,lastLoginAt:Y});return we&&Array.isArray(we)&&(I.providerData=we.map(w=>Object.assign({},w))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new Ic;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield _h(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];ee(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?GS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ic;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var AS=new Map;function gr(n){Xr(n instanceof Function,"Expected a class definition");let e=AS.get(n);return e?(Xr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,AS.set(n,e),e)}var pB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),gv=pB;function fh(n,e,t){return`firebase:${n}:${e}:${t}`}var Eh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=fh(this.userKey,i.apiKey,o),this.fullPersistenceKey=fh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield vh(this.auth,{idToken:e}).catch(()=>{});return t?Jr._fromGetAccountInfoResponse(this.auth,t,e):null}return Jr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(gr(gv),e,r);let i=(yield Promise.all(t.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||gr(gv),s=fh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield vh(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Jr._fromGetAccountInfoResponse(e,m,h)}else p=Jr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function RS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZS(e))return"Blackberry";if(XS(e))return"Webos";if(KS(e))return"Safari";if((e.includes("chrome/")||QS(e))&&!e.includes("edge/"))return"Chrome";if(JS(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function WS(n=rt()){return/firefox\//i.test(n)}function KS(n=rt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QS(n=rt()){return/crios\//i.test(n)}function YS(n=rt()){return/iemobile/i.test(n)}function JS(n=rt()){return/android/i.test(n)}function ZS(n=rt()){return/blackberry/i.test(n)}function XS(n=rt()){return/webos/i.test(n)}function kv(n=rt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gB(n=rt()){var e;return kv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mB(){return KC()&&document.documentMode===10}function eA(n=rt()){return kv(n)||JS(n)||XS(n)||ZS(n)||/windows phone/i.test(n)||YS(n)}function tA(n,e=[]){let t;switch(n){case"Browser":t=RS(rt());break;case"Worker":t=`${RS(rt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wr}/${r}`}var mv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function yB(t){return v(this,arguments,function*(n,e={}){return gs(n,"GET","/v2/passwordPolicy",Mv(n,e))})}var vB=6,yv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:vB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var vv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ih(this),this.idTokenSubscription=new Ih(this),this.beforeStateQueue=new mv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gr(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Eh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield vh(this,{idToken:e}),r=yield Jr._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(tn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield _h(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=iB()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(tn(this.app))return Promise.reject(qi(this));let t=e?qe(e):null;return t&&ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return tn(this.app)?Promise.reject(qi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return tn(this.app)?Promise.reject(qi(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(gr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield yB(this),t=new yv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new At("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield fB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&gr(e)||this._popupRedirectResolver;ee(t,this,"argument-error"),this.redirectPersistenceManager=yield Eh.create(this,[gr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&tB(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ov(n){return qe(n)}var Ih=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZC(t=>this.observer=t)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Fv={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _B(n){Fv=n}function EB(n){return Fv.loadJS(n)}function IB(){return Fv.gapiScript}function nA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Lv(n,e){let t=en(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Zt(o,e??{}))return i;Zr(i,"already-initialized")}return t.initialize({options:e})}function wB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(gr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Vv(n,e,t){let r=Ov(n);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=rA(e),{host:s,port:a}=bB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Zt(l,r.config.emulator)&&Zt(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,qr(s)?(eh(`${o}//${s}${u}`),th("Auth",!0)):i||TB()}function rA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function bB(n){let e=rA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:MS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:MS(s)}}}function MS(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function TB(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var wh=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,t){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}};function lv(n,e){return v(this,null,function*(){return cB(n,"POST","/v1/accounts:signInWithIdp",Mv(n,e))})}var bh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var _v=class extends bh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Tc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield Jr._fromIdTokenResponse(e,r,i),s=NS(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=NS(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function NS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Ev=class n extends ht{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function iA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ev._fromErrorAndOperation(n,o,e,r):o})}function DB(n,e,t=!1){return v(this,null,function*(){let r=yield wc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Tc._forOperation(n,"link",r)})}function CB(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(tn(r.app))return Promise.reject(qi(r));let i="reauthenticate";try{let o=yield wc(n,iA(r,i,e,n),t);ee(o.idToken,r,"internal-error");let s=Pv(o.idToken);ee(s,r,"internal-error");let{sub:a}=s;return ee(n.uid===a,r,"user-mismatch"),Tc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Zr(r,"user-mismatch"),o}})}function SB(n,e,t=!1){return v(this,null,function*(){if(tn(n.app))return Promise.reject(qi(n));let r="signIn",i=yield iA(n,r,e),o=yield Tc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function jv(n,e,t,r){return qe(n).onIdTokenChanged(e,t,r)}function Uv(n,e,t){return qe(n).beforeAuthStateChanged(e,t)}var Th="__sak";var Dh=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var AB=1e3,RB=10,MB=(()=>{class n extends Dh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);mB()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,RB):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},AB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield Sr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield Sr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield Sr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),oA=MB;var NB=(()=>{class n extends Dh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Bv=NB;function PB(n){return Promise.all(n.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var xB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield PB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function sA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Iv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=sA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function kn(){return window}function kB(n){kn().location.href=n}function aA(){return typeof kn().WorkerGlobalScope<"u"&&typeof kn().importScripts=="function"}function OB(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function FB(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function LB(){return aA()?self:null}var cA="firebaseLocalStorageDb",VB=1,Ch="firebaseLocalStorage",uA="fbase_key",Ki=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Ah(n,e){return n.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function jB(){let n=indexedDB.deleteDatabase(cA);return new Ki(n).toPromise()}function wv(){let n=indexedDB.open(cA,VB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Ch,{keyPath:uA})}catch(i){t(i)}}),n.addEventListener("success",()=>v(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Ch)?e(r):(r.close(),yield jB(),e(yield wv()))}))})}function PS(n,e,t){return v(this,null,function*(){let r=Ah(n,!0).put({[uA]:e,value:t});return new Ki(r).toPromise()})}function UB(n,e){return v(this,null,function*(){let t=Ah(n,!1).get(e),r=yield new Ki(t).toPromise();return r===void 0?null:r.value})}function xS(n,e){let t=Ah(n,!0).delete(e);return new Ki(t).toPromise()}var BB=800,$B=3,HB=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield wv(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>$B)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return aA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=xB._getInstance(LB()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield OB(),!this.activeServiceWorker)return;this.sender=new Iv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||FB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield wv();return yield PS(t,Th,"1"),yield xS(t,Th),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>PS(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>UB(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>xS(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=Ah(o,!1).getAll();return new Ki(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),BB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),lA=HB;var nX=nA("rcb"),rX=new Wi(3e4,6e4);function zB(n,e){return e?gr(e):(ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Dc=class extends wh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return lv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return lv(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function qB(n){return SB(n.auth,new Dc(n),n.bypassAuthState)}function GB(n){let{auth:e,user:t}=n;return ee(t,e,"internal-error"),CB(t,new Dc(n),n.bypassAuthState)}function WB(n){return v(this,null,function*(){let{auth:e,user:t}=n;return ee(t,e,"internal-error"),DB(t,new Dc(n),n.bypassAuthState)})}var bv=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qB;case"linkViaPopup":case"linkViaRedirect":return WB;case"reauthViaPopup":case"reauthViaRedirect":return GB;default:Zr(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var iX=new Wi(2e3,1e4);var KB="pendingRedirect",ph=new Map,Tv=class n extends bv{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=ph.get(this.auth._key());if(!e){try{let r=(yield QB(this.resolver,this.auth))?yield Sr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Sr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Sr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function QB(n,e){return v(this,null,function*(){let t=ZB(e),r=JB(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function YB(n,e){ph.set(n._key(),e)}function JB(n){return gr(n._redirectPersistence)}function ZB(n){return fh(KB,n.config.apiKey,n.name)}function XB(n,e,t=!1){return v(this,null,function*(){if(tn(n.app))return Promise.reject(qi(n));let r=Ov(n),i=zB(r,e),s=yield new Tv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var e$=10*60*1e3,Dv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!dA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Gi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e$&&this.cachedEventUids.clear(),this.cachedEventUids.has(kS(e))}saveEventToCache(e){this.cachedEventUids.add(kS(e)),this.lastProcessedEventTime=Date.now()}};function kS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function dA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function t$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dA(n);default:return!1}}function n$(t){return v(this,arguments,function*(n,e={}){return gs(n,"GET","/v1/projects",e)})}var r$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i$=/^https?/;function o$(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield n$(n);for(let t of e)try{if(s$(t))return}catch{}Zr(n,"unauthorized-domain")})}function s$(n){let e=hv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!i$.test(t))return!1;if(r$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var a$=new Wi(3e4,6e4);function OS(){let n=kn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function c$(n){return new Promise((e,t)=>{var r,i,o;function s(){OS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OS(),t(Gi(n,"network-request-failed"))},timeout:a$.get()})}if(!((i=(r=kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=kn().gapi)===null||o===void 0)&&o.load)s();else{let a=nA("iframefcb");return kn()[a]=()=>{gapi.load?s():t(Gi(n,"network-request-failed"))},EB(`${IB()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw gh=null,e})}var gh=null;function u$(n){return gh=gh||c$(n),gh}var l$=new Wi(5e3,15e3),d$="__/auth/iframe",h$="emulator/auth/iframe",f$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g$(n){let e=n.config;ee(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Rv(e,h$):`https://${n.config.authDomain}/${d$}`,r={apiKey:e.apiKey,appName:n.name,v:Wr},i=p$.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${gc(r).slice(1)}`}function m$(n){return v(this,null,function*(){let e=yield u$(n),t=kn().gapi;return ee(t,n,"internal-error"),e.open({where:document.body,url:g$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f$,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Gi(n,"network-request-failed"),a=kn().setTimeout(()=>{o(s)},l$.get());function u(){kn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var y$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v$=500,_$=600,E$="_blank",I$="http://localhost",Sh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function w$(n,e,t,r=v$,i=_$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},y$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=rt().toLowerCase();t&&(a=QS(l)?E$:t),WS(l)&&(e=e||I$,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(gB(l)&&a!=="_self")return b$(e||"",a),new Sh(null);let p=window.open(e||"",a,h);ee(p,n,"popup-blocked");try{p.focus()}catch{}return new Sh(p)}function b$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var T$="__/auth/handler",D$="emulator/auth/handler",C$=encodeURIComponent("fac");function FS(n,e,t,r,i,o){return v(this,null,function*(){ee(n.config.authDomain,n,"auth-domain-config-required"),ee(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Wr,eventId:i};if(e instanceof bh){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",JC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof _v){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${C$}=${encodeURIComponent(u)}`:"";return`${S$(n)}?${gc(a).slice(1)}${l}`})}function S$({config:n}){return n.emulator?Rv(n,D$):`https://${n.authDomain}/${T$}`}var dv="webStorageSupport",Cv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bv,this._completeRedirectFn=XB,this._overrideRedirectResult=YB}_openPopup(e,t,r,i){return v(this,null,function*(){var o;Xr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield FS(e,t,r,hv(),i);return w$(e,s,sA())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield FS(e,t,r,hv(),i);return kB(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Xr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield m$(e),r=new Dv(e);return t.register("authEvent",i=>(ee(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dv,{type:dv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[dv];s!==void 0&&t(!!s),Zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=o$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eA()||KS()||kv()}},hA=Cv;var LS="@firebase/auth",VS="1.10.8";var Sv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function A$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R$(n){ft(new Ue("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tA(n)},l=new vv(r,i,o,u);return wB(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ft(new Ue("auth-internal",e=>{let t=Ov(e.getProvider("auth").getImmediate());return(r=>new Sv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ce(LS,VS,A$(n)),Ce(LS,VS,"esm2017")}var M$=5*60,N$=jy("authIdTokenMaxAge")||M$,jS=null,P$=n=>e=>v(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>N$)return;let i=t?.token;jS!==i&&(jS=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function $v(n=Nn()){let e=en(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Lv(n,{popupRedirectResolver:hA,persistence:[lA,oA,Bv]}),r=jy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=P$(o.toString());Uv(t,s,()=>s(t.currentUser)),jv(t,a=>s(a))}}let i=Ly("auth");return i&&Vv(t,`http://${i}`),t}function x$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_B({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Gi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",x$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R$("Browser");var fA="auth",Cc=class{constructor(e){return e}},Sc=class{constructor(){return Kr(fA)}};var Hv=new B("angularfire2.auth-instances");function CH(n,e){let t=zi(fA,n,e);return t&&new Cc(t)}function SH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Cc(r)}}var AH={provide:Sc,deps:[[new It,Hv]]},RH={provide:Cc,useFactory:CH,deps:[[new It,Hv],mn]};function pA(n,...e){return Ce("angularfire",Pn.full,"auth"),Ut([RH,AH,{provide:Hv,useFactory:SH(n),multi:!0,deps:[be,Xe,xn,fr,[new It,ps],...e]}])}var gA=Ot($v,!0);var mA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yA={};var mr,zv;(function(){var n;function e(b,_){function I(){}I.prototype=_.prototype,b.D=_.prototype,b.prototype=new I,b.prototype.constructor=b,b.C=function(w,D,S){for(var E=Array(arguments.length-2),Hn=2;Hn<arguments.length;Hn++)E[Hn-2]=arguments[Hn];return _.prototype[D].apply(w,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,_,I){I||(I=0);var w=Array(16);if(typeof _=="string")for(var D=0;16>D;++D)w[D]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(D=0;16>D;++D)w[D]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=b.g[0],I=b.g[1],D=b.g[2];var S=b.g[3],E=_+(S^I&(D^S))+w[0]+3614090360&4294967295;_=I+(E<<7&4294967295|E>>>25),E=S+(D^_&(I^D))+w[1]+3905402710&4294967295,S=_+(E<<12&4294967295|E>>>20),E=D+(I^S&(_^I))+w[2]+606105819&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(_^D&(S^_))+w[3]+3250441966&4294967295,I=D+(E<<22&4294967295|E>>>10),E=_+(S^I&(D^S))+w[4]+4118548399&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(D^_&(I^D))+w[5]+1200080426&4294967295,S=_+(E<<12&4294967295|E>>>20),E=D+(I^S&(_^I))+w[6]+2821735955&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(_^D&(S^_))+w[7]+4249261313&4294967295,I=D+(E<<22&4294967295|E>>>10),E=_+(S^I&(D^S))+w[8]+1770035416&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(D^_&(I^D))+w[9]+2336552879&4294967295,S=_+(E<<12&4294967295|E>>>20),E=D+(I^S&(_^I))+w[10]+4294925233&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(_^D&(S^_))+w[11]+2304563134&4294967295,I=D+(E<<22&4294967295|E>>>10),E=_+(S^I&(D^S))+w[12]+1804603682&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(D^_&(I^D))+w[13]+4254626195&4294967295,S=_+(E<<12&4294967295|E>>>20),E=D+(I^S&(_^I))+w[14]+2792965006&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(_^D&(S^_))+w[15]+1236535329&4294967295,I=D+(E<<22&4294967295|E>>>10),E=_+(D^S&(I^D))+w[1]+4129170786&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(_^I))+w[6]+3225465664&4294967295,S=_+(E<<9&4294967295|E>>>23),E=D+(_^I&(S^_))+w[11]+643717713&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(D^S))+w[0]+3921069994&4294967295,I=D+(E<<20&4294967295|E>>>12),E=_+(D^S&(I^D))+w[5]+3593408605&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(_^I))+w[10]+38016083&4294967295,S=_+(E<<9&4294967295|E>>>23),E=D+(_^I&(S^_))+w[15]+3634488961&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(D^S))+w[4]+3889429448&4294967295,I=D+(E<<20&4294967295|E>>>12),E=_+(D^S&(I^D))+w[9]+568446438&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(_^I))+w[14]+3275163606&4294967295,S=_+(E<<9&4294967295|E>>>23),E=D+(_^I&(S^_))+w[3]+4107603335&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(D^S))+w[8]+1163531501&4294967295,I=D+(E<<20&4294967295|E>>>12),E=_+(D^S&(I^D))+w[13]+2850285829&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(_^I))+w[2]+4243563512&4294967295,S=_+(E<<9&4294967295|E>>>23),E=D+(_^I&(S^_))+w[7]+1735328473&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(D^S))+w[12]+2368359562&4294967295,I=D+(E<<20&4294967295|E>>>12),E=_+(I^D^S)+w[5]+4294588738&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^D)+w[8]+2272392833&4294967295,S=_+(E<<11&4294967295|E>>>21),E=D+(S^_^I)+w[11]+1839030562&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^_)+w[14]+4259657740&4294967295,I=D+(E<<23&4294967295|E>>>9),E=_+(I^D^S)+w[1]+2763975236&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^D)+w[4]+1272893353&4294967295,S=_+(E<<11&4294967295|E>>>21),E=D+(S^_^I)+w[7]+4139469664&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^_)+w[10]+3200236656&4294967295,I=D+(E<<23&4294967295|E>>>9),E=_+(I^D^S)+w[13]+681279174&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^D)+w[0]+3936430074&4294967295,S=_+(E<<11&4294967295|E>>>21),E=D+(S^_^I)+w[3]+3572445317&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^_)+w[6]+76029189&4294967295,I=D+(E<<23&4294967295|E>>>9),E=_+(I^D^S)+w[9]+3654602809&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^D)+w[12]+3873151461&4294967295,S=_+(E<<11&4294967295|E>>>21),E=D+(S^_^I)+w[15]+530742520&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^_)+w[2]+3299628645&4294967295,I=D+(E<<23&4294967295|E>>>9),E=_+(D^(I|~S))+w[0]+4096336452&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~D))+w[7]+1126891415&4294967295,S=_+(E<<10&4294967295|E>>>22),E=D+(_^(S|~I))+w[14]+2878612391&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~_))+w[5]+4237533241&4294967295,I=D+(E<<21&4294967295|E>>>11),E=_+(D^(I|~S))+w[12]+1700485571&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~D))+w[3]+2399980690&4294967295,S=_+(E<<10&4294967295|E>>>22),E=D+(_^(S|~I))+w[10]+4293915773&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~_))+w[1]+2240044497&4294967295,I=D+(E<<21&4294967295|E>>>11),E=_+(D^(I|~S))+w[8]+1873313359&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~D))+w[15]+4264355552&4294967295,S=_+(E<<10&4294967295|E>>>22),E=D+(_^(S|~I))+w[6]+2734768916&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~_))+w[13]+1309151649&4294967295,I=D+(E<<21&4294967295|E>>>11),E=_+(D^(I|~S))+w[4]+4149444226&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~D))+w[11]+3174756917&4294967295,S=_+(E<<10&4294967295|E>>>22),E=D+(_^(S|~I))+w[2]+718787259&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~_))+w[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(D+(E<<21&4294967295|E>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+S&4294967295}r.prototype.u=function(b,_){_===void 0&&(_=b.length);for(var I=_-this.blockSize,w=this.B,D=this.h,S=0;S<_;){if(D==0)for(;S<=I;)i(this,b,S),S+=this.blockSize;if(typeof b=="string"){for(;S<_;)if(w[D++]=b.charCodeAt(S++),D==this.blockSize){i(this,w),D=0;break}}else for(;S<_;)if(w[D++]=b[S++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=_},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;var I=8*this.o;for(_=b.length-8;_<b.length;++_)b[_]=I&255,I/=256;for(this.u(b),b=Array(16),_=I=0;4>_;++_)for(var w=0;32>w;w+=8)b[I++]=this.g[_]>>>w&255;return b};function o(b,_){var I=a;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=_(b)}function s(b,_){this.h=_;for(var I=[],w=!0,D=b.length-1;0<=D;D--){var S=b[D]|0;w&&S==_||(I[D]=S,w=!1)}this.g=I}var a={};function u(b){return-128<=b&&128>b?o(b,function(_){return new s([_|0],0>_?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return R(l(-b));for(var _=[],I=1,w=0;b>=I;w++)_[w]=b/I|0,I*=4294967296;return new s(_,0)}function h(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return R(h(b.substring(1),_));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),w=p,D=0;D<b.length;D+=8){var S=Math.min(8,b.length-D),E=parseInt(b.substring(D,D+S),_);8>S?(S=l(Math.pow(_,S)),w=w.j(S).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var b=0,_=1,I=0;I<this.g.length;I++){var w=this.i(I);b+=(0<=w?w:4294967296+w)*_,_*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T(this))return"0";if(M(this))return"-"+R(this).toString(b);for(var _=l(Math.pow(b,6)),I=this,w="";;){var D=Ie(I,_).g;I=V(I,D.j(_));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(b);if(I=D,T(I))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function T(b){if(b.h!=0)return!1;for(var _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function M(b){return b.h==-1}n.l=function(b){return b=V(this,b),M(b)?-1:T(b)?0:1};function R(b){for(var _=b.g.length,I=[],w=0;w<_;w++)I[w]=~b.g[w];return new s(I,~b.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],w=0,D=0;D<=_;D++){var S=w+(this.i(D)&65535)+(b.i(D)&65535),E=(S>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);w=E>>>16,S&=65535,E&=65535,I[D]=E<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function V(b,_){return b.add(R(_))}n.j=function(b){if(T(this)||T(b))return p;if(M(this))return M(b)?R(this).j(R(b)):R(R(this).j(b));if(M(b))return R(this.j(R(b)));if(0>this.l(y)&&0>b.l(y))return l(this.m()*b.m());for(var _=this.g.length+b.g.length,I=[],w=0;w<2*_;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<b.g.length;D++){var S=this.i(w)>>>16,E=this.i(w)&65535,Hn=b.i(D)>>>16,Ws=b.i(D)&65535;I[2*w+2*D]+=E*Ws,Y(I,2*w+2*D),I[2*w+2*D+1]+=S*Ws,Y(I,2*w+2*D+1),I[2*w+2*D+1]+=E*Hn,Y(I,2*w+2*D+1),I[2*w+2*D+2]+=S*Hn,Y(I,2*w+2*D+2)}for(w=0;w<_;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=_;w<2*_;w++)I[w]=0;return new s(I,0)};function Y(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function q(b,_){this.g=b,this.h=_}function Ie(b,_){if(T(_))throw Error("division by zero");if(T(b))return new q(p,p);if(M(b))return _=Ie(R(b),_),new q(R(_.g),R(_.h));if(M(_))return _=Ie(b,R(_)),new q(R(_.g),_.h);if(30<b.g.length){if(M(b)||M(_))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=_;0>=w.l(b);)I=st(I),w=st(w);var D=we(I,1),S=we(w,1);for(w=we(w,2),I=we(I,2);!T(w);){var E=S.add(w);0>=E.l(b)&&(D=D.add(I),S=E),w=we(w,1),I=we(I,1)}return _=V(b,D.j(_)),new q(D,_)}for(D=p;0<=b.l(_);){for(I=Math.max(1,Math.floor(b.m()/_.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(I),E=S.j(_);M(E)||0<E.l(b);)I-=w,S=l(I),E=S.j(_);T(S)&&(S=m),D=D.add(S),b=V(b,E)}return new q(D,b)}n.A=function(b){return Ie(this,b).h},n.and=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)&b.i(w);return new s(I,this.h&b.h)},n.or=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)|b.i(w);return new s(I,this.h|b.h)},n.xor=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)^b.i(w);return new s(I,this.h^b.h)};function st(b){for(var _=b.g.length+1,I=[],w=0;w<_;w++)I[w]=b.i(w)<<1|b.i(w-1)>>>31;return new s(I,b.h)}function we(b,_){var I=_>>5;_%=32;for(var w=b.g.length-I,D=[],S=0;S<w;S++)D[S]=0<_?b.i(S+I)>>>_|b.i(S+I+1)<<32-_:b.i(S+I);return new s(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zv=yA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,mr=yA.Integer=s}).apply(typeof mA<"u"?mA:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yr={};var qv,MH,ms,Gv,Ac,Mh,Wv,Kv,Qv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var F=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)F[Ae-2]=arguments[Ae];return d.prototype[C].apply(g,F)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let F=0;F<A;F++)c[C+F]=g[F]}else c.push(g)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Y(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ie(c){return Ie[" "](c),c}Ie[" "]=function(){};var st=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function we(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function E(){var c=np;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Hn{constructor(){this.h=this.g=null}add(d,f){let g=Ws.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ws=new V(()=>new rP,c=>c.reset());class rP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ks,Qs=!1,np=new Hn,LI=()=>{let c=a.Promise.resolve(void 0);Ks=()=>{c.then(iP)}};var iP=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){S(f)}var d=Ws;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Qs=!1};function br(){this.s=this.s,this.C=this.C}br.prototype.s=!1,br.prototype.ma=function(){this.s||(this.s=!0,this.N())},br.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var oP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ys(c,d){if(gt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(st){e:{try{Ie(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:sP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ys.aa.h.call(this)}}T(Ys,gt);var sP={2:"touch",3:"pen",4:"mouse"};Ys.prototype.h=function(){Ys.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Js="closure_listenable_"+(1e6*Math.random()|0),aP=0;function cP(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++aP,this.da=this.fa=!1}function nu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ru(c){this.src=c,this.g={},this.h=0}ru.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var F=ip(c,d,g,C);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new cP(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function rp(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(nu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function ip(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var op="closure_lm_"+(1e6*Math.random()|0),sp={};function VI(c,d,f,g,C){if(g&&g.once)return UI(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)VI(c,d[A],f,g,C);return null}return f=lp(f),c&&c[Js]?c.K(d,f,l(g)?!!g.capture:!!g,C):jI(c,d,f,!1,g,C)}function jI(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var F=l(C)?!!C.capture:!!C,Ae=cp(c);if(Ae||(c[op]=Ae=new ru(c)),f=Ae.add(d,f,g,F,A),f.proxy)return f;if(g=uP(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)oP||(C=F),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent($I(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function uP(){function c(f){return d.call(c.src,c.listener,f)}let d=lP;return c}function UI(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)UI(c,d[A],f,g,C);return null}return f=lp(f),c&&c[Js]?c.L(d,f,l(g)?!!g.capture:!!g,C):jI(c,d,f,!0,g,C)}function BI(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)BI(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=lp(f),c&&c[Js]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=ip(A,f,g,C),-1<f&&(nu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=cp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ip(d,f,g,C)),(f=-1<c?d[c]:null)&&ap(f))}function ap(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Js])rp(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent($I(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=cp(d))?(rp(f,c),f.h==0&&(f.src=null,d[op]=null)):nu(c)}}}function $I(c){return c in sp?sp[c]:sp[c]="on"+c}function lP(c,d){if(c.da)c=!0;else{d=new Ys(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&ap(c),c=f.call(g,d)}return c}function cp(c){return c=c[op],c instanceof ru?c:null}var up="__closure_events_fn_"+(1e9*Math.random()>>>0);function lp(c){return typeof c=="function"?c:(c[up]||(c[up]=function(d){return c.handleEvent(d)}),c[up])}function mt(){br.call(this),this.i=new ru(this),this.M=this,this.F=null}T(mt,br),mt.prototype[Js]=!0,mt.prototype.removeEventListener=function(c,d,f,g){BI(this,c,d,f,g)};function Tt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new gt(d,c);else if(d instanceof gt)d.target=d.target||c;else{var C=d;d=new gt(g,c),w(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var F=d.g=f[A];C=iu(F,g,!0,d)&&C}if(F=d.g=c,C=iu(F,g,!0,d)&&C,C=iu(F,g,!1,d)&&C,f)for(A=0;A<f.length;A++)F=d.g=f[A],C=iu(F,g,!1,d)&&C}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)nu(f[g]);delete c.g[d],c.h--}}this.F=null},mt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},mt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function iu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var F=d[A];if(F&&!F.da&&F.capture==f){var Ae=F.listener,at=F.ha||F.src;F.fa&&rp(c.i,F),C=Ae.call(at,g)!==!1&&C}}return C&&!g.defaultPrevented}function HI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function zI(c){c.g=HI(()=>{c.g=null,c.i&&(c.i=!1,zI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class dP extends br{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:zI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zs(c){br.call(this),this.h=c,this.g={}}T(Zs,br);var qI=[];function GI(c){we(c.g,function(d,f){this.g.hasOwnProperty(f)&&ap(d)},c),c.g={}}Zs.prototype.N=function(){Zs.aa.N.call(this),GI(this)},Zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dp=a.JSON.stringify,hP=a.JSON.parse,fP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function hp(){}hp.prototype.h=null;function WI(c){return c.h||(c.h=c.i())}function KI(){}var Xs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fp(){gt.call(this,"d")}T(fp,gt);function pp(){gt.call(this,"c")}T(pp,gt);var di={},QI=null;function ou(){return QI=QI||new mt}di.La="serverreachability";function YI(c){gt.call(this,di.La,c)}T(YI,gt);function ea(c){let d=ou();Tt(d,new YI(d))}di.STAT_EVENT="statevent";function JI(c,d){gt.call(this,di.STAT_EVENT,c),this.stat=d}T(JI,gt);function Dt(c){let d=ou();Tt(d,new JI(d,c))}di.Ma="timingevent";function ZI(c,d){gt.call(this,di.Ma,c),this.size=d}T(ZI,gt);function ta(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function na(){this.g=!0}na.prototype.xa=function(){this.g=!1};function pP(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var F="",Ae=A.split("&"),at=0;at<Ae.length;at++){var Ee=Ae[at].split("=");if(1<Ee.length){var yt=Ee[0];Ee=Ee[1];var vt=yt.split("_");F=2<=vt.length&&vt[1]=="type"?F+(yt+"="+Ee+"&"):F+(yt+"=redacted&")}}else F=null;else F=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function gP(c,d,f,g,C,A,F){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+F})}function lo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+yP(c,f)+(g?" "+g:"")})}function mP(c,d){c.info(function(){return"TIMEOUT: "+d})}na.prototype.info=function(){};function yP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return dp(f)}catch{return d}}var su={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},XI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gp;function au(){}T(au,hp),au.prototype.g=function(){return new XMLHttpRequest},au.prototype.i=function(){return{}},gp=new au;function Tr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ew}function ew(){this.i=null,this.g="",this.h=!1}var tw={},mp={};function yp(c,d,f){c.L=1,c.v=du(zn(d)),c.m=f,c.P=!0,nw(c,null)}function nw(c,d){c.F=Date.now(),cu(c),c.A=zn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),mw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new ew,c.g=kw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new dP(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(qI[0]=C.toString()),C=qI);for(var A=0;A<C.length;A++){var F=VI(f,C[A],g||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ea(),pP(c.i,c.u,c.A,c.l,c.R,c.m)}Tr.prototype.ca=function(c){c=c.target;let d=this.M;d&&qn(c)==3?d.j():this.Y(c)},Tr.prototype.Y=function(c){try{if(c==this.g)e:{let vt=qn(this.g);var d=this.g.Ba();let po=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||bw(this.g)))){this.J||vt!=4||d==7||(d==8||0>=po?ea(3):ea(2)),vp(this);var f=this.g.Z();this.X=f;t:if(rw(this)){var g=bw(this.g);c="";var C=g.length,A=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hi(this),ra(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,gP(this.i,this.u,this.A,this.l,this.R,vt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,at=this.g;if((Ae=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Ae)){var Ee=Ae;break t}}Ee=null}if(f=Ee)lo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_p(this,f);else{this.o=!1,this.s=3,Dt(12),hi(this),ra(this);break e}}if(this.P){f=!0;let on;for(;!this.J&&this.C<F.length;)if(on=vP(this,F),on==mp){vt==4&&(this.s=4,Dt(14),f=!1),lo(this.i,this.l,null,"[Incomplete Response]");break}else if(on==tw){this.s=4,Dt(15),lo(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else lo(this.i,this.l,on,null),_p(this,on);if(rw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||F.length!=0||this.h.h||(this.s=1,Dt(16),f=!1),this.o=this.o&&f,!f)lo(this.i,this.l,F,"[Invalid Chunked Response]"),hi(this),ra(this);else if(0<F.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Dp(yt),yt.M=!0,Dt(11))}}else lo(this.i,this.l,F,null),_p(this,F);vt==4&&hi(this),this.o&&!this.J&&(vt==4?Mw(this.j,this):(this.o=!1,cu(this)))}else OP(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),hi(this),ra(this)}}}catch{}finally{}};function rw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vP(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?mp:(f=Number(d.substring(f,g)),isNaN(f)?tw:(g+=1,g+f>d.length?mp:(d=d.slice(g,g+f),c.C=g+f,d)))}Tr.prototype.cancel=function(){this.J=!0,hi(this)};function cu(c){c.S=Date.now()+c.I,iw(c,c.I)}function iw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ta(m(c.ba,c),d)}function vp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Tr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(mP(this.i,this.A),this.L!=2&&(ea(),Dt(17)),hi(this),this.s=2,ra(this)):iw(this,this.S-c)};function ra(c){c.j.G==0||c.J||Mw(c.j,c)}function hi(c){vp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,GI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function _p(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Ep(f.h,c))){if(!c.K&&Ep(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)mu(f),pu(f);else break e;Tp(f),Dt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=ta(m(f.Za,f),6e3));if(1>=aw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else pi(f,11)}else if((c.K||f.g==c)&&mu(f),!Y(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let Ee=C[d];if(f.T=Ee[0],Ee=Ee[1],f.G==2)if(Ee[0]=="c"){f.K=Ee[1],f.ia=Ee[2];let yt=Ee[3];yt!=null&&(f.la=yt,f.j.info("VER="+f.la));let vt=Ee[4];vt!=null&&(f.Aa=vt,f.j.info("SVER="+f.Aa));let po=Ee[5];po!=null&&typeof po=="number"&&0<po&&(g=1.5*po,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let on=c.g;if(on){let vu=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vu){var A=g.h;A.g||vu.indexOf("spdy")==-1&&vu.indexOf("quic")==-1&&vu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Ip(A,A.h),A.h=null))}if(g.D){let Cp=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Cp&&(g.ya=Cp,Ne(g.I,g.D,Cp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var F=c;if(g.qa=xw(g,g.J?g.ia:null,g.W),F.K){cw(g.h,F);var Ae=F,at=g.L;at&&(Ae.I=at),Ae.B&&(vp(Ae),cu(Ae)),g.g=F}else Aw(g);0<f.i.length&&gu(f)}else Ee[0]!="stop"&&Ee[0]!="close"||pi(f,7);else f.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?pi(f,7):bp(f):Ee[0]!="noop"&&f.l&&f.l.ta(Ee),f.v=0)}}ea(4)}catch{}}var _P=class{constructor(c,d){this.g=c,this.map=d}};function ow(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function aw(c){return c.h?1:c.g?c.g.size:0}function Ep(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Ip(c,d){c.g?c.g.add(d):c.h=d}function cw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}ow.prototype.cancel=function(){if(this.i=uw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function uw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function EP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function IP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function lw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=IP(c),g=EP(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var dw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function fi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof fi){this.h=c.h,uu(this,c.j),this.o=c.o,this.g=c.g,lu(this,c.s),this.l=c.l;var d=c.i,f=new sa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),hw(this,f),this.m=c.m}else c&&(d=String(c).match(dw))?(this.h=!1,uu(this,d[1]||"",!0),this.o=ia(d[2]||""),this.g=ia(d[3]||"",!0),lu(this,d[4]),this.l=ia(d[5]||"",!0),hw(this,d[6]||"",!0),this.m=ia(d[7]||"")):(this.h=!1,this.i=new sa(null,this.h))}fi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(oa(d,fw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(oa(d,fw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(oa(f,f.charAt(0)=="/"?DP:TP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",oa(f,SP)),c.join("")};function zn(c){return new fi(c)}function uu(c,d,f){c.j=f?ia(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function lu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function hw(c,d,f){d instanceof sa?(c.i=d,AP(c.i,c.h)):(f||(d=oa(d,CP)),c.i=new sa(d,c.h))}function Ne(c,d,f){c.i.set(d,f)}function du(c){return Ne(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ia(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function oa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,bP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fw=/[#\/\?@]/g,TP=/[#\?:]/g,DP=/[#\?]/g,CP=/[#\?@]/g,SP=/#/g;function sa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Dr(c){c.g||(c.g=new Map,c.h=0,c.i&&wP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=sa.prototype,n.add=function(c,d){Dr(this),this.i=null,c=ho(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function pw(c,d){Dr(c),d=ho(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function gw(c,d){return Dr(c),d=ho(c,d),c.g.has(d)}n.forEach=function(c,d){Dr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},n.na=function(){Dr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},n.V=function(c){Dr(this);let d=[];if(typeof c=="string")gw(this,c)&&(d=d.concat(this.g.get(ho(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Dr(this),this.i=null,c=ho(this,c),gw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function mw(c,d,f){pw(c,d),0<f.length&&(c.i=null,c.g.set(ho(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),F=this.V(g);for(g=0;g<F.length;g++){var C=A;F[g]!==""&&(C+="="+encodeURIComponent(String(F[g]))),c.push(C)}}return this.i=c.join("&")};function ho(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function AP(c,d){d&&!c.j&&(Dr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(pw(this,g),mw(this,C,f))},c)),c.j=d}function RP(c,d){let f=new na;if(a.Image){let g=new Image;g.onload=y(Cr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Cr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Cr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Cr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function MP(c,d){let f=new na,g=new AbortController,C=setTimeout(()=>{g.abort(),Cr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?Cr(f,"TestPingServer: ok",!0,d):Cr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Cr(f,"TestPingServer: error",!1,d)})}function Cr(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function NP(){this.g=new fP}function PP(c,d,f){let g=f||"";try{lw(c,function(C,A){let F=C;l(C)&&(F=dp(C)),d.push(g+A+"="+encodeURIComponent(F))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function aa(c){this.l=c.Ub||null,this.j=c.eb||!1}T(aa,hp),aa.prototype.g=function(){return new hu(this.l,this.j)},aa.prototype.i=function(c){return function(){return c}}({});function hu(c,d){mt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(hu,mt),n=hu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ua(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ca(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ua(this)),this.g&&(this.readyState=3,ua(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ca(this):ua(this),this.readyState==3&&yw(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ca(this))},n.Qa=function(c){this.g&&(this.response=c,ca(this))},n.ga=function(){this.g&&ca(this)};function ca(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ua(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ua(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vw(c){let d="";return we(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function wp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=vw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ne(c,d,f))}function Oe(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Oe,mt);var xP=/^https?$/i,kP=["POST","PUT"];n=Oe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gp.g(),this.v=this.o?WI(this.o):WI(gp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){_w(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kP,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,F]of f)this.g.setRequestHeader(A,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ww(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){_w(this,A)}};function _w(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Ew(c),fu(c)}function Ew(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Tt(this,"complete"),Tt(this,"abort"),fu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fu(this,!0)),Oe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Iw(this):this.bb())},n.bb=function(){Iw(this)};function Iw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||qn(c)!=4||c.Z()!=2)){if(c.u&&qn(c)==4)HI(c.Ea,0,c);else if(Tt(c,"readystatechange"),qn(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=F===0){var C=String(c.D).match(dw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!xP.test(C?C.toLowerCase():"")}f=g}if(f)Tt(c,"complete"),Tt(c,"success");else{c.m=6;try{var A=2<qn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",Ew(c)}}finally{fu(c)}}}}function fu(c,d){if(c.g){ww(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Tt(c,"ready");try{f.onreadystatechange=g}catch{}}}function ww(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function qn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),hP(d)}};function bw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function OP(c){let d={};c=(c.g&&2<=qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(Y(c[g]))continue;var f=D(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}b(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Tw(c){this.Aa=0,this.i=[],this.j=new na,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=la("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=la("baseRetryDelayMs",5e3,c),this.cb=la("retryDelaySeedMs",1e4,c),this.Wa=la("forwardChannelMaxRetries",2,c),this.wa=la("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ow(c&&c.concurrentRequestLimit),this.Da=new NP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Tw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Dt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=xw(this,null,this.W),gu(this)};function bp(c){if(Dw(c),c.G==3){var d=c.U++,f=zn(c.I);if(Ne(f,"SID",c.K),Ne(f,"RID",d),Ne(f,"TYPE","terminate"),da(c,f),d=new Tr(c,c.j,d),d.L=2,d.v=du(zn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=kw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),cu(d)}Pw(c)}function pu(c){c.g&&(Dp(c),c.g.cancel(),c.g=null)}function Dw(c){pu(c),c.u&&(a.clearTimeout(c.u),c.u=null),mu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function gu(c){if(!sw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ks||LI(),Qs||(Ks(),Qs=!0),np.add(d,c),c.B=0}}function FP(c,d){return aw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ta(m(c.Ga,c,d),Nw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Tr(this,this.j,c),A=this.o;if(this.S&&(A?(A=_(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Sw(this,C,d),f=zn(this.I),Ne(f,"RID",c),Ne(f,"CVER",22),this.D&&Ne(f,"X-HTTP-Session-Id",this.D),da(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(vw(A)))+"&"+d:this.m&&wp(f,this.m,A)),Ip(this.h,C),this.Ua&&Ne(f,"TYPE","init"),this.P?(Ne(f,"$req",d),Ne(f,"SID","null"),C.T=!0,yp(C,f,null)):yp(C,f,d),this.G=2}}else this.G==3&&(c?Cw(this,c):this.i.length==0||sw(this.h)||Cw(this))};function Cw(c,d){var f;d?f=d.l:f=c.U++;let g=zn(c.I);Ne(g,"SID",c.K),Ne(g,"RID",f),Ne(g,"AID",c.T),da(c,g),c.m&&c.o&&wp(g,c.m,c.o),f=new Tr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Sw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ip(c.h,f),yp(f,g,d)}function da(c,d){c.H&&we(c.H,function(f,g){Ne(d,g,f)}),c.l&&lw({},function(f,g){Ne(d,g,f)})}function Sw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let F=["count="+f];A==-1?0<f?(A=C[0].g,F.push("ofs="+A)):A=0:F.push("ofs="+A);let Ae=!0;for(let at=0;at<f;at++){let Ee=C[at].g,yt=C[at].map;if(Ee-=A,0>Ee)A=Math.max(0,C[at].g-100),Ae=!1;else try{PP(yt,F,"req"+Ee+"_")}catch{g&&g(yt)}}if(Ae){g=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Aw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ks||LI(),Qs||(Ks(),Qs=!0),np.add(d,c),c.v=0}}function Tp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ta(m(c.Fa,c),Nw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Rw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ta(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),pu(this),Rw(this))};function Dp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Rw(c){c.g=new Tr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=zn(c.qa);Ne(d,"RID","rpc"),Ne(d,"SID",c.K),Ne(d,"AID",c.T),Ne(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ne(d,"TO",c.ja),Ne(d,"TYPE","xmlhttp"),da(c,d),c.m&&c.o&&wp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=du(zn(d)),f.m=null,f.P=!0,nw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,pu(this),Tp(this),Dt(19))};function mu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Mw(c,d){var f=null;if(c.g==d){mu(c),Dp(c),c.g=null;var g=2}else if(Ep(c.h,d))f=d.D,cw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=ou(),Tt(g,new ZI(g,f)),gu(c)}else Aw(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&FP(c,d)||g==2&&Tp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:pi(c,5);break;case 4:pi(c,10);break;case 3:pi(c,6);break;default:pi(c,2)}}}function Nw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function pi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new fi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||uu(g,"https"),du(g),C?RP(g.toString(),f):MP(g.toString(),f)}else Dt(2);c.G=0,c.l&&c.l.sa(d),Pw(c),Dw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Pw(c){if(c.G=0,c.ka=[],c.l){let d=uw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function xw(c,d,f){var g=f instanceof fi?zn(f):new fi(f);if(g.g!="")d&&(g.g=d+"."+g.g),lu(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new fi(null);g&&uu(A,g),d&&(A.g=d),C&&lu(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Ne(g,f,d),Ne(g,"VER",c.la),da(c,g),g}function kw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Oe(new aa({eb:f})):new Oe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ow(){}n=Ow.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function yu(){}yu.prototype.g=function(c,d){return new Lt(c,d)};function Lt(c,d){mt.call(this),this.g=new Tw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Y(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Y(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new fo(this)}T(Lt,mt),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){bp(this.g)},Lt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=dp(c),c=f);d.i.push(new _P(d.Ya++,c)),d.G==3&&gu(d)},Lt.prototype.N=function(){this.g.l=null,delete this.j,bp(this.g),delete this.g,Lt.aa.N.call(this)};function Fw(c){fp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(Fw,fp);function Lw(){pp.call(this),this.status=1}T(Lw,pp);function fo(c){this.g=c}T(fo,Ow),fo.prototype.ua=function(){Tt(this.g,"a")},fo.prototype.ta=function(c){Tt(this.g,new Fw(c))},fo.prototype.sa=function(c){Tt(this.g,new Lw)},fo.prototype.ra=function(){Tt(this.g,"b")},yu.prototype.createWebChannel=yu.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,Qv=yr.createWebChannelTransport=function(){return new yu},Kv=yr.getStatEventTarget=function(){return ou()},Wv=yr.Event=di,Mh=yr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},su.NO_ERROR=0,su.TIMEOUT=8,su.HTTP_ERROR=6,Ac=yr.ErrorCode=su,XI.COMPLETE="complete",Gv=yr.EventType=XI,KI.EventType=Xs,Xs.OPEN="a",Xs.CLOSE="b",Xs.ERROR="c",Xs.MESSAGE="d",mt.prototype.listen=mt.prototype.K,ms=yr.WebChannel=KI,MH=yr.FetchXmlHttpFactory=aa,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,qv=yr.XhrIo=Oe}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});var vA="@firebase/firestore",_A="4.8.0";var it=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");var Vs="11.10.0";var Xi=new Xt("@firebase/firestore");function ys(){return Xi.logLevel}function U(n,...e){if(Xi.logLevel<=he.DEBUG){let t=e.map(OE);Xi.debug(`Firestore (${Vs}): ${n}`,...t)}}function vr(n,...e){if(Xi.logLevel<=he.ERROR){let t=e.map(OE);Xi.error(`Firestore (${Vs}): ${n}`,...t)}}function ii(n,...e){if(Xi.logLevel<=he.WARN){let t=e.map(OE);Xi.warn(`Firestore (${Vs}): ${n}`,...t)}}function OE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function K(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,aR(n,r,t)}function aR(n,e,t){let r=`FIRESTORE (${Vs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw vr(r),new Error(r)}function Se(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||aR(e,i,r)}function te(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends ht{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var On=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Lh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},e_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(it.UNAUTHENTICATED))}shutdown(){}},t_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},n_=class{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Se(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new On;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new On,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new On)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string",31837,{l:r}),new Lh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string",2055,{h:e}),new it(e)}},r_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},i_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new r_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Vh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},o_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Se(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Vh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Se(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Vh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function NH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function cR(){return new TextEncoder}var kc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=NH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function le(n,e){return n<e?-1:n>e?1:0}function s_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return le(r,i);{let o=cR(),s=PH(o.encode(EA(n,t)),o.encode(EA(e,t)));return s!==0?s:le(r,i)}}t+=r>65535?2:1}return le(n.length,e.length)}function EA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function PH(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return le(n[t],e[t]);return le(n.length,e.length)}function Ds(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var IA="__name__",jh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&K(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&K(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return le(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):s_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}},Be=class n extends jh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},xH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qt=class n extends jh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return xH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IA}static keyField(){return new n([IA])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new z(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new z(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Q=class n{constructor(e){this.path=e}static fromPath(e){return new n(Be.fromString(e))}static fromName(e){return new n(Be.fromString(e).popFirst(5))}static empty(){return new n(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Be(e.slice()))}};function kH(n,e,t){if(!t)throw new z(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OH(n,e,t,r){if(e===!0&&r===!0)throw new z(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wA(n){if(!Q.isDocumentKey(n))throw new z(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function FE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":K(12329,{type:typeof n})}function Fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=FE(n);throw new z(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ke(n,e){let t={typeString:n};return e&&(t.value=e),t}function Gc(n,e){if(!uR(n))throw new z(N.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new z(N.INVALID_ARGUMENT,t);return!0}var bA=-62135596800,TA=1e6,Qe=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*TA);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bA)throw new z(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TA}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gc(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-bA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:Ke("string",Qe._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};var re=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Qe(0,0))}static max(){return new n(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Oc=-1,a_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};a_.UNKNOWN_ID=-1;function FH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new Qe(t+1,0):new Qe(t,r));return new eo(i,Q.empty(),e)}function LH(n){return new eo(n.readTime,n.key,Oc)}var eo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(re.min(),Q.empty(),Oc)}static max(){return new n(re.max(),Q.empty(),Oc)}};function VH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Q.comparator(n.documentKey,e.documentKey),t!==0?t:le(n.largestBatchId,e.largestBatchId))}var jH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",c_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function js(n){return v(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==jH)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function UH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Us(n){return n.name==="IndexedDbTransactionError"}var LE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),VE=-1;function Ef(n){return n==null}function Fc(n){return n===0&&1/n==-1/0}function BH(n){return typeof n=="number"&&Number.isInteger(n)&&!Fc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var lR="";function $H(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DA(e)),e=HH(n.get(t),e);return DA(e)}function HH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case lR:t+="";break;default:t+=o}}return t}function DA(n){return n+lR+""}var zH="remoteDocuments",dR="owner";var hR="mutationQueues";var fR="mutations";var pR="documentMutations",qH="remoteDocumentsV14";var gR="remoteDocumentGlobal";var mR="targets";var yR="targetDocuments";var vR="targetGlobal",_R="collectionParents";var ER="clientMetadata";var IR="bundles";var wR="namedQueries";var GH="indexConfiguration";var WH="indexState";var KH="indexEntries";var bR="documentOverlays";var QH="globals";var YH=[hR,fR,pR,zH,mR,dR,vR,yR,ER,gR,_R,IR,wR],aee=[...YH,bR],JH=[hR,fR,pR,qH,mR,dR,vR,yR,ER,gR,_R,IR,wR,bR],ZH=JH,XH=[...ZH,GH,WH,KH];var cee=[...XH,QH];function CA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ui(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function TR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ve=class n{constructor(e,t){this.comparator=e,this.root=t||Ln.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Is(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Is(this.root,e,this.comparator,!1)}getReverseIterator(){return new Is(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Is(this.root,e,this.comparator,!0)}},Is=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ln=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}};Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ot=class n{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Uh(this.data.getIterator())}getIteratorFrom(e){return new Uh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Uh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var rn=class n{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new n([])}unionWith(e){let t=new ot(qt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ds(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Bh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var bt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Bh("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};bt.EMPTY_BYTE_STRING=new bt("");var e3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(n){if(Se(!!n,39018),typeof n=="string"){let e=0,t=e3.exec(n);if(Se(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(n.seconds),nanos:ke(n.nanos)}}function ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Er(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}var DR="server_timestamp",CR="__type__",SR="__previous_value__",AR="__local_write_time__";function jE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[CR])===null||t===void 0?void 0:t.stringValue)===DR}function If(n){let e=n.mapValue.fields[SR];return jE(e)?If(e):e}function Lc(n){let e=_r(n.mapValue.fields[AR].timestampValue);return new Qe(e.seconds,e.nanos)}var u_=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},$h="(default)",Hh=class n{constructor(e,t){this.projectId=e,this.database=t||$h}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var UE="__type__",RR="__max__",Nh={mapValue:{fields:{__type__:{stringValue:RR}}}},BE="__vector__",Cs="value";function oi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jE(n)?4:NR(n)?9007199254740991:MR(n)?10:11:K(28295,{value:n})}function Un(n,e){if(n===e)return!0;let t=oi(n);if(t!==oi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lc(n).isEqual(Lc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=_r(i.timestampValue),a=_r(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Er(i.bytesValue).isEqual(Er(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ke(i.doubleValue),a=ke(o.doubleValue);return s===a?Fc(s)===Fc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ds(n.arrayValue.values||[],e.arrayValue.values||[],Un);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(CA(s)!==CA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Un(s[u],a[u])))return!1;return!0}(n,e);default:return K(52216,{left:n})}}function Vc(n,e){return(n.values||[]).find(t=>Un(t,e))!==void 0}function Ss(n,e){if(n===e)return 0;let t=oi(n),r=oi(e);if(t!==r)return le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return le(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ke(o.integerValue||o.doubleValue),u=ke(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return SA(n.timestampValue,e.timestampValue);case 4:return SA(Lc(n),Lc(e));case 5:return s_(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Er(o),u=Er(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=le(a[l],u[l]);if(h!==0)return h}return le(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=le(ke(o.latitude),ke(s.latitude));return a!==0?a:le(ke(o.longitude),ke(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return AA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[Cs])===null||a===void 0?void 0:a.arrayValue,T=(u=m[Cs])===null||u===void 0?void 0:u.arrayValue,M=le(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:AA(y,T)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Nh.mapValue&&s===Nh.mapValue)return 0;if(o===Nh.mapValue)return 1;if(s===Nh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=s_(u[p],h[p]);if(m!==0)return m;let y=Ss(a[u[p]],l[h[p]]);if(y!==0)return y}return le(u.length,h.length)}(n.mapValue,e.mapValue);default:throw K(23264,{le:t})}}function SA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return le(n,e);let t=_r(n),r=_r(e),i=le(t.seconds,r.seconds);return i!==0?i:le(t.nanos,r.nanos)}function AA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ss(t[i],r[i]);if(o)return o}return le(t.length,r.length)}function As(n){return l_(n)}function l_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=_r(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Er(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Q.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=l_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${l_(t.fields[s])}`;return i+"}"}(n.mapValue):K(61005,{value:n})}function kh(n){switch(oi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=If(n);return e?16+kh(e):16;case 5:return 2*n.stringValue.length;case 6:return Er(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+kh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ui(r.fields,(o,s)=>{i+=o.length+kh(s)}),i}(n.mapValue);default:throw K(13486,{value:n})}}function d_(n){return!!n&&"integerValue"in n}function $E(n){return!!n&&"arrayValue"in n}function RA(n){return!!n&&"nullValue"in n}function MA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Oh(n){return!!n&&"mapValue"in n}function MR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[UE])===null||t===void 0?void 0:t.stringValue)===BE}function Mc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ui(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function NR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===RR}var lee={mapValue:{fields:{[UE]:{stringValue:BE},[Cs]:{arrayValue:{}}}}};var zt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Oh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mc(t)}setAll(e){let t=qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Mc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Oh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Un(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Oh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ui(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Mc(this.value))}};function PR(n){let e=[];return ui(n.fields,(t,r)=>{let i=new qt([t]);if(Oh(r)){let o=PR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new rn(e)}var vn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,re.min(),re.min(),re.min(),zt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,re.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,re.min(),re.min(),zt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,re.min(),re.min(),zt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Rs=class{constructor(e,t){this.position=e,this.inclusive=t}};function NA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Q.comparator(Q.fromName(s.referenceValue),t.key):r=Ss(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function PA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Un(n.position[t],e.position[t]))return!1;return!0}var Ms=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function t3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var zh=class{},et=class n extends zh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new f_(e,t,r):t==="array-contains"?new m_(e,r):t==="in"?new y_(e,r):t==="not-in"?new v_(e,r):t==="array-contains-any"?new __(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new p_(e,r):new g_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ss(t,this.value)):t!==null&&oi(this.value)===oi(t)&&this.matchesComparison(Ss(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Bn=class n extends zh{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return xR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function xR(n){return n.op==="and"}function kR(n){return n3(n)&&xR(n)}function n3(n){for(let e of n.filters)if(e instanceof Bn)return!1;return!0}function h_(n){if(n instanceof et)return n.field.canonicalString()+n.op.toString()+As(n.value);if(kR(n))return n.filters.map(e=>h_(e)).join(",");{let e=n.filters.map(t=>h_(t)).join(",");return`${n.op}(${e})`}}function OR(n,e){return n instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&Un(r.value,i.value)}(n,e):n instanceof Bn?function(r,i){return i instanceof Bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&OR(s,i.filters[a]),!0):!1}(n,e):void K(19439)}function FR(n){return n instanceof et?function(t){return`${t.field.canonicalString()} ${t.op} ${As(t.value)}`}(n):n instanceof Bn?function(t){return t.op.toString()+" {"+t.getFilters().map(FR).join(" ,")+"}"}(n):"Filter"}var f_=class extends et{constructor(e,t,r){super(e,t,r),this.key=Q.fromName(r.referenceValue)}matches(e){let t=Q.comparator(e.key,this.key);return this.matchesComparison(t)}},p_=class extends et{constructor(e,t){super(e,"in",t),this.keys=LR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},g_=class extends et{constructor(e,t){super(e,"not-in",t),this.keys=LR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function LR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Q.fromName(r.referenceValue))}var m_=class extends et{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return $E(t)&&Vc(t.arrayValue,this.value)}},y_=class extends et{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Vc(this.value.arrayValue,t)}},v_=class extends et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Vc(this.value.arrayValue,t)}},__=class extends et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!$E(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vc(this.value.arrayValue,r))}};var E_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function xA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new E_(n,e,t,r,i,o,s)}function HE(n){let e=te(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>h_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ef(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>As(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>As(r)).join(",")),e.Pe=t}return e.Pe}function zE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!t3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!OR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PA(n.startAt,e.startAt)&&PA(n.endAt,e.endAt)}function I_(n){return Q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ns=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function r3(n,e,t,r,i,o,s,a){return new Ns(n,e,t,r,i,o,s,a)}function wf(n){return new Ns(n)}function kA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function i3(n){return n.collectionGroup!==null}function Nc(n){let e=te(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ot(qt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ms(o,r))}),t.has(qt.keyField().canonicalString())||e.Te.push(new Ms(qt.keyField(),r))}return e.Te}function Vn(n){let e=te(n);return e.Ie||(e.Ie=o3(e,Nc(n))),e.Ie}function o3(n,e){if(n.limitType==="F")return xA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ms(i.field,o)});let t=n.endAt?new Rs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Rs(n.startAt.position,n.startAt.inclusive):null;return xA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function w_(n,e,t){return new Ns(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bf(n,e){return zE(Vn(n),Vn(e))&&n.limitType===e.limitType}function VR(n){return`${HE(Vn(n))}|lt:${n.limitType}`}function vs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>FR(i)).join(", ")}]`),Ef(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>As(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>As(i)).join(",")),`Target(${r})`}(Vn(n))}; limitType=${n.limitType})`}function Tf(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Nc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=NA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Nc(r),i)||r.endAt&&!function(s,a,u){let l=NA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Nc(r),i))}(n,e)}function s3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jR(n){return(e,t)=>{let r=!1;for(let i of Nc(n)){let o=a3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function a3(n,e,t){let r=n.field.isKeyField()?Q.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ss(u,l):K(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return K(19790,{direction:n.dir})}}var Ir=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ui(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return TR(this.inner)}size(){return this.innerSize}};var c3=new Ve(Q.comparator);function wr(){return c3}var UR=new Ve(Q.comparator);function Rc(...n){let e=UR;for(let t of n)e=e.insert(t.key,t);return e}function BR(n){let e=UR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Qi(){return Pc()}function $R(){return Pc()}function Pc(){return new Ir(n=>n.toString(),(n,e)=>n.isEqual(e))}var u3=new Ve(Q.comparator),l3=new ot(Q.comparator);function ge(...n){let e=l3;for(let t of n)e=e.add(t);return e}var d3=new ot(le);function h3(){return d3}function qE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function HR(n){return{integerValue:""+n}}function f3(n,e){return BH(e)?HR(e):qE(n,e)}var Ps=class{constructor(){this._=void 0}};function p3(n,e,t){return n instanceof xs?function(i,o){let s={fields:{[CR]:{stringValue:DR},[AR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jE(o)&&(o=If(o)),o&&(s.fields[SR]=o),{mapValue:s}}(t,e):n instanceof to?qR(n,e):n instanceof no?GR(n,e):function(i,o){let s=zR(i,o),a=OA(s)+OA(i.Ee);return d_(s)&&d_(i.Ee)?HR(a):qE(i.serializer,a)}(n,e)}function g3(n,e,t){return n instanceof to?qR(n,e):n instanceof no?GR(n,e):t}function zR(n,e){return n instanceof ks?function(r){return d_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var xs=class extends Ps{},to=class extends Ps{constructor(e){super(),this.elements=e}};function qR(n,e){let t=WR(e);for(let r of n.elements)t.some(i=>Un(i,r))||t.push(r);return{arrayValue:{values:t}}}var no=class extends Ps{constructor(e){super(),this.elements=e}};function GR(n,e){let t=WR(e);for(let r of n.elements)t=t.filter(i=>!Un(i,r));return{arrayValue:{values:t}}}var ks=class extends Ps{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function OA(n){return ke(n.integerValue||n.doubleValue)}function WR(n){return $E(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function m3(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof to&&i instanceof to||r instanceof no&&i instanceof no?Ds(r.elements,i.elements,Un):r instanceof ks&&i instanceof ks?Un(r.Ee,i.Ee):r instanceof xs&&i instanceof xs}(n.transform,e.transform)}var b_=class{constructor(e,t){this.version=e,this.transformResults=t}},ei=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Fh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Os=class{};function KR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qh(n.key,ei.none()):new ro(n.key,n.data,ei.none());{let t=n.data,r=zt.empty(),i=new ot(qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new $n(n.key,r,new rn(i.toArray()),ei.none())}}function y3(n,e,t){n instanceof ro?function(i,o,s){let a=i.value.clone(),u=LA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof $n?function(i,o,s){if(!Fh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=LA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(QR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function xc(n,e,t,r){return n instanceof ro?function(o,s,a,u){if(!Fh(o.precondition,s))return a;let l=o.value.clone(),h=VA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof $n?function(o,s,a,u){if(!Fh(o.precondition,s))return a;let l=VA(o.fieldTransforms,u,s),h=s.data;return h.setAll(QR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Fh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function v3(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=zR(r.transform,i||null);o!=null&&(t===null&&(t=zt.empty()),t.set(r.field,o))}return t||null}function FA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ds(r,i,(o,s)=>m3(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ro=class extends Os{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},$n=class extends Os{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function QR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function LA(n,e,t){let r=new Map;Se(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,g3(s,a,t[i]))}return r}function VA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,p3(o,s,e))}return r}var qh=class extends Os{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},T_=class extends Os{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var D_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&y3(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=xc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=xc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=$R();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=KR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ge())}isEqual(e){return this.batchId===e.batchId&&Ds(this.mutations,e.mutations,(t,r)=>FA(t,r))&&Ds(this.baseMutations,e.baseMutations,(t,r)=>FA(t,r))}},C_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Se(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return u3}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var S_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var A_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ge,ve;function _3(n){switch(n){case N.OK:return K(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return K(15467,{code:n})}}function YR(n){if(n===void 0)return vr("GRPC error has no .code"),N.UNKNOWN;switch(n){case Ge.OK:return N.OK;case Ge.CANCELLED:return N.CANCELLED;case Ge.UNKNOWN:return N.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return N.INTERNAL;case Ge.UNAVAILABLE:return N.UNAVAILABLE;case Ge.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Ge.NOT_FOUND:return N.NOT_FOUND;case Ge.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Ge.ABORTED:return N.ABORTED;case Ge.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Ge.DATA_LOSS:return N.DATA_LOSS;default:return K(39323,{code:n})}}(ve=Ge||(Ge={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var jA=null;var E3=new mr([4294967295,4294967295],0);function UA(n){let e=cR().encode(n),t=new zv;return t.update(e),new Uint8Array(t.digest())}function BA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mr([t,r],0),new mr([i,o],0)]}var R_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Yi(`Invalid padding: ${t}`);if(r<0)throw new Yi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Yi(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=mr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(mr.fromNumber(r)));return i.compare(E3)===1&&(i=new mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=UA(e),[r,i]=BA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=UA(e),[r,i]=BA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Yi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Gh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(re.min(),i,new Ve(le),wr(),ge())}},jc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ge(),ge(),ge())}};var ws=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Wh=class{constructor(e,t){this.targetId=e,this.De=t}},Kh=class{constructor(e,t,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Qh=class{constructor(){this.ve=0,this.Ce=$A(),this.Fe=bt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ge(),t=ge(),r=ge();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:K(38017,{changeType:o})}}),new jc(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=$A()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Se(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},M_=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=wr(),this.je=Ph(),this.Je=Ph(),this.He=new Ve(le)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:K(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(I_(o))if(r===0){let s=new Q(o.path);this.Xe(t,s,vn.newNoDocument(s,re.min()))}else Se(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}jA?.ct(function(h,p,m,y,T){var M,R,V,Y,q,Ie;let st={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},we=p.unchangedNames;return we&&(st.bloomFilter={applied:T===0,hashCount:(M=we?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(Y=(V=(R=we?.bits)===null||R===void 0?void 0:R.bitmap)===null||V===void 0?void 0:V.length)!==null&&Y!==void 0?Y:0,padding:(Ie=(q=we?.bits)===null||q===void 0?void 0:q.padding)!==null&&Ie!==void 0?Ie:0,mightContain:b=>{var _;return(_=y?.mightContain(b))!==null&&_!==void 0&&_}}),st}(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Er(r).toUint8Array()}catch(u){if(u instanceof Bh)return ii("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new R_(s,i,o)}catch(u){return ii(u instanceof Yi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&I_(a.target)){let u=new Q(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,vn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ge();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Gh(e,t,this.He,this.ze,r);return this.ze=wr(),this.je=Ph(),this.Je=Ph(),this.He=new Ve(le),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Qh,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ot(le),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ot(le),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Qh),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Ph(){return new Ve(Q.comparator)}function $A(){return new Ve(Q.comparator)}var I3={asc:"ASCENDING",desc:"DESCENDING"},w3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b3={and:"AND",or:"OR"},N_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function P_(n,e){return n.useProto3Json||Ef(e)?e:{value:e}}function Yh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function T3(n,e){return Yh(n,e.toTimestamp())}function jn(n){return Se(!!n,49232),re.fromTimestamp(function(t){let r=_r(t);return new Qe(r.seconds,r.nanos)}(n))}function GE(n,e){return x_(n,e).canonicalString()}function x_(n,e){let t=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ZR(n){let e=Be.fromString(n);return Se(rM(e),10190,{key:e.toString()}),e}function k_(n,e){return GE(n.databaseId,e.path)}function Yv(n,e){let t=ZR(e);if(t.get(1)!==n.databaseId.projectId)throw new z(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new z(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Q(eM(t))}function XR(n,e){return GE(n.databaseId,e)}function D3(n){let e=ZR(n);return e.length===4?Be.emptyPath():eM(e)}function O_(n){return new Be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eM(n){return Se(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function HA(n,e,t){return{name:k_(n,e),fields:t.value.mapValue.fields}}function C3(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Se(h===void 0||typeof h=="string",58123),bt.fromBase64String(h||"")):(Se(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),bt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?N.UNKNOWN:YR(l.code);return new z(h,l.message||"")}(s);t=new Kh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Yv(n,r.document.name),o=jn(r.document.updateTime),s=r.document.createTime?jn(r.document.createTime):re.min(),a=new zt({mapValue:{fields:r.document.fields}}),u=vn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new ws(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Yv(n,r.document),o=r.readTime?jn(r.readTime):re.min(),s=vn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ws([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Yv(n,r.document),o=r.removedTargetIds||[];t=new ws([],o,i,null)}else{if(!("filter"in e))return K(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new A_(i,o),a=r.targetId;t=new Wh(a,s)}}return t}function S3(n,e){let t;if(e instanceof ro)t={update:HA(n,e.key,e.value)};else if(e instanceof qh)t={delete:k_(n,e.key)};else if(e instanceof $n)t={update:HA(n,e.key,e.data),updateMask:F3(e.fieldMask)};else{if(!(e instanceof T_))return K(16599,{Rt:e.type});t={verify:k_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof xs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof to)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof no)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ks)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw K(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:T3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:K(27497)}(n,e.precondition)),t}function A3(n,e){return n&&n.length>0?(Se(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?jn(i.updateTime):jn(o);return s.isEqual(re.min())&&(s=jn(o)),new b_(s,i.transformResults||[])}(t,e))):[]}function R3(n,e){return{documents:[XR(n,e.path)]}}function M3(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=XR(n,i);let o=function(l){if(l.length!==0)return nM(Bn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:_s(m.field),direction:x3(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=P_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:t,parent:i}}function N3(n){let e=D3(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Se(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let m=tM(p);return m instanceof Bn&&kR(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(T){return new Ms(Es(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Ef(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Rs(y,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Rs(y,m)}(t.endAt)),r3(e,i,s,o,a,"F",u,l)}function P3(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Es(t.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Es(t.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Es(t.unaryFilter.field);return et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Es(t.unaryFilter.field);return et.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}}(n):n.fieldFilter!==void 0?function(t){return et.create(Es(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Bn.create(t.compositeFilter.filters.map(r=>tM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K(1026)}}(t.compositeFilter.op))}(n):K(30097,{filter:n})}function x3(n){return I3[n]}function k3(n){return w3[n]}function O3(n){return b3[n]}function _s(n){return{fieldPath:n.canonicalString()}}function Es(n){return qt.fromServerFormat(n.fieldPath)}function nM(n){return n instanceof et?function(t){if(t.op==="=="){if(MA(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NAN"}};if(RA(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(MA(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NOT_NAN"}};if(RA(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(t.field),op:k3(t.op),value:t.value}}}(n):n instanceof Bn?function(t){let r=t.getFilters().map(i=>nM(i));return r.length===1?r[0]:{compositeFilter:{op:O3(t.op),filters:r}}}(n):K(54877,{filter:n})}function F3(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Uc=class n{constructor(e,t,r,i,o=re.min(),s=re.min(),a=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var F_=class{constructor(e){this.gt=e}};function L3(n){let e=N3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?w_(e,e.limit,"L"):e}var Jh=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Fc(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=_r(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Er(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?NR(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):MR(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):K(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Cs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(ke(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),Q.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Jh.Ut=new Jh;var L_=class{constructor(){this.Dn=new V_}addToCollectionParentIndex(e,t){return this.Dn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(eo.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(eo.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},V_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ot(Be.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(Be.comparator)).toArray()}};var dee=new Uint8Array(0);var zA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iM=41943040,nn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(iM,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);var Bc=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var qA="LruGarbageCollector",V3=1048576;function GA([n,e],[t,r]){let i=le(n,t);return i===0?le(e,r):i}var j_=class{constructor(e){this.Tr=e,this.buffer=new ot(GA),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();GA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},U_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){U(qA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Us(t)?U(qA,"Ignoring IndexedDB error during garbage collection: ",t):yield js(t)}yield this.Rr(3e5)}))}},B_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(LE.ue);let r=new j_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(zA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zA):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ys()<=he.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function j3(n,e){return new B_(n,e)}var $_=class{constructor(){this.changes=new Ir(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var H_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var z_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&xc(r.mutation,i,rn.empty(),Qe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ge()){let i=Qi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Rc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Qi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ge()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=wr(),s=Pc(),a=function(){return Pc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof $n)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),xc(h.mutation,l,h.mutation.getFieldMask(),Qe.now())):s.set(l.key,rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new H_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Pc(),i=new Ve((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||rn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=$R();h.forEach(m=>{if(!o.has(m)){let y=KR(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):i3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(Qi()),a=Oc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(h=>({batchId:a,changes:BR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Q(t)).next(r=>{let i=Rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Rc();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,m){return new Ns(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,vn.newInvalidDocument(h)))});let a=Rc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&xc(h.mutation,l,rn.empty(),Qe.now()),Tf(t,l)&&(a=a.insert(u,l))}),a})}};var q_=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return P.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:jn(i.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:L3(i.bundledQuery),readTime:jn(i.readTime)}}(t)),P.resolve()}};var G_=class{constructor(){this.overlays=new Ve(Q.comparator),this.kr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Qi();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=Qi(),o=t.length+1,s=new Q(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ve((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Qi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Qi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new S_(t,r));let o=this.kr.get(t);o===void 0&&(o=ge(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var W_=class{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var $c=class{constructor(){this.qr=new ot(We.Qr),this.$r=new ot(We.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new We(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new We(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new Q(new Be([])),r=new We(t,e),i=new We(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new Q(new Be([])),r=new We(t,e),i=new We(t,e+1),o=ge();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new We(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},We=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Q.comparator(e.key,t.key)||le(e.Hr,t.Hr)}static Ur(e,t){return le(e.Hr,t.Hr)||Q.comparator(e.key,t.key)}};var K_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ot(We.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new D_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new We(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?VE:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new We(t,0),i=new We(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ot(le);return t.forEach(i=>{let o=new We(i,0),s=new We(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Q.isDocumentKey(o)||(o=o.child(""));let s=new We(new Q(o),0),a=new ot(le);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Se(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(t.mutations,i=>{let o=new We(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new We(t,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Q_=class{constructor(e){this.ni=e,this.docs=function(){return new Ve(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let r=wr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=wr(),s=t.path,a=new Q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||VH(LH(h),r)<=0||(i.has(h.key)||Tf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){K(9500)}ri(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Y_(this)}getSize(e){return P.resolve(this.size)}},Y_=class extends $_{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var J_=class{constructor(e){this.persistence=e,this.ii=new Ir(t=>HE(t),zE),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.si=0,this.oi=new $c,this.targetCount=0,this._i=Bc.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),P.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Bc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.hr(t),P.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.oi.containsKey(t))}};var Zh=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new LE(0),this.ci=!1,this.ci=!0,this.li=new W_,this.referenceDelegate=e(this),this.hi=new J_(this),this.indexManager=new L_,this.remoteDocumentCache=function(i){return new Q_(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new F_(t),this.Ti=new q_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new G_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new K_(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new Z_(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},Z_=class extends c_{constructor(e){super(),this.currentSequenceNumber=e}},X_=class n{constructor(e){this.persistence=e,this.Ai=new $c,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw K(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=Q.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,re.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return P.or([()=>P.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Xh=class n{constructor(e,t){this.persistence=e,this.gi=new Ir(r=>$H(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=j3(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kh(e.data.value)),t}Sr(e,t,r){return P.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var eE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ge(),i=ge();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var tE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var nE=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return QC()?8:UH(rt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new tE;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(ys()<=he.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",vs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(ys()<=he.DEBUG&&U("QueryEngine","Query:",vs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ys()<=he.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",vs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(t))):P.resolve())}ps(e,t){if(kA(t))return P.resolve(null);let r=Vn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=w_(t,null,"F"),r=Vn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,w_(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return kA(t)||i.isEqual(re.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?P.resolve(null):(ys()<=he.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vs(t)),this.vs(e,s,t,FH(i,Oc)).next(a=>a))})}bs(e,t){let r=new ot(jR(e));return t.forEach((i,o)=>{Tf(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return ys()<=he.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",vs(t)),this.gs.getDocumentsMatchingQuery(e,t,eo.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var WE="LocalStore",U3=3e8,rE=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ve(le),this.Ms=new Ir(o=>HE(o),zE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z_(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function B3(n,e,t,r){return new rE(n,e,t,r)}function oM(n,e){return v(this,null,function*(){let t=te(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ge();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function $3(n,e){let t=te(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(M=>{let R=l.docVersions.get(T);Se(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function sM(n){let e=te(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function H3(n,e){let t=te(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(bt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(M,R,V){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=U3?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=wr(),l=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(z3(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(re.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function z3(n,e,t){let r=ge(),i=ge();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=wr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U(WE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function q3(n,e){let t=te(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=VE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function G3(n,e){let t=te(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Uc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function iE(n,e,t){return v(this,null,function*(){let r=te(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Us(s))throw s;U(WE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function WA(n,e,t){let r=te(n),i=re.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=te(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)}(r,s,Vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:re.min(),t?o:ge())).next(a=>(W3(r,s3(e),a),{documents:a,qs:o})))}function W3(n,e,t){let r=n.xs.get(e)||re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var ef=class{constructor(){this.activeTargetIds=h3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var oE=class{constructor(){this.Fo=new ef,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new ef,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var sE=class{xo(e){}shutdown(){}};var KA="ConnectivityMonitor",tf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){U(KA,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){U(KA,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var xh=null;function aE(){return xh===null?xh=function(){return 268435456+Math.round(2147483648*Math.random())}():xh++,"0x"+xh.toString(16)}var Jv="RestConnection",K3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},cE=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===$h?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=aE(),a=this.Go(e,t.toUriEncodedString());U(Jv,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=qr(l);return this.jo(e,a,u,r,h).then(p=>(U(Jv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ii(Jv,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=K3[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var uE=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var wt="WebChannelConnection",lE=class extends cE{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=aE();return new Promise((a,u)=>{let l=new qv;l.setWithCredentials(!0),l.listenOnce(Gv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ac.NO_ERROR:let p=l.getResponseJson();U(wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Ac.TIMEOUT:U(wt,`RPC '${e}' ${s} timed out`),u(new z(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:let m=l.getStatus();if(U(wt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let M=function(V){let Y=V.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(Y)>=0?Y:N.UNKNOWN}(T.status);u(new z(M,T.message))}else u(new z(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new z(N.UNAVAILABLE,"Connection failed."));break;default:K(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{U(wt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);U(wt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=aE(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Qv(),a=Kv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(wt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,T=new uE({Ho:R=>{y?U(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(U(wt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),U(wt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),M=(R,V,Y)=>{R.listen(V,q=>{try{Y(q)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return M(p,ms.EventType.OPEN,()=>{y||(U(wt,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),M(p,ms.EventType.CLOSE,()=>{y||(y=!0,U(wt,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(p))}),M(p,ms.EventType.ERROR,R=>{y||(y=!0,ii(wt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),T.__(new z(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,ms.EventType.MESSAGE,R=>{var V;if(!y){let Y=R.data[0];Se(!!Y,16349);let q=Y,Ie=q?.error||((V=q[0])===null||V===void 0?void 0:V.error);if(Ie){U(wt,`RPC '${e}' stream ${i} received error:`,Ie);let st=Ie.status,we=function(I){let w=Ge[I];if(w!==void 0)return YR(w)}(st),b=Ie.message;we===void 0&&(we=N.INTERNAL,b="Unknown error status: "+st+" with message "+Ie.message),y=!0,T.__(new z(we,b)),p.close()}else U(wt,`RPC '${e}' stream ${i} received:`,Y),T.a_(Y)}}),M(a,Wv.STAT_EVENT,R=>{R.stat===Mh.PROXY?U(wt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Mh.NOPROXY&&U(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Zv(){return typeof document<"u"?document:null}function Df(n){return new N_(n,!0)}var nf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var QA="PersistentStream",rf=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new nf(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new z(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return U(QA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(U(QA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},dE=class extends rf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=C3(this.serializer,e),r=function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?jn(s.readTime):re.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=O_(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=I_(u)?{documents:R3(o,u)}:{query:M3(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=JR(o,s.resumeToken);let l=P_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=Yh(o,s.snapshotVersion.toTimestamp());let l=P_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=P3(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=O_(this.serializer),t.removeTarget=e,this.k_(t)}},hE=class extends rf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=A3(e.writeResults,e.commitTime),r=jn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=O_(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>S3(this.serializer,r))};this.k_(t)}};var fE=class{},pE=class extends fE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new z(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,x_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(N.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,x_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},gE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(vr(t),this._a=!1):U("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var io="RemoteStore",mE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){oo(this)&&(U(io,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=te(u);l.Ia.add(4),yield Wc(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Cf(l)})}(this))}))}),this.Aa=new gE(r,i)}};function Cf(n){return v(this,null,function*(){if(oo(n))for(let e of n.da)yield e(!0)})}function Wc(n){return v(this,null,function*(){for(let e of n.da)yield e(!1)})}function aM(n,e){let t=te(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),JE(t)?YE(t):Bs(t).x_()&&QE(t,e))}function KE(n,e){let t=te(n),r=Bs(t);t.Ta.delete(e),r.x_()&&cM(t,e),t.Ta.size===0&&(r.x_()?r.B_():oo(t)&&t.Aa.set("Unknown"))}function QE(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bs(n).H_(e)}function cM(n,e){n.Ra.$e(e),Bs(n).Y_(e)}function YE(n){n.Ra=new M_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Bs(n).start(),n.Aa.aa()}function JE(n){return oo(n)&&!Bs(n).M_()&&n.Ta.size>0}function oo(n){return te(n).Ia.size===0}function uM(n){n.Ra=void 0}function Q3(n){return v(this,null,function*(){n.Aa.set("Online")})}function Y3(n){return v(this,null,function*(){n.Ta.forEach((e,t)=>{QE(n,e)})})}function J3(n,e){return v(this,null,function*(){uM(n),JE(n)?(n.Aa.la(e),YE(n)):n.Aa.set("Unknown")})}function Z3(n,e,t){return v(this,null,function*(){if(n.Aa.set("Online"),e instanceof Kh&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){U(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield of(n,r)}else if(e instanceof ws?n.Ra.Ye(e):e instanceof Wh?n.Ra.it(e):n.Ra.et(e),!t.isEqual(re.min()))try{let r=yield sM(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(bt.EMPTY_BYTE_STRING,h.snapshotVersion)),cM(o,u);let p=new Uc(h.target,u,l,h.sequenceNumber);QE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){U(io,"Failed to raise snapshot:",r),yield of(n,r)}})}function of(n,e,t){return v(this,null,function*(){if(!Us(e))throw e;n.Ia.add(1),yield Wc(n),n.Aa.set("Offline"),t||(t=()=>sM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){U(io,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Cf(n)}))})}function lM(n,e){return e().catch(t=>of(n,t,e))}function Sf(n){return v(this,null,function*(){let e=te(n),t=si(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:VE;for(;X3(e);)try{let i=yield q3(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,e4(e,i)}catch(i){yield of(e,i)}dM(e)&&hM(e)})}function X3(n){return oo(n)&&n.Pa.length<10}function e4(n,e){n.Pa.push(e);let t=si(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function dM(n){return oo(n)&&!si(n).M_()&&n.Pa.length>0}function hM(n){si(n).start()}function t4(n){return v(this,null,function*(){si(n).na()})}function n4(n){return v(this,null,function*(){let e=si(n);for(let t of n.Pa)e.X_(t.mutations)})}function r4(n,e,t){return v(this,null,function*(){let r=n.Pa.shift(),i=C_.from(r,e,t);yield lM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Sf(n)})}function i4(n,e){return v(this,null,function*(){e&&si(n).Z_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return _3(s)&&s!==N.ABORTED}(i.code)){let o=r.Pa.shift();si(r).N_(),yield lM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Sf(r)}})}(n,e)),dM(n)&&hM(n)})}function YA(n,e){return v(this,null,function*(){let t=te(n);t.asyncQueue.verifyOperationInProgress(),U(io,"RemoteStore received new credentials");let r=oo(t);t.Ia.add(3),yield Wc(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Cf(t)})}function o4(n,e){return v(this,null,function*(){let t=te(n);e?(t.Ia.delete(2),yield Cf(t)):e||(t.Ia.add(2),yield Wc(t),t.Aa.set("Unknown"))})}function Bs(n){return n.Va||(n.Va=function(t,r,i){let o=te(t);return o.ia(),new dE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:Q3.bind(null,n),e_:Y3.bind(null,n),n_:J3.bind(null,n),J_:Z3.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.Va.N_(),JE(n)?YE(n):n.Aa.set("Unknown")):(yield n.Va.stop(),uM(n))}))),n.Va}function si(n){return n.ma||(n.ma=function(t,r,i){let o=te(t);return o.ia(),new hE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:t4.bind(null,n),n_:i4.bind(null,n),ea:n4.bind(null,n),ta:r4.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.ma.N_(),yield Sf(n)):(yield n.ma.stop(),n.Pa.length>0&&(U(io,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var yE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new On,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ZE(n,e){if(vr("AsyncQueue",`${e}: ${n}`),Us(n))return new z(N.UNAVAILABLE,`${e}: ${n}`);throw n}var sf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Q.comparator(t.key,r.key):(t,r)=>Q.comparator(t.key,r.key),this.keyedMap=Rc(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var af=class{constructor(){this.fa=new Ve(Q.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):K(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Fs=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,sf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var vE=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},_E=class{constructor(){this.queries=JA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=te(t),o=i.queries;i.queries=JA(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new z(N.ABORTED,"Firestore shutting down"))}};function JA(){return new Ir(n=>VR(n),bf)}function fM(n,e){return v(this,null,function*(){let t=te(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new vE,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=ZE(s,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&XE(t)})}function pM(n,e){return v(this,null,function*(){let t=te(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function s4(n,e){let t=te(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&XE(t)}function a4(n,e,t){let r=te(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function XE(n){n.Da.forEach(e=>{e.next()})}var EE,ZA;(ZA=EE||(EE={})).Fa="default",ZA.Cache="cache";var cf=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Fs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Fs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==EE.Cache}};var uf=class{constructor(e){this.key=e}},lf=class{constructor(e){this.key=e}},IE=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ge(),this.mutatedKeys=ge(),this.Xa=jR(e),this.eu=new sf(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new af,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Tf(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?T!==M&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(y,T){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{At:R})}};return M(y)-M(T)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Fs(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new af,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ge(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new lf(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new uf(r))}),t}uu(e){this.Ha=e.qs,this.Za=ge();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Fs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},eI="SyncEngine",wE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},bE=class{constructor(e){this.key=e,this.lu=!1}},TE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Ir(a=>VR(a),bf),this.Tu=new Map,this.Iu=new Set,this.du=new Ve(Q.comparator),this.Eu=new Map,this.Au=new $c,this.Ru={},this.Vu=new Map,this.mu=Bc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function c4(n,e,t=!0){return v(this,null,function*(){let r=EM(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield gM(r,e,t,!0),i})}function u4(n,e){return v(this,null,function*(){let t=EM(n);yield gM(t,e,!0,!1)})}function gM(n,e,t,r){return v(this,null,function*(){let i=yield G3(n.localStore,Vn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield l4(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&aM(n.remoteStore,i),a})}function l4(n,e,t,r,i){return v(this,null,function*(){n.gu=(p,m,y)=>function(M,R,V,Y){return v(this,null,function*(){let q=R.view.nu(V);q.Ds&&(q=yield WA(M.localStore,R.query,!1).then(({documents:b})=>R.view.nu(b,q)));let Ie=Y&&Y.targetChanges.get(R.targetId),st=Y&&Y.targetMismatches.get(R.targetId)!=null,we=R.view.applyChanges(q,M.isPrimaryClient,Ie,st);return eR(M,R.targetId,we._u),we.snapshot})}(n,p,m,y);let o=yield WA(n.localStore,e,!0),s=new IE(e,o.qs),a=s.nu(o.documents),u=jc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);eR(n,t,l._u);let h=new wE(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function d4(n,e,t){return v(this,null,function*(){let r=te(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!bf(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield iE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&KE(r.remoteStore,i.targetId),DE(r,i.targetId)}).catch(js))):(DE(r,i.targetId),yield iE(r.localStore,i.targetId,!0))})}function h4(n,e){return v(this,null,function*(){let t=te(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),KE(t.remoteStore,r.targetId))})}function f4(n,e,t){return v(this,null,function*(){let r=E4(n);try{let i=yield function(s,a){let u=te(s),l=Qe.now(),h=a.reduce((y,T)=>y.add(T.key),ge()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=wr(),M=ge();return u.Os.getEntries(y,h).next(R=>{T=R,T.forEach((V,Y)=>{Y.isValidDocument()||(M=M.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(R=>{p=R;let V=[];for(let Y of a){let q=v3(Y,p.get(Y.key).overlayedDocument);q!=null&&V.push(new $n(Y.key,q,PR(q.value.mapValue),ei.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,a)}).next(R=>{m=R;let V=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,V)})}).then(()=>({batchId:m.batchId,changes:BR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ve(le)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Kc(r,i.changes),yield Sf(r.remoteStore)}catch(i){let o=ZE(i,"Failed to persist write");t.reject(o)}})}function mM(n,e){return v(this,null,function*(){let t=te(n);try{let r=yield H3(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Se(s.lu,14607):i.removedDocuments.size>0&&(Se(s.lu,42227),s.lu=!1))}),yield Kc(t,r,e)}catch(r){yield js(r)}})}function XA(n,e,t){let r=te(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=te(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&XE(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function p4(n,e,t){return v(this,null,function*(){let r=te(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ve(Q.comparator);s=s.insert(o,vn.newNoDocument(o,re.min()));let a=ge().add(o),u=new Gh(re.min(),new Map,new Ve(le),s,a);yield mM(r,u),r.du=r.du.remove(o),r.Eu.delete(e),tI(r)}else yield iE(r.localStore,e,!1).then(()=>DE(r,e,t)).catch(js)})}function g4(n,e){return v(this,null,function*(){let t=te(n),r=e.batch.batchId;try{let i=yield $3(t.localStore,e);vM(t,r,null),yM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Kc(t,i)}catch(i){yield js(i)}})}function m4(n,e,t){return v(this,null,function*(){let r=te(n);try{let i=yield function(s,a){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Se(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);vM(r,e,t),yM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Kc(r,i)}catch(i){yield js(i)}})}function yM(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function vM(n,e,t){let r=te(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function DE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||_M(n,r)})}function _M(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(KE(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),tI(n))}function eR(n,e,t){for(let r of t)r instanceof uf?(n.Au.addReference(r.key,e),y4(n,r)):r instanceof lf?(U(eI,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||_M(n,r.key)):K(19791,{yu:r})}function y4(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(U(eI,"New document in limbo: "+t),n.Iu.add(r),tI(n))}function tI(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new Q(Be.fromString(e)),r=n.mu.next();n.Eu.set(r,new bE(t)),n.du=n.du.insert(t,r),aM(n.remoteStore,new Uc(Vn(wf(t.path)),r,"TargetPurposeLimboResolution",LE.ue))}}function Kc(n,e,t){return v(this,null,function*(){let r=te(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=eE.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(u,l){return v(this,null,function*(){let h=te(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Us(p))throw p;U(WE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),T=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(T);h.Fs=h.Fs.insert(m,M)}}})}(r.localStore,o))})}function v4(n,e){return v(this,null,function*(){let t=te(n);if(!t.currentUser.isEqual(e)){U(eI,"User change. New user:",e.toKey());let r=yield oM(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new z(N.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Kc(t,r.Bs)}})}function _4(n,e){let t=te(n),r=t.Eu.get(e);if(r&&r.lu)return ge().add(r.key);{let i=ge(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function EM(n){let e=te(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=mM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p4.bind(null,e),e.hu.J_=s4.bind(null,e.eventManager),e.hu.pu=a4.bind(null,e.eventManager),e}function E4(n){let e=te(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m4.bind(null,e),e}var IM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=Df(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return B3(this.persistence,new nE,t.initialUser,this.serializer)}Du(t){return new Zh(X_.Vi,this.serializer)}bu(t){return new oE}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),CE=class extends IM{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Se(this.persistence.referenceDelegate instanceof Xh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new U_(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Zh(r=>Xh.Vi(r,t),this.serializer)}};var I4=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>XA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=v4.bind(null,this.syncEngine),yield o4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new _E}()}createDatastore(t){let r=Df(t.databaseInfo.databaseId),i=function(s){return new lE(s)}(t.databaseInfo);return function(s,a,u,l){return new pE(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new mE(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>XA(this.syncEngine,r,0),function(){return tf.C()?new tf:new sE}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let m=new TE(o,s,a,u,l,h);return p&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield function(o){return v(this,null,function*(){let s=te(o);U(io,"RemoteStore shutting down."),s.Ia.add(5),yield Wc(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var df=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ai="FirestoreClient",SE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=kc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){U(ai,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U(ai,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new On;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=ZE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Xv(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U(ai,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield oM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{ii("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{U("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ii("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function tR(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield w4(n);U(ai,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>YA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>YA(e.remoteStore,i)),n._onlineComponents=e})}function w4(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(ai,"Using user provided OfflineComponentProvider");try{yield Xv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ii("Error using user provided cache. Falling back to memory cache: "+t),yield Xv(n,new IM)}}else U(ai,"Using default OfflineComponentProvider"),yield Xv(n,new CE(void 0));return n._offlineComponents})}function wM(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(ai,"Using user provided OnlineComponentProvider"),yield tR(n,n._uninitializedComponentsProvider._online)):(U(ai,"Using default OnlineComponentProvider"),yield tR(n,new I4))),n._onlineComponents})}function b4(n){return wM(n).then(e=>e.syncEngine)}function AE(n){return v(this,null,function*(){let e=yield wM(n),t=e.eventManager;return t.onListen=c4.bind(null,e.syncEngine),t.onUnlisten=d4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=u4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=h4.bind(null,e.syncEngine),t})}function T4(n,e,t={}){let r=new On;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,u,l){let h=new df({next:m=>{h.Ou(),s.enqueueAndForget(()=>pM(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new z(N.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new z(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new cf(wf(a.path),h,{includeMetadataChanges:!0,ka:!0});return fM(o,p)}(yield AE(n),n.asyncQueue,e,t,r)})),r.promise}function bM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var nR=new Map;var TM="firestore.googleapis.com",rR=!0,hf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TM,this.ssl=rR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:rR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<V3)throw new z(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Hc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new e_;switch(r.type){case"firstParty":return new i_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=nR.get(t);r&&(U("ComponentProvider","Removing Datastore"),nR.delete(t),r.terminate())}(this),Promise.resolve()}};function DM(n,e,t,r={}){var i;n=Fn(n,Hc);let o=qr(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(eh(`https://${u}`),th("Firestore",!0)),s.host!==TM&&s.host!==u&&ii("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Zt(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=it.MOCK_USER;else{h=zC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new z(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new it(m)}n._authCredentials=new t_(new Lh(h,p))}}var ff=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},pt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Gc(t,n._jsonSchema))return new n(e,r||null,new Q(Be.fromString(t.referencePath)))}};pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Ke("string",pt._jsonSchemaVersion),referencePath:Ke("string")};var zc=class n extends ff{constructor(e,t,r){super(e,t,wf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new Q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function CM(n,e,...t){if(n=qe(n),arguments.length===1&&(e=kc.newId()),kH("doc","path",e),n instanceof Hc){let r=Be.fromString(e,...t);return wA(r),new pt(n,null,new Q(r))}{if(!(n instanceof pt||n instanceof zc))throw new z(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Be.fromString(e,...t));return wA(r),new pt(n.firestore,n instanceof zc?n.converter:null,new Q(r))}}var iR="AsyncQueue",pf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new nf(this,"async_queue_retry"),this.oc=()=>{let r=Zv();r&&U(iR,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Zv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Zv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new On;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Us(e))throw e;U(iR,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,vr("INTERNAL UNHANDLED ERROR: ",oR(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=yE.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&K(47125,{hc:oR(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function oR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function sR(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var ci=class extends Hc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new pf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new pf(e),this._firestoreClient=void 0,yield e}})}};function SM(n,e){let t=typeof n=="object"?n:Nn(),r=typeof n=="string"?n:e||$h,i=en(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=HC("firestore");o&&DM(i,...o)}return i}function nI(n){if(n._terminated)throw new z(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||D4(n),n._firestoreClient}function D4(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new u_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,bM(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new SE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var ti=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(bt.fromBase64String(e))}catch(t){throw new z(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gc(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Ke("string",ti._jsonSchemaVersion),bytes:Ke("string")};var Ls=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var qc=class{constructor(e){this._methodName=e}};var ni=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Gc(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};ni._jsonSchemaVersion="firestore/geoPoint/1.0",ni._jsonSchema={type:Ke("string",ni._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};var ri=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gc(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new z(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:Ke("string",ri._jsonSchemaVersion),vectorValues:Ke("object")};var C4=/^__.*__$/,RE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new $n(e,this.data,this.fieldMask,t,this.fieldTransforms):new ro(e,this.data,t,this.fieldTransforms)}},gf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $n(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function AM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{Ec:n})}}var ME=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return yf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(AM(this.Ec)&&C4.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},NE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Df(e)}Dc(e,t,r,i=!1){return new ME({Ec:e,methodName:t,bc:r,path:qt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function RM(n){let e=n._freezeSettings(),t=Df(n._databaseId);return new NE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function S4(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);rI("Data must be an object, but it was:",s,r);let a=MM(r,s),u,l;if(o.merge)u=new rn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=PE(e,p,t);if(!s.contains(m))throw new z(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);PM(h,m)||h.push(m)}u=new rn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new RE(new zt(a),u,l)}var mf=class n extends qc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function A4(n,e,t,r){let i=n.Dc(1,e,t);rI("Data must be an object, but it was:",i,r);let o=[],s=zt.empty();ui(r,(u,l)=>{let h=iI(e,u,t);l=qe(l);let p=i.gc(h);if(l instanceof mf)o.push(h);else{let m=Af(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new rn(o);return new gf(s,a,i.fieldTransforms)}function R4(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[PE(e,r,t)],u=[i];if(o.length%2!=0)throw new z(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(PE(e,o[m])),u.push(o[m+1]);let l=[],h=zt.empty();for(let m=a.length-1;m>=0;--m)if(!PM(l,a[m])){let y=a[m],T=u[m];T=qe(T);let M=s.gc(y);if(T instanceof mf)l.push(y);else{let R=Af(T,M);R!=null&&(l.push(y),h.set(y,R))}}let p=new rn(l);return new gf(h,p,s.fieldTransforms)}function Af(n,e){if(NM(n=qe(n)))return rI("Unsupported field value:",e,n),MM(n,e);if(n instanceof qc)return function(r,i){if(!AM(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Af(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Qe.fromDate(r);return{timestampValue:Yh(i.serializer,o)}}if(r instanceof Qe){let o=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yh(i.serializer,o)}}if(r instanceof ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ti)return{bytesValue:JR(i.serializer,r._byteString)};if(r instanceof pt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:GE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ri)return function(s,a){return{mapValue:{fields:{[UE]:{stringValue:BE},[Cs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return qE(a.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${FE(r)}`)}(n,e)}function MM(n,e){let t={};return TR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ui(n,(r,i)=>{let o=Af(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function NM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qe||n instanceof ni||n instanceof ti||n instanceof pt||n instanceof qc||n instanceof ri)}function rI(n,e,t){if(!NM(t)||!uR(t)){let r=FE(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function PE(n,e,t){if((e=qe(e))instanceof Ls)return e._internalPath;if(typeof e=="string")return iI(n,e);throw yf("Field path arguments must be of type string or ",n,!1,void 0,t)}var M4=new RegExp("[~\\*/\\[\\]]");function iI(n,e,t){if(e.search(M4)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ls(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new z(N.INVALID_ARGUMENT,a+n+u)}function PM(n,e){return n.some(t=>t.isEqual(e))}var vf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new xE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(xM("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},xE=class extends vf{data(){return super.data()}};function xM(n,e){return typeof e=="string"?iI(n,e):e instanceof Ls?e._internalPath:e._delegate._internalPath}function N4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new z(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kE=class{convertValue(e,t="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw K(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ui(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Cs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ke(s.doubleValue));return new ri(o)}convertGeoPoint(e){return new ni(ke(e.latitude),ke(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=If(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lc(e));default:return null}}convertTimestamp(e){let t=_r(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Be.fromString(e);Se(rM(r),9688,{name:e});let i=new Hh(r.get(1),r.get(3)),o=new Q(r.popFirst(5));return i.isEqual(t)||vr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function P4(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ji=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Zi=class n extends vf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new bs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(xM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new z(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Zi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zi._jsonSchema={type:Ke("string",Zi._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};var bs=class extends Zi{data(e={}){return super.data(e)}},Ts=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ji(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bs(this._firestore,this._userDataWriter,r.key,r,new Ji(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new bs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ji(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new bs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ji(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:x4(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new z(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function x4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:n})}}function kM(n){n=Fn(n,pt);let e=Fn(n.firestore,ci);return T4(nI(e),n._key).then(t=>VM(e,n,t))}Ts._jsonSchemaVersion="firestore/querySnapshot/1.0",Ts._jsonSchema={type:Ke("string",Ts._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};var _f=class extends kE{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}};function OM(n,e,t){n=Fn(n,pt);let r=Fn(n.firestore,ci),i=P4(n.converter,e,t);return LM(r,[S4(RM(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ei.none())])}function FM(n,e,t,...r){n=Fn(n,pt);let i=Fn(n.firestore,ci),o=RM(i),s;return s=typeof(e=qe(e))=="string"||e instanceof Ls?R4(o,"updateDoc",n._key,e,t,r):A4(o,"updateDoc",n._key,e),LM(i,[s.toMutation(n._key,ei.exists(!0))])}function oI(n,...e){var t,r,i;n=qe(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||sR(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(sR(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof pt)l=Fn(n.firestore,ci),h=wf(n._key.path),u={next:p=>{e[s]&&e[s](VM(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Fn(n,ff);l=Fn(p.firestore,ci),h=p._query;let m=new _f(l);u={next:y=>{e[s]&&e[s](new Ts(l,m,p,y))},error:e[s+1],complete:e[s+2]},N4(n._query)}return function(m,y,T,M){let R=new df(M),V=new cf(y,R,T);return m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return fM(yield AE(m),V)})),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return pM(yield AE(m),V)}))}}(nI(l),h,a,u)}function LM(n,e){return function(r,i){let o=new On;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return f4(yield b4(r),i,o)})),o.promise}(nI(n),e)}function VM(n,e,t){let r=t.docs.get(e._key),i=new _f(n);return new Zi(n,i,e._key,r,new Ji(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Vs=i})(Wr),ft(new Ue("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ci(new n_(r.getProvider("auth-internal")),new o_(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ce(vA,_A,e),Ce(vA,_A,"esm2017")})();var Rf=function(){return Rf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Rf.apply(this,arguments)};var F4={includeMetadataChanges:!1};function jM(n,e){return e===void 0&&(e=F4),new ue(function(t){var r=oI(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function UM(n){return jM(n,{includeMetadataChanges:!0})}function BM(n,e){return e===void 0&&(e={}),UM(n).pipe(ie(function(t){return $M(t,e)}))}function $M(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Rf(Rf({},r),(t={},t[e.idField]=n.id,t))}var so=class{constructor(e){return e}},HM="firestore",sI=class{constructor(){return Kr(HM)}};var aI=new B("angularfire2.firestore-instances");function L4(n,e){let t=zi(HM,n,e);return t&&new so(t)}function V4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new so(r)}}var j4={provide:sI,deps:[[new It,aI]]},U4={provide:so,useFactory:L4,deps:[[new It,aI],mn]};function zM(n,...e){return Ce("angularfire",Pn.full,"fst"),Ut([U4,j4,{provide:aI,useFactory:V4(n),multi:!0,deps:[be,Xe,xn,fr,[new It,Sc],[new It,ps],...e]}])}var cI=Ot(BM,!0);var $s=Ot(CM,!0,2);var qM=Ot(kM,!0);var GM=Ot(SM,!0);var WM=Ot(OM,!0,2);var KM=Ot(FM,!0,2);var Hs=class n{constructor(){}firestore=x(so);getPersonalData(){let e=$s(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return cI(e)}getPersonalDataOnce(){return v(this,null,function*(){let e=$s(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q"),t=yield qM(e);return t.exists()?t.data():void 0})}getDocument(e){if(!this.firestore)return console.warn("Firestore no est\xE1 inicializado. Retornando array vac\xEDo."),J([]);let t=$s(this.firestore,e);return cI(t)}updateDocument(e,t,r){let i=$s(this.firestore,e,t);return KM(i,r)}updatePersonalData(e){let t=$s(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return WM(t,e,{merge:!0})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})};var Mf=class n{title=null;secondTitle=null;thirdTitle=null;content=null;openPanel=!1;togglePanel(){this.openPanel=!this.openPanel}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-accordion"]],inputs:{title:"title",secondTitle:"secondTitle",thirdTitle:"thirdTitle",content:"content"},decls:13,vars:8,consts:[[1,"detail-panel"],[1,"detail-header",3,"click"],[1,"accordion-btn"],[1,"detail-content"],[1,"detail-inner"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1),_e("click",function(){return r.togglePanel()}),k(2,"h2"),j(3),O(),k(4,"h4"),j(5),O(),k(6,"h5"),j(7),O(),Z(8,"button",2),O(),k(9,"div",3)(10,"div",4)(11,"p"),j(12),O()()()()),t&2&&(H(3),pn(r.title),H(2),pn(r.secondTitle),H(2),pn(r.thirdTitle),H(),He("open",r.openPanel),H(),He("open",r.openPanel),H(3),rd(" ",r.content," "))},dependencies:[ze],styles:['.detail-panel[_ngcontent-%COMP%]{background-color:var(--color-subpanel-dark);margin:40px 0}.detail-header[_ngcontent-%COMP%]{position:relative;cursor:pointer;-webkit-user-select:none;user-select:none;padding:1rem;background-color:var(--color-subpanel-child-dark);border-radius:8px;transition:background .2s ease}.detail-header[_ngcontent-%COMP%]:hover{background:var(--color-selected-dark)}.detail-content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .7s cubic-bezier(.11,.37,.17,.72)}.detail-content.open[_ngcontent-%COMP%]{max-height:500px;transition:max-height 1s ease-in}.detail-inner[_ngcontent-%COMP%]{padding:1rem}.accordion-btn[_ngcontent-%COMP%]{position:absolute;right:23px;top:50%;transform:translateY(-50%);width:20px;height:20px;border:none;background:url("./media/mas-SRVL4M23.png") no-repeat center;background-size:contain;cursor:pointer;transition:background .7s cubic-bezier(.18,0,1,.79)}.accordion-btn.open[_ngcontent-%COMP%]{background-image:url("./media/menos-3VJFCNR6.png");transition:background .2s cubic-bezier(.18,0,1,.79)}']})};function B4(n,e){if(n&1){let t=jr();ka(0),k(1,"div",2),_e("click",function(){nr(t);let i=Ur();return rr(i.selectView("experience"))}),k(2,"h2"),j(3,"Experiencia laboral"),O(),k(4,"p"),j(5,"Trayectoria profesional y proyectos destacados."),O()(),k(6,"div",3),_e("click",function(){nr(t);let i=Ur();return rr(i.selectView("technologies"))}),k(7,"h2"),j(8,"Tecnolog\xEDas especializadas"),O(),k(9,"p"),j(10,"Stack t\xE9cnico y herramientas utilizadas."),O()(),Oa()}}function $4(n,e){if(n&1){let t=jr();ka(0),k(1,"div",4)(2,"button",5),_e("click",function(){nr(t);let i=Ur();return rr(i.selectView("menu"))}),j(3,"\u2190 Volver"),O(),k(4,"div",6),Z(5,"app-accordion",7)(6,"app-accordion",8),O()(),Oa()}n&2&&(H(5),W("title","Desarrollador Full-Stack")("secondTitle","Indra Sistemas")("thirdTitle","Octubre 2024 - ACTUALMENTE"),H(),W("title","Desarrollador Full-Stack")("secondTitle","Mercanza")("thirdTitle","Septiembre 2023 - Diciembre 2023"))}function H4(n,e){if(n&1){let t=jr();ka(0),k(1,"div",4)(2,"button",5),_e("click",function(){nr(t);let i=Ur();return rr(i.selectView("menu"))}),j(3,"\u2190 Volver"),O(),k(4,"div",6),Z(5,"app-accordion",9)(6,"app-accordion",10)(7,"app-accordion",11)(8,"app-accordion",12)(9,"app-accordion",13)(10,"app-accordion",14)(11,"app-accordion",15)(12,"app-accordion",16)(13,"app-accordion",17)(14,"app-accordion",18)(15,"app-accordion",19)(16,"app-accordion",20)(17,"app-accordion",21)(18,"app-accordion",22)(19,"app-accordion",23)(20,"app-accordion",24)(21,"app-accordion",25)(22,"app-accordion",26)(23,"app-accordion",27)(24,"app-accordion",28)(25,"app-accordion",29)(26,"app-accordion",30)(27,"app-accordion",31)(28,"app-accordion",32),O()(),Oa()}n&2&&(H(5),W("title","Java")("secondTitle","Nivel: Alto"),H(),W("title","TypeScript")("secondTitle","Nivel: Alto"),H(),W("title","Python")("secondTitle","Nivel: Intermedio"),H(),W("title","C#")("secondTitle","Nivel: Intermedio"),H(),W("title","JavaScript")("secondTitle","Nivel: B\xE1sico"),H(),W("title","PHP")("secondTitle","Nivel: B\xE1sico"),H(),W("title","HTML5 & CSS3")("secondTitle","Nivel: Intermedio"),H(),W("title","JSON & XML")("secondTitle","Nivel: Alto"),H(),W("title","SQL")("secondTitle","Nivel: Intermedio"),H(),W("title","Spring Boot")("secondTitle","Nivel: Intermedio"),H(),W("title","Angular")("secondTitle","Nivel: Intermedio"),H(),W("title","Ionic")("secondTitle","Nivel: B\xE1sico"),H(),W("title","Node.js")("secondTitle","Nivel: B\xE1sico"),H(),W("title","MySQL & SQL Server")("secondTitle","Nivel: Intermedio"),H(),W("title","MongoDB & Firebase")("secondTitle","Nivel: Intermedio"),H(),W("title","MQTT (Mosquitto)")("secondTitle","Nivel: Alto"),H(),W("title","Kafka, RabbitMQ, NATS")("secondTitle","Nivel: Intermedio"),H(),W("title","Git")("secondTitle","Nivel: Alto"),H(),W("title","Docker")("secondTitle","Nivel: Alto"),H(),W("title","Jenkins")("secondTitle","Nivel: Intermedio"),H(),W("title","JIRA & Kanban (Trello)")("secondTitle","Nivel: Alto"),H(),W("title","Android Studio & Capacitor")("secondTitle","Nivel: Intermedio"),H(),W("title","Unity & Processing")("secondTitle","Nivel: Intermedio"),H(),W("title","Unreal Engine")("secondTitle","Nivel: B\xE1sico"))}var Nf=class n{view="menu";openPanels={indra:!1,mercanza:!1};selectView(e){this.view=e}togglePanel(e){this.openPanels[e]=!this.openPanels[e]}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-experience-panel"]],decls:4,vars:3,consts:[[1,"experience-wrapper"],[4,"ngIf"],[1,"experience-card","experience",3,"click"],[1,"experience-card","technologies",3,"click"],[1,"experience-detail"],[1,"back-btn",3,"click"],[1,"detail-scroll"],["content",`El proyecto en el que actualmente trabajo es un sistema de mando y control,
                          encargado de gestionar recursos, publicar instrucciones y llevar un seguimiento de las acciones.
                          Ademas de comunicarse con otras plataformas con objetivos similares a nuestro sistema.
                          
                          Los desarrollos principales en los que he trabajado han sido:
                          
                          La migracion de la aplicaci\xF3n de Windows a Linux y Android.
                          
                          Integraci\xF3n en el nuevas tecnolog\xEDas y desarrollado un nuevo frontal m\xE1s din\xE1mico y 
                          con apariencia mas moderna usando Angular.
                          
                          Implementar nuevas funcionalidades en un sistema programado en Java con mas de 15 a\xF1os y consolidado.
                          Sin quebrar el funcionamiento de los sistemas ya 
                          existentes y otros que estan en desarrollo y comparten servicios en com\xFAn.`,3,"title","secondTitle","thirdTitle"],["content",`Los proyectos en los que trabaj\xE9 eran encargados de llevar el tratamiento 
                          de datos personales y de negocio de diversas empresas con sus empleados o clientes.
                          
                          Estos proyectos usaban diferentes tecnolog\xEDas pero en los que mas desarroll\xE9
                          usaban Angular y .NET con C#.
          
                          En estas aplicaciones web realic\xE9 sobre todo tareas
                          de resoluci\xF3n de incidencias, correci\xF3n de componentes de interfaz gr\xE1fica y
                          optimizaci\xF3n de consultas a APIs y Bases de datos relaccionales.`,3,"title","secondTitle","thirdTitle"],["content","Desarrollo backend aplicando programaci\xF3n orientada a objetos, creaci\xF3n de APIs REST, WebSockets, manejo de dependencias con Maven y ejecuci\xF3n en servidores de aplicaciones. Experiencia integrando backend con frontend.",3,"title","secondTitle"],["content","Uso avanzado de TypeScript en aplicaciones Angular, tipado est\xE1tico, gen\xE9ricos, manejo de estructuras de datos y l\xF3gica de negocio mantenible.",3,"title","secondTitle"],["content","Desarrollo de scripts y aplicaciones backend sencillas, automatizaci\xF3n de tareas y consumo de APIs.",3,"title","secondTitle"],["content","Desarrollo de aplicaciones y scripts, principalmente en entornos de creaci\xF3n interactiva y motores de juego.",3,"title","secondTitle"],["content","Uso de JavaScript para complementar funcionalidades frontend y comprensi\xF3n de su integraci\xF3n con frameworks modernos.",3,"title","secondTitle"],["content","Conocimientos b\xE1sicos para desarrollo web backend y mantenimiento de aplicaciones existentes.",3,"title","secondTitle"],["content","Maquetaci\xF3n de interfaces web, estructuraci\xF3n sem\xE1ntica y dise\xF1o responsive adaptable a distintos dispositivos.",3,"title","secondTitle"],["content","Uso intensivo de formatos de intercambio de datos en APIs REST, configuraci\xF3n de servicios y comunicaci\xF3n entre sistemas.",3,"title","secondTitle"],["content","Consultas a bases de datos relacionales, operaciones CRUD y comprensi\xF3n de modelos de datos.",3,"title","secondTitle"],["content","Creaci\xF3n de servicios REST, controladores, inyecci\xF3n de dependencias y estructuraci\xF3n de proyectos backend.",3,"title","secondTitle"],["content","Desarrollo de aplicaciones SPA, consumo de APIs REST, componentes, servicios y manejo de estado con TypeScript.",3,"title","secondTitle"],["content","Uso de Ionic para el desarrollo de aplicaciones h\xEDbridas y adaptaci\xF3n de interfaces a dispositivos m\xF3viles.",3,"title","secondTitle"],["content","Conocimientos b\xE1sicos del runtime para ejecuci\xF3n de aplicaciones JavaScript y soporte a herramientas de desarrollo.",3,"title","secondTitle"],["content","Uso de bases de datos relacionales, consultas SQL, gesti\xF3n de datos y conexi\xF3n desde aplicaciones backend.",3,"title","secondTitle"],["content","Uso de bases de datos NoSQL y BaaS para almacenamiento de datos, autenticaci\xF3n y servicios en tiempo real.",3,"title","secondTitle"],["content","Uso de mensajer\xEDa ligera para comunicaci\xF3n entre dispositivos y sistemas distribuidos mediante el protocolo MQTT.",3,"title","secondTitle"],["content","Conocimientos en sistemas de mensajer\xEDa y streaming para comunicaci\xF3n as\xEDncrona entre servicios.",3,"title","secondTitle"],["content","Control de versiones, trabajo con ramas, resoluci\xF3n de conflictos y gesti\xF3n de repositorios.",3,"title","secondTitle"],["content","Creaci\xF3n y uso de contenedores para entornos de desarrollo y despliegue de servicios backend.",3,"title","secondTitle"],["content","Uso de pipelines b\xE1sicos para integraci\xF3n y automatizaci\xF3n de procesos de build.",3,"title","secondTitle"],["content","Gesti\xF3n de tareas, seguimiento de proyectos y trabajo colaborativo con metodolog\xEDas \xE1giles.",3,"title","secondTitle"],["content","Desarrollo y compilaci\xF3n de aplicaciones m\xF3viles, integraci\xF3n con funcionalidades nativas y despliegue en dispositivos f\xEDsicos.",3,"title","secondTitle"],["content","Desarrollo de proyectos interactivos y videojuegos, l\xF3gica de juego y creaci\xF3n visual.",3,"title","secondTitle"],["content","Conocimientos iniciales en motores gr\xE1ficos y desarrollo de experiencias interactivas.",3,"title","secondTitle"]],template:function(t,r){t&1&&(k(0,"div",0),fn(1,B4,11,0,"ng-container",1)(2,$4,7,6,"ng-container",1)(3,H4,29,48,"ng-container",1),O()),t&2&&(H(),W("ngIf",r.view==="menu"),H(),W("ngIf",r.view==="experience"),H(),W("ngIf",r.view==="technologies"))},dependencies:[ze,cr,Mf],styles:[".experience-wrapper[_ngcontent-%COMP%]{display:flex;gap:2rem;width:100%;height:100%;max-width:900px;margin:0 auto;align-items:anchor-center}.experience-card[_ngcontent-%COMP%]{flex:1;padding:2.5rem;background:#ffffff0a;border:1px solid rgba(255,255,255,.08);cursor:pointer;transition:all .35s ease;position:relative}.experience-card[_ngcontent-%COMP%]:hover{background:#ffffff14;transform:translateY(-6px)}.experience-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem;letter-spacing:.08em;margin-bottom:1rem;text-transform:uppercase}.experience-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;opacity:.85}.experience-card.experience[_ngcontent-%COMP%]{border-left:4px solid #6aa9ff}.experience-card.technologies[_ngcontent-%COMP%]{border-left:4px solid #7dffb3}.experience-detail[_ngcontent-%COMP%]{width:100%;height:100%;align-content:center;position:relative}.back-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6aa9ff;font-size:1rem;cursor:pointer;margin-bottom:1.5rem;position:absolute;top:0}.detail-scroll[_ngcontent-%COMP%]{max-height:93%;overflow-y:auto;padding-right:.75rem}.detail-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.detail-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff40;border-radius:3px}"]})};var Pf=class n{abierta=!1;toggleCarta(){this.abierta=!this.abierta}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-card"]],decls:66,vars:2,consts:[[1,"card",3,"click"],[1,"interior"],[1,"borde"],[1,"solapa"],[1,"sello"],["src","assets/Sello.png","alt",""],[1,"papel"],[1,"contenido-carta"],["src","assets/MarcaAguaRojaModerna.png","alt","Marca de Agua",1,"marca-agua"],[1,"texto-carta"],["src","assets/lineaClasica001.png","alt","Linea Hornamental",1,"linea-hornamental"],[1,"body"],[1,"main-content"],[1,"question-selection"],[1,"despedida"],[1,"firma"],["src","/assets/lineaClasica001.png","alt","Linea Hornamental",1,"linea-hornamental-inferior"],[1,"cuerpo-sobre"]],template:function(t,r){t&1&&(k(0,"div",0),_e("click",function(){return r.toggleCarta()}),Z(1,"div",1)(2,"div",2)(3,"div",3),k(4,"div",4),Z(5,"img",5),O(),k(6,"div",6)(7,"div",7),Z(8,"img",8),k(9,"div",9),Z(10,"img",10),k(11,"div",11)(12,"div",12)(13,"p"),j(14," Mi nombre es "),k(15,"strong"),j(16,"Felipe Izquierdo Romero"),O(),j(17," y soy desarrollador "),k(18,"strong"),j(19,"Full-Stack"),O(),j(20,", especializado en "),k(21,"strong"),j(22,"Java, Spring Boot y Angular"),O(),j(23,". "),O(),k(24,"p"),j(25," Me dedico al desarrollo de aplicaciones para "),k(26,"strong"),j(27,"Web y Android"),O(),j(28,", con un enfoque claro en la "),k(29,"strong"),j(30,"escalabilidad"),O(),j(31,", la "),k(32,"strong"),j(33,"sostenibilidad del software"),O(),j(34," y la aplicaci\xF3n de buenas pr\xE1cticas de programaci\xF3n. "),O(),k(35,"p"),j(36," Disfruto especialmente del trabajo colaborativo, ya que considero que la comunicaci\xF3n y el intercambio de ideas son clave para resolver los retos que surgen al desarrollar nuevas funcionalidades. "),O()(),k(37,"div",13)(38,"p"),j(39,"\xBFPor qu\xE9 deber\xEDa considerarme su elecci\xF3n?"),O(),k(40,"ul")(41,"li"),j(42,"Perfil anal\xEDtico y orientado a la resoluci\xF3n de problemas"),O(),k(43,"li"),j(44,"Forma de trabajo ordenada y estructurada"),O(),k(45,"li"),j(46,"Comunicaci\xF3n clara y efectiva en equipo"),O(),k(47,"li"),j(48,"Alto grado de implicaci\xF3n en los proyectos"),O(),k(49,"li"),j(50,"Actitud proactiva y en\xE9rgica"),O()()(),k(51,"p",14),j(52," Agradezco su tiempo y atenci\xF3n. Quedo a su disposici\xF3n para ampliar cualquier informaci\xF3n y para conversar sobre c\xF3mo puedo aportar valor a su equipo y a sus proyectos. "),O(),k(53,"p",15),j(54," Atentamente,"),Z(55,"br"),k(56,"strong"),j(57,"Felipe Izquierdo Romero"),O()()(),Z(58,"img",16)(59,"br")(60,"br")(61,"br")(62,"br")(63,"br")(64,"br"),O()()(),Z(65,"div",17),O()),t&2&&He("abierta",r.abierta)},styles:[".card[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;cursor:pointer;border-radius:35px;transform:translate(0);transition:transform .5s ease}.borde[_ngcontent-%COMP%]{position:absolute;top:0;left:0;border-radius:35px;width:100%;height:100%;background-color:#000;clip-path:polygon(0 0,1% 0,50% 49%,99% 0,100% 0,50% 50%);z-index:4}.cuerpo-sobre[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:var(--color-card);border-radius:35px;width:100%;height:100%;clip-path:polygon(50% 50%,100% 0%,100% 100%,0 100%,0 0%);z-index:2}.sello[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:80px;height:80px;border-radius:50%;transform:translate(-50%,-50%);transition:transform .4s ease,opacity .3s ease;z-index:4;display:flex;align-items:center;justify-content:center}.sello[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;border-radius:50%;pointer-events:none}.solapa[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--color-card);clip-path:polygon(0 0,50% 50%,100% 0);transform-origin:top center;transform:rotateX(0);transition:transform .6s ease;z-index:2;border-radius:35px}.interior[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;border-radius:35px}.papel[_ngcontent-%COMP%]{position:absolute;bottom:0;left:10%;width:80%;height:90%;background-color:var(--color-paper-card);border-radius:3px;box-shadow:0 14px 50px #0003;overflow:hidden;transition:transform .6s ease,height .6s ease,opacity .3s ease;z-index:1;opacity:0}.texto-carta[_ngcontent-%COMP%]{position:relative;z-index:1;color:#000;padding:40px}.contenido-carta[_ngcontent-%COMP%]{position:relative;max-height:100%;overflow-y:auto}.marca-agua[_ngcontent-%COMP%]{position:absolute;inset:5% 0 0;width:100%;height:100%;object-fit:contain;opacity:.12;z-index:0;pointer-events:none}.linea-hornamental[_ngcontent-%COMP%], .linea-hornamental-inferior[_ngcontent-%COMP%]{width:100%;height:50%;z-index:0;pointer-events:none}.despedida[_ngcontent-%COMP%]{margin-top:1.5rem}.firma[_ngcontent-%COMP%]{margin-top:6.7rem;text-align:right}.card.abierta[_ngcontent-%COMP%]   .solapa[_ngcontent-%COMP%]{transform:rotateX(180deg);z-index:0}.card[_ngcontent-%COMP%]:not(.abierta)   .solapa[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_solapa-subir-z .6s forwards}.card.abierta[_ngcontent-%COMP%]   .papel[_ngcontent-%COMP%]{height:160%;transform:translateY(-30%);transition-delay:.4s;opacity:1}.card.abierta[_ngcontent-%COMP%]{transform:translateY(150%) scale(1.5)}p[_ngcontent-%COMP%]{font-family:var(--font-ui-accent)}@keyframes _ngcontent-%COMP%_solapa-subir-z{0%{z-index:1}99%{z-index:1}to{z-index:3}}"]})};var xf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-personal-info"]],decls:21,vars:0,consts:[[1,"info-container"],[1,"padre"],[1,"decoration-line"],[1,"business-card"],[1,"profile"],["src","assets/FotoPerfil.png","alt","Foto de Felipe Izquierdo Romero"],[1,"info"],[1,"contact"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1),Z(2,"div",2),k(3,"div",3)(4,"div",4),Z(5,"img",5),O(),k(6,"div",6)(7,"h1"),j(8,"Felipe Izquierdo Romero"),O(),k(9,"h2"),j(10,"Software Developer"),O(),k(11,"ul",7)(12,"li"),j(13,"\u{1F4CD} Paseo del Higueral 6, Fuenlabrada, Madrid"),O(),k(14,"li"),j(15,"\u2709\uFE0F felipe.iz.ro.98@gmail.com"),O(),k(16,"li"),j(17,"\u{1F517} linkedin.com/in/tu-perfil"),O(),k(18,"li"),j(19,"\u{1F4DE} 646 684 855"),O()()()(),Z(20,"div",2),O()())},styles:[".info-container[_ngcontent-%COMP%]{width:100%;height:100%}.padre[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;gap:30px;background:#fff;border-radius:35px;flex-direction:column}.business-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1.5rem;background:#fff;border-radius:35px}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:23vmin;height:23vmin;border-radius:50%;object-fit:cover;border:3px solid #e5e5e5}.info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;margin:0;font-size:1.3rem;font-weight:600}.info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:var(--font-body);margin:.2rem 0 1rem;font-size:.95rem;font-weight:500;color:#666}.contact[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;font-size:.85rem;color:#333}.contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.4rem}.decoration-line[_ngcontent-%COMP%]{width:100%;height:20px;background:#edc888}"]})};var kf=class n{openPdf(){window.open("assets/NEW_CurriculumAzul.pdf","_blank")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-curriculum"]],decls:5,vars:0,consts:[[1,"pdf-frame",3,"click"],["src",DT`assets/NEW_CurriculumAzul.pdf#page=1&toolbar=0&navpanes=0`,"title","Curriculum Felipe","loading","lazy"],[1,"overlay"]],template:function(t,r){t&1&&(k(0,"div",0),_e("click",function(){return r.openPdf()}),Z(1,"iframe",1),k(2,"div",2)(3,"span"),j(4,"Haz clic para abrir"),O()()())},styles:[".pdf-frame[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;cursor:pointer;border-radius:12px;box-shadow:0 10px 30px #0003}.pdf-frame[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000026;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#000000b3;color:#fff;padding:10px 16px;border-radius:20px;font-size:.9rem}.pdf-frame[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}"]})};function z4(n,e){n&1&&Z(0,"app-personal-info",12)}function q4(n,e){n&1&&Z(0,"app-card")}function G4(n,e){n&1&&Z(0,"app-curriculum",12)}var Of=class n{currentIndex=0;contents=["personal-info","card","curriculum"];content=this.contents[this.currentIndex];title="Informacion personal";changeContent(){switch(this.content){case"card":this.title="Carta de presentacion";break;case"personal-info":this.title="Informacion personal";break;case"curriculum":this.title="Curriculum";break}}next(){this.currentIndex<this.contents.length-1&&(this.currentIndex++,this.content=this.contents[this.currentIndex],this.changeContent())}previous(){this.currentIndex>0&&(this.currentIndex--,this.content=this.contents[this.currentIndex],this.changeContent())}downloadCV(){let e=document.createElement("a");e.href="assets/NEW_CurriculumAzul.pdf",e.download="Felipe_Izquierdo_CV.pdf",e.click()}downloadCard(){let e=document.createElement("a");console.warn("Estas descargardo el CV en vez de la carta"),e.href="assets/NEW_CurriculumAzul.pdf",e.download="Felipe_Izquierdo_CV.pdf",e.click()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-about-panel"]],decls:15,vars:7,consts:[[1,"about-container"],[1,"content-container"],[1,"content"],["class","correct-translate",4,"ngIf"],[4,"ngIf"],[1,"buttons"],[3,"click"],["src","assets/FlechaIzquierda.png","alt","Anterior"],[1,"title"],[1,"download-btn",3,"click","disabled"],["src","assets/Download.png","alt","Descargar"],["src","assets/FlechaDerecha.png","alt","Siguiente"],[1,"correct-translate"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1)(2,"div",2),fn(3,z4,1,0,"app-personal-info",3)(4,q4,1,0,"app-card",4)(5,G4,1,0,"app-curriculum",3),O(),k(6,"div",5)(7,"button",6),_e("click",function(){return r.previous()}),Z(8,"img",7),O(),k(9,"div",8),j(10),O(),k(11,"button",9),_e("click",function(){return r.downloadCV()}),Z(12,"img",10),O(),k(13,"button",6),_e("click",function(){return r.next()}),Z(14,"img",11),O()()()()),t&2&&(H(3),W("ngIf",r.content==="personal-info"),H(),W("ngIf",r.content==="card"),H(),W("ngIf",r.content==="curriculum"),H(5),pn(r.title),H(),He("disabled",r.content==="personal-info"),W("disabled",r.content==="personal-info"))},dependencies:[ze,cr,Pf,xf,kf],styles:[".about-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;padding:4vmin 0;box-sizing:border-box;border-radius:12px}.content-container[_ngcontent-%COMP%]{width:73%;height:84%;background:var(--color-subpanel-child-dark);border-radius:12px;gap:5px;place-content:center;justify-items:center}.title[_ngcontent-%COMP%]{font-size:2rem}.content[_ngcontent-%COMP%]{width:95vmin;height:50vmin;display:flex;align-items:center;justify-content:center}.content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;height:100%}.buttons[_ngcontent-%COMP%]{display:flex;width:95vmin;align-items:center;background:var(--color-subpanel-dark);border-radius:9px;margin-top:18px}.buttons[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:2rem;pointer-events:none}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:60px;height:60px;padding:0;background:transparent;border:none;cursor:pointer}.buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.download-btn.disabled[_ngcontent-%COMP%]{opacity:.35;filter:grayscale(1);cursor:default}.download-btn[_ngcontent-%COMP%]:disabled{pointer-events:none}"]})};function W4(n,e){n&1&&Z(0,"div")}function K4(n,e){n&1&&Z(0,"app-experience-panel")}function Q4(n,e){n&1&&Z(0,"app-about-panel")}var Ff=class n{visible=!1;activeTab=void 0;close=new Le;pathImg="";onClose(){this.close.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-left-panel"]],inputs:{visible:"visible",activeTab:"activeTab",pathImg:"pathImg"},outputs:{close:"close"},decls:8,vars:9,consts:[[1,"tab-panel"],[1,"tab-panel-inner"],[1,"close-btn",3,"click"],[4,"ngIf"],[1,"tab-image"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1)(2,"button",2),_e("click",function(){return r.onClose()}),j(3,"\u2715"),O(),fn(4,W4,1,0,"div",3)(5,K4,1,0,"app-experience-panel",3)(6,Q4,1,0,"app-about-panel",3),O()(),Z(7,"div",4)),t&2&&(He("is-visible",r.visible),H(4),W("ngIf",r.activeTab==="about"),H(),W("ngIf",r.activeTab==="experience"),H(),W("ngIf",r.activeTab==="about"),H(),xa("background-image","url("+r.pathImg+")"),He("is-visible",r.visible))},dependencies:[ze,cr,Nf,Of],styles:[".tab-panel[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:70vw;background:var(--color-panel-dark);color:#f5f5f5;box-shadow:8px 0 30px #00000073;transform:translate(-100%);transition:transform 1s ease;z-index:5;display:flex;align-items:center}.tab-image[_ngcontent-%COMP%]{visibility:hidden;position:fixed;top:0;right:0;left:auto;height:100vh;width:30vw;color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(-500%);transition:transform 1s ease;z-index:5;display:flex;align-items:center;background-size:170% 100%;background-position:center;background-repeat:no-repeat;z-index:0}.tab-image.is-visible[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.tab-panel.is-visible[_ngcontent-%COMP%]{transform:translate(0)}.tab-panel-inner[_ngcontent-%COMP%]{padding:3rem;width:100%;height:100%;box-sizing:border-box;align-content:center}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;border:none;background:transparent;color:#f5f5f5;font-size:1.8rem;cursor:pointer}.tab-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.4rem;margin-bottom:1.5rem;letter-spacing:.08em;text-transform:uppercase}.tab-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.6;max-width:32rem}"]})};function Y4(n,e){if(n&1){let t=jr();k(0,"div",1),_e("click",function(){let i=nr(t).index,o=Ur();return rr(o.toggleExpand(i))}),k(1,"div",2)(2,"h2"),j(3),O(),k(4,"h4"),j(5),O(),k(6,"h5"),j(7),O(),k(8,"p"),j(9),O()(),k(10,"div",3)(11,"p"),j(12,"Otro texto que aparece al pulsar"),O()()()}if(n&2){let t=e.$implicit,r=e.index,i=Ur();He("expanded",i.expandedIndex()===r),H(3),pn(t.nombre),H(2),pn(t.entity),H(2),Gm("",t.start," ",t.end,""),H(2),pn(t.description)}}var Lf=class n{fireBaseService=x(Hs);studiesSignal=or([]);dataSubscription;expandedIndex=or(null);toggleExpand(e){this.expandedIndex.set(this.expandedIndex()===e?null:e)}ngOnInit(){this.setDocumentData()}ngOnDestroy(){this.dataSubscription?.unsubscribe()}setDocumentData(){this.dataSubscription=this.fireBaseService.getDocument("ESTUDIOS/JsQdBul7oM8HeoebALwJ").subscribe({next:e=>{console.log("VALUE: ",e?.LISTA_DE_ESTUDIOS),this.studiesSignal.set(e?.LISTA_DE_ESTUDIOS??[])},error:e=>{console.error("Error en get document")}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-studies-panel"]],decls:1,vars:1,consts:[[3,"expanded","click",4,"ngFor","ngForOf"],[3,"click"],[1,"text","text-primary"],[1,"text","text-secondary"]],template:function(t,r){t&1&&fn(0,Y4,13,7,"div",0),t&2&&W("ngForOf",r.studiesSignal())},dependencies:[ze,cd],styles:["[_nghost-%COMP%]{display:block;width:100%}div[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1rem;background:var(--color-subpanel-child-dark);border-radius:8px;flex:1;overflow:hidden;position:relative}.text[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;transition:all .35s ease}.text-secondary[_ngcontent-%COMP%]{transform:translate(100%);opacity:0}div.expanded[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{transform:translate(-100%);opacity:0}div.expanded[_ngcontent-%COMP%]   .text-secondary[_ngcontent-%COMP%]{transform:translate(0);opacity:1}"]})};var J4=new B(""),Z4=new B("");function rN(n){return n!=null}function iN(n){return Pi(n)?Pe(n):n}function oN(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function sN(n,e){return e.map(t=>t(n))}function X4(n){return!n.validate}function aN(n){return n.map(e=>X4(e)?e:t=>e.validate(t))}function ez(n){if(!n)return null;let e=n.filter(rN);return e.length==0?null:function(t){return oN(sN(t,e))}}function cN(n){return n!=null?ez(aN(n)):null}function tz(n){if(!n)return null;let e=n.filter(rN);return e.length==0?null:function(t){let r=sN(t,e).map(iN);return ig(r).pipe(ie(oN))}}function uN(n){return n!=null?tz(aN(n)):null}function QM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function lN(n){return n._rawValidators}function dN(n){return n._rawAsyncValidators}function uI(n){return n?Array.isArray(n)?n:[n]:[]}function Uf(n,e){return Array.isArray(n)?n.includes(e):n===e}function YM(n,e){let t=uI(e);return uI(n).forEach(i=>{Uf(t,i)||t.push(i)}),t}function JM(n,e){return uI(e).filter(t=>!Uf(n,t))}var lI=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=uN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Xc=class extends lI{name;get formDirective(){return null}get path(){return null}};var dI=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},nz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qne=ce(L({},nz),{"[class.ng-submitted]":"isSubmitted"});var hN=(()=>{class n extends dI{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(dt(Xc,10))};static \u0275dir=sr({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&He("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[td]})}return n})();var Qc="VALID",Vf="INVALID",zs="PENDING",Yc="DISABLED",li=class{},Bf=class extends li{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Jc=class extends li{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Zc=class extends li{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},qs=class extends li{status;source;constructor(e,t){super(),this.status=e,this.source=t}},hI=class extends li{source;constructor(e){super(),this.source=e}},fI=class extends li{source;constructor(e){super(),this.source=e}};function mI(n){return(qf(n)?n.validators:n)||null}function rz(n){return Array.isArray(n)?cN(n):n||null}function yI(n,e){return(qf(e)?e.asyncValidators:n)||null}function iz(n){return Array.isArray(n)?uN(n):n||null}function qf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function fN(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[t])throw new $(1001,"")}function pN(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new $(1002,"")})}var Gs=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Dn(this.statusReactive)}set status(e){Dn(()=>this.statusReactive.set(e))}_status=Jo(()=>this.statusReactive());statusReactive=or(void 0);get valid(){return this.status===Qc}get invalid(){return this.status===Vf}get pending(){return this.status==zs}get disabled(){return this.status===Yc}get enabled(){return this.status!==Yc}errors;get pristine(){return Dn(this.pristineReactive)}set pristine(e){Dn(()=>this.pristineReactive.set(e))}_pristine=Jo(()=>this.pristineReactive());pristineReactive=or(!0);get dirty(){return!this.pristine}get touched(){return Dn(this.touchedReactive)}set touched(e){Dn(()=>this.touchedReactive.set(e))}_touched=Jo(()=>this.touchedReactive());touchedReactive=or(!1);get untouched(){return!this.touched}_events=new Je;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JM(e,this._rawAsyncValidators))}hasValidator(e){return Uf(this._rawValidators,e)}hasAsyncValidator(e){return Uf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Zc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Zc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Jc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Jc(!0,r))}markAsPending(e={}){this.status=zs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yc,this.errors=null,this._forEachChild(i=>{i.disable(ce(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bf(this.value,r)),this._events.next(new qs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Qc,this._forEachChild(r=>{r.enable(ce(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qc||this.status===zs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bf(this.value,t)),this._events.next(new qs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yc:Qc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=zs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=iN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new qs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?Yc:this.errors?Vf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zs)?zs:this._anyControlsHaveStatus(Vf)?Vf:Qc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Jc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Zc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=rz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=iz(this._rawAsyncValidators)}},$f=class extends Gs{constructor(e,t,r){super(mI(t),yI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){pN(this,!0,e),Object.keys(e).forEach(r=>{fN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var pI=class extends $f{};var gN=new B("",{providedIn:"root",factory:()=>vI}),vI="always";function ZM(n,e,t=vI){_I(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),sz(n,e),cz(n,e),az(n,e),oz(n,e)}function XM(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),zf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Hf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function oz(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function _I(n,e){let t=lN(n);e.validator!==null?n.setValidators(QM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=dN(n);e.asyncValidator!==null?n.setAsyncValidators(QM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Hf(e._rawValidators,i),Hf(e._rawAsyncValidators,i)}function zf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=lN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=dN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Hf(e._rawValidators,r),Hf(e._rawAsyncValidators,r),t}function sz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&mN(n,e)})}function az(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&mN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function mN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cz(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function uz(n,e){n==null,_I(n,e)}function lz(n,e){return zf(n,e)}function dz(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function hz(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function eN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function tN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var jf=class extends Gs{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(mI(t),yI(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(tN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){eN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){eN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){tN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var fz=n=>n instanceof jf;var yN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=sr({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var pz=new B("");var gz={provide:Xc,useExisting:xl(()=>EI)},EI=(()=>{class n extends Xc{callSetDisabledState;get submitted(){return Dn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Jo(()=>this._submittedReactive());_submittedReactive=or(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Le;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return ZM(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){XM(t.control||null,t,!1),hz(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),dz(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new hI(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new fI(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(XM(r||null,t),fz(i)&&(ZM(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);uz(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&lz(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_I(this.form,this),this._oldForm&&zf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(dt(J4,10),dt(Z4,10),dt(gN,8))};static \u0275dir=sr({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&_e("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[lD([gz]),td,Pa]})}return n})();var mz=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Vr({type:n});static \u0275inj=Fr({})}return n})(),gI=class extends Gs{constructor(e,t,r){super(mI(t),yI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){pN(this,!1,e),e.forEach((r,i)=>{fN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function nN(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var vN=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return nN(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new $f(i,o)}record(t,r=null){let i=this._reduceControls(t);return new pI(i,r)}control(t,r,i){let o={};return this.useNonNullable?(nN(r)?o=r:(o.validators=r,o.asyncValidators=i),new jf(t,ce(L({},o),{nonNullable:!0}))):new jf(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new gI(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof jf)return t;if(t instanceof Gs)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _N=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:pz,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:gN,useValue:t.callSetDisabledState??vI}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Vr({type:n});static \u0275inj=Fr({imports:[mz]})}return n})();var Gf=class n{constructor(e,t){this.fb=e;this.httpClient=t;this.emailForm=this.fb.group({name:[""],email:[""],message:[""]})}emailForm;sendEmail(e,t,r){let i="https://formspree.io/f/xlgdraer",o={headers:new Cn({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"})},s=`name=${e}&email=${t}&message=${r}`;this.httpClient.post(i,s,o).subscribe({next:a=>console.log("Email enviado",a),error:a=>console.error("Error",a)})}static \u0275fac=function(t){return new(t||n)(dt(vN),dt(Id))};static \u0275cmp=De({type:n,selectors:[["app-contact"]],decls:19,vars:1,consts:[["name",""],["email",""],["message",""],[1,"contact-container"],[1,"contact-form",3,"formGroup"],[1,"form-group"],["type","text","placeholder","Entidad"],["type","email","placeholder","tu-entidad@email.com"],["rows","6","placeholder","Escribe tu mensaje aqu\xED..."],["type","button",1,"submit-btn",3,"click"]],template:function(t,r){if(t&1){let i=jr();k(0,"div",3)(1,"form",4)(2,"div",5)(3,"label"),j(4,"Nombre"),O(),Z(5,"input",6,0),O(),k(7,"div",5)(8,"label"),j(9,"Email"),O(),Z(10,"input",7,1),O(),k(12,"div",5)(13,"label"),j(14,"Mensaje"),O(),Z(15,"textarea",8,2),O(),k(17,"button",9),_e("click",function(){nr(i);let s=nd(6),a=nd(11),u=nd(16);return rr(r.sendEmail(s.value,a.value,u.value))}),j(18," Enviar mensaje "),O()()()}t&2&&(H(),W("formGroup",r.emailForm))},dependencies:[_N,yN,hN,EI],styles:[".contact-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;font-family:var(--font-body)}.contact-form[_ngcontent-%COMP%]{width:70%;height:90%;background:#fffffff2;border-radius:20px;padding:32px;display:flex;flex-direction:column;gap:20px;box-shadow:0 20px 40px #00000026}.contact-form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}label[_ngcontent-%COMP%]{font-size:.9rem;color:#444}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:12px 14px;border-radius:10px;border:1px solid #ccc;font-size:1rem;font-family:inherit;transition:all .2s ease}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f633}textarea[_ngcontent-%COMP%]{resize:none;height:30vmin}.submit-btn[_ngcontent-%COMP%]{margin-top:auto;padding:14px;border-radius:12px;border:none;background:#3b82f6;color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s ease,transform .15s ease}.submit-btn[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-2px)}.submit-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}"]})};function vz(n,e){n&1&&Z(0,"app-studies-panel",6)}function _z(n,e){n&1&&Z(0,"app-contact")}var Wf=class n{visible=!1;title="default-text";contents="default-text";activeTab=void 0;close=new Le;pathImg="";onClose(){this.close.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-right-panel"]],inputs:{visible:"visible",title:"title",contents:"contents",activeTab:"activeTab",pathImg:"pathImg"},outputs:{close:"close"},decls:7,vars:8,consts:[[1,"tab-panel"],[1,"tab-panel-inner"],[1,"close-btn",3,"click"],["class","studies-wrapper",4,"ngIf"],[4,"ngIf"],[1,"tab-image"],[1,"studies-wrapper"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1)(2,"button",2),_e("click",function(){return r.onClose()}),j(3,"\u2715"),O(),fn(4,vz,1,0,"app-studies-panel",3)(5,_z,1,0,"app-contact",4),O()(),Z(6,"div",5)),t&2&&(He("is-visible",r.visible),H(4),W("ngIf",r.activeTab==="studies"),H(),W("ngIf",r.activeTab==="contact"),H(),xa("background-image","url("+r.pathImg+")"),He("is-visible",r.visible))},dependencies:[ze,cr,Lf,Gf],styles:[".tab-panel[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:auto;height:100vh;width:70vw;background:var(--color-panel-dark);color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(100%);transition:transform 1s ease;z-index:5;display:flex;flex-direction:column;align-items:stretch}.tab-image[_ngcontent-%COMP%]{visibility:hidden;position:fixed;top:0;left:0;right:auto;height:100vh;width:30vw;color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(500%);transition:transform 1s ease;z-index:5;display:flex;align-items:center;background-size:170% 100%;background-position:center;background-repeat:no-repeat;z-index:0}.tab-image.is-visible[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.tab-panel.is-visible[_ngcontent-%COMP%]{transform:translate(0)}.tab-panel-inner[_ngcontent-%COMP%]{padding:3rem;width:100%;box-sizing:border-box;height:100%}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;border:none;background:transparent;color:#f5f5f5;font-size:1.8rem;cursor:pointer}.tab-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.4rem;margin-bottom:1.5rem;letter-spacing:.08em;text-transform:uppercase}.tab-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.6;max-width:32rem}.studies-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--color-subpanel-dark);padding:1.5rem;border-radius:12px;box-sizing:border-box;display:flex;flex-direction:column;min-height:min-content;overflow:hidden}"]})};var Kf=class n{activeTab=null;focusedTab=null;openTab(e){console.log("clicked: ",e),this.activeTab=e}closeTab(){this.activeTab=null}focusTab(e){this.focusedTab=e}getImagePath(){switch(this.activeTab){case"about":return"assets/SobreMi.jpg";case"experience":return"assets/Experiencia.jpg";case"studies":return"assets/Estudios.jpg";case"contact":return"assets/Contacto.png";case null:return"";default:return""}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-radial-tabs"]],decls:18,vars:10,consts:[[1,"stage"],[1,"cluster"],[1,"box"],[1,"item"],[1,"cell","c1",3,"click"],[1,"cell-title"],[1,"cell","c2",3,"click"],[1,"cell","c3",3,"click"],[1,"cell","c4",3,"click"],[3,"close","visible","activeTab","pathImg"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1),Z(2,"div",2),k(3,"div",3)(4,"div",4),_e("click",function(){return r.openTab("about")}),k(5,"span",5),j(6,"ABOUT"),O()(),k(7,"div",6),_e("click",function(){return r.openTab("studies")}),k(8,"span",5),j(9,"STUDIES"),O()(),k(10,"div",7),_e("click",function(){return r.openTab("experience")}),k(11,"span",5),j(12,"EXPERIENCE"),O()(),k(13,"div",8),_e("click",function(){return r.openTab("contact")}),k(14,"span",5),j(15,"CONTACT"),O()()()(),k(16,"app-left-panel",9),_e("close",function(){return r.closeTab()}),O(),k(17,"app-right-panel",9),_e("close",function(){return r.closeTab()}),O()()),t&2&&(H(),He("shift-left",r.activeTab==="about"||r.activeTab==="experience")("shift-right",r.activeTab==="contact"||r.activeTab==="studies"),H(15),W("visible",r.activeTab==="about"||r.activeTab==="experience")("activeTab",r.activeTab==null?null:r.activeTab.valueOf())("pathImg",r.getImagePath()),H(),W("visible",r.activeTab==="studies"||r.activeTab==="contact")("activeTab",r.activeTab==null?null:r.activeTab.valueOf())("pathImg",r.getImagePath()))},dependencies:[ze,Ff,Wf],styles:['.stage[_ngcontent-%COMP%]{position:fixed;inset:0;display:grid;place-items:center;background:transparent}.cluster[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:10;transition:transform 1.5s cubic-bezier(.22,1,.36,1)}.cluster.shift-right[_ngcontent-%COMP%]{transform:translate(-78vmin) scale(.6)}.cluster.shift-left[_ngcontent-%COMP%]{transform:translate(78vmin) scale(.6)}.box[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:25vmin;height:25vmin;border-radius:40px;background:#000;transform:translate(-50%,-50%);cursor:pointer;z-index:2;transition:transform .4s ease}.item[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:95vmin;height:95vmin;border-radius:60px;background:#2674b8;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;background:transparent;padding:30px;transform:translate(-50%,-50%) scale(.2) translateZ(0);transition:transform .4s ease;will-change:transform}.box[_ngcontent-%COMP%]:hover, .cluster[_ngcontent-%COMP%]:hover   .box[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(2)}.cluster[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.cell[_ngcontent-%COMP%]{position:relative;font-family:var(--font-title);font-weight:700;background-size:100% 100%;text-align:center;overflow:hidden;cursor:pointer}.cell[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#00000073;transition:background .3s ease;z-index:1}.cell[_ngcontent-%COMP%]:hover:before{background:#0000001a}.cell-title[_ngcontent-%COMP%]{position:absolute;z-index:2;left:0;right:0;-webkit-text-stroke:1px black;text-shadow:2px 2px 4px #000000;color:#fff;font-size:7vmin;pointer-events:none}.c3[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%], .c4[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%]{top:auto;bottom:40px;transform:none}.c1[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%], .c2[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%]{top:40px;bottom:auto;transform:none}.c1[_ngcontent-%COMP%]{background-image:url("./media/SobreMi-5D6ISES6.jpg");border-radius:20px 0}.c2[_ngcontent-%COMP%]{background-image:url("./media/Estudios-FSLODNUG.jpg");border-radius:0 20px}.c3[_ngcontent-%COMP%]{background-image:url("./media/Experiencia-MNYEGCAQ.jpg");border-radius:0 20px}.c4[_ngcontent-%COMP%]{background-image:url("./media/Contacto-CLP3TUUS.png");border-radius:20px 0}']})};var Qf={production:!1,firebaseConfig:{apiKey:"AIzaSyBF38aXP_jKP6WBKJp78cZGjGmpwvLt_j8",authDomain:"cv-web-angular.firebaseapp.com",projectId:"cv-web-angular",storageBucket:"cv-web-angular.firebasestorage.app",messagingSenderId:"119785680877",appId:"1:119785680877:web:27a7c5644fddd90876c1e4",measurementId:"G-0QL3DQG5NC"}};var Yf=class n{environment=Qf;fireBaseService=x(Hs);personalData=this.fireBaseService.getPersonalData();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(t,r){t&1&&(k(0,"div"),Z(1,"app-radial-tabs"),O())},dependencies:[ze,Kf],encapsulation:2})};var Jf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-notfound"]],decls:2,vars:0,template:function(t,r){t&1&&(k(0,"p"),j(1,"notfound works!"),O())},encapsulation:2})};var EN=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Yf},{path:"**",component:Jf}];var bN="@firebase/installations",TI="0.6.18";var TN=1e4,DN=`w:${TI}`,CN="FIS_v2",Ez="https://firebaseinstallations.googleapis.com/v1",Iz=60*60*1e3,wz="installations",bz="Installations";var Tz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},co=new At(wz,bz,Tz);function SN(n){return n instanceof ht&&n.code.includes("request-failed")}function AN({projectId:n}){return`${Ez}/projects/${n}/installations`}function RN(n){return{token:n.token,requestStatus:2,expiresIn:Cz(n.expiresIn),creationTime:Date.now()}}function MN(n,e){return v(this,null,function*(){let r=(yield e.json()).error;return co.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function NN({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Dz(n,{refreshToken:e}){let t=NN(n);return t.append("Authorization",Sz(e)),t}function PN(n){return v(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function Cz(n){return Number(n.replace("s","000"))}function Sz(n){return`${CN} ${n}`}function Az(r,i){return v(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=AN(n),s=NN(n),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={fid:t,authVersion:CN,appId:n.appId,sdkVersion:DN},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield PN(()=>fetch(o,l));if(h.ok){let p=yield h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:RN(p.authToken)}}else throw yield MN("Create Installation",h)})}function xN(n){return new Promise(e=>{setTimeout(e,n)})}function Rz(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var Mz=/^[cdef][\w-]{21}$/,bI="";function Nz(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=Pz(n);return Mz.test(t)?t:bI}catch{return bI}}function Pz(n){return Rz(n).substr(0,22)}function Xf(n){return`${n.appName}!${n.appId}`}var kN=new Map;function ON(n,e){let t=Xf(n);FN(t,e),xz(t,e)}function FN(n,e){let t=kN.get(n);if(t)for(let r of t)r(e)}function xz(n,e){let t=kz();t&&t.postMessage({key:n,fid:e}),Oz()}var ao=null;function kz(){return!ao&&"BroadcastChannel"in self&&(ao=new BroadcastChannel("[Firebase] FID Change"),ao.onmessage=n=>{FN(n.data.key,n.data.fid)}),ao}function Oz(){kN.size===0&&ao&&(ao.close(),ao=null)}var Fz="firebase-installations-database",Lz=1,uo="firebase-installations-store",II=null;function DI(){return II||(II=ah(Fz,Lz,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(uo)}}})),II}function Zf(n,e){return v(this,null,function*(){let t=Xf(n),i=(yield DI()).transaction(uo,"readwrite"),o=i.objectStore(uo),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&ON(n,e.fid),e})}function LN(n){return v(this,null,function*(){let e=Xf(n),r=(yield DI()).transaction(uo,"readwrite");yield r.objectStore(uo).delete(e),yield r.done})}function ep(n,e){return v(this,null,function*(){let t=Xf(n),i=(yield DI()).transaction(uo,"readwrite"),o=i.objectStore(uo),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&ON(n,a.fid),a})}function CI(n){return v(this,null,function*(){let e,t=yield ep(n.appConfig,r=>{let i=Vz(r),o=jz(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===bI?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function Vz(n){let e=n||{fid:Nz(),registrationStatus:0};return VN(e)}function jz(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(co.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Uz(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Bz(n)}:{installationEntry:e}}function Uz(n,e){return v(this,null,function*(){try{let t=yield Az(n,e);return Zf(n.appConfig,t)}catch(t){throw SN(t)&&t.customData.serverCode===409?yield LN(n.appConfig):yield Zf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function Bz(n){return v(this,null,function*(){let e=yield IN(n.appConfig);for(;e.registrationStatus===1;)yield xN(100),e=yield IN(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield CI(n);return r||t}return e})}function IN(n){return ep(n,e=>{if(!e)throw co.create("installation-not-found");return VN(e)})}function VN(n){return $z(n)?{fid:n.fid,registrationStatus:0}:n}function $z(n){return n.registrationStatus===1&&n.registrationTime+TN<Date.now()}function Hz(r,i){return v(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=zz(n,t),s=Dz(n,t),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={installation:{sdkVersion:DN,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield PN(()=>fetch(o,l));if(h.ok){let p=yield h.json();return RN(p)}else throw yield MN("Generate Auth Token",h)})}function zz(n,{fid:e}){return`${AN(n)}/${e}/authTokens:generate`}function SI(n,e=!1){return v(this,null,function*(){let t,r=yield ep(n.appConfig,o=>{if(!jN(o))throw co.create("not-registered");let s=o.authToken;if(!e&&Wz(s))return o;if(s.requestStatus===1)return t=qz(n,e),o;{if(!navigator.onLine)throw co.create("app-offline");let a=Qz(o);return t=Gz(n,a),a}});return t?yield t:r.authToken})}function qz(n,e){return v(this,null,function*(){let t=yield wN(n.appConfig);for(;t.authToken.requestStatus===1;)yield xN(100),t=yield wN(n.appConfig);let r=t.authToken;return r.requestStatus===0?SI(n,e):r})}function wN(n){return ep(n,e=>{if(!jN(e))throw co.create("not-registered");let t=e.authToken;return Yz(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Gz(n,e){return v(this,null,function*(){try{let t=yield Hz(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Zf(n.appConfig,r),t}catch(t){if(SN(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield LN(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Zf(n.appConfig,r)}throw t}})}function jN(n){return n!==void 0&&n.registrationStatus===2}function Wz(n){return n.requestStatus===2&&!Kz(n)}function Kz(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Iz}function Qz(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Yz(n){return n.requestStatus===1&&n.requestTime+TN<Date.now()}function Jz(n){return v(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield CI(e);return r?r.catch(console.error):SI(e).catch(console.error),t.fid})}function Zz(n,e=!1){return v(this,null,function*(){let t=n;return yield Xz(t),(yield SI(t,e)).token})}function Xz(n){return v(this,null,function*(){let{registrationPromise:e}=yield CI(n);e&&(yield e)})}function eq(n){if(!n||!n.options)throw wI("App Configuration");if(!n.name)throw wI("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw wI(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function wI(n){return co.create("missing-app-config-values",{valueName:n})}var UN="installations",tq="installations-internal",nq=n=>{let e=n.getProvider("app").getImmediate(),t=eq(e),r=en(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},rq=n=>{let e=n.getProvider("app").getImmediate(),t=en(e,UN).getImmediate();return{getId:()=>Jz(t),getToken:i=>Zz(t,i)}};function iq(){ft(new Ue(UN,nq,"PUBLIC")),ft(new Ue(tq,rq,"PRIVATE"))}iq();Ce(bN,TI);Ce(bN,TI,"esm2017");var tp="analytics",oq="firebase_id",sq="origin",aq=60*1e3,cq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kI="https://www.googletagmanager.com/gtag/js";var Ft=new Xt("@firebase/analytics");var uq={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Gt=new At("analytics","Analytics",uq);function lq(n){if(!n.startsWith(kI)){let e=Gt.create("invalid-gtag-resource",{gtagURL:n});return Ft.warn(e.message),""}return n}function WN(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function dq(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function hq(n,e){let t=dq("firebase-js-sdk-policy",{createScriptURL:lq}),r=document.createElement("script"),i=`${kI}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function fq(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}function pq(n,e,t,r,i,o){return v(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let u=(yield WN(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Ft.error(a)}n("config",i,o)})}function gq(n,e,t,r,i){return v(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield WN(t);for(let u of s){let l=a.find(p=>p.measurementId===u),h=l&&e[l.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){Ft.error(o)}})}function mq(n,e,t,r){function i(o,...s){return v(this,null,function*(){try{if(o==="event"){let[a,u]=s;yield gq(n,e,t,a,u)}else if(o==="config"){let[a,u]=s;yield pq(n,e,t,r,a,u)}else if(o==="consent"){let[a,u]=s;n("consent",a,u)}else if(o==="get"){let[a,u,l]=s;n("get",a,u,l)}else if(o==="set"){let[a]=s;n("set",a)}else n(o,...s)}catch(a){Ft.error(a)}})}return i}function yq(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=mq(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function vq(n){let e=window.document.getElementsByTagName("script");for(let t of Object.values(e))if(t.src&&t.src.includes(kI)&&t.src.includes(n))return t;return null}var _q=30,Eq=1e3,RI=class{constructor(e={},t=Eq){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},KN=new RI;function Iq(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function wq(n){return v(this,null,function*(){var e;let{appId:t,apiKey:r}=n,i={method:"GET",headers:Iq(r)},o=cq.replace("{app-id}",t),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let u=yield s.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw Gt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function bq(r){return v(this,arguments,function*(n,e=KN,t){let{appId:i,apiKey:o,measurementId:s}=n.options;if(!i)throw Gt.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw Gt.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new MI;return setTimeout(()=>v(null,null,function*(){u.abort()}),t!==void 0?t:aq),QN({appId:i,apiKey:o,measurementId:s},a,u,e)})}function QN(o,s,a){return v(this,arguments,function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=KN){var u;let{appId:l,measurementId:h}=n;try{yield Tq(r,e)}catch(p){if(h)return Ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:h};throw p}try{let p=yield wq(n);return i.deleteThrottleMetadata(l),p}catch(p){let m=p;if(!Dq(m)){if(i.deleteThrottleMetadata(l),h)return Ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:h};throw p}let y=Number((u=m?.customData)===null||u===void 0?void 0:u.httpStatus)===503?ih(t,i.intervalMillis,_q):ih(t,i.intervalMillis),T={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return i.setThrottleMetadata(l,T),Ft.debug(`Calling attemptFetch again in ${y} millis`),QN(n,T,r,i)}})}function Tq(n,e){return new Promise((t,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Gt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Dq(n){if(!(n instanceof ht)||!n.customData)return!1;let e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var MI=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var NI;function Cq(n,e,t,r,i){return v(this,null,function*(){if(i&&i.global){n("event",t,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});n("event",t,s)}})}var PI;function Sq(n){PI=n}function Aq(n){NI=n}function Rq(){return v(this,null,function*(){if(Bi())try{yield rh()}catch(n){return Ft.warn(Gt.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Ft.warn(Gt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function Mq(n,e,t,r,i,o,s){return v(this,null,function*(){var a;let u=bq(n);u.then(y=>{t[y.measurementId]=y.appId,n.options.measurementId&&y.measurementId!==n.options.measurementId&&Ft.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Ft.error(y)),e.push(u);let l=Rq().then(y=>{if(y)return r.getId()}),[h,p]=yield Promise.all([u,l]);vq(o)||hq(o,h.measurementId),PI&&(i("consent","default",PI),Sq(void 0)),i("js",new Date);let m=(a=s?.config)!==null&&a!==void 0?a:{};return m[sq]="firebase",m.update=!0,p!=null&&(m[oq]=p),i("config",h.measurementId,m),NI&&(i("set",NI),Aq(void 0)),h.measurementId})}var xI=class{constructor(e){this.app=e}_delete(){return delete eu[this.app.options.appId],Promise.resolve()}},eu={},BN=[],$N={},AI="dataLayer",Nq="gtag",HN,YN,zN=!1;function Pq(){let n=[];if(nh()&&n.push("This is a browser extension environment."),YC()||n.push("Cookies are not available."),n.length>0){let e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Gt.create("invalid-analytics-context",{errorInfo:e});Ft.warn(t.message)}}function xq(n,e,t){Pq();let r=n.options.appId;if(!r)throw Gt.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Gt.create("no-api-key");if(eu[r]!=null)throw Gt.create("already-exists",{id:r});if(!zN){fq(AI);let{wrappedGtag:o,gtagCore:s}=yq(eu,BN,$N,AI,Nq);YN=o,HN=s,zN=!0}return eu[r]=Mq(n,BN,$N,e,HN,AI,t),new xI(n)}function JN(n=Nn()){n=qe(n);let e=en(n,tp);return e.isInitialized()?e.getImmediate():ZN(n)}function ZN(n,e={}){let t=en(n,tp);if(t.isInitialized()){let i=t.getImmediate();if(Zt(e,t.getOptions()))return i;throw Gt.create("already-initialized")}return t.initialize({options:e})}function XN(n,e,t,r){n=qe(n),Cq(YN,eu[n.app.options.appId],e,t,r).catch(i=>Ft.error(i))}var qN="@firebase/analytics",GN="0.10.17";function kq(){ft(new Ue(tp,(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return xq(r,i,t)},"PUBLIC")),ft(new Ue("analytics-internal",n,"PRIVATE")),Ce(qN,GN),Ce(qN,GN,"esm2017");function n(e){try{let t=e.getProvider(tp).getImmediate();return{logEvent:(r,i,o)=>XN(t,r,i,o)}}catch(t){throw Gt.create("interop-component-reg-failed",{reason:t})}}}kq();var tu=class{constructor(e){return e}},eP="analytics",OI=class{constructor(){return Kr(eP)}};var tP=Ot(JN,!0);var nie=Math.floor(Math.random()*(2**32-1))-2**31;var FI=new B("angularfire2.analytics-instances");function Oq(n,e,t){if(!ld(t))return null;let r=zi(eP,n,e);return r&&new tu(r)}function Fq(n){return(e,t,r)=>{if(!ld(r))return null;let i=e.runOutsideAngular(()=>n(t));return new tu(i)}}var Lq={provide:OI,deps:[[new It,FI]]},Vq={provide:tu,useFactory:Oq,deps:[[new It,FI],mn,Tn]};function nP(n,...e){return Ce("angularfire",Pn.full,"analytics"),Ut([Vq,Lq,{provide:FI,useFactory:Fq(n),multi:!0,deps:[be,Xe,Tn,xn,fr,...e]}])}oy(Yd,{providers:[Py(EN),pD({eventCoalescing:!0}),pS(()=>gS(Qf.firebaseConfig)),zM(()=>GM()),pA(()=>gA()),nP(()=>tP()),cy()]}).catch(n=>console.error(n));
