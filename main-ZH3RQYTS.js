var dR=Object.defineProperty,hR=Object.defineProperties;var fR=Object.getOwnPropertyDescriptors;var B_=Object.getOwnPropertySymbols,pR=Object.getPrototypeOf,gR=Object.prototype.hasOwnProperty,mR=Object.prototype.propertyIsEnumerable,yR=Reflect.get;var $_=(t,e,n)=>e in t?dR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})gR.call(e,n)&&$_(t,n,e[n]);if(B_)for(var n of B_(e))mR.call(e,n)&&$_(t,n,e[n]);return t},ve=(t,e)=>hR(t,fR(e));var nr=(t,e,n)=>yR(pR(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});function H_(t,e){return Object.is(t,e)}var Oe=null,sc=!1,Ih=1,Ni=Symbol("SIGNAL");function de(t){let e=Oe;return Oe=t,e}function wh(){return Oe}var ac={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Eh(t){if(sc)throw new Error("");if(Oe===null)return;Oe.consumerOnSignalRead(t);let e=Oe.nextProducerIndex++;if(uc(Oe),e<Oe.producerNode.length&&Oe.producerNode[e]!==t&&fs(Oe)){let n=Oe.producerNode[e];cc(n,Oe.producerIndexOfThis[e])}Oe.producerNode[e]!==t&&(Oe.producerNode[e]=t,Oe.producerIndexOfThis[e]=fs(Oe)?K_(t,Oe,e):0),Oe.producerLastReadVersion[e]=t.version}function q_(){Ih++}function z_(t){if(!(fs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ih)){if(!t.producerMustRecompute(t)&&!bh(t)){_h(t);return}t.producerRecomputeValue(t),_h(t)}}function Th(t){if(t.liveConsumerNode===void 0)return;let e=sc;sc=!0;try{for(let n of t.liveConsumerNode)n.dirty||vR(n)}finally{sc=e}}function W_(){return Oe?.consumerAllowSignalWrites!==!1}function vR(t){t.dirty=!0,Th(t),t.consumerMarkedDirty?.(t)}function _h(t){t.dirty=!1,t.lastCleanEpoch=Ih}function Dh(t){return t&&(t.nextProducerIndex=0),de(t)}function G_(t,e){if(de(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(fs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)cc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function bh(t){uc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(z_(n),r!==n.version))return!0}return!1}function Ch(t){if(uc(t),fs(t))for(let e=0;e<t.producerNode.length;e++)cc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function K_(t,e,n){if(Q_(t),t.liveConsumerNode.length===0&&Y_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=K_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function cc(t,e){if(Q_(t),t.liveConsumerNode.length===1&&Y_(t))for(let r=0;r<t.producerNode.length;r++)cc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];uc(i),i.producerIndexOfThis[r]=e}}function fs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function uc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Q_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Y_(t){return t.producerNode!==void 0}function _R(){throw new Error}var Z_=_R;function IR(t){Z_(t)}function Sh(t){Z_=t}var wR=null;function Ah(t,e){W_()||IR(t),t.equal(t.value,e)||(t.value=e,ER(t))}var Rh=ve(F({},ac),{equal:H_,value:void 0,kind:"signal"});function ER(t){t.version++,q_(),Th(t),wR?.()}var Nh;function ps(){return Nh}function Cn(t){let e=Nh;return Nh=t,e}var lc=Symbol("NotFound");function K(t){return typeof t=="function"}function Mi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var dc=Mi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Lr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ce=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(o){e=o instanceof dc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{J_(o)}catch(s){e=e??[],s instanceof dc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new dc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)J_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Lr(n,e)}remove(e){let{_finalizers:n}=this;n&&Lr(n,e),e instanceof t&&e._removeParent(this)}};Ce.EMPTY=(()=>{let t=new Ce;return t.closed=!0,t})();var Mh=Ce.EMPTY;function hc(t){return t instanceof Ce||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function J_(t){K(t)?t():t.unsubscribe()}var qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Pi={setTimeout(t,e,...n){let{delegate:r}=Pi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Pi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function fc(t){Pi.setTimeout(()=>{let{onUnhandledError:e}=qt;if(e)e(t);else throw t})}function gs(){}var X_=Ph("C",void 0,void 0);function eI(t){return Ph("E",void 0,t)}function tI(t){return Ph("N",t,void 0)}function Ph(t,e,n){return{kind:t,value:e,error:n}}var Vr=null;function ki(t){if(qt.useDeprecatedSynchronousErrorHandling){let e=!Vr;if(e&&(Vr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Vr;if(Vr=null,n)throw r}}else t()}function nI(t){qt.useDeprecatedSynchronousErrorHandling&&Vr&&(Vr.errorThrown=!0,Vr.error=t)}var jr=class extends Ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hc(e)&&e.add(this)):this.destination=PR}static create(e,n,r){return new xi(e,n,r)}next(e){this.isStopped?xh(tI(e),this):this._next(e)}error(e){this.isStopped?xh(eI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xh(X_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},NR=Function.prototype.bind;function kh(t,e){return NR.call(t,e)}var Oh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){pc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){pc(r)}else pc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){pc(n)}}},xi=class extends jr{constructor(e,n,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&qt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&kh(e.next,o),error:e.error&&kh(e.error,o),complete:e.complete&&kh(e.complete,o)}):i=e}this.destination=new Oh(i)}};function pc(t){qt.useDeprecatedSynchronousErrorHandling?nI(t):fc(t)}function MR(t){throw t}function xh(t,e){let{onStoppedNotification:n}=qt;n&&Pi.setTimeout(()=>n(t,e))}var PR={closed:!0,next:gs,error:MR,complete:gs};var Oi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wt(t){return t}function gc(...t){return Fh(t)}function Fh(t){return t.length===0?wt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=xR(n)?n:new xi(n,r,i);return ki(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=rI(r),new r((i,o)=>{let s=new xi({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Oi](){return this}pipe(...n){return Fh(n)(this)}toPromise(n){return n=rI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function rI(t){var e;return(e=t??qt.Promise)!==null&&e!==void 0?e:Promise}function kR(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function xR(t){return t&&t instanceof jr||kR(t)&&hc(t)}function Lh(t){return K(t?.lift)}function se(t){return e=>{if(Lh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(t,e,n,r,i){return new Vh(t,e,n,r,i)}var Vh=class extends jr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Fi(){return se((t,e)=>{let n=null;t._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Li=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Lh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ce;let n=this.getSubject();e.add(this.source.subscribe(ae(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ce.EMPTY)}return e}refCount(){return Fi()(this)}};var iI=Mi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new mc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new iI}next(n){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Mh:(this.currentObservers=null,o.push(n),new Ce(()=>{this.currentObservers=null,Lr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new mc(e,n),t})(),mc=class extends ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Mh}};var We=class extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var jh={now(){return(jh.delegate||Date).now()},delegate:void 0};var yc=class extends Ce{constructor(e,n){super()}schedule(e,n=0){return this}};var ms={setInterval(t,e,...n){let{delegate:r}=ms;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ms;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Vi=class extends yc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ms.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ms.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Lr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ji=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ji.now=jh.now;var Ui=class extends ji{constructor(e,n=ji.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Uh=new Ui(Vi);var vc=class extends Vi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var _c=class extends Ui{};var Bh=new _c(vc);var ft=new re(t=>t.complete());function oI(t){return t&&K(t.schedule)}function sI(t){return t[t.length-1]}function aI(t){return K(sI(t))?t.pop():void 0}function rr(t){return oI(sI(t))?t.pop():void 0}function $h(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uI(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function cI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ur(t){return this instanceof Ur?(this.v=t,this):new Ur(t)}function lI(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(S){return Promise.resolve(S).then(m,p)}}function c(m,S){r[m]&&(i[m]=function(N){return new Promise(function(R,L){o.push([m,N,R,L])>1||u(m,N)})},S&&(i[m]=S(i[m])))}function u(m,S){try{l(r[m](S))}catch(N){y(o[0][3],N)}}function l(m){m.value instanceof Ur?Promise.resolve(m.value.v).then(f,p):y(o[0][2],m)}function f(m){u("next",m)}function p(m){u("throw",m)}function y(m,S){m(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function dI(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cI=="function"?cI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Ic=t=>t&&typeof t.length=="number"&&typeof t!="function";function wc(t){return K(t?.then)}function Ec(t){return K(t[Oi])}function Tc(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function Dc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function OR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bc=OR();function Cc(t){return K(t?.[bc])}function Sc(t){return lI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ur(n.read());if(i)return yield Ur(void 0);yield yield Ur(r)}}finally{n.releaseLock()}})}function Ac(t){return K(t?.getReader)}function Ve(t){if(t instanceof re)return t;if(t!=null){if(Ec(t))return FR(t);if(Ic(t))return LR(t);if(wc(t))return VR(t);if(Tc(t))return hI(t);if(Cc(t))return jR(t);if(Ac(t))return UR(t)}throw Dc(t)}function FR(t){return new re(e=>{let n=t[Oi]();if(K(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function LR(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function VR(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,fc)})}function jR(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function hI(t){return new re(e=>{BR(t,e).catch(n=>e.error(n))})}function UR(t){return hI(Sc(t))}function BR(t,e){var n,r,i,o;return uI(this,void 0,void 0,function*(){try{for(n=dI(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function pt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ir(t,e=0){return se((n,r)=>{n.subscribe(ae(r,i=>pt(r,t,()=>r.next(i),e),()=>pt(r,t,()=>r.complete(),e),i=>pt(r,t,()=>r.error(i),e)))})}function or(t,e=0){return se((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function fI(t,e){return Ve(t).pipe(or(e),ir(e))}function pI(t,e){return Ve(t).pipe(or(e),ir(e))}function gI(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function mI(t,e){return new re(n=>{let r;return pt(n,e,()=>{r=t[bc](),pt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function Rc(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{pt(n,e,()=>{let r=t[Symbol.asyncIterator]();pt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function yI(t,e){return Rc(Sc(t),e)}function vI(t,e){if(t!=null){if(Ec(t))return fI(t,e);if(Ic(t))return gI(t,e);if(wc(t))return pI(t,e);if(Tc(t))return Rc(t,e);if(Cc(t))return mI(t,e);if(Ac(t))return yI(t,e)}throw Dc(t)}function Ae(t,e){return e?vI(t,e):Ve(t)}function Q(...t){let e=rr(t);return Ae(t,e)}function Bi(t,e){let n=K(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function Hh(t){return!!t&&(t instanceof re||K(t.lift)&&K(t.subscribe))}var Sn=Mi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(t,e){return se((n,r)=>{let i=0;n.subscribe(ae(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:$R}=Array;function HR(t,e){return $R(e)?t(...e):t(e)}function _I(t){return oe(e=>HR(t,e))}var{isArray:qR}=Array,{getPrototypeOf:zR,prototype:WR,keys:GR}=Object;function II(t){if(t.length===1){let e=t[0];if(qR(e))return{args:e,keys:null};if(KR(e)){let n=GR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function KR(t){return t&&typeof t=="object"&&zR(t)===WR}function wI(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Nc(...t){let e=rr(t),n=aI(t),{args:r,keys:i}=II(t);if(r.length===0)return Ae([],e);let o=new re(QR(r,e,i?s=>wI(i,s):wt));return n?o.pipe(_I(n)):o}function QR(t,e,n=wt){return r=>{EI(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)EI(e,()=>{let l=Ae(t[u],e),f=!1;l.subscribe(ae(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function EI(t,e,n){t?pt(n,t,e):e()}function TI(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},m=N=>l<r?S(N):u.push(N),S=N=>{o&&e.next(N),l++;let R=!1;Ve(n(N,f++)).subscribe(ae(e,L=>{i?.(L),o?m(L):e.next(L)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let L=u.shift();s?pt(e,s,()=>S(L)):S(L)}y()}catch(L){e.error(L)}}))};return t.subscribe(ae(e,m,()=>{p=!0,y()})),()=>{c?.()}}function Fe(t,e,n=1/0){return K(e)?Fe((r,i)=>oe((o,s)=>e(r,o,i,s))(Ve(t(r,i))),n):(typeof e=="number"&&(n=e),se((r,i)=>TI(r,i,t,n)))}function DI(t=1/0){return Fe(wt,t)}function bI(){return DI(1)}function $i(...t){return bI()(Ae(t,rr(t)))}function Mc(t){return new re(e=>{Ve(t()).subscribe(e)})}function Rt(t,e){return se((n,r)=>{let i=0;n.subscribe(ae(r,o=>t.call(e,o,i++)&&r.next(o)))})}function sr(t){return se((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ae(n,void 0,void 0,s=>{o=Ve(t(s,sr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function CI(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(ae(s,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Hi(t,e){return K(e)?Fe(t,e,1):Fe(t,1)}function ar(t){return se((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function An(t){return t<=0?()=>ft:se((e,n)=>{let r=0;e.subscribe(ae(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Pc(t=YR){return se((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function YR(){return new Sn}function ys(t){return se((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Rn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,o)=>t(i,o,r)):wt,An(1),n?ar(e):Pc(()=>new Sn))}function qi(t){return t<=0?()=>ft:se((e,n)=>{let r=[];e.subscribe(ae(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function qh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,o)=>t(i,o,r)):wt,qi(1),n?ar(e):Pc(()=>new Sn))}function kc(t,e){return se(CI(t,e,arguments.length>=2,!0))}function xc(...t){let e=rr(t);return se((n,r)=>{(e?$i(t,n,e):$i(t,n)).subscribe(r)})}function zt(t,e){return se((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(ae(r,u=>{i?.unsubscribe();let l=0,f=o++;Ve(t(u,f)).subscribe(i=ae(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function zh(t){return se((e,n)=>{Ve(t).subscribe(ae(n,()=>n.complete(),gs)),!n.closed&&e.subscribe(n)})}function Ge(t,e,n){let r=K(t)||e||n?{next:t,error:e,complete:n}:t;return r?se((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ae(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):wt}var U=class extends Error{code;constructor(e,n){super(JR(e,n)),this.code=e}};function ZR(t){return`NG0${Math.abs(t)}`}function JR(t,e){return`${ZR(t)}${e?": "+e:""}`}var fw=Symbol("InputSignalNode#UNSET"),XR=ve(F({},Rh),{transformFn:void 0,applyValueToInputSignal(t,e){Ah(t,e)}});function pw(t,e){let n=Object.create(XR);n.value=t,n.transformFn=e?.transform;function r(){if(Eh(n),n.value===fw){let i=null;throw new U(-950,i)}return n.value}return r[Ni]=n,r}function Ns(t){return{toString:t}.toString()}var Oc="__parameters__";function eN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function tN(t,e,n){return Ns(()=>{let r=eN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(Oc)?u[Oc]:Object.defineProperty(u,Oc,{value:[]})[Oc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function Et(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Et).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function SI(t,e){return t?e?`${t} ${e}`:t:e||""}var nN=we({__forward_ref__:we});function gw(t){return t.__forward_ref__=gw,t.toString=function(){return Et(this())},t}function Mt(t){return mw(t)?t():t}function mw(t){return typeof t=="function"&&t.hasOwnProperty(nN)&&t.__forward_ref__===gw}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function cu(t){return{providers:t.providers||[],imports:t.imports||[]}}function uu(t){return AI(t,vw)||AI(t,_w)}function yw(t){return uu(t)!==null}function AI(t,e){return t.hasOwnProperty(e)?t[e]:null}function rN(t){let e=t&&(t[vw]||t[_w]);return e||null}function RI(t){return t&&(t.hasOwnProperty(NI)||t.hasOwnProperty(iN))?t[NI]:null}var vw=we({\u0275prov:we}),NI=we({\u0275inj:we}),_w=we({ngInjectableDef:we}),iN=we({ngInjectorDef:we}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Iw(t){return t&&!!t.\u0275providers}var oN=we({\u0275cmp:we}),sN=we({\u0275dir:we}),aN=we({\u0275pipe:we}),cN=we({\u0275mod:we}),Bc=we({\u0275fac:we}),ws=we({__NG_ELEMENT_ID__:we}),MI=we({__NG_ENV_ID__:we});function uN(t){return typeof t=="string"?t:t==null?"":String(t)}function lN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():uN(t)}function ww(t,e){throw new U(-200,t)}function Of(t,e){throw new U(-201,!1)}var J=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(J||{}),ef;function Ew(){return ef}function Nt(t){let e=ef;return ef=t,e}function Tw(t,e,n){let r=uu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&J.Optional)return null;if(e!==void 0)return e;Of(t,"Injector")}var dN={},Br=dN,tf="__NG_DI_FLAG__",$c=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?lc:Br,r)}},Hc="ngTempTokenPath",hN="ngTokenPath",fN=/\n/gm,pN="\u0275",PI="__source";function gN(t,e=J.Default){if(ps()===void 0)throw new U(-203,!1);if(ps()===null)return Tw(t,void 0,e);{let n=ps(),r;return n instanceof $c?r=n.injector:r=n,r.get(t,e&J.Optional?null:void 0,e)}}function ee(t,e=J.Default){return(Ew()||gN)(Mt(t),e)}function k(t,e=J.Default){return ee(t,lu(e))}function lu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function nf(t){let e=[];for(let n=0;n<t.length;n++){let r=Mt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=J.Default;for(let s=0;s<r.length;s++){let c=r[s],u=yN(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(ee(i,o))}else e.push(ee(r))}return e}function mN(t,e){return t[tf]=e,t.prototype[tf]=e,t}function yN(t){return t[tf]}function vN(t,e,n,r){let i=t[Hc];throw e[PI]&&i.unshift(e[PI]),t.message=_N(`
`+t.message,i,n,r),t[hN]=i,t[Hc]=null,t}function _N(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==pN?t.slice(2):t;let i=Et(e);if(Array.isArray(e))i=e.map(Et).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):Et(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(fN,`
  `)}`}var ut=mN(tN("Optional"),8);function Qi(t,e){let n=t.hasOwnProperty(Bc);return n?t[Bc]:null}function Ff(t,e){t.forEach(n=>Array.isArray(n)?Ff(n,e):e(n))}function Dw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Yi={},tn=[],Es=new j(""),bw=new j("",-1),Cw=new j(""),zc=class{get(e,n=Br){if(n===Br){let r=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw r.name="NullInjectorError",r}return n}};function Sw(t,e){let n=t[cN]||null;if(!n&&e===!0)throw new Error(`Type ${Et(t)} does not have '\u0275mod' property.`);return n}function Zi(t){return t[oN]||null}function IN(t){return t[sN]||null}function wN(t){return t[aN]||null}function Kt(t){return{\u0275providers:t}}function EN(...t){return{\u0275providers:Aw(!0,t),\u0275fromNgModule:!0}}function Aw(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ff(e,s=>{let c=s;rf(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Rw(i,o),n}function Rw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Lf(i,o=>{e(o,r)})}}function rf(t,e,n,r){if(t=Mt(t),!t)return!1;let i=null,o=RI(t),s=!o&&Zi(t);if(!o&&!s){let u=t.ngModule;if(o=RI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)rf(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Ff(o.imports,f=>{rf(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&Rw(l,e)}if(!c){let l=Qi(i)||(()=>new i);e({provide:i,useFactory:l,deps:tn},i),e({provide:Cw,useValue:i,multi:!0},i),e({provide:Es,useValue:()=>ee(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;Lf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Lf(t,e){for(let n of t)Iw(n)&&(n=n.\u0275providers),Array.isArray(n)?Lf(n,e):e(n)}var TN=we({provide:String,useValue:we});function Nw(t){return t!==null&&typeof t=="object"&&TN in t}function DN(t){return!!(t&&t.useExisting)}function bN(t){return!!(t&&t.useFactory)}function of(t){return typeof t=="function"}var du=new j(""),Fc={},kI={},Wh;function Vf(){return Wh===void 0&&(Wh=new zc),Wh}var mt=class{},Ts=class extends mt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,af(e,s=>this.processProvider(s)),this.records.set(bw,zi(void 0,this)),i.has("environment")&&this.records.set(mt,zi(void 0,this));let o=this.records.get(du);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Cw,tn,J.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?lc:Br,r)}destroy(){_s(this),this._destroyed=!0;let e=de(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),de(e)}}onDestroy(e){return _s(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){_s(this);let n=Cn(this),r=Nt(void 0),i;try{return e()}finally{Cn(n),Nt(r)}}get(e,n=Br,r=J.Default){if(_s(this),e.hasOwnProperty(MI))return e[MI](this);r=lu(r);let i,o=Cn(this),s=Nt(void 0);try{if(!(r&J.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=MN(e)&&uu(e);l&&this.injectableDefInScope(l)?u=zi(sf(e),Fc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let c=r&J.Self?Vf():this.parent;return n=r&J.Optional&&n===Br?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Hc]=c[Hc]||[]).unshift(Et(e)),o)throw c;return vN(c,e,"R3InjectorError",this.source)}else throw c}finally{Nt(s),Cn(o)}}resolveInjectorInitializers(){let e=de(null),n=Cn(this),r=Nt(void 0),i;try{let o=this.get(Es,tn,J.Self);for(let s of o)s()}finally{Cn(n),Nt(r),de(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Et(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Mt(e);let n=of(e)?e:Mt(e&&e.provide),r=SN(e);if(!of(e)&&e.multi===!0){let i=this.records.get(n);i||(i=zi(void 0,Fc,!0),i.factory=()=>nf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=de(null);try{return n.value===kI?ww(Et(e)):n.value===Fc&&(n.value=kI,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&NN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{de(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Mt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function sf(t){let e=uu(t),n=e!==null?e.factory:Qi(t);if(n!==null)return n;if(t instanceof j)throw new U(204,!1);if(t instanceof Function)return CN(t);throw new U(204,!1)}function CN(t){if(t.length>0)throw new U(204,!1);let n=rN(t);return n!==null?()=>n.factory(t):()=>new t}function SN(t){if(Nw(t))return zi(void 0,t.useValue);{let e=AN(t);return zi(e,Fc)}}function AN(t,e,n){let r;if(of(t)){let i=Mt(t);return Qi(i)||sf(i)}else if(Nw(t))r=()=>Mt(t.useValue);else if(bN(t))r=()=>t.useFactory(...nf(t.deps||[]));else if(DN(t))r=(i,o)=>ee(Mt(t.useExisting),o!==void 0&&o&J.Optional?J.Optional:void 0);else{let i=Mt(t&&(t.useClass||t.provide));if(RN(t))r=()=>new i(...nf(t.deps));else return Qi(i)||sf(i)}return r}function _s(t){if(t.destroyed)throw new U(205,!1)}function zi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function RN(t){return!!t.deps}function NN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function MN(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function af(t,e){for(let n of t)Array.isArray(n)?af(n,e):n&&Iw(n)?af(n.\u0275providers,e):e(n)}function lt(t,e){let n;t instanceof Ts?(_s(t),n=t):n=new $c(t);let r,i=Cn(n),o=Nt(void 0);try{return e()}finally{Cn(i),Nt(o)}}function Mw(){return Ew()!==void 0||ps()!=null}function Pw(t){if(!Mw())throw new U(-203,!1)}function PN(t){return typeof t=="function"}var Pn=0,ue=1,X=2,at=3,Gt=4,Qt=5,Wc=6,Gc=7,xt=8,Ji=9,lr=10,Tt=11,Ds=12,xI=13,Ms=14,rn=15,bs=16,Wi=17,hu=18,fu=19,kw=20,cr=21,Gh=22,Kc=23,Pt=24,Kh=25,dr=26,xw=1;var Hr=7,Qc=8,Yc=9,kt=10;function ur(t){return Array.isArray(t)&&typeof t[xw]=="object"}function kn(t){return Array.isArray(t)&&t[xw]===!0}function Ow(t){return(t.flags&4)!==0}function to(t){return t.componentOffset>-1}function Fw(t){return(t.flags&1)===1}function Gr(t){return!!t.template}function Zc(t){return(t[X]&512)!==0}function no(t){return(t[X]&256)===256}var cf=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Lw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var jf=(()=>{let t=()=>Vw;return t.ngInherit=!0,t})();function Vw(t){return t.type.prototype.ngOnChanges&&(t.setInput=xN),kN}function kN(){let t=Uw(this),e=t?.current;if(e){let n=t.previous;if(n===Yi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function xN(t,e,n,r,i){let o=this.declaredInputs[r],s=Uw(t)||ON(t,{previous:Yi,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new cf(l&&l.currentValue,n,u===Yi),Lw(t,e,i,n)}var jw="__ngSimpleChanges__";function Uw(t){return t[jw]||null}function ON(t,e){return t[jw]=e}var OI=null;var Ee=function(t,e=null,n){OI?.(t,e,n)},FN="svg",LN="math";function Nn(t){for(;Array.isArray(t);)t=t[Pn];return t}function xn(t,e){return Nn(e[t.index])}function Bw(t,e){return t.data[e]}function on(t,e){let n=e[t];return ur(n)?n:n[Pn]}function Uf(t){return(t[X]&128)===128}function VN(t){return kn(t[at])}function FI(t,e){return e==null?null:t[e]}function $w(t){t[Wi]=0}function Hw(t){t[X]&1024||(t[X]|=1024,Uf(t)&&gu(t))}function pu(t){return!!(t[X]&9216||t[Pt]?.dirty)}function uf(t){t[lr].changeDetectionScheduler?.notify(8),t[X]&64&&(t[X]|=1024),pu(t)&&gu(t)}function gu(t){t[lr].changeDetectionScheduler?.notify(0);let e=qr(t);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!Uf(e)));)e=qr(e)}function qw(t,e){if(no(t))throw new U(911,!1);t[cr]===null&&(t[cr]=[]),t[cr].push(e)}function jN(t,e){if(t[cr]===null)return;let n=t[cr].indexOf(e);n!==-1&&t[cr].splice(n,1)}function qr(t){let e=t[at];return kn(e)?e[at]:e}function zw(t){return t[Gc]??=[]}function Ww(t){return t.cleanup??=[]}var he={lFrame:Xw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var lf=!1;function UN(){return he.lFrame.elementDepthCount}function BN(){he.lFrame.elementDepthCount++}function $N(){he.lFrame.elementDepthCount--}function HN(){return he.bindingsEnabled}function qN(){return he.skipHydrationRootTNode!==null}function zN(t){return he.skipHydrationRootTNode===t}function WN(){he.skipHydrationRootTNode=null}function ct(){return he.lFrame.lView}function ro(){return he.lFrame.tView}function On(){let t=Gw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Gw(){return he.lFrame.currentTNode}function GN(){let t=he.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function mu(t,e){let n=he.lFrame;n.currentTNode=t,n.isParent=e}function Kw(){return he.lFrame.isParent}function KN(){he.lFrame.isParent=!1}function Qw(){return lf}function LI(t){let e=lf;return lf=t,e}function QN(){let t=he.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function YN(t){return he.lFrame.bindingIndex=t}function ZN(){return he.lFrame.bindingIndex++}function JN(){return he.lFrame.inI18n}function XN(t,e){let n=he.lFrame;n.bindingIndex=n.bindingRootIndex=t,df(e)}function eM(){return he.lFrame.currentDirectiveIndex}function df(t){he.lFrame.currentDirectiveIndex=t}function Yw(t){he.lFrame.currentQueryIndex=t}function tM(t){let e=t[ue];return e.type===2?e.declTNode:e.type===1?t[Qt]:null}function Zw(t,e,n){if(n&J.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&J.Host);)if(i=tM(o),i===null||(o=o[Ms],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=he.lFrame=Jw();return r.currentTNode=e,r.lView=t,!0}function Bf(t){let e=Jw(),n=t[ue];he.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Jw(){let t=he.lFrame,e=t===null?null:t.child;return e===null?Xw(t):e}function Xw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function eE(){let t=he.lFrame;return he.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tE=eE;function $f(){let t=eE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nE(){return he.lFrame.selectedIndex}function zr(t){he.lFrame.selectedIndex=t}function nM(){let t=he.lFrame;return Bw(t.tView,t.selectedIndex)}function rM(){return he.lFrame.currentNamespace}var rE=!0;function iE(){return rE}function oE(t){rE=t}function iM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Vw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function oM(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Lc(t,e,n){sE(t,e,3,n)}function Vc(t,e,n,r){(t[X]&3)===n&&sE(t,e,n,r)}function Qh(t,e){let n=t[X];(n&3)===e&&(n&=16383,n+=1,t[X]=n)}function sE(t,e,n,r){let i=r!==void 0?t[Wi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Wi]+=65536),(c<o||o==-1)&&(sM(t,n,e,u),t[Wi]=(t[Wi]&4294901760)+u+2),u++}function VI(t,e){Ee(4,t,e);let n=de(null);try{e.call(t)}finally{de(n),Ee(5,t,e)}}function sM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[X]>>14<t[Wi]>>16&&(t[X]&3)===e&&(t[X]+=16384,VI(c,o)):VI(c,o)}var Ki=-1,Cs=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function aM(t){return(t.flags&8)!==0}function cM(t){return(t.flags&16)!==0}function uM(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];dM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function lM(t){return t===3||t===4||t===6}function dM(t){return t.charCodeAt(0)===64}function aE(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?jI(t,n,i,null,e[++r]):jI(t,n,i,null,null))}}return t}function jI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function cE(t){return t!==Ki}function Jc(t){return t&32767}function hM(t){return t>>16}function Xc(t,e){let n=hM(t),r=e;for(;n>0;)r=r[Ms],n--;return r}var hf=!0;function UI(t){let e=hf;return hf=t,e}var fM=256,uE=fM-1,lE=5,pM=0,nn={};function gM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ws)&&(r=n[ws]),r==null&&(r=n[ws]=pM++);let i=r&uE,o=1<<i;e.data[t+(i>>lE)]|=o}function dE(t,e){let n=hE(t,e);if(n!==-1)return n;let r=e[ue];r.firstCreatePass&&(t.injectorIndex=e.length,Yh(r.data,t),Yh(e,null),Yh(r.blueprint,null));let i=Hf(t,e),o=t.injectorIndex;if(cE(i)){let s=Jc(i),c=Xc(i,e),u=c[ue].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Yh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function hE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Hf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=yE(i),r===null)return Ki;if(n++,i=i[Ms],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ki}function mM(t,e,n){gM(t,e,n)}function fE(t,e,n){if(n&J.Optional||t!==void 0)return t;Of(e,"NodeInjector")}function pE(t,e,n,r){if(n&J.Optional&&r===void 0&&(r=null),(n&(J.Self|J.Host))===0){let i=t[Ji],o=Nt(void 0);try{return i?i.get(e,r,n&J.Optional):Tw(e,r,n&J.Optional)}finally{Nt(o)}}return fE(r,e,n)}function gE(t,e,n,r=J.Default,i){if(t!==null){if(e[X]&2048&&!(r&J.Self)){let s=wM(t,e,n,r,nn);if(s!==nn)return s}let o=mE(t,e,n,r,nn);if(o!==nn)return o}return pE(e,n,r,i)}function mE(t,e,n,r,i){let o=_M(n);if(typeof o=="function"){if(!Zw(e,t,r))return r&J.Host?fE(i,n,r):pE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&J.Optional))Of(n);else return s}finally{tE()}}else if(typeof o=="number"){let s=null,c=hE(t,e),u=Ki,l=r&J.Host?e[rn][Qt]:null;for((c===-1||r&J.SkipSelf)&&(u=c===-1?Hf(t,e):e[c+8],u===Ki||!$I(r,!1)?c=-1:(s=e[ue],c=Jc(u),e=Xc(u,e)));c!==-1;){let f=e[ue];if(BI(o,c,f.data)){let p=yM(c,e,n,s,r,l);if(p!==nn)return p}u=e[c+8],u!==Ki&&$I(r,e[ue].data[c+8]===l)&&BI(o,c,e)?(s=f,c=Jc(u),e=Xc(u,e)):c=-1}}return i}function yM(t,e,n,r,i,o){let s=e[ue],c=s.data[t+8],u=r==null?to(c)&&hf:r!=s&&(c.type&3)!==0,l=i&J.Host&&o===c,f=vM(c,s,n,u,l);return f!==null?ff(e,s,f,c,i):nn}function vM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?c:c+f,y=i?c+f:l;for(let m=p;m<y;m++){let S=s[m];if(m<u&&n===S||m>=u&&S.type===n)return m}if(i){let m=s[u];if(m&&Gr(m)&&m.type===n)return u}return null}function ff(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Cs){let c=o;c.resolving&&ww(lN(s[n]));let u=UI(c.canSeeViewProviders);c.resolving=!0;let l,f=c.injectImpl?Nt(c.injectImpl):null,p=Zw(t,r,J.Default);try{o=t[n]=c.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&iM(n,s[n],e)}finally{f!==null&&Nt(f),UI(u),c.resolving=!1,tE()}}return o}function _M(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ws)?t[ws]:void 0;return typeof e=="number"?e>=0?e&uE:IM:e}function BI(t,e,n){let r=1<<t;return!!(n[e+(t>>lE)]&r)}function $I(t,e){return!(t&J.Self)&&!(t&J.Host&&e)}var $r=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return gE(this._tNode,this._lView,e,lu(r),n)}};function IM(){return new $r(On(),ct())}function qf(t){return Ns(()=>{let e=t.prototype.constructor,n=e[Bc]||pf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Bc]||pf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function pf(t){return mw(t)?()=>{let e=pf(Mt(t));return e&&e()}:Qi(t)}function wM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[X]&2048&&!Zc(s);){let c=mE(o,s,n,r|J.Self,nn);if(c!==nn)return c;let u=o.parent;if(!u){let l=s[kw];if(l){let f=l.get(n,nn,r);if(f!==nn)return f}u=yE(s),s=s[Ms]}o=u}return i}function yE(t){let e=t[ue],n=e.type;return n===2?e.declTNode:n===1?t[Qt]:null}function HI(t,e=null,n=null,r){let i=vE(t,e,n,r);return i.resolveInjectorInitializers(),i}function vE(t,e=null,n=null,r,i=new Set){let o=[n||tn,EN(t)];return r=r||(typeof t=="object"?void 0:Et(t)),new Ts(o,e||Vf(),r||null,i)}var je=class t{static THROW_IF_NOT_FOUND=Br;static NULL=new zc;static create(e,n){if(Array.isArray(e))return HI({name:""},n,e,"");{let r=e.name??"";return HI({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:t,providedIn:"any",factory:()=>ee(bw)});static __NG_ELEMENT_ID__=-1};var EM=new j("");EM.__NG_ELEMENT_ID__=t=>{let e=On();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(t&J.Optional)return null;throw new U(204,!1)};var _E=!1,Ps=(()=>{class t{static __NG_ELEMENT_ID__=TM;static __NG_ENV_ID__=n=>n}return t})(),gf=class extends Ps{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return no(n)?(e(),()=>{}):(qw(n,e),()=>jN(n,e))}};function TM(){return new gf(ct())}var Xi=class{},zf=new j("",{providedIn:"root",factory:()=>!1});var IE=new j(""),wE=new j(""),Kr=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new We(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),yu=(()=>{class t{internalPendingTasks=k(Kr);scheduler=k(Xi);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return v(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),mf=class extends ze{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Mw()&&(this.destroyRef=k(Ps,{optional:!0})??void 0,this.pendingTasks=k(Kr,{optional:!0})??void 0)}emit(e){let n=de(null);try{super.next(e)}finally{de(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Ce&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},gt=mf;function eu(...t){}function EE(t){let e,n;function r(){t=eu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function qI(t){return queueMicrotask(()=>t()),()=>{t=eu}}var Wf="isAngularZone",tu=Wf+"_ID",DM=0,pe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new gt(!1);onMicrotaskEmpty=new gt(!1);onStable=new gt(!1);onError=new gt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=_E}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,SM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Wf)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,bM,eu,eu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},bM={};function Gf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function CM(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){EE(()=>{t.callbackScheduled=!1,yf(t),t.isCheckStableRunning=!0,Gf(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),yf(t)}function SM(t){let e=()=>{CM(t)},n=DM++;t._inner=t._inner.fork({name:"angular",properties:{[Wf]:!0,[tu]:n,[tu+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(AM(u))return r.invokeTask(o,s,c,u);try{return zI(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),WI(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return zI(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!RM(u)&&e(),WI(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,yf(t),Gf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function yf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function zI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function WI(t){t._nesting--,Gf(t)}var vf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new gt;onMicrotaskEmpty=new gt;onStable=new gt;onError=new gt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function AM(t){return TE(t,"__ignore_ng_zone__")}function RM(t){return TE(t,"__scheduler_tick__")}function TE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Mn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},NM=new j("",{providedIn:"root",factory:()=>{let t=k(pe),e=k(Mn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function GI(t,e){return pw(t,e)}function MM(t){return pw(fw,t)}var DE=(GI.required=MM,GI);function PM(){return Kf(On(),ct())}function Kf(t,e){return new Qf(xn(t,e))}var Qf=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=PM}return t})();function bE(t){return(t.flags&128)===128}var CE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(CE||{}),SE=new Map,kM=0;function xM(){return kM++}function OM(t){SE.set(t[fu],t)}function _f(t){SE.delete(t[fu])}var KI="__ngContext__";function vu(t,e){ur(e)?(t[KI]=e[fu],OM(e)):t[KI]=e}function AE(t){return NE(t[Ds])}function RE(t){return NE(t[Gt])}function NE(t){for(;t!==null&&!kn(t);)t=t[Gt];return t}var If;function ME(t){If=t}function FM(){if(If!==void 0)return If;if(typeof document<"u")return document;throw new U(210,!1)}var Yf=new j("",{providedIn:"root",factory:()=>LM}),LM="ng",Zf=new j(""),an=new j("",{providedIn:"platform",factory:()=>"unknown"});var Jf=new j("",{providedIn:"root",factory:()=>FM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var VM="h",jM="b";var PE=!1,UM=new j("",{providedIn:"root",factory:()=>PE});var kE=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(kE||{}),_u=new j(""),QI=new Set;function Xf(t){QI.has(t)||(QI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var BM=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})();var $M=(t,e,n,r)=>{};function HM(t,e,n,r){$M(t,e,n,r)}var qM=()=>null;function xE(t,e,n=!1){return qM(t,e,n)}function OE(t,e){let n=t.contentQueries;if(n!==null){let r=de(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];Yw(o),c.contentQueries(2,e[s],s)}}}finally{de(r)}}}function wf(t,e,n){Yw(0);let r=de(null);try{e(t,n)}finally{de(r)}}function FE(t,e,n){if(Ow(e)){let r=de(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{de(r)}}}var sn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(sn||{});function LE(t){return t instanceof Function?t():t}function zM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var VE="ng-template";function WM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&zM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ep(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ep(t){return t.type===4&&t.value!==VE}function GM(t,e,n){let r=t.type===4&&!n?VE:t.value;return e===r}function KM(t,e,n){let r=4,i=t.attrs,o=i!==null?ZM(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Wt(r)&&!Wt(u))return!1;if(s&&Wt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!GM(t,u,n)||u===""&&e.length===1){if(Wt(r))return!1;s=!0}}else if(r&8){if(i===null||!WM(t,i,u,n)){if(Wt(r))return!1;s=!0}}else{let l=e[++c],f=QM(u,i,ep(t),n);if(f===-1){if(Wt(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Wt(r))return!1;s=!0}}}}return Wt(r)||s}function Wt(t){return(t&1)===0}function QM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return JM(e,t)}function YM(t,e,n=!1){for(let r=0;r<e.length;r++)if(KM(t,e[r],n))return!0;return!1}function ZM(t){for(let e=0;e<t.length;e++){let n=t[e];if(lM(n))return e}return t.length}function JM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function YI(t,e){return t?":not("+e.trim()+")":e}function XM(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Wt(s)&&(e+=YI(o,i),i=""),r=s,o=o||!Wt(r);n++}return i!==""&&(e+=YI(o,i)),e}function eP(t){return t.map(XM).join(",")}function tP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Wt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var tp={};function nP(t,e){return t.createText(e)}function jE(t,e,n){return t.createElement(e,n)}function nu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function UE(t,e,n){t.appendChild(e,n)}function ZI(t,e,n,r,i){r!==null?nu(t,e,n,r,i):UE(t,e,n)}function rP(t,e,n){t.removeChild(null,e,n)}function iP(t,e,n){t.setAttribute(e,"style",n)}function oP(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function BE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&uM(t,e,r),i!==null&&oP(t,e,i),o!==null&&iP(t,e,o)}function $E(t,e,n,r,i,o,s,c,u,l,f){let p=dr+r,y=p+i,m=sP(p,y),S=typeof l=="function"?l():l;return m[ue]={type:t,blueprint:m,template:n,queries:null,viewQuery:c,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function sP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:tp);return n}function aP(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=$E(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function HE(t,e,n,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[Pn]=i,p[X]=r|4|128|8|64|1024,(l!==null||t&&t[X]&2048)&&(p[X]|=2048),$w(p),p[at]=p[Ms]=t,p[xt]=n,p[lr]=s||t&&t[lr],p[Tt]=c||t&&t[Tt],p[Ji]=u||t&&t[Ji]||null,p[Qt]=o,p[fu]=xM(),p[Wc]=f,p[kw]=l,p[rn]=e.type==2?t[rn]:p,p}function cP(t,e,n){let r=xn(e,t),i=aP(n),o=t[lr].rendererFactory,s=WE(t,HE(t,i,null,qE(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function qE(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function zE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function WE(t,e){return t[Ds]?t[xI][Gt]=e:t[Ds]=e,t[xI]=e,e}function GE(t=1){KE(ro(),ct(),nE()+t,!1)}function KE(t,e,n,r){if(!r)if((e[X]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Lc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Vc(e,o,0,n)}zr(n)}var Iu=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Iu||{});function Ef(t,e,n,r){let i=de(null);try{let[o,s,c]=t.inputs[n],u=null;(s&Iu.SignalBased)!==0&&(u=e[o][Ni]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):Lw(e,u,o,r)}finally{de(i)}}function QE(t,e,n,r,i){let o=nE(),s=r&2;try{zr(-1),s&&e.length>dr&&KE(t,e,dr,!1),Ee(s?2:0,i),n(r,i)}finally{zr(o),Ee(s?3:1,i)}}function YE(t,e,n){mP(t,e,n),(n.flags&64)===64&&yP(t,e,n)}function uP(t,e,n=xn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function lP(t,e,n,r){let o=r.get(UM,PE)||n===sn.ShadowDom,s=t.selectRootElement(e,o);return dP(s),s}function dP(t){hP(t)}var hP=()=>null;function fP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function pP(t,e,n,r,i,o,s,c){if(!c&&np(e,t,n,r,i)){to(e)&&gP(n,e.index);return}if(e.type&3){let u=xn(e,n);r=fP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function gP(t,e){let n=on(e,t);n[X]&16||(n[X]|=64)}function mP(t,e,n){let r=n.directiveStart,i=n.directiveEnd;to(n)&&cP(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||dE(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=ff(e,t,s,n);if(vu(u,e),o!==null&&IP(e,s-r,u,c,n,o),Gr(c)){let l=on(n.index,e);l[xt]=ff(e,t,s,n)}}}function yP(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=eM();try{zr(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];df(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&vP(u,l)}}finally{zr(-1),df(s)}}function vP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _P(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];YM(e,o.selectors,!1)&&(r??=[],Gr(o)?r.unshift(o):r.push(o))}return r}function IP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];Ef(r,n,u,l)}}function wP(t,e){let n=t[Ji],r=n?n.get(Mn,null):null;r&&r.handleError(e)}function np(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];Ef(p,n[l],f,i),c=!0}if(o)for(let u of o){let l=n[u],f=e.data[u];Ef(f,l,r,i),c=!0}return c}function EP(t,e){let n=on(e,t),r=n[ue];TP(r,n);let i=n[Pn];i!==null&&n[Wc]===null&&(n[Wc]=xE(i,n[Ji])),Ee(18),ZE(r,n,n[xt]),Ee(19,n[xt])}function TP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ZE(t,e,n){Bf(e);try{let r=t.viewQuery;r!==null&&wf(1,r,n);let i=t.template;i!==null&&QE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[hu]?.finishViewCreation(t),t.staticContentQueries&&OE(t,e),t.staticViewQueries&&wf(2,t.viewQuery,n);let o=t.components;o!==null&&DP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[X]&=-5,$f()}}function DP(t,e){for(let n=0;n<e.length;n++)EP(t,e[n])}function JI(t,e){return!e||e.firstChild===null||bE(t)}var bP;function rp(t,e){return bP(t,e)}var io=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(io||{});function JE(t){return(t.flags&32)===32}function Gi(t,e,n,r,i){if(r!=null){let o,s=!1;kn(r)?o=r:ur(r)&&(s=!0,r=r[Pn]);let c=Nn(r);t===0&&n!==null?i==null?UE(e,n,c):nu(e,n,c,i||null,!0):t===1&&n!==null?nu(e,n,c,i||null,!0):t===2?rP(e,c,s):t===3&&e.destroyNode(c),o!=null&&LP(e,t,o,n,i)}}function CP(t,e){XE(t,e),e[Pn]=null,e[Qt]=null}function SP(t,e,n,r,i,o){r[Pn]=i,r[Qt]=e,wu(t,r,n,1,i,o)}function XE(t,e){e[lr].changeDetectionScheduler?.notify(9),wu(t,e,e[Tt],2,null,null)}function AP(t){let e=t[Ds];if(!e)return Zh(t[ue],t);for(;e;){let n=null;if(ur(e))n=e[Ds];else{let r=e[kt];r&&(n=r)}if(!n){for(;e&&!e[Gt]&&e!==t;)ur(e)&&Zh(e[ue],e),e=e[at];e===null&&(e=t),ur(e)&&Zh(e[ue],e),n=e&&e[Gt]}e=n}}function ip(t,e){let n=t[Yc],r=n.indexOf(e);n.splice(r,1)}function eT(t,e){if(no(e))return;let n=e[Tt];n.destroyNode&&wu(t,e,n,3,null,null),AP(e)}function Zh(t,e){if(no(e))return;let n=de(null);try{e[X]&=-129,e[X]|=256,e[Pt]&&Ch(e[Pt]),NP(t,e),RP(t,e),e[ue].type===1&&e[Tt].destroy();let r=e[bs];if(r!==null&&kn(e[at])){r!==e[at]&&ip(r,e);let i=e[hu];i!==null&&i.detachView(t)}_f(e)}finally{de(n)}}function RP(t,e){let n=t.cleanup,r=e[Gc];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Gc]=null);let i=e[cr];if(i!==null){e[cr]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Kc];if(o!==null){e[Kc]=null;for(let s of o)s.destroy()}}function NP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Cs)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Ee(4,c,u);try{u.call(c)}finally{Ee(5,c,u)}}else{Ee(4,i,o);try{o.call(i)}finally{Ee(5,i,o)}}}}}function MP(t,e,n){return PP(t,e.parent,n)}function PP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Pn];if(to(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===sn.None||i===sn.Emulated)return null}return xn(r,n)}function kP(t,e,n){return OP(t,e,n)}function xP(t,e,n){return t.type&40?xn(t,n):null}var OP=xP,XI;function tT(t,e,n,r){let i=MP(t,r,e),o=e[Tt],s=r.parent||e[Qt],c=kP(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)ZI(o,i,n[u],c,!1);else ZI(o,i,n,c,!1);XI!==void 0&&XI(o,r,e,n,i)}function Is(t,e){if(e!==null){let n=e.type;if(n&3)return xn(e,t);if(n&4)return Tf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Is(t,r);{let i=t[e.index];return kn(i)?Tf(-1,i):Nn(i)}}else{if(n&128)return Is(t,e.next);if(n&32)return rp(e,t)()||Nn(t[e.index]);{let r=nT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qr(t[rn]);return Is(i,r)}else return Is(t,e.next)}}}return null}function nT(t,e){if(e!==null){let r=t[rn][Qt],i=e.projection;return r.projection[i]}return null}function Tf(t,e){let n=kt+t+1;if(n<e.length){let r=e[n],i=r[ue].firstChild;if(i!==null)return Is(r,i)}return e[Hr]}function op(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&vu(Nn(c),r),n.flags|=2),!JE(n))if(u&8)op(t,e,n.child,r,i,o,!1),Gi(e,t,i,c,o);else if(u&32){let l=rp(n,r),f;for(;f=l();)Gi(e,t,i,f,o);Gi(e,t,i,c,o)}else u&16?FP(t,e,r,n,i,o):Gi(e,t,i,c,o);n=s?n.projectionNext:n.next}}function wu(t,e,n,r,i,o){op(n,r,t.firstChild,e,i,o,!1)}function FP(t,e,n,r,i,o){let s=n[rn],u=s[Qt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Gi(e,t,i,f,o)}else{let l=u,f=s[at];bE(r)&&(l.flags|=128),op(t,e,l,f,i,o,!0)}}function LP(t,e,n,r,i){let o=n[Hr],s=Nn(n);o!==s&&Gi(e,t,r,o,i);for(let c=kt;c<n.length;c++){let u=n[c];wu(u[ue],u,t,e,r,o)}}function ru(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Nn(o)),kn(o)&&VP(o,r);let s=n.type;if(s&8)ru(t,e,n.child,r);else if(s&32){let c=rp(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=nT(e,n);if(Array.isArray(c))r.push(...c);else{let u=qr(e[rn]);ru(u[ue],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function VP(t,e){for(let n=kt;n<t.length;n++){let r=t[n],i=r[ue].firstChild;i!==null&&ru(r[ue],r,i,e)}t[Hr]!==t[Pn]&&e.push(t[Hr])}function rT(t){if(t[Kh]!==null){for(let e of t[Kh])e.impl.addSequence(e);t[Kh].length=0}}var iT=[];function jP(t){return t[Pt]??UP(t)}function UP(t){let e=iT.pop()??Object.create($P);return e.lView=t,e}function BP(t){t.lView[Pt]!==t&&(t.lView=null,iT.push(t))}var $P=ve(F({},ac),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{gu(t.lView)},consumerOnSignalRead(){this.lView[Pt]=this}});function HP(t){let e=t[Pt]??Object.create(qP);return e.lView=t,e}var qP=ve(F({},ac),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=qr(t.lView);for(;e&&!oT(e[ue]);)e=qr(e);e&&Hw(e)},consumerOnSignalRead(){this.lView[Pt]=this}});function oT(t){return t.type!==2}function sT(t){if(t[Kc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Kc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[X]&8192)}}var zP=100;function aT(t,e=!0,n=0){let i=t[lr].rendererFactory,o=!1;o||i.begin?.();try{WP(t,n)}catch(s){throw e&&wP(t,s),s}finally{o||i.end?.()}}function WP(t,e){let n=Qw();try{LI(!0),Df(t,e);let r=0;for(;pu(t);){if(r===zP)throw new U(103,!1);r++,Df(t,1)}}finally{LI(n)}}function GP(t,e,n,r){if(no(e))return;let i=e[X],o=!1,s=!1;Bf(e);let c=!0,u=null,l=null;o||(oT(t)?(l=jP(e),u=Dh(l)):wh()===null?(c=!1,l=HP(e),u=Dh(l)):e[Pt]&&(Ch(e[Pt]),e[Pt]=null));try{$w(e),YN(t.bindingStartIndex),n!==null&&QE(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let m=t.preOrderCheckHooks;m!==null&&Lc(e,m,null)}else{let m=t.preOrderHooks;m!==null&&Vc(e,m,0,null),Qh(e,0)}if(s||KP(e),sT(e),cT(e,0),t.contentQueries!==null&&OE(t,e),!o)if(f){let m=t.contentCheckHooks;m!==null&&Lc(e,m)}else{let m=t.contentHooks;m!==null&&Vc(e,m,1),Qh(e,1)}YP(t,e);let p=t.components;p!==null&&lT(e,p,0);let y=t.viewQuery;if(y!==null&&wf(2,y,r),!o)if(f){let m=t.viewCheckHooks;m!==null&&Lc(e,m)}else{let m=t.viewHooks;m!==null&&Vc(e,m,2),Qh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Gh]){for(let m of e[Gh])m();e[Gh]=null}o||(rT(e),e[X]&=-73)}catch(f){throw o||gu(e),f}finally{l!==null&&(G_(l,u),c&&BP(l)),$f()}}function cT(t,e){for(let n=AE(t);n!==null;n=RE(n))for(let r=kt;r<n.length;r++){let i=n[r];uT(i,e)}}function KP(t){for(let e=AE(t);e!==null;e=RE(e)){if(!(e[X]&2))continue;let n=e[Yc];for(let r=0;r<n.length;r++){let i=n[r];Hw(i)}}}function QP(t,e,n){Ee(18);let r=on(e,t);uT(r,n),Ee(19,r[xt])}function uT(t,e){Uf(t)&&Df(t,e)}function Df(t,e){let r=t[ue],i=t[X],o=t[Pt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&bh(o)),s||=!1,o&&(o.dirty=!1),t[X]&=-9217,s)GP(r,t,r.template,t[xt]);else if(i&8192){sT(t),cT(t,1);let c=r.components;c!==null&&lT(t,c,1),rT(t)}}function lT(t,e,n){for(let r=0;r<e.length;r++)QP(t,e[r],n)}function YP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)zr(~i);else{let o=i,s=n[++r],c=n[++r];XN(s,o);let u=e[o];Ee(24,u),c(2,u),Ee(25,u)}}}finally{zr(-1)}}function sp(t,e){let n=Qw()?64:1088;for(t[lr].changeDetectionScheduler?.notify(e);t;){t[X]|=n;let r=qr(t);if(Zc(t)&&!r)return t;t=r}return null}function ZP(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function JP(t,e,n,r=!0){let i=e[ue];if(XP(i,e,t,n),r){let s=Tf(n,t),c=e[Tt],u=c.parentNode(t[Hr]);u!==null&&SP(i,t[Qt],c,e,u,s)}let o=e[Wc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function bf(t,e){if(t.length<=kt)return;let n=kt+e,r=t[n];if(r){let i=r[bs];i!==null&&i!==t&&ip(i,r),e>0&&(t[n-1][Gt]=r[Gt]);let o=qc(t,kt+e);CP(r[ue],r);let s=o[hu];s!==null&&s.detachView(o[ue]),r[at]=null,r[Gt]=null,r[X]&=-129}return r}function XP(t,e,n,r){let i=kt+r,o=n.length;r>0&&(n[i-1][Gt]=e),r<o-kt?(e[Gt]=n[i],Dw(n,kt+r,e)):(n.push(e),e[Gt]=null),e[at]=n;let s=e[bs];s!==null&&n!==s&&dT(s,e);let c=e[hu];c!==null&&c.insertView(t),uf(e),e[X]|=128}function dT(t,e){let n=t[Yc],r=e[at];if(ur(r))t[X]|=2;else{let i=r[at][rn];e[rn]!==i&&(t[X]|=2)}n===null?t[Yc]=[e]:n.push(e)}var iu=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[ue];return ru(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[xt]}set context(e){this._lView[xt]=e}get destroyed(){return no(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[at];if(kn(e)){let n=e[Qc],r=n?n.indexOf(this):-1;r>-1&&(bf(e,r),qc(n,r))}this._attachedToViewContainer=!1}eT(this._lView[ue],this._lView)}onDestroy(e){qw(this._lView,e)}markForCheck(){sp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[X]&=-129}reattach(){uf(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,aT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Zc(this._lView),n=this._lView[bs];n!==null&&!e&&ip(n,this._lView),XE(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=Zc(this._lView),r=this._lView[bs];r!==null&&!n&&dT(r,this._lView),uf(this._lView)}};function hT(t,e,n,r,i){let o=t.data[e];if(o===null)o=ek(t,e,n,r,i),JN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=GN();o.injectorIndex=s===null?-1:s.injectorIndex}return mu(o,!0),o}function ek(t,e,n,r,i){let o=Gw(),s=Kw(),c=s?o:o&&o.parent,u=t.data[e]=nk(t,c,n,e,r,i);return tk(t,u,o,s),u}function tk(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function nk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return qN()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var z6=new RegExp(`^(\\d+)*(${jM}|${VM})*(.*)`);var rk=()=>null;function ew(t,e){return rk(t,e)}var ik=class{},fT=class{},Cf=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Et(e)}.`)}},Eu=class{static NULL=new Cf},eo=class{},pT=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>ok()}return t})();function ok(){let t=ct(),e=On(),n=on(e.index,t);return(ur(n)?n:t)[Tt]}var sk=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>null})}return t})();var Jh={},Sf=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=lu(r);let i=this.injector.get(e,Jh,r);return i!==Jh||n===Jh?i:this.parentInjector.get(e,n,r)}};function tw(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=SI(i,c);else if(o==2){let u=c,l=e[++s];r=SI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Tu(t,e=J.Default){let n=ct();if(n===null)return ee(t,e);let r=On();return gE(r,n,Mt(t),e)}function ak(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c,u=null,l=null,f=uk(s);f===null?c=s:[c,u,l]=f,hk(t,e,n,c,o,u,l)}o!==null&&r!==null&&ck(n,r,o)}function ck(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}function uk(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let c=t[s];if(s===0&&Gr(c)&&(e=c),c.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,lk(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function lk(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function dk(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function hk(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let y=0;y<c;y++){let m=r[y];!u&&Gr(m)&&(u=!0,dk(t,n,y)),mM(dE(n,e),t,m.type)}vk(n,t.data.length,c);for(let y=0;y<c;y++){let m=r[y];m.providersResolver&&m.providersResolver(m)}let l=!1,f=!1,p=zE(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let y=0;y<c;y++){let m=r[y];if(n.mergedAttrs=aE(n.mergedAttrs,m.hostAttrs),pk(t,n,e,p,m),yk(p,m,i),s!==null&&s.has(m)){let[N,R]=s.get(m);n.directiveToIndex.set(m.type,[p,N+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(m))&&n.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let S=m.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!f&&(S.ngOnChanges||S.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}fk(t,n,o)}function fk(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))nw(0,e,i,r),nw(1,e,i,r),iw(e,r,!1);else{let o=n.get(i);rw(0,e,o,r),rw(1,e,o,r),iw(e,r,!0)}}}function nw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),gT(e,o)}}function rw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),gT(e,s)}}function gT(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function iw(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||ep(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function pk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Qi(i.type,!0)),s=new Cs(o,Gr(i),Tu);t.blueprint[r]=s,n[r]=s,gk(t,e,r,zE(t,n,i.hostVars,tp),i)}function gk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;mk(s)!=c&&s.push(c),s.push(n,r,o)}}function mk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function yk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Gr(e)&&(n[""]=t)}}function vk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function mT(t,e,n,r,i,o,s,c){let u=e.consts,l=FI(u,s),f=hT(e,t,2,r,l);return o&&ak(e,n,f,FI(u,c),i),f.mergedAttrs=aE(f.mergedAttrs,f.attrs),f.attrs!==null&&tw(f,f.attrs,!1),f.mergedAttrs!==null&&tw(f,f.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,f),f}function yT(t,e){oM(t,e),Ow(e)&&t.queries.elementEnd(e)}var ou=class extends Eu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Zi(e);return new Ss(n,this.ngModule)}};function _k(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Iu.SignalBased)!==0};return i&&(o.transform=i),o})}function Ik(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function wk(t,e,n){let r=e instanceof mt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Sf(n,r):n}function Ek(t){let e=t.get(eo,null);if(e===null)throw new U(407,!1);let n=t.get(sk,null),r=t.get(Xi,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function Tk(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return jE(e,n,n==="svg"?FN:n==="math"?LN:null)}var Ss=class extends fT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=_k(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Ik(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=eP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Ee(22);let o=de(null);try{let s=this.componentDef,c=r?["ng-version","19.2.15"]:tP(this.componentDef.selectors[0]),u=$E(0,null,null,1,0,null,null,null,null,[c],null),l=wk(s,i||this.ngModule,e),f=Ek(l),p=f.rendererFactory.createRenderer(null,s),y=r?lP(p,r,s.encapsulation,l):Tk(s,p),m=HE(null,u,null,512|qE(s),null,null,f,p,l,null,xE(y,l,!0));m[dr]=y,Bf(m);let S=null;try{let N=mT(dr,u,m,"#host",()=>[this.componentDef],!0,0);y&&(BE(p,y,N),vu(y,m)),YE(u,m,N),FE(u,N,m),yT(u,N),n!==void 0&&Dk(N,this.ngContentSelectors,n),S=on(N.index,m),m[xt]=S[xt],ZE(u,m,null)}catch(N){throw S!==null&&_f(S),_f(m),N}finally{Ee(23),$f()}return new Af(this.componentType,m)}finally{de(o)}}},Af=class extends ik{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Bw(n[ue],dr),this.location=Kf(this._tNode,n),this.instance=on(this._tNode.index,n)[xt],this.hostView=this.changeDetectorRef=new iu(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=np(r,i[ue],i,e,n);this.previousInputValues.set(e,n);let s=on(r.index,i);sp(s,1)}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Dk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Du=(()=>{class t{static __NG_ELEMENT_ID__=bk}return t})();function bk(){let t=On();return Sk(t,ct())}var Ck=Du,vT=class extends Ck{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Kf(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){let e=Hf(this._hostTNode,this._hostLView);if(cE(e)){let n=Xc(e,this._hostLView),r=Jc(e),i=n[ue].data[r+8];return new $r(i,n)}else return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ow(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-kt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ew(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,JI(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!PN(e),c;if(s)c=n;else{let S=n||{};c=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new Ss(Zi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(mt,null);N&&(o=N)}let f=Zi(u.componentType??{}),p=ew(this._lContainer,f?.id??null),y=p?.firstChild??null,m=u.create(l,i,y,o);return this.insertImpl(m.hostView,c,JI(this._hostTNode,p)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(VN(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[at],l=new vT(u,u[Qt],u[at]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return JP(s,i,o,r),e.attachToViewContainerRef(),Dw(Xh(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ow(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=bf(this._lContainer,n);r&&(qc(Xh(this._lContainer),n),eT(r[ue],r))}detach(e){let n=this._adjustIndex(e,-1),r=bf(this._lContainer,n);return r&&qc(Xh(this._lContainer),n)!=null?new iu(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ow(t){return t[Qc]}function Xh(t){return t[Qc]||(t[Qc]=[])}function Sk(t,e){let n,r=e[t.index];return kn(r)?n=r:(n=ZP(r,e,null,t),e[t.index]=n,WE(e,n)),Rk(n,e,t,r),new vT(n,t,e)}function Ak(t,e){let n=t[Tt],r=n.createComment(""),i=xn(e,t),o=n.parentNode(i);return nu(n,o,r,n.nextSibling(i),!1),r}var Rk=Nk;function Nk(t,e,n,r){if(t[Hr])return;let i;n.type&8?i=Nn(r):i=Ak(e,n),t[Hr]=i}var As=class{},ap=class{};var Rf=class extends As{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ou(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Sw(e);this._bootstrapComponents=LE(o.bootstrap),this._r3Injector=vE(e,n,[{provide:As,useValue:this},{provide:Eu,useValue:this.componentFactoryResolver},...r],Et(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Nf=class extends ap{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Rf(this.moduleType,e,[])}};var su=class extends As{injector;componentFactoryResolver=new ou(this);instance=null;constructor(e){super();let n=new Ts([...e.providers,{provide:As,useValue:this},{provide:Eu,useValue:this.componentFactoryResolver}],e.parent||Vf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function bu(t,e,n=null){return new su({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Mk=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Aw(!1,n.type),i=r.length>0?bu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(ee(mt))})}return t})();function cn(t){return Ns(()=>{let e=_T(t),n=ve(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===CE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Mk).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||sn.Emulated,styles:t.styles||tn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Xf("NgStandalone"),IT(n);let r=t.dependencies;return n.directiveDefs=sw(r,!1),n.pipeDefs=sw(r,!0),n.id=Fk(n),n})}function Pk(t){return Zi(t)||IN(t)}function kk(t){return t!==null}function Cu(t){return Ns(()=>({type:t.type,bootstrap:t.bootstrap||tn,declarations:t.declarations||tn,imports:t.imports||tn,exports:t.exports||tn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function xk(t,e){if(t==null)return Yi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Iu.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function Ok(t){if(t==null)return Yi;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Su(t){return Ns(()=>{let e=_T(t);return IT(e),e})}function _T(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Yi,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||tn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xk(t.inputs,e),outputs:Ok(t.outputs),debugInfo:null}}function IT(t){t.features?.forEach(e=>e(t))}function sw(t,e){if(!t)return null;let n=e?wN:Pk;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(kk)}function Fk(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Lk(t,e,n){return t[e]=n}function Mf(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function aw(t,e,n,r){let i=Mf(t,e,n);return Mf(t,e+1,r)||i}function Vk(t,e,n,r,i,o){let s=aw(t,e,n,r);return aw(t,e+2,i,o)||s}var wT=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var ET=new j("");var jk=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>new Pf})}return t})(),Pf=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function Au(t){return!!t&&typeof t.then=="function"}function Uk(t){return!!t&&typeof t.subscribe=="function"}var Bk=new j("");var TT=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=k(Bk,{optional:!0})??[];injector=k(je);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=lt(this.injector,i);if(Au(o))n.push(o);else if(Uk(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cp=new j("");function $k(){Sh(()=>{throw new U(600,!1)})}function Hk(t){return t.isBoundToModule}var qk=10;var Wr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=k(NM);afterRenderManager=k(BM);zonelessEnabled=k(zf);rootEffectScheduler=k(jk);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ze;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=k(Kr).hasPendingTasks.pipe(oe(n=>!n));constructor(){k(_u,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=k(mt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=je.NULL){Ee(10);let o=n instanceof fT;if(!this._injector.get(TT).done){let m="";throw new U(405,m)}let c;o?c=n:c=this._injector.get(Eu).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=Hk(c)?void 0:this._injector.get(As),l=r||c.selector,f=c.create(i,[],l,u),p=f.location.nativeElement,y=f.injector.get(ET,null);return y?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),jc(this.components,f),y?.unregisterApplication(p)}),this._loadComponent(f),Ee(11,f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ee(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(kE.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let n=de(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,de(n),this.afterTick.next(),Ee(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(eo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<qk;)Ee(14),this.synchronizeOnce(),Ee(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)zk(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>pu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;jc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(cp,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>jc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function zk(t,e,n,r){if(!n&&!pu(t))return;aT(t,e,n&&!r?0:1)}function up(t,e,n){let r=ct(),i=ZN();if(Mf(r,i,e)){let o=ro(),s=nM();pP(o,s,r,t,e,r[Tt],n,!1)}return up}function cw(t,e,n,r,i){np(e,t,n,i?"class":"style",r)}function Ot(t,e,n,r){let i=ct(),o=ro(),s=dr+t,c=i[Tt],u=o.firstCreatePass?mT(s,o,i,e,_P,HN(),n,r):o.data[s],l=Wk(o,i,u,c,e,t);i[s]=l;let f=Fw(u);return mu(u,!0),BE(c,l,u),!JE(u)&&iE()&&tT(o,i,l,u),(UN()===0||f)&&vu(l,i),BN(),f&&(YE(o,i,u),FE(o,u,i)),r!==null&&uP(i,u),Ot}function Dt(){let t=On();Kw()?KN():(t=t.parent,mu(t,!1));let e=t;zN(e)&&WN(),$N();let n=ro();return n.firstCreatePass&&yT(n,e),e.classesWithoutHost!=null&&aM(e)&&cw(n,e,ct(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&cM(e)&&cw(n,e,ct(),e.stylesWithoutHost,!1),Dt}function yt(t,e,n,r){return Ot(t,e,n,r),Dt(),yt}var Wk=(t,e,n,r,i,o)=>(oE(!0),jE(r,i,rM()));var au="en-US";var Gk=au;function Kk(t){typeof t=="string"&&(Gk=t.toLowerCase().replace(/_/g,"-"))}function uw(t,e,n){return function r(i){if(i===Function)return n;let o=to(t)?on(t.index,e):e;sp(o,5);let s=e[xt],c=lw(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=lw(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function lw(t,e,n,r){let i=de(null);try{return Ee(6,e,n),n(r)!==!1}catch(o){return Qk(t,o),!1}finally{Ee(7,e,n),de(i)}}function Qk(t,e){let n=t[Ji],r=n?n.get(Mn,null):null;r&&r.handleError(e)}function dw(t,e,n,r,i,o){let s=e[n],c=e[ue],l=c.data[n].outputs[r],f=s[l],p=c.firstCreatePass?Ww(c):null,y=zw(e),m=f.subscribe(o),S=y.length;y.push(o,m),p&&p.push(i,t.index,S,-(S+1))}function Ru(t,e,n,r){let i=ct(),o=ro(),s=On();return Zk(o,i,i[Tt],s,t,e,r),Ru}function Yk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Gc],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function Zk(t,e,n,r,i,o,s){let c=Fw(r),l=t.firstCreatePass?Ww(t):null,f=zw(e),p=!0;if(r.type&3||s){let y=xn(r,e),m=s?s(y):y,S=f.length,N=s?L=>s(Nn(L[r.index])):r.index,R=null;if(!s&&c&&(R=Yk(t,e,i,r.index)),R!==null){let L=R.__ngLastListenerFn__||R;L.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=uw(r,e,o),HM(e,m,i,o);let L=n.listen(m,i,o);f.push(o,L),l&&l.push(i,N,S,S+1)}}else o=uw(r,e,o);if(p){let y=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let S=0;S<m.length;S+=2){let N=m[S],R=m[S+1];dw(r,e,N,R,i,o)}if(y&&y.length)for(let S of y)dw(r,e,S,i,i,o)}}function DT(t,e=""){let n=ct(),r=ro(),i=t+dr,o=r.firstCreatePass?hT(r,i,1,e,null):r.data[i],s=Jk(r,n,o,e,t);n[i]=s,iE()&&tT(r,n,s,o),mu(o,!1)}var Jk=(t,e,n,r,i)=>(oE(!0),nP(e[Tt],r));function bT(t,e,n,r,i,o,s){return ex(ct(),QN(),t,e,n,r,i,o,s)}function Xk(t,e){let n=t[e];return n===tp?void 0:n}function ex(t,e,n,r,i,o,s,c,u){let l=e+n;return Vk(t,l,i,o,s,c)?Lk(t,l+4,u?r.call(u,i,o,s,c):r(i,o,s,c)):Xk(t,l+4)}var Rs=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},CT=new Rs("19.2.15"),kf=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ST=(()=>{class t{compileModuleSync(n){return new Nf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Sw(n),o=LE(i.declarations).reduce((s,c)=>{let u=Zi(c);return u&&s.push(new Ss(u)),s},[]);return new kf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var tx=(()=>{class t{zone=k(pe);changeDetectionScheduler=k(Xi);applicationRef=k(Wr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nx=new j("",{factory:()=>!1});function AT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new pe(ve(F({},NT()),{scheduleInRootZone:n})),[{provide:pe,useFactory:t},{provide:Es,multi:!0,useFactory:()=>{let r=k(tx,{optional:!0});return()=>r.initialize()}},{provide:Es,multi:!0,useFactory:()=>{let r=k(rx);return()=>{r.initialize()}}},e===!0?{provide:IE,useValue:!0}:[],{provide:wE,useValue:n??_E}]}function RT(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=AT({ngZoneFactory:()=>{let i=NT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Xf("NgZone_CoalesceEvent"),new pe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Kt([{provide:nx,useValue:!0},{provide:zf,useValue:!1},r])}function NT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var rx=(()=>{class t{subscription=new Ce;initialized=!1;zone=k(pe);pendingTasks=k(Kr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ix=(()=>{class t{appRef=k(Wr);taskService=k(Kr);ngZone=k(pe);zonelessEnabled=k(zf);tracing=k(_u,{optional:!0});disableScheduling=k(IE,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ce;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(tu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(wE,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?qI:EE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(tu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,qI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ox(){return typeof $localize<"u"&&$localize.locale||au}var MT=new j("",{providedIn:"root",factory:()=>k(MT,J.Optional|J.SkipSelf)||ox()});var xf=new j(""),sx=new j("");function vs(t){return!t.moduleRef}function ax(t){let e=vs(t)?t.r3Injector:t.moduleRef.injector,n=e.get(pe);return n.run(()=>{vs(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Mn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),vs(t)){let o=()=>e.destroy(),s=t.platformInjector.get(xf);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(xf);s.add(o),t.moduleRef.onDestroy(()=>{jc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return ux(r,n,()=>{let o=e.get(TT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(MT,au);if(Kk(s||au),!e.get(sx,!0))return vs(t)?e.get(Wr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(vs(t)){let u=e.get(Wr);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return cx(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function cx(t,e){let n=t.injector.get(Wr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new U(-403,!1);e.push(t)}function ux(t,e,n){try{let r=n();return Au(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Uc=null;function lx(t=[],e){return je.create({name:e,providers:[{provide:du,useValue:"platform"},{provide:xf,useValue:new Set([()=>Uc=null])},...t]})}function dx(t=[]){if(Uc)return Uc;let e=lx(t);return Uc=e,$k(),hx(e),e}function hx(t){let e=t.get(Zf,null);lt(t,()=>{e?.forEach(n=>n())})}function lp(){return!1}var dp=(()=>{class t{static __NG_ELEMENT_ID__=fx}return t})();function fx(t){return px(On(),ct(),(t&16)===16)}function px(t,e,n){if(to(t)&&!n){let r=on(t.index,e);return new iu(r,r)}else if(t.type&175){let r=e[rn];return new iu(r,e)}return null}function PT(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Ee(8);try{let o=i?.injector??dx(r),s=[AT({}),{provide:Xi,useExisting:ix},...n||[]],c=new su({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return ax({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ee(9)}}var hw=class{[Ni];constructor(e){this[Ni]=e}destroy(){this[Ni].destroy()}};var tt=new j("");var OT=null;function Fn(){return OT}function hp(t){OT??=t}var ks=class{},fp=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>k(FT),providedIn:"platform"})}return t})();var FT=(()=>{class t extends fp{_location;_history;_doc=k(tt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fn().getBaseHref(this._doc)}onPopState(n){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function LT(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function kT(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function hr(t){return t&&t[0]!=="?"?`?${t}`:t}var Nu=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>k(jT),providedIn:"root"})}return t})(),VT=new j(""),jT=(()=>{class t extends Nu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return LT(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+hr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+hr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+hr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ee(fp),ee(VT,8))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oo=(()=>{class t{_subject=new ze;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=yx(kT(xT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+hr(r))}normalize(n){return t.stripTrailingSlash(mx(this._basePath,xT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=hr;static joinWithSlash=LT;static stripTrailingSlash=kT;static \u0275fac=function(r){return new(r||t)(ee(Nu))};static \u0275prov=B({token:t,factory:()=>gx(),providedIn:"root"})}return t})();function gx(){return new oo(ee(Nu))}function mx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function xT(t){return t.replace(/\/index.html$/,"")}function yx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var pp=/\s+/,UT=[],gp=(()=>{class t{_ngEl;_renderer;initialClasses=UT;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(pp):UT}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(pp):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(pp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(Tu(Qf),Tu(pT))};static \u0275dir=Su({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var fr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Cu({type:t});static \u0275inj=cu({})}return t})();function mp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Mu="browser",BT="server";function Pu(t){return t===Mu}function ku(t){return t===BT}var xs=class{};var Fu=new j(""),Ip=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ee(Fu),ee(pe))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Os=class{_doc;constructor(e){this._doc=e}manager},xu="ng-app-id";function $T(t){for(let e of t)e.remove()}function HT(t,e){let n=e.createElement("style");return n.textContent=t,n}function Ix(t,e,n,r){let i=t.head?.querySelectorAll(`style[${xu}="${e}"],link[${xu}="${e}"]`);if(i)for(let o of i)o.removeAttribute(xu),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function vp(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var wp=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=ku(o),Ix(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,HT);r?.forEach(i=>this.addUsage(i,this.external,vp))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&($T(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])$T(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,HT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,vp(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(xu,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ee(tt),ee(Yf),ee(Jf,8),ee(an))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),yp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ep=/%COMP%/g;var zT="%COMP%",wx=`_nghost-${zT}`,Ex=`_ngcontent-${zT}`,Tx=!0,Dx=new j("",{providedIn:"root",factory:()=>Tx});function bx(t){return Ex.replace(Ep,t)}function Cx(t){return wx.replace(Ep,t)}function WT(t,e){return e.map(n=>n.replace(Ep,t))}var Tp=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,c,u,l=null,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=f,this.platformIsServer=ku(c),this.defaultRenderer=new Fs(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===sn.ShadowDom&&(r=ve(F({},r),{encapsulation:sn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Ou?i.applyToHost(n):i instanceof Ls&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case sn.Emulated:o=new Ou(u,l,r,this.appId,f,s,c,p,y);break;case sn.ShadowDom:return new _p(u,l,n,r,s,c,this.nonce,p,y);default:o=new Ls(u,l,r,f,s,c,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ee(Ip),ee(wp),ee(Yf),ee(Dx),ee(tt),ee(an),ee(pe),ee(Jf),ee(_u,8))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),Fs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(yp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(qT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(qT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=yp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=yp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(io.DashCase|io.Important)?e.style.setProperty(n,r,i&io.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&io.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Fn().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function qT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var _p=class extends Fs{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=WT(i.id,f);for(let y of f){let m=document.createElement("style");c&&m.setAttribute("nonce",c),m.textContent=y,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let y of p){let m=vp(y,o);c&&m.setAttribute("nonce",c),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ls=class extends Fs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?WT(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ou=class extends Ls{contentAttr;hostAttr;constructor(e,n,r,i,o,s,c,u,l){let f=i+"-"+r.id;super(e,n,r,o,s,c,u,l,f),this.contentAttr=bx(f),this.hostAttr=Cx(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Lu=class t extends ks{supportsDOMEvents=!0;static makeCurrent(){hp(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Sx();return n==null?null:Ax(n)}resetBaseElement(){Vs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return mp(document.cookie,e)}},Vs=null;function Sx(){return Vs=Vs||document.head.querySelector("base"),Vs?Vs.getAttribute("href"):null}function Ax(t){return new URL(t,document.baseURI).pathname}var Rx=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),KT=(()=>{class t extends Os{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ee(tt))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),GT=["alt","control","meta","shift"],Nx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},QT=(()=>{class t extends Os{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fn().onAndCancel(n,s.domEventName,c,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),GT.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=Nx[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),GT.forEach(s=>{if(s!==i){let c=Mx[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ee(tt))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function Dp(t,e,n){return PT(F({rootComponent:t,platformRef:n?.platformRef},Px(e)))}function Px(t){return{appProviders:[...Lx,...t?.providers??[]],platformProviders:Fx}}function kx(){Lu.makeCurrent()}function xx(){return new Mn}function Ox(){return ME(document),document}var Fx=[{provide:an,useValue:Mu},{provide:Zf,useValue:kx,multi:!0},{provide:tt,useFactory:Ox}];var Lx=[{provide:du,useValue:"root"},{provide:Mn,useFactory:xx},{provide:Fu,useClass:KT,multi:!0,deps:[tt]},{provide:Fu,useClass:QT,multi:!0,deps:[tt]},Tp,wp,Ip,{provide:eo,useExisting:Tp},{provide:xs,useClass:Rx},[]];var YT=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ee(tt))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Z="primary",Js=Symbol("RouteTitle"),Rp=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Zr(t){return new Rp(t)}function iD(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function jx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!un(t[n],e[n]))return!1;return!0}function un(t,e){let n=t?Np(t):void 0,r=e?Np(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!oD(t[i],e[i]))return!1;return!0}function Np(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function oD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function sD(t){return t.length>0?t[t.length-1]:null}function mr(t){return Hh(t)?t:Au(t)?Ae(Promise.resolve(t)):Q(t)}var Ux={exact:cD,subset:uD},aD={exact:Bx,subset:$x,ignored:()=>!0};function ZT(t,e,n){return Ux[n.paths](t.root,e.root,n.matrixParams)&&aD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Bx(t,e){return un(t,e)}function cD(t,e,n){if(!Qr(t.segments,e.segments)||!Uu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!cD(t.children[r],e.children[r],n))return!1;return!0}function $x(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>oD(t[n],e[n]))}function uD(t,e,n){return lD(t,e,e.segments,n)}function lD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Qr(i,n)||e.hasChildren()||!Uu(i,n,r))}else if(t.segments.length===n.length){if(!Qr(t.segments,n)||!Uu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!uD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Qr(t.segments,i)||!Uu(t.segments,i,r)||!t.children[Z]?!1:lD(t.children[Z],e,o,r)}}function Uu(t,e,n){return e.every((r,i)=>aD[n](t[i].parameters,r.parameters))}var dn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new fe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zr(this.queryParams),this._queryParamMap}toString(){return zx.serialize(this)}},fe=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bu(this)}},pr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Zr(this.parameters),this._parameterMap}toString(){return hD(this)}};function Hx(t,e){return Qr(t,e)&&t.every((n,r)=>un(n.parameters,e[r].parameters))}function Qr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function qx(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}var Xs=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new Jr,providedIn:"root"})}return t})(),Jr=class{parse(e){let n=new Pp(e);return new dn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${js(e.root,!0)}`,r=Kx(e.queryParams),i=typeof e.fragment=="string"?`#${Wx(e.fragment)}`:"";return`${n}${r}${i}`}},zx=new Jr;function Bu(t){return t.segments.map(e=>hD(e)).join("/")}function js(t,e){if(!t.hasChildren())return Bu(t);if(e){let n=t.children[Z]?js(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${js(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=qx(t,(r,i)=>i===Z?[js(t.children[Z],!1)]:[`${i}:${js(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Z]!=null?`${Bu(t)}/${n[0]}`:`${Bu(t)}/(${n.join("//")})`}}function dD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vu(t){return dD(t).replace(/%3B/gi,";")}function Wx(t){return encodeURI(t)}function Mp(t){return dD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $u(t){return decodeURIComponent(t)}function JT(t){return $u(t.replace(/\+/g,"%20"))}function hD(t){return`${Mp(t.path)}${Gx(t.parameters)}`}function Gx(t){return Object.entries(t).map(([e,n])=>`;${Mp(e)}=${Mp(n)}`).join("")}function Kx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Vu(n)}=${Vu(i)}`).join("&"):`${Vu(n)}=${Vu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Qx=/^[^\/()?;#]+/;function bp(t){let e=t.match(Qx);return e?e[0]:""}var Yx=/^[^\/()?;=#]+/;function Zx(t){let e=t.match(Yx);return e?e[0]:""}var Jx=/^[^=?&#]+/;function Xx(t){let e=t.match(Jx);return e?e[0]:""}var eO=/^[^&#]+/;function tO(t){let e=t.match(eO);return e?e[0]:""}var Pp=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new fe(e,n)),r}parseSegment(){let e=bp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new pr($u(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Zx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=bp(this.remaining);i&&(r=i,this.capture(r))}e[$u(n)]=$u(r)}parseQueryParam(e){let n=Xx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=tO(this.remaining);s&&(r=s,this.capture(r))}let i=JT(n),o=JT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=bp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Z]:new fe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function fD(t){return t.segments.length>0?new fe([],{[Z]:t}):t}function pD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=pD(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new fe(t.segments,e);return nO(n)}function nO(t){if(t.numberOfChildren===1&&t.children[Z]){let e=t.children[Z];return new fe(t.segments.concat(e.segments),e.children)}return t}function lo(t){return t instanceof dn}function gD(t,e,n=null,r=null){let i=mD(t);return yD(i,e,n,r)}function mD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new fe(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=fD(r);return e??i}function yD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Cp(i,i,i,n,r);let o=rO(e);if(o.toRoot())return Cp(i,i,new fe([],{}),n,r);let s=iO(o,i,t),c=s.processChildren?Bs(s.segmentGroup,s.index,o.commands):_D(s.segmentGroup,s.index,o.commands);return Cp(i,s.segmentGroup,c,n,r)}function qu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Hs(t){return typeof t=="object"&&t!=null&&t.outlets}function Cp(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=vD(t,e,n);let c=fD(pD(s));return new dn(c,o,i)}function vD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=vD(o,e,n)}),new fe(t.segments,r)}var zu=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&qu(r[0]))throw new U(4003,!1);let i=r.find(Hs);if(i&&i!==sD(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function rO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new zu(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new zu(n,e,r)}var co=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function iO(t,e,n){if(t.isAbsolute)return new co(e,!0,0);if(!n)return new co(e,!1,NaN);if(n.parent===null)return new co(n,!0,0);let r=qu(t.commands[0])?0:1,i=n.segments.length-1+r;return oO(n,i,t.numberOfDoubleDots)}function oO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new co(r,!1,i-o)}function sO(t){return Hs(t[0])?t[0].outlets:{[Z]:t}}function _D(t,e,n){if(t??=new fe([],{}),t.segments.length===0&&t.hasChildren())return Bs(t,e,n);let r=aO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new fe(t.segments.slice(0,r.pathIndex),{});return o.children[Z]=new fe(t.segments.slice(r.pathIndex),t.children),Bs(o,0,i)}else return r.match&&i.length===0?new fe(t.segments,{}):r.match&&!t.hasChildren()?kp(t,e,n):r.match?Bs(t,0,i):kp(t,e,n)}function Bs(t,e,n){if(n.length===0)return new fe(t.segments,{});{let r=sO(n),i={};if(Object.keys(r).some(o=>o!==Z)&&t.children[Z]&&t.numberOfChildren===1&&t.children[Z].segments.length===0){let o=Bs(t.children[Z],e,n);return new fe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=_D(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new fe(t.segments,i)}}function aO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(Hs(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!eD(u,l,s))return o;r+=2}else{if(!eD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function kp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Hs(o)){let u=cO(o.outlets);return new fe(r,u)}if(i===0&&qu(n[0])){let u=t.segments[e];r.push(new pr(u.path,XT(n[0]))),i++;continue}let s=Hs(o)?o.outlets[Z]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&qu(c)?(r.push(new pr(s,XT(c))),i+=2):(r.push(new pr(s,{})),i++)}return new fe(r,{})}function cO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=kp(new fe([],{}),0,r))}),e}function XT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function eD(t,e,n){return t==n.path&&un(e,n.parameters)}var Hu="imperative",Ue=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ue||{}),Ct=class{id;url;constructor(e,n){this.id=e,this.url=n}},Xr=class extends Ct{type=Ue.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ln=class extends Ct{urlAfterRedirects;type=Ue.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(vt||{}),qs=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(qs||{}),ln=class extends Ct{reason;code;type=Ue.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Vn=class extends Ct{reason;code;type=Ue.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},ho=class extends Ct{error;target;type=Ue.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},zs=class extends Ct{urlAfterRedirects;state;type=Ue.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wu=class extends Ct{urlAfterRedirects;state;type=Ue.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gu=class extends Ct{urlAfterRedirects;state;shouldActivate;type=Ue.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ku=class extends Ct{urlAfterRedirects;state;type=Ue.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qu=class extends Ct{urlAfterRedirects;state;type=Ue.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yu=class{route;type=Ue.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zu=class{route;type=Ue.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ju=class{snapshot;type=Ue.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xu=class{snapshot;type=Ue.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},el=class{snapshot;type=Ue.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tl=class{snapshot;type=Ue.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ws=class{},fo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function uO(t,e){return t.providers&&!t._injector&&(t._injector=bu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Yt(t){return t.outlet||Z}function lO(t,e){let n=t.filter(r=>Yt(r)===e);return n.push(...t.filter(r=>Yt(r)!==e)),n}function ea(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var nl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ea(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new mo(this.rootInjector)}},mo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new nl(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ee(mt))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=xp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=xp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Op(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Op(e,this._root).map(n=>n.value)}};function xp(t,e){if(t===e.value)return e;for(let n of e.children){let r=xp(t,n);if(r)return r}return null}function Op(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Op(t,n);if(r.length)return r.unshift(e),r}return[]}var bt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ao(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Gs=class extends rl{snapshot;constructor(e,n){super(e),this.snapshot=n,Hp(this,e)}toString(){return this.snapshot.toString()}};function ID(t){let e=dO(t),n=new We([new pr("",{})]),r=new We({}),i=new We({}),o=new We({}),s=new We(""),c=new gr(n,r,o,s,i,Z,t,e.root);return c.snapshot=e.root,new Gs(new bt(c,[]),e)}function dO(t){let e={},n={},r={},i="",o=new Yr([],e,r,i,n,Z,t,null,{});return new Ks("",new bt(o,[]))}var gr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(oe(l=>l[Js]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>Zr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>Zr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function il(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&ED(i)&&(r.resolve[Js]=i.title),r}var Yr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Js]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ks=class extends rl{url;constructor(e,n){super(n),this.url=e,Hp(this,n)}toString(){return wD(this._root)}};function Hp(t,e){e.value._routerState=t,e.children.forEach(n=>Hp(t,n))}function wD(t){let e=t.children.length>0?` { ${t.children.map(wD).join(", ")} } `:"";return`${t.value}${e}`}function Sp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,un(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),un(e.params,n.params)||t.paramsSubject.next(n.params),jx(e.url,n.url)||t.urlSubject.next(n.url),un(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Fp(t,e){let n=un(t.params,e.params)&&Hx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Fp(t.parent,e.parent))}function ED(t){return typeof t.title=="string"||t.title===null}var TD=new j(""),ta=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new gt;deactivateEvents=new gt;attachEvents=new gt;detachEvents=new gt;routerOutletData=DE(void 0);parentContexts=k(mo);location=k(Du);changeDetector=k(dp);inputBinder=k(cl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Lp(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Su({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[jf]})}return t})(),Lp=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===gr?this.route:e===mo?this.childContexts:e===TD?this.outletData:this.parent.get(e,n)}},cl=new j("");var qp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=cn({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&yt(0,"router-outlet")},dependencies:[ta],encapsulation:2})}return t})();function zp(t){let e=t.children&&t.children.map(zp),n=e?ve(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=qp),n}function hO(t,e,n){let r=Qs(t,e._root,n?n._root:void 0);return new Gs(r,e)}function Qs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=fO(t,e,n);return new bt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Qs(t,c)),s}}let r=pO(e.value),i=e.children.map(o=>Qs(t,o));return new bt(r,i)}}function fO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Qs(t,r,i);return Qs(t,r)})}function pO(t){return new gr(new We(t.url),new We(t.params),new We(t.queryParams),new We(t.fragment),new We(t.data),t.outlet,t.component,t)}var po=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},DD="ngNavigationCancelingError";function ol(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=lo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=bD(!1,vt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function bD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[DD]=!0,n.cancellationCode=e,n}function gO(t){return CD(t)&&lo(t.url)}function CD(t){return!!t&&t[DD]}var mO=(t,e,n,r)=>oe(i=>(new Vp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Vp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Sp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ao(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ao(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ao(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ao(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new tl(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Xu(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Sp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Sp(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},sl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},uo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function yO(t,e,n){let r=t._root,i=e?e._root:null;return Us(r,i,n,[r.value])}function vO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function yo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!yw(t)?t:e.get(t):r}function Us(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ao(e);return t.children.forEach(s=>{_O(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>$s(c,n.getContext(s),i)),i}function _O(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=IO(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Us(t,e,c?c.children:null,r,i):Us(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new uo(c.outlet.component,s))}else s&&$s(e,c,i),i.canActivateChecks.push(new sl(r)),o.component?Us(t,null,c?c.children:null,r,i):Us(t,null,n,r,i);return i}function IO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Qr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qr(t.url,e.url)||!un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fp(t,e)||!un(t.queryParams,e.queryParams);case"paramsChange":default:return!Fp(t,e)}}function $s(t,e,n){let r=ao(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?$s(s,e.children.getContext(o),n):$s(s,null,n):$s(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new uo(e.outlet.component,i)):n.canDeactivateChecks.push(new uo(null,i)):n.canDeactivateChecks.push(new uo(null,i))}function na(t){return typeof t=="function"}function wO(t){return typeof t=="boolean"}function EO(t){return t&&na(t.canLoad)}function TO(t){return t&&na(t.canActivate)}function DO(t){return t&&na(t.canActivateChild)}function bO(t){return t&&na(t.canDeactivate)}function CO(t){return t&&na(t.canMatch)}function SD(t){return t instanceof Sn||t?.name==="EmptyError"}var ju=Symbol("INITIAL_VALUE");function go(){return zt(t=>Nc(t.map(e=>e.pipe(An(1),xc(ju)))).pipe(oe(e=>{for(let n of e)if(n!==!0){if(n===ju)return ju;if(n===!1||SO(n))return n}return!0}),Rt(e=>e!==ju),An(1)))}function SO(t){return lo(t)||t instanceof po}function AO(t,e){return Fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Q(ve(F({},n),{guardsResult:!0})):RO(s,r,i,t).pipe(Fe(c=>c&&wO(c)?NO(r,o,t,e):Q(c)),oe(c=>ve(F({},n),{guardsResult:c})))})}function RO(t,e,n,r){return Ae(t).pipe(Fe(i=>OO(i.component,i.route,n,e,r)),Rn(i=>i!==!0,!0))}function NO(t,e,n,r){return Ae(e).pipe(Hi(i=>$i(PO(i.route.parent,r),MO(i.route,r),xO(t,i.path,n),kO(t,i.route,n))),Rn(i=>i!==!0,!0))}function MO(t,e){return t!==null&&e&&e(new el(t)),Q(!0)}function PO(t,e){return t!==null&&e&&e(new Ju(t)),Q(!0)}function kO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>Mc(()=>{let s=ea(e)??n,c=yo(o,s),u=TO(c)?c.canActivate(e,t):lt(s,()=>c(e,t));return mr(u).pipe(Rn())}));return Q(i).pipe(go())}function xO(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>vO(s)).filter(s=>s!==null).map(s=>Mc(()=>{let c=s.guards.map(u=>{let l=ea(s.node)??n,f=yo(u,l),p=DO(f)?f.canActivateChild(r,t):lt(l,()=>f(r,t));return mr(p).pipe(Rn())});return Q(c).pipe(go())}));return Q(o).pipe(go())}function OO(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(c=>{let u=ea(e)??i,l=yo(c,u),f=bO(l)?l.canDeactivate(t,e,n,r):lt(u,()=>l(t,e,n,r));return mr(f).pipe(Rn())});return Q(s).pipe(go())}function FO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let c=yo(s,t),u=EO(c)?c.canLoad(e,n):lt(t,()=>c(e,n));return mr(u)});return Q(o).pipe(go(),AD(r))}function AD(t){return gc(Ge(e=>{if(typeof e!="boolean")throw ol(t,e)}),oe(e=>e===!0))}function LO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let c=yo(s,t),u=CO(c)?c.canMatch(e,n):lt(t,()=>c(e,n));return mr(u)});return Q(o).pipe(go(),AD(r))}var Ys=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Zs=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function so(t){return Bi(new Ys(t))}function VO(t){return Bi(new U(4e3,!1))}function jO(t){return Bi(bD(!1,vt.GuardRejected))}var jp=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[Z])return VO(`${e.redirectTo}`);i=i.children[Z]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,params:m,data:S,title:N}=i,R=lt(o,()=>c({params:m,data:S,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,title:N}));if(R instanceof dn)throw new Zs(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Zs(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new dn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new fe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Up={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UO(t,e,n,r,i){let o=RD(t,e,n);return o.matched?(r=uO(e,r),LO(r,e,n,i).pipe(oe(s=>s===!0?o:F({},Up)))):Q(o)}function RD(t,e,n){if(e.path==="**")return BO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},Up):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||iD)(n,t,e);if(!i)return F({},Up);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function BO(t){return{matched:!0,parameters:t.length>0?sD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function tD(t,e,n,r){return n.length>0&&qO(t,n,r)?{segmentGroup:new fe(e,HO(r,new fe(n,t.children))),slicedSegments:[]}:n.length===0&&zO(t,n,r)?{segmentGroup:new fe(t.segments,$O(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new fe(t.segments,t.children),slicedSegments:n}}function $O(t,e,n,r){let i={};for(let o of n)if(ul(t,e,o)&&!r[Yt(o)]){let s=new fe([],{});i[Yt(o)]=s}return F(F({},r),i)}function HO(t,e){let n={};n[Z]=e;for(let r of t)if(r.path===""&&Yt(r)!==Z){let i=new fe([],{});n[Yt(r)]=i}return n}function qO(t,e,n){return n.some(r=>ul(t,e,r)&&Yt(r)!==Z)}function zO(t,e,n){return n.some(r=>ul(t,e,r))}function ul(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function WO(t,e,n){return e.length===0&&!t.children[n]}var Bp=class{};function GO(t,e,n,r,i,o,s="emptyOnly"){return new $p(t,e,n,r,i,s,o).recognize()}var KO=31,$p=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new jp(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=tD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:n,rootSnapshot:r})=>{let i=new bt(r,n),o=new Ks("",i),s=gD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Yr([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Z,n).pipe(oe(r=>({children:r,rootSnapshot:n})),sr(r=>{if(r instanceof Zs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ys?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof bt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ae(o).pipe(Hi(s=>{let c=r.children[s],u=lO(n,s);return this.processSegmentGroup(e,u,c,s,i)}),kc((s,c)=>(s.push(...c),s)),ar(null),qh(),Fe(s=>{if(s===null)return so(r);let c=ND(s);return QO(c),Q(c)}))}processSegment(e,n,r,i,o,s,c){return Ae(n).pipe(Hi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,c).pipe(sr(l=>{if(l instanceof Ys)return Q(null);throw l}))),Rn(u=>!!u),sr(u=>{if(SD(u))return WO(r,i,o)?Q(new Bp):so(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,c,u){return Yt(r)!==s&&(s===Z||!ul(i,o,r))?so(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):so(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:y}=RD(n,i,o);if(!u)return so(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>KO&&(this.allowRedirects=!1));let m=new Yr(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,nD(i),Yt(i),i.component??i._loadedComponent??null,i,rD(i)),S=il(m,c,this.paramsInheritanceStrategy);m.params=Object.freeze(S.params),m.data=Object.freeze(S.data);let N=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Fe(R=>this.processSegment(e,r,n,R.concat(y),s,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let c=UO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(zt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(zt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:m}=u,S=new Yr(y,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,nD(r),Yt(r),r.component??r._loadedComponent??null,r,rD(r)),N=il(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(N.params),S.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:L}=tD(n,y,m,l);if(L.length===0&&R.hasChildren())return this.processChildren(f,l,R,S).pipe(oe(W=>new bt(S,W)));if(l.length===0&&L.length===0)return Q(new bt(S,[]));let q=Yt(r)===o;return this.processSegment(f,l,R,L,q?Z:o,!0,S).pipe(oe(W=>new bt(S,W instanceof bt?[W]:[])))}))):so(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):FO(e,n,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,n).pipe(Ge(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):jO(n))):Q({routes:[],injector:e})}};function QO(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}function YO(t){let e=t.value.routeConfig;return e&&e.path===""}function ND(t){let e=[],n=new Set;for(let r of t){if(!YO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ND(r.children);e.push(new bt(r.value,i))}return e.filter(r=>!n.has(r))}function nD(t){return t.data||{}}function rD(t){return t.resolve||{}}function ZO(t,e,n,r,i,o){return Fe(s=>GO(t,e,n,r,s.extractedUrl,i,o).pipe(oe(({state:c,tree:u})=>ve(F({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function JO(t,e){return Fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of MD(u))s.add(l);let c=0;return Ae(s).pipe(Hi(u=>o.has(u)?XO(u,r,t,e):(u.data=il(u,u.parent,t).resolve,Q(void 0))),Ge(()=>c++),qi(1),Fe(u=>c===s.size?Q(n):ft))})}function MD(t){let e=t.children.map(n=>MD(n)).flat();return[t,...e]}function XO(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!ED(i)&&(o[Js]=i.title),e1(o,t,e,r).pipe(oe(s=>(t._resolvedData=s,t.data=il(t,t.parent,n).resolve,null)))}function e1(t,e,n,r){let i=Np(t);if(i.length===0)return Q({});let o={};return Ae(i).pipe(Fe(s=>t1(t[s],e,n,r).pipe(Rn(),Ge(c=>{if(c instanceof po)throw ol(new Jr,c);o[s]=c}))),qi(1),oe(()=>o),sr(s=>SD(s)?ft:Bi(s)))}function t1(t,e,n,r){let i=ea(e)??r,o=yo(t,i),s=o.resolve?o.resolve(e,n):lt(i,()=>o(e,n));return mr(s)}function Ap(t){return zt(e=>{let n=t(e);return n?Ae(n).pipe(oe(()=>e)):Q(e)})}var Wp=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(n){return n.data[Js]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>k(PD),providedIn:"root"})}return t})(),PD=(()=>{class t extends Wp{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ee(YT))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ra=new j("",{providedIn:"root",factory:()=>({})}),ia=new j(""),kD=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=k(ST);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=mr(n.loadComponent()).pipe(oe(OD),Ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ys(()=>{this.componentLoaders.delete(n)})),i=new Li(r,()=>new ze).pipe(Fi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=xD(r,this.compiler,n,this.onLoadEndListener).pipe(ys(()=>{this.childrenLoaders.delete(r)})),s=new Li(o,()=>new ze).pipe(Fi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xD(t,e,n,r){return mr(t.loadChildren()).pipe(oe(OD),Fe(i=>i instanceof ap||Array.isArray(i)?Q(i):Ae(e.compileModuleAsync(i))),oe(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(ia,[],{optional:!0,self:!0}).flat()),{routes:s.map(zp),injector:o}}))}function n1(t){return t&&typeof t=="object"&&"default"in t}function OD(t){return n1(t)?t.default:t}var ll=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>k(r1),providedIn:"root"})}return t})(),r1=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),FD=new j("");var LD=new j(""),VD=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ze;transitionAbortSubject=new ze;configLoader=k(kD);environmentInjector=k(mt);destroyRef=k(Ps);urlSerializer=k(Xs);rootContexts=k(mo);location=k(oo);inputBindingEnabled=k(cl,{optional:!0})!==null;titleStrategy=k(Wp);options=k(ra,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=k(ll);createViewTransition=k(FD,{optional:!0});navigationErrorHandler=k(LD,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Yu(i)),r=i=>this.events.next(new Zu(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ve(F({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new We(null),this.transitions.pipe(Rt(r=>r!==null),zt(r=>{let i=!1,o=!1;return Q(r).pipe(zt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),ft;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ve(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let l="";return this.events.next(new Vn(s.id,this.urlSerializer.serialize(s.rawUrl),l,qs.IgnoredSameUrlNavigation)),s.resolve(!1),ft}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Q(s).pipe(zt(l=>(this.events.next(new Xr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?ft:Promise.resolve(l))),ZO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ve(F({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let f=new zs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:f,source:p,restoredState:y,extras:m}=s,S=new Xr(l,this.urlSerializer.serialize(f),p,y);this.events.next(S);let N=ID(this.rootComponentType).snapshot;return this.currentTransition=r=ve(F({},s),{targetSnapshot:N,urlAfterRedirects:f,extras:ve(F({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,Q(r)}else{let l="";return this.events.next(new Vn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,qs.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ft}}),Ge(s=>{let c=new Wu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),oe(s=>(this.currentTransition=r=ve(F({},s),{guards:yO(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),AO(this.environmentInjector,s=>this.events.next(s)),Ge(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw ol(this.urlSerializer,s.guardsResult);let c=new Gu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(c)}),Rt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",vt.GuardRejected),!1)),Ap(s=>{if(s.guards.canActivateChecks.length!==0)return Q(s).pipe(Ge(c=>{let u=new Ku(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),zt(c=>{let u=!1;return Q(c).pipe(JO(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",vt.NoDataFromResolver)}}))}),Ge(c=>{let u=new Qu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Ap(s=>{let c=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ge(f=>{u.component=f}),oe(()=>{})));for(let f of u.children)l.push(...c(f));return l};return Nc(c(s.targetSnapshot.root)).pipe(ar(null),An(1))}),Ap(()=>this.afterPreactivation()),zt(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return u?Ae(u).pipe(oe(()=>r)):Q(r)}),oe(s=>{let c=hO(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ve(F({},s),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),Ge(()=>{this.events.next(new Ws)}),mO(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),An(1),Ge({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ln(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),zh(this.transitionAbortSubject.pipe(Ge(s=>{throw s}))),ys(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",vt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),sr(s=>{if(this.destroyed)return r.resolve(!1),ft;if(o=!0,CD(s))this.events.next(new ln(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),gO(s)?this.events.next(new fo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new ho(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=lt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof po){let{message:l,cancellationCode:f}=ol(this.urlSerializer,u);this.events.next(new ln(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new fo(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return ft}))}))}cancelNavigationTransition(n,r,i){let o=new ln(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function i1(t){return t!==Hu}var jD=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>k(o1),providedIn:"root"})}return t})(),al=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},o1=(()=>{class t extends al{static \u0275fac=(()=>{let n;return function(i){return(n||(n=qf(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),UD=(()=>{class t{urlSerializer=k(Xs);options=k(ra,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=k(oo);urlHandlingStrategy=k(ll);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new dn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof dn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=ID(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>k(s1),providedIn:"root"})}return t})(),s1=(()=>{class t extends UD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Xr?this.updateStateMemento():n instanceof Vn?this.commitTransition(r):n instanceof zs?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ws?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ln&&(n.code===vt.GuardRejected||n.code===vt.NoDataFromResolver)?this.restoreHistory(r):n instanceof ho?this.restoreHistory(r,!0):n instanceof Ln&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let c=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,c));this.location.replaceState(n,"",u)}else{let c=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",c)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=qf(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gp(t,e){t.events.pipe(Rt(n=>n instanceof Ln||n instanceof ln||n instanceof ho||n instanceof Vn),oe(n=>n instanceof Ln||n instanceof Vn?0:(n instanceof ln?n.code===vt.Redirect||n.code===vt.SupersededByNewNavigation:!1)?2:1),Rt(n=>n!==2),An(1)).subscribe(()=>{e()})}var a1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},c1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},dl=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=k(wT);stateManager=k(UD);options=k(ra,{optional:!0})||{};pendingTasks=k(Kr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=k(VD);urlSerializer=k(Xs);location=k(oo);urlHandlingStrategy=k(ll);_events=new ze;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=k(jD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=k(ia,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!k(cl,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ce;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ln&&r.code!==vt.Redirect&&r.code!==vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ln)this.navigated=!0;else if(r instanceof fo){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||i1(i.source)},s);this.scheduleNavigation(c,Hu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}l1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Hu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(zp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=mD(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return yD(p,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=lo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Hu,null,r)}navigate(n,r={skipLocationChange:!1}){return u1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},a1):r===!1?i=F({},c1):i=r,lo(n))return ZT(this.currentUrlTree,n,i);let o=this.parseUrl(n);return ZT(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{c=p,u=y});let f=this.pendingTasks.add();return Gp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function u1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}function l1(t){return!(t instanceof Ws)&&!(t instanceof fo)}var h1=new j("");function Kp(t,...e){return Kt([{provide:ia,multi:!0,useValue:t},[],{provide:gr,useFactory:f1,deps:[dl]},{provide:cp,multi:!0,useFactory:p1},e.map(n=>n.\u0275providers)])}function f1(t){return t.routerState.root}function p1(){let t=k(je);return e=>{let n=t.get(Wr);if(e!==n.components[0])return;let r=t.get(dl),i=t.get(g1);t.get(m1)===1&&r.initialNavigation(),t.get(y1,null,J.Optional)?.setUpPreloading(),t.get(h1,null,J.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var g1=new j("",{factory:()=>new ze}),m1=new j("",{providedIn:"root",factory:()=>1});var y1=new j("");var hl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=cn({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&yt(0,"router-outlet")},dependencies:[fr,ta],encapsulation:2})};var BD=()=>{};var qD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},fl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,y=(c&15)<<2|l>>6,m=l&63;u||(m=64,s||(y=64)),r.push(n[f],n[p],n[y],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Zp;let y=o<<2|c>>4;if(r.push(y),l!==64){let m=c<<4&240|l>>2;if(r.push(m),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Zp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},I1=function(t){let e=qD(t);return fl.encodeByteArray(e,!0)},sa=function(t){return I1(t).replace(/\./g,"")},pl=function(t){try{return fl.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Xp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var w1=()=>Xp().__FIREBASE_DEFAULTS__,E1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},T1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&pl(t[1]);return e&&JSON.parse(e)},gl=()=>{try{return BD()||w1()||E1()||T1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eg=t=>{var e,n;return(n=(e=gl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zD=t=>{let e=eg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tg=()=>{var t;return(t=gl())===null||t===void 0?void 0:t.config},ng=t=>{var e;return(e=gl())===null||e===void 0?void 0:e[`_${t}`]};var ei=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function yr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function ml(t){return v(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function WD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sa(JSON.stringify(n)),sa(JSON.stringify(s)),""].join(".")}var oa={};function D1(){let t={prod:[],emulator:[]};for(let e of Object.keys(oa))oa[e]?t.emulator.push(e):t.prod.push(e);return t}function b1(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var $D=!1;function yl(t,e){if(typeof window>"u"||typeof document>"u"||!yr(window.location.host)||oa[t]===e||oa[t]||$D)return;oa[t]=e;function n(y){return`__firebase__banner__${y}`}let r="__firebase__banner",o=D1().prod.length>0;function s(){let y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,m){y.setAttribute("width","24"),y.setAttribute("id",m),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function l(){let y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{$D=!0,s()},y}function f(y,m){y.setAttribute("id",m),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){let y=b1(r),m=n("text"),S=document.getElementById(m)||document.createElement("span"),N=n("learnmore"),R=document.getElementById(N)||document.createElement("a"),L=n("preprendIcon"),q=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){let W=y.element;c(W),f(R,N);let _e=l();u(q,L),W.append(q,S,R,_e),document.body.appendChild(W)}o?(S.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Be(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function C1(){var t;let e=(t=gl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vl(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YD(){let t=Be();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZD(){return!C1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ti(){try{return typeof indexedDB=="object"}catch{return!1}}function _l(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function JD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var S1="FirebaseError",Ke=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=S1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dt.prototype.create)}},dt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?A1(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Ke(i,c,r)}};function A1(t,e){return t.replace(R1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var R1=/\{\$([^}]+)}/g;function XD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(HD(o)&&HD(s)){if(!Lt(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function HD(t){return t!==null&&typeof t=="object"}function aa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eb(t,e){let n=new Jp(t,e);return n.subscribe.bind(n)}var Jp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");N1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yp),i.error===void 0&&(i.error=Yp),i.complete===void 0&&(i.complete=Yp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function N1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yp(){}var M1=1e3,P1=2,k1=4*60*60*1e3,x1=.5;function Il(t,e=M1,n=P1){let r=e*Math.pow(n,t),i=Math.round(x1*r*(Math.random()-.5)*2);return Math.min(k1,r+i)}function Qe(t){return t&&t._delegate?t._delegate:t}var Re=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ni="[DEFAULT]";var rg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ei;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F1(e))try{this.getOrInitializeService({instanceIdentifier:ni})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ni){return this.instances.has(e)}getOptions(e=ni){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ni){return this.component?this.component.multipleInstances?e:ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function O1(t){return t===ni?void 0:t}function F1(t){return t.instantiationMode==="EAGER"}var wl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new rg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var L1=[],ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ne||{}),V1={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},j1=ne.INFO,U1={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},B1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=U1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Vt=class{constructor(e){this.name=e,this._logLevel=j1,this._logHandler=B1,this._userLogHandler=null,L1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var $1=(t,e)=>e.some(n=>t instanceof n),tb,nb;function H1(){return tb||(tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q1(){return nb||(nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var rb=new WeakMap,og=new WeakMap,ib=new WeakMap,ig=new WeakMap,ag=new WeakMap;function z1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(hn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&rb.set(n,t)}).catch(()=>{}),ag.set(e,t),e}function W1(t){if(og.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});og.set(t,e)}var sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return og.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ib.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ob(t){sg=t(sg)}function G1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(El(this),e,...n);return ib.set(r,e.sort?e.sort():[e]),hn(r)}:q1().includes(t)?function(...e){return t.apply(El(this),e),hn(rb.get(this))}:function(...e){return hn(t.apply(El(this),e))}}function K1(t){return typeof t=="function"?G1(t):(t instanceof IDBTransaction&&W1(t),$1(t,H1())?new Proxy(t,sg):t)}function hn(t){if(t instanceof IDBRequest)return z1(t);if(ig.has(t))return ig.get(t);let e=K1(t);return e!==t&&(ig.set(t,e),ag.set(e,t)),e}var El=t=>ag.get(t);function Tl(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=hn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(hn(s.result),u.oldVersion,u.newVersion,hn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var Q1=["get","getKey","getAll","getAllKeys","count"],Y1=["put","add","delete","clear"],cg=new Map;function sb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cg.get(e))return cg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Y1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Q1.includes(n)))return;let o=function(s,...c){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return cg.set(e,o),o}ob(t=>ve(F({},t),{get:(e,n,r)=>sb(e,n)||t.get(e,n,r),has:(e,n)=>!!sb(e,n)||t.has(e,n)}));var lg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Z1(t){let e=t.getComponent();return e?.type==="VERSION"}var dg="@firebase/app",ab="0.13.2";var jn=new Vt("@firebase/app"),J1="@firebase/app-compat",X1="@firebase/analytics-compat",eF="@firebase/analytics",tF="@firebase/app-check-compat",nF="@firebase/app-check",rF="@firebase/auth",iF="@firebase/auth-compat",oF="@firebase/database",sF="@firebase/data-connect",aF="@firebase/database-compat",cF="@firebase/functions",uF="@firebase/functions-compat",lF="@firebase/installations",dF="@firebase/installations-compat",hF="@firebase/messaging",fF="@firebase/messaging-compat",pF="@firebase/performance",gF="@firebase/performance-compat",mF="@firebase/remote-config",yF="@firebase/remote-config-compat",vF="@firebase/storage",_F="@firebase/storage-compat",IF="@firebase/firestore",wF="@firebase/ai",EF="@firebase/firestore-compat",TF="firebase",DF="11.10.0";var hg="[DEFAULT]",bF={[dg]:"fire-core",[J1]:"fire-core-compat",[eF]:"fire-analytics",[X1]:"fire-analytics-compat",[nF]:"fire-app-check",[tF]:"fire-app-check-compat",[rF]:"fire-auth",[iF]:"fire-auth-compat",[oF]:"fire-rtdb",[sF]:"fire-data-connect",[aF]:"fire-rtdb-compat",[cF]:"fire-fn",[uF]:"fire-fn-compat",[lF]:"fire-iid",[dF]:"fire-iid-compat",[hF]:"fire-fcm",[fF]:"fire-fcm-compat",[pF]:"fire-perf",[gF]:"fire-perf-compat",[mF]:"fire-rc",[yF]:"fire-rc-compat",[vF]:"fire-gcs",[_F]:"fire-gcs-compat",[IF]:"fire-fst",[EF]:"fire-fst-compat",[wF]:"fire-vertex","fire-js":"fire-js",[TF]:"fire-js-all"};var ca=new Map,CF=new Map,fg=new Map;function cb(t,e){try{t.container.addComponent(e)}catch(n){jn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ye(t){let e=t.name;if(fg.has(e))return jn.debug(`There were multiple attempts to register component ${e}.`),!1;fg.set(e,t);for(let n of ca.values())cb(n,t);for(let n of CF.values())cb(n,t);return!0}function jt(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ut(t){return t==null?!1:t.settings!==void 0}var SF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new dt("app","Firebase",SF);var pg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Re("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}};var _r=DF;function yg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:hg,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw vr.create("bad-app-name",{appName:String(i)});if(n||(n=tg()),!n)throw vr.create("no-options");let o=ca.get(i);if(o){if(Lt(n,o.options)&&Lt(r,o.config))return o;throw vr.create("duplicate-app",{appName:i})}let s=new wl(i);for(let u of fg.values())s.addComponent(u);let c=new pg(n,r,s);return ca.set(i,c),c}function fn(t=hg){let e=ca.get(t);if(!e&&t===hg&&tg())return yg();if(!e)throw vr.create("no-app",{appName:t});return e}function Dl(){return Array.from(ca.values())}function ge(t,e,n){var r;let i=(r=bF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jn.warn(c.join(" "));return}Ye(new Re(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var AF="firebase-heartbeat-database",RF=1,ua="firebase-heartbeat-store",ug=null;function hb(){return ug||(ug=Tl(AF,RF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ua)}catch(n){console.warn(n)}}}}).catch(t=>{throw vr.create("idb-open",{originalErrorMessage:t.message})})),ug}function NF(t){return v(this,null,function*(){try{let n=(yield hb()).transaction(ua),r=yield n.objectStore(ua).get(fb(t));return yield n.done,r}catch(e){if(e instanceof Ke)jn.warn(e.message);else{let n=vr.create("idb-get",{originalErrorMessage:e?.message});jn.warn(n.message)}}})}function ub(t,e){return v(this,null,function*(){try{let r=(yield hb()).transaction(ua,"readwrite");yield r.objectStore(ua).put(e,fb(t)),yield r.done}catch(n){if(n instanceof Ke)jn.warn(n.message);else{let r=vr.create("idb-set",{originalErrorMessage:n?.message});jn.warn(r.message)}}})}function fb(t){return`${t.name}!${t.options.appId}`}var MF=1024,PF=30,gg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new mg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=lb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>PF){let s=xF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){jn.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=lb(),{heartbeatsToSend:r,unsentEntries:i}=kF(this._heartbeatsCache.heartbeats),o=sa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return jn.warn(n),""}})}};function lb(){return new Date().toISOString().substring(0,10)}function kF(t,e=MF){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),db(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),db(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var mg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return ti()?_l().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield NF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ub(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ub(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function db(t){return sa(JSON.stringify({version:2,heartbeats:t})).length}function xF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function OF(t){Ye(new Re("platform-logger",e=>new lg(e),"PRIVATE")),Ye(new Re("heartbeat",e=>new gg(e),"PRIVATE")),ge(dg,ab,t),ge(dg,ab,"esm2017"),ge("fire-js","")}OF("");var FF="firebase",LF="11.10.0";ge(FF,LF,"app");function vg(t){t===void 0&&(Pw(vg),t=k(je));let e=t.get(yu);return n=>new re(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var pn=new Rs("ANGULARFIRE2_VERSION");function ii(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ir=(t,e)=>{let n=e?[e]:Dl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},vo=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(vo||{}),pb=lp()&&typeof Zone<"u"?vo.WARN:vo.SILENT;var bl=class{zone;delegate;constructor(e,n=Bh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},gn=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=k(pe);this.outsideAngular=n.runOutsideAngular(()=>new bl(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new bl(typeof Zone>"u"?void 0:Zone.current,Uh))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gb=!1;function VF(t,e){!gb&&(pb>vo.SILENT||lp())&&(gb=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),pb>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function jF(t){let e=k(pe,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function ri(t){let e=k(pe,{optional:!0});return e?e.run(()=>t()):t()}var UF=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),lt(n,()=>ri(()=>t.apply(void 0,r)))),Bt=(t,e,n)=>(n||=e?vo.WARN:vo.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=k(gn),s=k(yu),c=k(mt)}catch{return VF(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=ri(()=>s.add())),i[l]=UF(i[l],r,c));let u=jF(()=>t.apply(this,i));return e?u instanceof re?u.pipe(or(o.outsideAngular),ir(o.insideAngular),vg(c)):u instanceof Promise?ri(()=>new Promise((l,f)=>{s.run(()=>u).then(p=>lt(c,()=>ri(()=>l(p))),p=>lt(c,()=>ri(()=>f(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:ri(()=>u):u instanceof re?u.pipe(or(o.outsideAngular),ir(o.insideAngular)):ri(()=>u)});var Zt=class{constructor(e){return e}},Un=class{constructor(){return Dl()}};function BF(t){return t&&t.length===1?t[0]:new Zt(fn())}var _g=new j("angularfire2._apps"),$F={provide:Zt,useFactory:BF,deps:[[new ut,_g]]},HF={provide:Un,deps:[[new ut,_g]]};function qF(t){return(e,n)=>{let r=n.get(an);ge("angularfire",pn.full,"core"),ge("angularfire",pn.full,"app"),ge("angular",CT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Zt(i)}}function mb(t,...e){return Kt([$F,HF,{provide:_g,useFactory:qF(t),multi:!0,deps:[pe,je,gn,...e]}])}var yb=Bt(yg,!0);var zF=new Map,WF={activated:!1,tokenObservers:[]},GF={initialized:!1,enabled:!1};function Jt(t){return zF.get(t)||Object.assign({},WF)}function wb(){return GF}var KF="https://content-firebaseappcheck.googleapis.com/v1";var QF="exchangeDebugToken",vb={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},TG=24*60*60*1e3;var Eg=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new ei,this.pending.promise.catch(n=>{}),yield YF(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ei,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function YF(t){return new Promise(e=>{setTimeout(e,t)})}var ZF={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},wr=new dt("appCheck","AppCheck",ZF);function Eb(t){if(!Jt(t).activated)throw wr.create("use-before-activation",{appName:t.name})}function Tb(r,i){return v(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,c)}catch(m){throw wr.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw wr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw wr.create("fetch-parse-error",{originalErrorMessage:m?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw wr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(f[1])*1e3,y=Date.now();return{token:l.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function Db(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${KF}/projects/${n}/apps/${r}:${QF}?key=${i}`,body:{debug_token:e}}}var JF="firebase-app-check-database",XF=1,Tg="firebase-app-check-store";var Cl=null;function eL(){return Cl||(Cl=new Promise((t,e)=>{try{let n=indexedDB.open(JF,XF);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(wr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Tg,{keyPath:"compositeKey"})}}}catch(n){e(wr.create("storage-open",{originalErrorMessage:n?.message}))}}),Cl)}function tL(t,e){return nL(rL(t),e)}function nL(t,e){return v(this,null,function*(){let r=(yield eL()).transaction(Tg,"readwrite"),o=r.objectStore(Tg).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(wr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function rL(t){return`${t.options.appId}-${t.name}`}var la=new Vt("@firebase/app-check");function Ig(t,e){return ti()?tL(t,e).catch(n=>{la.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function bb(){return wb().enabled}function Cb(){return v(this,null,function*(){let t=wb();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var iL={error:"UNKNOWN_ERROR"};function oL(t){return fl.encodeString(JSON.stringify(t),!1)}function Dg(t,e=!1,n=!1){return v(this,null,function*(){let r=t.app;Eb(r);let i=Jt(r),o=i.token,s;if(o&&!da(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(da(l)?o=l:yield Ig(r,void 0))}if(!e&&o&&da(o))return{token:o.token};let c=!1;if(bb())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=Tb(Db(r,yield Cb()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield Ig(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?la.warn(l.message):n&&la.error(l),wg(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield Jt(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?la.warn(l.message):n&&la.error(l),s=l}let u;return o?s?da(o)?u={token:o.token,internalError:s}:u=wg(s):(u={token:o.token},i.token=o,yield Ig(r,o)):u=wg(s),c&&uL(r,u),u})}function sL(t){return v(this,null,function*(){let e=t.app;Eb(e);let{provider:n}=Jt(e);if(bb()){let r=yield Cb(),{token:i}=yield Tb(Db(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function aL(t,e,n,r){let{app:i}=t,o=Jt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&da(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),_b(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>_b(t))}function Sb(t,e){let n=Jt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function _b(t){let{app:e}=t,n=Jt(e),r=n.tokenRefresher;r||(r=cL(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function cL(t){let{app:e}=t;return new Eg(()=>v(null,null,function*(){let n=Jt(e),r;if(n.token?r=yield Dg(t,!0):r=yield Dg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Jt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},vb.RETRIAL_MIN_WAIT,vb.RETRIAL_MAX_WAIT)}function uL(t,e){let n=Jt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function da(t){return t.expireTimeMillis-Date.now()>0}function wg(t){return{token:oL(iL),error:t}}var bg=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Jt(this.app);for(let n of e)Sb(this.app,n.next);return Promise.resolve()}};function lL(t,e){return new bg(t,e)}function dL(t){return{getToken:e=>Dg(t,e),getLimitedUseToken:()=>sL(t),addTokenListener:e=>aL(t,"INTERNAL",e),removeTokenListener:e=>Sb(t.app,e)}}var hL="@firebase/app-check",fL="0.10.1";var pL="app-check",Ib="app-check-internal";function gL(){Ye(new Re(pL,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return lL(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Ib).initialize()})),Ye(new Re(Ib,t=>{let e=t.getProvider("app-check").getImmediate();return dL(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ge(hL,fL)}gL();var mL="app-check";var _o=class{constructor(){return Ir(mL)}};var yL=["localhost","0.0.0.0","127.0.0.1"],FG=typeof window<"u"&&yL.includes(window.location.hostname);function $b(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Hb=$b,qb=new dt("auth","Firebase",$b());var Pl=new Vt("@firebase/auth");function vL(t,...e){Pl.logLevel<=ne.WARN&&Pl.warn(`Auth (${_r}): ${t}`,...e)}function Al(t,...e){Pl.logLevel<=ne.ERROR&&Pl.error(`Auth (${_r}): ${t}`,...e)}function Dr(t,...e){throw zg(t,...e)}function si(t,...e){return zg(t,...e)}function zb(t,e,n){let r=Object.assign(Object.assign({},Hb()),{[e]:n});return new dt("auth","Firebase",r).create(e,{appName:t.name})}function oi(t){return zb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qb.create(t,...e)}function z(t,e,...n){if(!t)throw zg(e,...n)}function Bn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Al(e),new Error(e)}function br(t,e){t||Bn(e)}function Rg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _L(){return Ab()==="http:"||Ab()==="https:"}function Ab(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function IL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_L()||vl()||"connection"in navigator)?navigator.onLine:!0}function wL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ai=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=GD()||QD()}get(){return IL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Wg(t,e){br(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var kl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var EL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var TL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DL=new ai(3e4,6e4);function Gg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Io(o,s,c,u){return v(this,arguments,function*(t,e,n,r,i={}){return Wb(t,i,()=>v(null,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=aa(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:e,headers:y},l);return KD()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&yr(t.emulatorConfig.host)&&(m.credentials="include"),kl.fetch()(yield Gb(t,t.config.apiHost,n,p),m)}))})}function Wb(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},EL),e);try{let i=new Ng(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Sl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sl(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Sl(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Sl(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw zb(t,f,l);Dr(t,f)}}catch(i){if(i instanceof Ke)throw i;Dr(t,"network-request-failed",{message:String(i)})}})}function bL(o,s,c,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield Io(t,e,n,r,i);return"mfaPendingCredential"in l&&Dr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function Gb(t,e,n,r){return v(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?Wg(t.config,i):`${t.config.apiScheme}://${i}`;return TL.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Ng=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),DL.get())})}};function Sl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=si(t,e,r);return i.customData._tokenResponse=n,i}function CL(t,e){return v(this,null,function*(){return Io(t,"POST","/v1/accounts:delete",e)})}function xl(t,e){return v(this,null,function*(){return Io(t,"POST","/v1/accounts:lookup",e)})}function ha(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Kg(t,e=!1){return v(this,null,function*(){let n=Qe(t),r=yield n.getIdToken(e),i=Qg(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ha(Cg(i.auth_time)),issuedAtTime:ha(Cg(i.iat)),expirationTime:ha(Cg(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Cg(t){return Number(t)*1e3}function Qg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Al("JWT malformed, contained fewer than 3 sections"),null;try{let i=pl(n);return i?JSON.parse(i):(Al("Failed to decode base64 JWT payload"),null)}catch(i){return Al("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Rb(t){let e=Qg(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function pa(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ke&&SL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function SL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Mg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ga=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ha(this.lastLoginAt),this.creationTime=ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ol(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield pa(t,xl(n,{idToken:r}));z(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Kb(o.providerUserInfo):[],c=AL(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ga(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function Yg(t){return v(this,null,function*(){let e=Qe(t);yield Ol(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function AL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Kb(t){return t.map(e=>{var{providerId:n}=e,r=$h(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function RL(t,e){return v(this,null,function*(){let n=yield Wb(t,{},()=>v(null,null,function*(){let r=aa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield Gb(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return t.emulatorConfig&&yr(t.emulatorConfig.host)&&(u.credentials="include"),kl.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function NL(t,e){return v(this,null,function*(){return Io(t,"POST","/v2/accounts:revokeToken",Gg(t,e))})}var fa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){z(e.length!==0,"internal-error");let n=Rb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield RL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Bn("not implemented")}};function Er(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Tr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=$h(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ga(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield pa(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Kg(this,e)}reload(){return Yg(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ol(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Ut(this.auth.app))return Promise.reject(oi(this.auth));let e=yield this.getIdToken();return yield pa(this,CL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=n.createdAt)!==null&&l!==void 0?l:void 0,q=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:W,emailVerified:_e,isAnonymous:it,providerData:ye,stsTokenManager:T}=n;z(W&&T,e,"internal-error");let _=fa.fromJSON(this.name,T);z(typeof W=="string",e,"internal-error"),Er(p,e.name),Er(y,e.name),z(typeof _e=="boolean",e,"internal-error"),z(typeof it=="boolean",e,"internal-error"),Er(m,e.name),Er(S,e.name),Er(N,e.name),Er(R,e.name),Er(L,e.name),Er(q,e.name);let w=new t({uid:W,auth:e,email:y,emailVerified:_e,displayName:p,isAnonymous:it,photoURL:S,phoneNumber:m,tenantId:N,stsTokenManager:_,createdAt:L,lastLoginAt:q});return ye&&Array.isArray(ye)&&(w.providerData=ye.map(E=>Object.assign({},E))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new fa;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ol(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Kb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new fa;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ga(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var Nb=new Map;function $n(t){br(t instanceof Function,"Expected a class definition");let e=Nb.get(t);return e?(br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Nb.set(t,e),e)}var ML=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Pg=ML;function Rl(t,e,n){return`firebase:${t}:${e}:${n}`}var Fl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Rl(this.userKey,i.apiKey,o),this.fullPersistenceKey=Rl("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield xl(this.auth,{idToken:e}).catch(()=>{});return n?Tr._fromGetAccountInfoResponse(this.auth,n,e):null}return Tr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t($n(Pg),e,r);let i=(yield Promise.all(n.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||$n(Pg),s=Rl(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(s);if(f){let p;if(typeof f=="string"){let y=yield xl(e,{idToken:f}).catch(()=>{});if(!y)break;p=yield Tr._fromGetAccountInfoResponse(e,y,f)}else p=Tr._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function Mb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eC(e))return"Blackberry";if(tC(e))return"Webos";if(Yb(e))return"Safari";if((e.includes("chrome/")||Zb(e))&&!e.includes("edge/"))return"Chrome";if(Xb(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Qb(t=Be()){return/firefox\//i.test(t)}function Yb(t=Be()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zb(t=Be()){return/crios\//i.test(t)}function Jb(t=Be()){return/iemobile/i.test(t)}function Xb(t=Be()){return/android/i.test(t)}function eC(t=Be()){return/blackberry/i.test(t)}function tC(t=Be()){return/webos/i.test(t)}function Zg(t=Be()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function PL(t=Be()){var e;return Zg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kL(){return YD()&&document.documentMode===10}function nC(t=Be()){return Zg(t)||Xb(t)||tC(t)||eC(t)||/windows phone/i.test(t)||Jb(t)}function rC(t,e=[]){let n;switch(t){case"Browser":n=Mb(Be());break;case"Worker":n=`${Mb(Be())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_r}/${r}`}var kg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function xL(n){return v(this,arguments,function*(t,e={}){return Io(t,"GET","/v2/passwordPolicy",Gg(t,e))})}var OL=6,xg=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:OL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Og=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ll(this),this.idTokenSubscription=new Ll(this),this.beforeStateQueue=new kg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$n(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Fl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield xl(this,{idToken:e}),r=yield Tr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(Ut(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Ol(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=wL()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Ut(this.app))return Promise.reject(oi(this));let n=e?Qe(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Ut(this.app)?Promise.reject(oi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ut(this.app)?Promise.reject(oi(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence($n(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield xL(this),n=new xg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield NL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&$n(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=yield Fl.create(this,[$n(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&vL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Jg(t){return Qe(t)}var Ll=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=eb(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Xg={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FL(t){Xg=t}function LL(t){return Xg.loadJS(t)}function VL(){return Xg.gapiScript}function iC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function em(t,e){let n=jt(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Lt(o,e??{}))return i;Dr(i,"already-initialized")}return n.initialize({options:e})}function jL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($n);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function tm(t,e,n){let r=Jg(t);z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=oC(e),{host:s,port:c}=UL(e),u=c===null?"":`:${c}`,l={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),z(Lt(l,r.config.emulator)&&Lt(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,yr(s)?(ml(`${o}//${s}${u}`),yl("Auth",!0)):i||BL()}function oC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UL(t){let e=oC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Pb(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:Pb(s)}}}function Pb(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function BL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Vl=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bn("not implemented")}_getIdTokenResponse(e){return Bn("not implemented")}_linkToIdToken(e,n){return Bn("not implemented")}_getReauthenticationResolver(e){return Bn("not implemented")}};function Sg(t,e){return v(this,null,function*(){return bL(t,"POST","/v1/accounts:signInWithIdp",Gg(t,e))})}var jl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Fg=class extends jl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ma=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield Tr._fromIdTokenResponse(e,r,i),s=kb(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=kb(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function kb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Lg=class t extends Ke{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function sC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Lg._fromErrorAndOperation(t,o,e,r):o})}function $L(t,e,n=!1){return v(this,null,function*(){let r=yield pa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ma._forOperation(t,"link",r)})}function HL(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(Ut(r.app))return Promise.reject(oi(r));let i="reauthenticate";try{let o=yield pa(t,sC(r,i,e,t),n);z(o.idToken,r,"internal-error");let s=Qg(o.idToken);z(s,r,"internal-error");let{sub:c}=s;return z(t.uid===c,r,"user-mismatch"),ma._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Dr(r,"user-mismatch"),o}})}function qL(t,e,n=!1){return v(this,null,function*(){if(Ut(t.app))return Promise.reject(oi(t));let r="signIn",i=yield sC(t,r,e),o=yield ma._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function nm(t,e,n,r){return Qe(t).onIdTokenChanged(e,n,r)}function rm(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}var Ul="__sak";var Bl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ul,"1"),this.storage.removeItem(Ul),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var zL=1e3,WL=10,GL=(()=>{class t extends Bl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);kL()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,WL):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},zL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield nr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield nr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield nr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),aC=GL;var KL=(()=>{class t extends Bl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),im=KL;function QL(t){return Promise.all(t.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var YL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(f=>v(this,null,function*(){return f(r.origin,s)})),l=yield QL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function cC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Vg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=cC("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function mn(){return window}function ZL(t){mn().location.href=t}function uC(){return typeof mn().WorkerGlobalScope<"u"&&typeof mn().importScripts=="function"}function JL(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function XL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eV(){return uC()?self:null}var lC="firebaseLocalStorageDb",tV=1,$l="firebaseLocalStorage",dC="fbase_key",ci=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ql(t,e){return t.transaction([$l],e?"readwrite":"readonly").objectStore($l)}function nV(){let t=indexedDB.deleteDatabase(lC);return new ci(t).toPromise()}function jg(){let t=indexedDB.open(lC,tV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore($l,{keyPath:dC})}catch(i){n(i)}}),t.addEventListener("success",()=>v(null,null,function*(){let r=t.result;r.objectStoreNames.contains($l)?e(r):(r.close(),yield nV(),e(yield jg()))}))})}function xb(t,e,n){return v(this,null,function*(){let r=ql(t,!0).put({[dC]:e,value:n});return new ci(r).toPromise()})}function rV(t,e){return v(this,null,function*(){let n=ql(t,!1).get(e),r=yield new ci(n).toPromise();return r===void 0?null:r.value})}function Ob(t,e){let n=ql(t,!0).delete(e);return new ci(n).toPromise()}var iV=800,oV=3,sV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield jg(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>oV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return uC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=YL._getInstance(eV()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield JL(),!this.activeServiceWorker)return;this.sender=new Vg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||XL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield jg();return yield xb(n,Ul,"1"),yield Ob(n,Ul),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>xb(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>rV(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>Ob(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=ql(o,!1).getAll();return new ci(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),iV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),hC=sV;var WG=iC("rcb"),GG=new ai(3e4,6e4);function aV(t,e){return e?$n(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ya=class extends Vl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function cV(t){return qL(t.auth,new ya(t),t.bypassAuthState)}function uV(t){let{auth:e,user:n}=t;return z(n,e,"internal-error"),HL(n,new ya(t),t.bypassAuthState)}function lV(t){return v(this,null,function*(){let{auth:e,user:n}=t;return z(n,e,"internal-error"),$L(n,new ya(t),t.bypassAuthState)})}var Ug=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cV;case"linkViaPopup":case"linkViaRedirect":return lV;case"reauthViaPopup":case"reauthViaRedirect":return uV;default:Dr(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var KG=new ai(2e3,1e4);var dV="pendingRedirect",Nl=new Map,Bg=class t extends Ug{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Nl.get(this.auth._key());if(!e){try{let r=(yield hV(this.resolver,this.auth))?yield nr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nl.set(this.auth._key(),e)}return this.bypassAuthState||Nl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return nr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,nr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function hV(t,e){return v(this,null,function*(){let n=gV(e),r=pV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function fV(t,e){Nl.set(t._key(),e)}function pV(t){return $n(t._redirectPersistence)}function gV(t){return Rl(dV,t.config.apiKey,t.name)}function mV(t,e,n=!1){return v(this,null,function*(){if(Ut(t.app))return Promise.reject(oi(t));let r=Jg(t),i=aV(r,e),s=yield new Bg(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var yV=10*60*1e3,$g=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(si(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fb(e))}saveEventToCache(e){this.cachedEventUids.add(Fb(e)),this.lastProcessedEventTime=Date.now()}};function Fb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function vV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fC(t);default:return!1}}function _V(n){return v(this,arguments,function*(t,e={}){return Io(t,"GET","/v1/projects",e)})}var IV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wV=/^https?/;function EV(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield _V(t);for(let n of e)try{if(TV(n))return}catch{}Dr(t,"unauthorized-domain")})}function TV(t){let e=Rg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!wV.test(n))return!1;if(IV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var DV=new ai(3e4,6e4);function Lb(){let t=mn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bV(t){return new Promise((e,n)=>{var r,i,o;function s(){Lb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lb(),n(si(t,"network-request-failed"))},timeout:DV.get()})}if(!((i=(r=mn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=mn().gapi)===null||o===void 0)&&o.load)s();else{let c=iC("iframefcb");return mn()[c]=()=>{gapi.load?s():n(si(t,"network-request-failed"))},LL(`${VL()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Ml=null,e})}var Ml=null;function CV(t){return Ml=Ml||bV(t),Ml}var SV=new ai(5e3,15e3),AV="__/auth/iframe",RV="emulator/auth/iframe",NV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PV(t){let e=t.config;z(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Wg(e,RV):`https://${t.config.authDomain}/${AV}`,r={apiKey:e.apiKey,appName:t.name,v:_r},i=MV.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${aa(r).slice(1)}`}function kV(t){return v(this,null,function*(){let e=yield CV(t),n=mn().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:PV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NV,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=si(t,"network-request-failed"),c=mn().setTimeout(()=>{o(s)},SV.get());function u(){mn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var xV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OV=500,FV=600,LV="_blank",VV="http://localhost",Hl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function jV(t,e,n,r=OV,i=FV){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},xV),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Be().toLowerCase();n&&(c=Zb(l)?LV:n),Qb(l)&&(e=e||VV,u.scrollbars="yes");let f=Object.entries(u).reduce((y,[m,S])=>`${y}${m}=${S},`,"");if(PL(l)&&c!=="_self")return UV(e||"",c),new Hl(null);let p=window.open(e||"",c,f);z(p,t,"popup-blocked");try{p.focus()}catch{}return new Hl(p)}function UV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var BV="__/auth/handler",$V="emulator/auth/handler",HV=encodeURIComponent("fac");function Vb(t,e,n,r,i,o){return v(this,null,function*(){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_r,eventId:i};if(e instanceof jl){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",XD(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof Fg){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),l=u?`#${HV}=${encodeURIComponent(u)}`:"";return`${qV(t)}?${aa(c).slice(1)}${l}`})}function qV({config:t}){return t.emulator?Wg(t,$V):`https://${t.authDomain}/${BV}`}var Ag="webStorageSupport",Hg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=im,this._completeRedirectFn=mV,this._overrideRedirectResult=fV}_openPopup(e,n,r,i){return v(this,null,function*(){var o;br((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Vb(e,n,r,Rg(),i);return jV(e,s,cC())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield Vb(e,n,r,Rg(),i);return ZL(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(br(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield kV(e),r=new $g(e);return n.register("authEvent",i=>(z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ag,{type:Ag},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Ag];s!==void 0&&n(!!s),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nC()||Yb()||Zg()}},pC=Hg;var jb="@firebase/auth",Ub="1.10.8";var qg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function zV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WV(t){Ye(new Re("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rC(t)},l=new Og(r,i,o,u);return jL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ye(new Re("auth-internal",e=>{let n=Jg(e.getProvider("auth").getImmediate());return(r=>new qg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ge(jb,Ub,zV(t)),ge(jb,Ub,"esm2017")}var GV=5*60,KV=ng("authIdTokenMaxAge")||GV,Bb=null,QV=t=>e=>v(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KV)return;let i=n?.token;Bb!==i&&(Bb=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function om(t=fn()){let e=jt(t,"auth");if(e.isInitialized())return e.getImmediate();let n=em(t,{popupRedirectResolver:pC,persistence:[hC,aC,im]}),r=ng("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=QV(o.toString());rm(n,s,()=>s(n.currentUser)),nm(n,c=>s(c))}}let i=eg("auth");return i&&tm(n,`http://${i}`),n}function YV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=si("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",YV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WV("Browser");var gC="auth",va=class{constructor(e){return e}},_a=class{constructor(){return Ir(gC)}};var sm=new j("angularfire2.auth-instances");function H2(t,e){let n=ii(gC,t,e);return n&&new va(n)}function q2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new va(r)}}var z2={provide:_a,deps:[[new ut,sm]]},W2={provide:va,useFactory:H2,deps:[[new ut,sm],Zt]};function mC(t,...e){return ge("angularfire",pn.full,"auth"),Kt([W2,z2,{provide:sm,useFactory:q2(t),multi:!0,deps:[pe,je,gn,Un,[new ut,_o],...e]}])}var yC=Bt(om,!0);var vC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_C={};var Hn,am;(function(){var t;function e(T,_){function w(){}w.prototype=_.prototype,T.D=_.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(E,D,C){for(var I=Array(arguments.length-2),Tn=2;Tn<arguments.length;Tn++)I[Tn-2]=arguments[Tn];return _.prototype[D].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,w){w||(w=0);var E=Array(16);if(typeof _=="string")for(var D=0;16>D;++D)E[D]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(D=0;16>D;++D)E[D]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=T.g[0],w=T.g[1],D=T.g[2];var C=T.g[3],I=_+(C^w&(D^C))+E[0]+3614090360&4294967295;_=w+(I<<7&4294967295|I>>>25),I=C+(D^_&(w^D))+E[1]+3905402710&4294967295,C=_+(I<<12&4294967295|I>>>20),I=D+(w^C&(_^w))+E[2]+606105819&4294967295,D=C+(I<<17&4294967295|I>>>15),I=w+(_^D&(C^_))+E[3]+3250441966&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(C^w&(D^C))+E[4]+4118548399&4294967295,_=w+(I<<7&4294967295|I>>>25),I=C+(D^_&(w^D))+E[5]+1200080426&4294967295,C=_+(I<<12&4294967295|I>>>20),I=D+(w^C&(_^w))+E[6]+2821735955&4294967295,D=C+(I<<17&4294967295|I>>>15),I=w+(_^D&(C^_))+E[7]+4249261313&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(C^w&(D^C))+E[8]+1770035416&4294967295,_=w+(I<<7&4294967295|I>>>25),I=C+(D^_&(w^D))+E[9]+2336552879&4294967295,C=_+(I<<12&4294967295|I>>>20),I=D+(w^C&(_^w))+E[10]+4294925233&4294967295,D=C+(I<<17&4294967295|I>>>15),I=w+(_^D&(C^_))+E[11]+2304563134&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(C^w&(D^C))+E[12]+1804603682&4294967295,_=w+(I<<7&4294967295|I>>>25),I=C+(D^_&(w^D))+E[13]+4254626195&4294967295,C=_+(I<<12&4294967295|I>>>20),I=D+(w^C&(_^w))+E[14]+2792965006&4294967295,D=C+(I<<17&4294967295|I>>>15),I=w+(_^D&(C^_))+E[15]+1236535329&4294967295,w=D+(I<<22&4294967295|I>>>10),I=_+(D^C&(w^D))+E[1]+4129170786&4294967295,_=w+(I<<5&4294967295|I>>>27),I=C+(w^D&(_^w))+E[6]+3225465664&4294967295,C=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(C^_))+E[11]+643717713&4294967295,D=C+(I<<14&4294967295|I>>>18),I=w+(C^_&(D^C))+E[0]+3921069994&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(D^C&(w^D))+E[5]+3593408605&4294967295,_=w+(I<<5&4294967295|I>>>27),I=C+(w^D&(_^w))+E[10]+38016083&4294967295,C=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(C^_))+E[15]+3634488961&4294967295,D=C+(I<<14&4294967295|I>>>18),I=w+(C^_&(D^C))+E[4]+3889429448&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(D^C&(w^D))+E[9]+568446438&4294967295,_=w+(I<<5&4294967295|I>>>27),I=C+(w^D&(_^w))+E[14]+3275163606&4294967295,C=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(C^_))+E[3]+4107603335&4294967295,D=C+(I<<14&4294967295|I>>>18),I=w+(C^_&(D^C))+E[8]+1163531501&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(D^C&(w^D))+E[13]+2850285829&4294967295,_=w+(I<<5&4294967295|I>>>27),I=C+(w^D&(_^w))+E[2]+4243563512&4294967295,C=_+(I<<9&4294967295|I>>>23),I=D+(_^w&(C^_))+E[7]+1735328473&4294967295,D=C+(I<<14&4294967295|I>>>18),I=w+(C^_&(D^C))+E[12]+2368359562&4294967295,w=D+(I<<20&4294967295|I>>>12),I=_+(w^D^C)+E[5]+4294588738&4294967295,_=w+(I<<4&4294967295|I>>>28),I=C+(_^w^D)+E[8]+2272392833&4294967295,C=_+(I<<11&4294967295|I>>>21),I=D+(C^_^w)+E[11]+1839030562&4294967295,D=C+(I<<16&4294967295|I>>>16),I=w+(D^C^_)+E[14]+4259657740&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(w^D^C)+E[1]+2763975236&4294967295,_=w+(I<<4&4294967295|I>>>28),I=C+(_^w^D)+E[4]+1272893353&4294967295,C=_+(I<<11&4294967295|I>>>21),I=D+(C^_^w)+E[7]+4139469664&4294967295,D=C+(I<<16&4294967295|I>>>16),I=w+(D^C^_)+E[10]+3200236656&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(w^D^C)+E[13]+681279174&4294967295,_=w+(I<<4&4294967295|I>>>28),I=C+(_^w^D)+E[0]+3936430074&4294967295,C=_+(I<<11&4294967295|I>>>21),I=D+(C^_^w)+E[3]+3572445317&4294967295,D=C+(I<<16&4294967295|I>>>16),I=w+(D^C^_)+E[6]+76029189&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(w^D^C)+E[9]+3654602809&4294967295,_=w+(I<<4&4294967295|I>>>28),I=C+(_^w^D)+E[12]+3873151461&4294967295,C=_+(I<<11&4294967295|I>>>21),I=D+(C^_^w)+E[15]+530742520&4294967295,D=C+(I<<16&4294967295|I>>>16),I=w+(D^C^_)+E[2]+3299628645&4294967295,w=D+(I<<23&4294967295|I>>>9),I=_+(D^(w|~C))+E[0]+4096336452&4294967295,_=w+(I<<6&4294967295|I>>>26),I=C+(w^(_|~D))+E[7]+1126891415&4294967295,C=_+(I<<10&4294967295|I>>>22),I=D+(_^(C|~w))+E[14]+2878612391&4294967295,D=C+(I<<15&4294967295|I>>>17),I=w+(C^(D|~_))+E[5]+4237533241&4294967295,w=D+(I<<21&4294967295|I>>>11),I=_+(D^(w|~C))+E[12]+1700485571&4294967295,_=w+(I<<6&4294967295|I>>>26),I=C+(w^(_|~D))+E[3]+2399980690&4294967295,C=_+(I<<10&4294967295|I>>>22),I=D+(_^(C|~w))+E[10]+4293915773&4294967295,D=C+(I<<15&4294967295|I>>>17),I=w+(C^(D|~_))+E[1]+2240044497&4294967295,w=D+(I<<21&4294967295|I>>>11),I=_+(D^(w|~C))+E[8]+1873313359&4294967295,_=w+(I<<6&4294967295|I>>>26),I=C+(w^(_|~D))+E[15]+4264355552&4294967295,C=_+(I<<10&4294967295|I>>>22),I=D+(_^(C|~w))+E[6]+2734768916&4294967295,D=C+(I<<15&4294967295|I>>>17),I=w+(C^(D|~_))+E[13]+1309151649&4294967295,w=D+(I<<21&4294967295|I>>>11),I=_+(D^(w|~C))+E[4]+4149444226&4294967295,_=w+(I<<6&4294967295|I>>>26),I=C+(w^(_|~D))+E[11]+3174756917&4294967295,C=_+(I<<10&4294967295|I>>>22),I=D+(_^(C|~w))+E[2]+718787259&4294967295,D=C+(I<<15&4294967295|I>>>17),I=w+(C^(D|~_))+E[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var w=_-this.blockSize,E=this.B,D=this.h,C=0;C<_;){if(D==0)for(;C<=w;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<_;)if(E[D++]=T.charCodeAt(C++),D==this.blockSize){i(this,E),D=0;break}}else for(;C<_;)if(E[D++]=T[C++],D==this.blockSize){i(this,E),D=0;break}}this.h=D,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var w=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=w&255,w/=256;for(this.u(T),T=Array(16),_=w=0;4>_;++_)for(var E=0;32>E;E+=8)T[w++]=this.g[_]>>>E&255;return T};function o(T,_){var w=c;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=_(T)}function s(T,_){this.h=_;for(var w=[],E=!0,D=T.length-1;0<=D;D--){var C=T[D]|0;E&&C==_||(w[D]=C,E=!1)}this.g=w}var c={};function u(T){return-128<=T&&128>T?o(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var _=[],w=1,E=0;T>=w;E++)_[E]=T/w|0,w*=4294967296;return new s(_,0)}function f(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return R(f(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(_,8)),E=p,D=0;D<T.length;D+=8){var C=Math.min(8,T.length-D),I=parseInt(T.substring(D,D+C),_);8>C?(C=l(Math.pow(_,C)),E=E.j(C).add(l(I))):(E=E.j(w),E=E.add(l(I)))}return E}var p=u(0),y=u(1),m=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var T=0,_=1,w=0;w<this.g.length;w++){var E=this.i(w);T+=(0<=E?E:4294967296+E)*_,_*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(N(this))return"-"+R(this).toString(T);for(var _=l(Math.pow(T,6)),w=this,E="";;){var D=_e(w,_).g;w=L(w,D.j(_));var C=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=D,S(w))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function N(T){return T.h==-1}t.l=function(T){return T=L(this,T),N(T)?-1:S(T)?0:1};function R(T){for(var _=T.g.length,w=[],E=0;E<_;E++)w[E]=~T.g[E];return new s(w,~T.h).add(y)}t.abs=function(){return N(this)?R(this):this},t.add=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0,D=0;D<=_;D++){var C=E+(this.i(D)&65535)+(T.i(D)&65535),I=(C>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);E=I>>>16,C&=65535,I&=65535,w[D]=I<<16|C}return new s(w,w[w.length-1]&-2147483648?-1:0)};function L(T,_){return T.add(R(_))}t.j=function(T){if(S(this)||S(T))return p;if(N(this))return N(T)?R(this).j(R(T)):R(R(this).j(T));if(N(T))return R(this.j(R(T)));if(0>this.l(m)&&0>T.l(m))return l(this.m()*T.m());for(var _=this.g.length+T.g.length,w=[],E=0;E<2*_;E++)w[E]=0;for(E=0;E<this.g.length;E++)for(var D=0;D<T.g.length;D++){var C=this.i(E)>>>16,I=this.i(E)&65535,Tn=T.i(D)>>>16,Ko=T.i(D)&65535;w[2*E+2*D]+=I*Ko,q(w,2*E+2*D),w[2*E+2*D+1]+=C*Ko,q(w,2*E+2*D+1),w[2*E+2*D+1]+=I*Tn,q(w,2*E+2*D+1),w[2*E+2*D+2]+=C*Tn,q(w,2*E+2*D+2)}for(E=0;E<_;E++)w[E]=w[2*E+1]<<16|w[2*E];for(E=_;E<2*_;E++)w[E]=0;return new s(w,0)};function q(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function W(T,_){this.g=T,this.h=_}function _e(T,_){if(S(_))throw Error("division by zero");if(S(T))return new W(p,p);if(N(T))return _=_e(R(T),_),new W(R(_.g),R(_.h));if(N(_))return _=_e(T,R(_)),new W(R(_.g),_.h);if(30<T.g.length){if(N(T)||N(_))throw Error("slowDivide_ only works with positive integers.");for(var w=y,E=_;0>=E.l(T);)w=it(w),E=it(E);var D=ye(w,1),C=ye(E,1);for(E=ye(E,2),w=ye(w,2);!S(E);){var I=C.add(E);0>=I.l(T)&&(D=D.add(w),C=I),E=ye(E,1),w=ye(w,1)}return _=L(T,D.j(_)),new W(D,_)}for(D=p;0<=T.l(_);){for(w=Math.max(1,Math.floor(T.m()/_.m())),E=Math.ceil(Math.log(w)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=l(w),I=C.j(_);N(I)||0<I.l(T);)w-=E,C=l(w),I=C.j(_);S(C)&&(C=y),D=D.add(C),T=L(T,I)}return new W(D,T)}t.A=function(T){return _e(this,T).h},t.and=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)&T.i(E);return new s(w,this.h&T.h)},t.or=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)|T.i(E);return new s(w,this.h|T.h)},t.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)^T.i(E);return new s(w,this.h^T.h)};function it(T){for(var _=T.g.length+1,w=[],E=0;E<_;E++)w[E]=T.i(E)<<1|T.i(E-1)>>>31;return new s(w,T.h)}function ye(T,_){var w=_>>5;_%=32;for(var E=T.g.length-w,D=[],C=0;C<E;C++)D[C]=0<_?T.i(C+w)>>>_|T.i(C+w+1)<<32-_:T.i(C+w);return new s(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,am=_C.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Hn=_C.Integer=s}).apply(typeof vC<"u"?vC:typeof self<"u"?self:typeof window<"u"?window:{});var zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qn={};var cm,G2,wo,um,Ia,Wl,lm,dm,hm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof zl=="object"&&zl];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var b=a[g];if(!(b in h))break e;h=h[b]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,b={next:function(){if(!g&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function m(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,b,A){for(var x=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)x[Ie-2]=arguments[Ie];return d.prototype[b].apply(g,x)}}function N(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let b=a.length||0,A=g.length||0;a.length=b+A;for(let x=0;x<A;x++)a[b+x]=g[x]}else a.push(g)}}class L{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(a){return/^[\s\xa0]*$/.test(a)}function W(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function _e(a){return _e[" "](a),a}_e[" "]=function(){};var it=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ye(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function T(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function _(a){let d={};for(let h in a)d[h]=a[h];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(h in g)a[h]=g[h];for(let A=0;A<w.length;A++)h=w[A],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function D(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function I(){var a=Kd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Tn{constructor(){this.h=this.g=null}add(d,h){let g=Ko.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Ko=new L(()=>new MA,a=>a.reset());class MA{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Qo,Yo=!1,Kd=new Tn,Uv=()=>{let a=c.Promise.resolve(void 0);Qo=()=>{a.then(PA)}};var PA=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(h){C(h)}var d=Ko;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Yo=!1};function Jn(){this.s=this.s,this.C=this.C}Jn.prototype.s=!1,Jn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Jn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var kA=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Zo(a,d){if(Ze.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(it){e:{try{_e(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:xA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Zo.aa.h.call(this)}}S(Zo,Ze);var xA={2:"touch",3:"pen",4:"mouse"};Zo.prototype.h=function(){Zo.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Jo="closure_listenable_"+(1e6*Math.random()|0),OA=0;function FA(a,d,h,g,b){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=b,this.key=++OA,this.da=this.fa=!1}function Ha(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function qa(a){this.src=a,this.g={},this.h=0}qa.prototype.add=function(a,d,h,g,b){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var x=Yd(a,d,g,b);return-1<x?(d=a[x],h||(d.fa=!1)):(d=new FA(d,this.src,A,!!g,b),d.fa=h,a.push(d)),d};function Qd(a,d){var h=d.type;if(h in a.g){var g=a.g[h],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Ha(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Yd(a,d,h,g){for(var b=0;b<a.length;++b){var A=a[b];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return b}return-1}var Zd="closure_lm_"+(1e6*Math.random()|0),Jd={};function Bv(a,d,h,g,b){if(g&&g.once)return Hv(a,d,h,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Bv(a,d[A],h,g,b);return null}return h=nh(h),a&&a[Jo]?a.K(d,h,l(g)?!!g.capture:!!g,b):$v(a,d,h,!1,g,b)}function $v(a,d,h,g,b,A){if(!d)throw Error("Invalid event type");var x=l(b)?!!b.capture:!!b,Ie=eh(a);if(Ie||(a[Zd]=Ie=new qa(a)),h=Ie.add(d,h,g,x,A),h.proxy)return h;if(g=LA(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)kA||(b=x),b===void 0&&(b=!1),a.addEventListener(d.toString(),g,b);else if(a.attachEvent)a.attachEvent(zv(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function LA(){function a(h){return d.call(a.src,a.listener,h)}let d=VA;return a}function Hv(a,d,h,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Hv(a,d[A],h,g,b);return null}return h=nh(h),a&&a[Jo]?a.L(d,h,l(g)?!!g.capture:!!g,b):$v(a,d,h,!0,g,b)}function qv(a,d,h,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)qv(a,d[A],h,g,b);else g=l(g)?!!g.capture:!!g,h=nh(h),a&&a[Jo]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=Yd(A,h,g,b),-1<h&&(Ha(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=eh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Yd(d,h,g,b)),(h=-1<a?d[a]:null)&&Xd(h))}function Xd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Jo])Qd(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(zv(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=eh(d))?(Qd(h,a),h.h==0&&(h.src=null,d[Zd]=null)):Ha(a)}}}function zv(a){return a in Jd?Jd[a]:Jd[a]="on"+a}function VA(a,d){if(a.da)a=!0;else{d=new Zo(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Xd(a),a=h.call(g,d)}return a}function eh(a){return a=a[Zd],a instanceof qa?a:null}var th="__closure_events_fn_"+(1e9*Math.random()>>>0);function nh(a){return typeof a=="function"?a:(a[th]||(a[th]=function(d){return a.handleEvent(d)}),a[th])}function Je(){Jn.call(this),this.i=new qa(this),this.M=this,this.F=null}S(Je,Jn),Je.prototype[Jo]=!0,Je.prototype.removeEventListener=function(a,d,h,g){qv(this,a,d,h,g)};function ot(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Ze(d,a);else if(d instanceof Ze)d.target=d.target||a;else{var b=d;d=new Ze(g,a),E(d,b)}if(b=!0,h)for(var A=h.length-1;0<=A;A--){var x=d.g=h[A];b=za(x,g,!0,d)&&b}if(x=d.g=a,b=za(x,g,!0,d)&&b,b=za(x,g,!1,d)&&b,h)for(A=0;A<h.length;A++)x=d.g=h[A],b=za(x,g,!1,d)&&b}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Ha(h[g]);delete a.g[d],a.h--}}this.F=null},Je.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},Je.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function za(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var x=d[A];if(x&&!x.da&&x.capture==h){var Ie=x.listener,qe=x.ha||x.src;x.fa&&Qd(a.i,x),b=Ie.call(qe,g)!==!1&&b}}return b&&!g.defaultPrevented}function Wv(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Gv(a){a.g=Wv(()=>{a.g=null,a.i&&(a.i=!1,Gv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class jA extends Jn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Gv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xo(a){Jn.call(this),this.h=a,this.g={}}S(Xo,Jn);var Kv=[];function Qv(a){ye(a.g,function(d,h){this.g.hasOwnProperty(h)&&Xd(d)},a),a.g={}}Xo.prototype.N=function(){Xo.aa.N.call(this),Qv(this)},Xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rh=c.JSON.stringify,UA=c.JSON.parse,BA=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function ih(){}ih.prototype.h=null;function Yv(a){return a.h||(a.h=a.i())}function Zv(){}var es={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oh(){Ze.call(this,"d")}S(oh,Ze);function sh(){Ze.call(this,"c")}S(sh,Ze);var kr={},Jv=null;function Wa(){return Jv=Jv||new Je}kr.La="serverreachability";function Xv(a){Ze.call(this,kr.La,a)}S(Xv,Ze);function ts(a){let d=Wa();ot(d,new Xv(d))}kr.STAT_EVENT="statevent";function e_(a,d){Ze.call(this,kr.STAT_EVENT,a),this.stat=d}S(e_,Ze);function st(a){let d=Wa();ot(d,new e_(d,a))}kr.Ma="timingevent";function t_(a,d){Ze.call(this,kr.Ma,a),this.size=d}S(t_,Ze);function ns(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function rs(){this.g=!0}rs.prototype.xa=function(){this.g=!1};function $A(a,d,h,g,b,A){a.info(function(){if(a.g)if(A)for(var x="",Ie=A.split("&"),qe=0;qe<Ie.length;qe++){var le=Ie[qe].split("=");if(1<le.length){var Xe=le[0];le=le[1];var et=Xe.split("_");x=2<=et.length&&et[1]=="type"?x+(Xe+"="+le+"&"):x+(Xe+"=redacted&")}}else x=null;else x=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+h+`
`+x})}function HA(a,d,h,g,b,A,x){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+h+`
`+A+" "+x})}function Ci(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+zA(a,h)+(g?" "+g:"")})}function qA(a,d){a.info(function(){return"TIMEOUT: "+d})}rs.prototype.info=function(){};function zA(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var x=1;x<b.length;x++)b[x]=""}}}}return rh(h)}catch{return d}}var Ga={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},n_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ah;function Ka(){}S(Ka,ih),Ka.prototype.g=function(){return new XMLHttpRequest},Ka.prototype.i=function(){return{}},ah=new Ka;function Xn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Xo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new r_}function r_(){this.i=null,this.g="",this.h=!1}var i_={},ch={};function uh(a,d,h){a.L=1,a.v=Ja(Dn(d)),a.m=h,a.P=!0,o_(a,null)}function o_(a,d){a.F=Date.now(),Qa(a),a.A=Dn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),__(h.i,"t",g),a.C=0,h=a.j.J,a.h=new r_,a.g=L_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new jA(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(Kv[0]=b.toString()),b=Kv);for(var A=0;A<b.length;A++){var x=Bv(h,b[A],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ts(),$A(a.i,a.u,a.A,a.l,a.R,a.m)}Xn.prototype.ca=function(a){a=a.target;let d=this.M;d&&bn(a)==3?d.j():this.Y(a)},Xn.prototype.Y=function(a){try{if(a==this.g)e:{let et=bn(this.g);var d=this.g.Ba();let Ri=this.g.Z();if(!(3>et)&&(et!=3||this.g&&(this.h.h||this.g.oa()||C_(this.g)))){this.J||et!=4||d==7||(d==8||0>=Ri?ts(3):ts(2)),lh(this);var h=this.g.Z();this.X=h;t:if(s_(this)){var g=C_(this.g);a="";var b=g.length,A=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xr(this),is(this);var x="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=h==200,HA(this.i,this.u,this.A,this.l,this.R,et,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,qe=this.g;if((Ie=qe.g?qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ie)){var le=Ie;break t}}le=null}if(h=le)Ci(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dh(this,h);else{this.o=!1,this.s=3,st(12),xr(this),is(this);break e}}if(this.P){h=!0;let Ht;for(;!this.J&&this.C<x.length;)if(Ht=WA(this,x),Ht==ch){et==4&&(this.s=4,st(14),h=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==i_){this.s=4,st(15),Ci(this.i,this.l,x,"[Invalid Chunk]"),h=!1;break}else Ci(this.i,this.l,Ht,null),dh(this,Ht);if(s_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||x.length!=0||this.h.h||(this.s=1,st(16),h=!1),this.o=this.o&&h,!h)Ci(this.i,this.l,x,"[Invalid Chunked Response]"),xr(this),is(this);else if(0<x.length&&!this.W){this.W=!0;var Xe=this.j;Xe.g==this&&Xe.ba&&!Xe.M&&(Xe.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),yh(Xe),Xe.M=!0,st(11))}}else Ci(this.i,this.l,x,null),dh(this,x);et==4&&xr(this),this.o&&!this.J&&(et==4?k_(this.j,this):(this.o=!1,Qa(this)))}else uR(this.g),h==400&&0<x.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),xr(this),is(this)}}}catch{}finally{}};function s_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function WA(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?ch:(h=Number(d.substring(h,g)),isNaN(h)?i_:(g+=1,g+h>d.length?ch:(d=d.slice(g,g+h),a.C=g+h,d)))}Xn.prototype.cancel=function(){this.J=!0,xr(this)};function Qa(a){a.S=Date.now()+a.I,a_(a,a.I)}function a_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ns(y(a.ba,a),d)}function lh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Xn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(qA(this.i,this.A),this.L!=2&&(ts(),st(17)),xr(this),this.s=2,is(this)):a_(this,this.S-a)};function is(a){a.j.G==0||a.J||k_(a.j,a)}function xr(a){lh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Qv(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function dh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||hh(h.h,a))){if(!a.K&&hh(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)rc(h),tc(h);else break e;mh(h),st(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=ns(y(h.Za,h),6e3));if(1>=l_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Fr(h,11)}else if((a.K||h.g==a)&&rc(h),!q(d))for(b=h.Da.g.parse(d),d=0;d<b.length;d++){let le=b[d];if(h.T=le[0],le=le[1],h.G==2)if(le[0]=="c"){h.K=le[1],h.ia=le[2];let Xe=le[3];Xe!=null&&(h.la=Xe,h.j.info("VER="+h.la));let et=le[4];et!=null&&(h.Aa=et,h.j.info("SVER="+h.Aa));let Ri=le[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(g=1.5*Ri,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Ht=a.g;if(Ht){let oc=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oc){var A=g.h;A.g||oc.indexOf("spdy")==-1&&oc.indexOf("quic")==-1&&oc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(fh(A,A.h),A.h=null))}if(g.D){let vh=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;vh&&(g.ya=vh,Te(g.I,g.D,vh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var x=a;if(g.qa=F_(g,g.J?g.ia:null,g.W),x.K){d_(g.h,x);var Ie=x,qe=g.L;qe&&(Ie.I=qe),Ie.B&&(lh(Ie),Qa(Ie)),g.g=x}else M_(g);0<h.i.length&&nc(h)}else le[0]!="stop"&&le[0]!="close"||Fr(h,7);else h.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Fr(h,7):gh(h):le[0]!="noop"&&h.l&&h.l.ta(le),h.v=0)}}ts(4)}catch{}}var GA=class{constructor(a,d){this.g=a,this.map=d}};function c_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function u_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function l_(a){return a.h?1:a.g?a.g.size:0}function hh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function fh(a,d){a.g?a.g.add(d):a.h=d}function d_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}c_.prototype.cancel=function(){if(this.i=h_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function h_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return N(a.i)}function KA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function QA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function f_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=QA(a),g=KA(a),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],h&&h[A],a)}var p_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YA(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),b=null;if(0<=g){var A=a[h].substring(0,g);b=a[h].substring(g+1)}else A=a[h];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Or(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Or){this.h=a.h,Ya(this,a.j),this.o=a.o,this.g=a.g,Za(this,a.s),this.l=a.l;var d=a.i,h=new as;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),g_(this,h),this.m=a.m}else a&&(d=String(a).match(p_))?(this.h=!1,Ya(this,d[1]||"",!0),this.o=os(d[2]||""),this.g=os(d[3]||"",!0),Za(this,d[4]),this.l=os(d[5]||"",!0),g_(this,d[6]||"",!0),this.m=os(d[7]||"")):(this.h=!1,this.i=new as(null,this.h))}Or.prototype.toString=function(){var a=[],d=this.j;d&&a.push(ss(d,m_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ss(d,m_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(ss(h,h.charAt(0)=="/"?XA:JA,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",ss(h,tR)),a.join("")};function Dn(a){return new Or(a)}function Ya(a,d,h){a.j=h?os(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Za(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function g_(a,d,h){d instanceof as?(a.i=d,nR(a.i,a.h)):(h||(d=ss(d,eR)),a.i=new as(d,a.h))}function Te(a,d,h){a.i.set(d,h)}function Ja(a){return Te(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function os(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ss(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,ZA),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ZA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var m_=/[#\/\?@]/g,JA=/[#\?:]/g,XA=/[#\?]/g,eR=/[#\?@]/g,tR=/#/g;function as(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function er(a){a.g||(a.g=new Map,a.h=0,a.i&&YA(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=as.prototype,t.add=function(a,d){er(this),this.i=null,a=Si(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function y_(a,d){er(a),d=Si(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function v_(a,d){return er(a),d=Si(a,d),a.g.has(d)}t.forEach=function(a,d){er(this),this.g.forEach(function(h,g){h.forEach(function(b){a.call(d,b,g,this)},this)},this)},t.na=function(){er(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let b=a[g];for(let A=0;A<b.length;A++)h.push(d[g])}return h},t.V=function(a){er(this);let d=[];if(typeof a=="string")v_(this,a)&&(d=d.concat(this.g.get(Si(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return er(this),this.i=null,a=Si(this,a),v_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function __(a,d,h){y_(a,d),0<h.length&&(a.i=null,a.g.set(Si(a,d),N(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var b=A;x[g]!==""&&(b+="="+encodeURIComponent(String(x[g]))),a.push(b)}}return this.i=a.join("&")};function Si(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function nR(a,d){d&&!a.j&&(er(a),a.i=null,a.g.forEach(function(h,g){var b=g.toLowerCase();g!=b&&(y_(this,g),__(this,b,h))},a)),a.j=d}function rR(a,d){let h=new rs;if(c.Image){let g=new Image;g.onload=m(tr,h,"TestLoadImage: loaded",!0,d,g),g.onerror=m(tr,h,"TestLoadImage: error",!1,d,g),g.onabort=m(tr,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=m(tr,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function iR(a,d){let h=new rs,g=new AbortController,b=setTimeout(()=>{g.abort(),tr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?tr(h,"TestPingServer: ok",!0,d):tr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),tr(h,"TestPingServer: error",!1,d)})}function tr(a,d,h,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(h)}catch{}}function oR(){this.g=new BA}function sR(a,d,h){let g=h||"";try{f_(a,function(b,A){let x=b;l(b)&&(x=rh(b)),d.push(g+A+"="+encodeURIComponent(x))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function cs(a){this.l=a.Ub||null,this.j=a.eb||!1}S(cs,ih),cs.prototype.g=function(){return new Xa(this.l,this.j)},cs.prototype.i=function(a){return function(){return a}}({});function Xa(a,d){Je.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Xa,Je),t=Xa.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ls(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ls(this)),this.g&&(this.readyState=3,ls(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;I_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function I_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?us(this):ls(this),this.readyState==3&&I_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,us(this))},t.Qa=function(a){this.g&&(this.response=a,us(this))},t.ga=function(){this.g&&us(this)};function us(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ls(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function ls(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function w_(a){let d="";return ye(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function ph(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=w_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Te(a,d,h))}function be(a){Je.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(be,Je);var aR=/^https?$/i,cR=["POST","PUT"];t=be.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ah.g(),this.v=this.o?Yv(this.o):Yv(ah),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){E_(this,A);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)h.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(cR,d,void 0))||g||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,x]of h)this.g.setRequestHeader(A,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{b_(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){E_(this,A)}};function E_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,T_(a),ec(a)}function T_(a){a.A||(a.A=!0,ot(a,"complete"),ot(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ot(this,"complete"),ot(this,"abort"),ec(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ec(this,!0)),be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?D_(this):this.bb())},t.bb=function(){D_(this)};function D_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||bn(a)!=4||a.Z()!=2)){if(a.u&&bn(a)==4)Wv(a.Ea,0,a);else if(ot(a,"readystatechange"),bn(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=x===0){var b=String(a.D).match(p_)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),g=!aR.test(b?b.toLowerCase():"")}h=g}if(h)ot(a,"complete"),ot(a,"success");else{a.m=6;try{var A=2<bn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",T_(a)}}finally{ec(a)}}}}function ec(a,d){if(a.g){b_(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ot(a,"ready");try{h.onreadystatechange=g}catch{}}}function b_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function bn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),UA(d)}};function C_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function uR(a){let d={};a=(a.g&&2<=bn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(q(a[g]))continue;var h=D(a[g]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[b]||[];d[b]=A,A.push(h)}T(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function S_(a){this.Aa=0,this.i=[],this.j=new rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,a),this.cb=ds("retryDelaySeedMs",1e4,a),this.Wa=ds("forwardChannelMaxRetries",2,a),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new c_(a&&a.concurrentRequestLimit),this.Da=new oR,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=S_.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){st(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=F_(this,null,this.W),nc(this)};function gh(a){if(A_(a),a.G==3){var d=a.U++,h=Dn(a.I);if(Te(h,"SID",a.K),Te(h,"RID",d),Te(h,"TYPE","terminate"),hs(a,h),d=new Xn(a,a.j,d),d.L=2,d.v=Ja(Dn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=L_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Qa(d)}O_(a)}function tc(a){a.g&&(yh(a),a.g.cancel(),a.g=null)}function A_(a){tc(a),a.u&&(c.clearTimeout(a.u),a.u=null),rc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function nc(a){if(!u_(a.h)&&!a.s){a.s=!0;var d=a.Ga;Qo||Uv(),Yo||(Qo(),Yo=!0),Kd.add(d,a),a.B=0}}function lR(a,d){return l_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ns(y(a.Ga,a,d),x_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Xn(this,this.j,a),A=this.o;if(this.S&&(A?(A=_(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=N_(this,b,d),h=Dn(this.I),Te(h,"RID",a),Te(h,"CVER",22),this.D&&Te(h,"X-HTTP-Session-Id",this.D),hs(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(w_(A)))+"&"+d:this.m&&ph(h,this.m,A)),fh(this.h,b),this.Ua&&Te(h,"TYPE","init"),this.P?(Te(h,"$req",d),Te(h,"SID","null"),b.T=!0,uh(b,h,null)):uh(b,h,d),this.G=2}}else this.G==3&&(a?R_(this,a):this.i.length==0||u_(this.h)||R_(this))};function R_(a,d){var h;d?h=d.l:h=a.U++;let g=Dn(a.I);Te(g,"SID",a.K),Te(g,"RID",h),Te(g,"AID",a.T),hs(a,g),a.m&&a.o&&ph(g,a.m,a.o),h=new Xn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=N_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),fh(a.h,h),uh(h,g,d)}function hs(a,d){a.H&&ye(a.H,function(h,g){Te(d,g,h)}),a.l&&f_({},function(h,g){Te(d,g,h)})}function N_(a,d,h){h=Math.min(a.i.length,h);var g=a.l?y(a.l.Na,a.l,a):null;e:{var b=a.i;let A=-1;for(;;){let x=["count="+h];A==-1?0<h?(A=b[0].g,x.push("ofs="+A)):A=0:x.push("ofs="+A);let Ie=!0;for(let qe=0;qe<h;qe++){let le=b[qe].g,Xe=b[qe].map;if(le-=A,0>le)A=Math.max(0,b[qe].g-100),Ie=!1;else try{sR(Xe,x,"req"+le+"_")}catch{g&&g(Xe)}}if(Ie){g=x.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function M_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Qo||Uv(),Yo||(Qo(),Yo=!0),Kd.add(d,a),a.v=0}}function mh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ns(y(a.Fa,a),x_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,P_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ns(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),tc(this),P_(this))};function yh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function P_(a){a.g=new Xn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Dn(a.qa);Te(d,"RID","rpc"),Te(d,"SID",a.K),Te(d,"AID",a.T),Te(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Te(d,"TO",a.ja),Te(d,"TYPE","xmlhttp"),hs(a,d),a.m&&a.o&&ph(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Ja(Dn(d)),h.m=null,h.P=!0,o_(h,a)}t.Za=function(){this.C!=null&&(this.C=null,tc(this),mh(this),st(19))};function rc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function k_(a,d){var h=null;if(a.g==d){rc(a),yh(a),a.g=null;var g=2}else if(hh(a.h,d))h=d.D,d_(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;g=Wa(),ot(g,new t_(g,h)),nc(a)}else M_(a);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&lR(a,d)||g==2&&mh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),b){case 1:Fr(a,5);break;case 4:Fr(a,10);break;case 3:Fr(a,6);break;default:Fr(a,2)}}}function x_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Fr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),g=a.Xa;let b=!g;g=new Or(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ya(g,"https"),Ja(g),b?rR(g.toString(),h):iR(g.toString(),h)}else st(2);a.G=0,a.l&&a.l.sa(d),O_(a),A_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function O_(a){if(a.G=0,a.ka=[],a.l){let d=h_(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function F_(a,d,h){var g=h instanceof Or?Dn(h):new Or(h);if(g.g!="")d&&(g.g=d+"."+g.g),Za(g,g.s);else{var b=c.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new Or(null);g&&Ya(A,g),d&&(A.g=d),b&&Za(A,b),h&&(A.l=h),g=A}return h=a.D,d=a.ya,h&&d&&Te(g,h,d),Te(g,"VER",a.la),hs(a,g),g}function L_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new be(new cs({eb:h})):new be(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function V_(){}t=V_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ic(){}ic.prototype.g=function(a,d){return new It(a,d)};function It(a,d){Je.call(this),this.g=new S_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!q(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ai(this)}S(It,Je),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){gh(this.g)},It.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=rh(a),a=h);d.i.push(new GA(d.Ya++,a)),d.G==3&&nc(d)},It.prototype.N=function(){this.g.l=null,delete this.j,gh(this.g),delete this.g,It.aa.N.call(this)};function j_(a){oh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(j_,oh);function U_(){sh.call(this),this.status=1}S(U_,sh);function Ai(a){this.g=a}S(Ai,V_),Ai.prototype.ua=function(){ot(this.g,"a")},Ai.prototype.ta=function(a){ot(this.g,new j_(a))},Ai.prototype.sa=function(a){ot(this.g,new U_)},Ai.prototype.ra=function(){ot(this.g,"b")},ic.prototype.createWebChannel=ic.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,hm=qn.createWebChannelTransport=function(){return new ic},dm=qn.getStatEventTarget=function(){return Wa()},lm=qn.Event=kr,Wl=qn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ga.NO_ERROR=0,Ga.TIMEOUT=8,Ga.HTTP_ERROR=6,Ia=qn.ErrorCode=Ga,n_.COMPLETE="complete",um=qn.EventType=n_,Zv.EventType=es,es.OPEN="a",es.CLOSE="b",es.ERROR="c",es.MESSAGE="d",Je.prototype.listen=Je.prototype.K,wo=qn.WebChannel=Zv,G2=qn.FetchXmlHttpFactory=cs,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,cm=qn.XhrIo=be}).apply(typeof zl<"u"?zl:typeof self<"u"?self:typeof window<"u"?window:{});var IC="@firebase/firestore",wC="4.8.0";var $e=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");var qo="11.10.0";var pi=new Vt("@firebase/firestore");function Eo(){return pi.logLevel}function O(t,...e){if(pi.logLevel<=ne.DEBUG){let n=e.map(Jy);pi.debug(`Firestore (${qo}): ${t}`,...n)}}function Wn(t,...e){if(pi.logLevel<=ne.ERROR){let n=e.map(Jy);pi.error(`Firestore (${qo}): ${t}`,...n)}}function Rr(t,...e){if(pi.logLevel<=ne.WARN){let n=e.map(Jy);pi.warn(`Firestore (${qo}): ${t}`,...n)}}function Jy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function $(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,lS(t,r,n)}function lS(t,e,n){let r=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wn(r),new Error(r)}function me(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||lS(e,i,r)}function G(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Ke{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var zn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Xl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ym=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($e.UNAUTHENTICATED))}shutdown(){}},vm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},_m=class{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new zn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string",31837,{l:r}),new Xl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string",2055,{h:e}),new $e(e)}},Im=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},wm=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Im(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ed=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Em=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ut(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){me(this.o===void 0,3512);let r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ed(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ed(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function K2(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function dS(){return new TextEncoder}var Ca=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=K2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function te(t,e){return t<e?-1:t>e?1:0}function Tm(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return te(r,i);{let o=dS(),s=Q2(o.encode(EC(t,n)),o.encode(EC(e,n)));return s!==0?s:te(r,i)}}n+=r>65535?2:1}return te(t.length,e.length)}function EC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Q2(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return te(t[n],e[n]);return te(t.length,e.length)}function Mo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var TC="__name__",td=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&$(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&$(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return te(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Tm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hn.fromString(e.substring(4,e.length-2))}},Ne=class t extends td{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Y2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,St=class t extends td{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Y2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TC}static keyField(){return new t([TC])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ne.fromString(e))}static fromName(e){return new t(Ne.fromString(e).popFirst(5))}static empty(){return new t(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ne(e.slice()))}};function Z2(t,e,n){if(!n)throw new V(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J2(t,e,n,r){if(e===!0&&r===!0)throw new V(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DC(t){if(!H.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$(12329,{type:typeof t})}function So(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Xy(t);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ke(t,e){let n={typeString:t};return e&&(n.value=e),n}function Va(t,e){if(!hS(t))throw new V(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new V(M.INVALID_ARGUMENT,n);return!0}var bC=-62135596800,CC=1e6,xe=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*CC);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bC)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CC}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Va(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-bC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:ke("string",xe._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};var Y=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new xe(0,0))}static max(){return new t(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Sa=-1,Dm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Dm.UNKNOWN_ID=-1;function X2(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new xe(n+1,0):new xe(n,r));return new gi(i,H.empty(),e)}function ej(t){return new gi(t.readTime,t.key,Sa)}var gi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Y.min(),H.empty(),Sa)}static max(){return new t(Y.max(),H.empty(),Sa)}};function tj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:te(t.largestBatchId,e.largestBatchId))}var nj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function zo(t){return v(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==nj)throw t;O("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function rj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(t){return t.name==="IndexedDbTransactionError"}var ev=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),tv=-1;function Pd(t){return t==null}function Aa(t){return t===0&&1/t==-1/0}function ij(t){return typeof t=="number"&&Number.isInteger(t)&&!Aa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var fS="";function oj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=SC(e)),e=sj(t.get(n),e);return SC(e)}function sj(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case fS:n+="";break;default:n+=o}}return n}function SC(t){return t+fS+""}var aj="remoteDocuments",pS="owner";var gS="mutationQueues";var mS="mutations";var yS="documentMutations",cj="remoteDocumentsV14";var vS="remoteDocumentGlobal";var _S="targets";var IS="targetDocuments";var wS="targetGlobal",ES="collectionParents";var TS="clientMetadata";var DS="bundles";var bS="namedQueries";var uj="indexConfiguration";var lj="indexState";var dj="indexEntries";var CS="documentOverlays";var hj="globals";var fj=[gS,mS,yS,aj,_S,pS,wS,IS,TS,vS,ES,DS,bS],Z7=[...fj,CS],pj=[gS,mS,yS,cj,_S,pS,wS,IS,TS,vS,ES,DS,bS,CS],gj=pj,mj=[...gj,uj,lj,dj];var J7=[...mj,hj];function AC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ii(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Se=class t{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Co(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Co(this.root,e,this.comparator,!1)}getReverseIterator(){return new Co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Co(this.root,e,this.comparator,!0)}},Co=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},vn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw $(27949);return e+(this.isRed()?0:1)}};vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw $(57766)}get value(){throw $(16141)}get color(){throw $(16727)}get left(){throw $(29726)}get right(){throw $(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var He=class t{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nd(this.data.getIterator())}getIteratorFrom(e){return new nd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},nd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var yn=class t{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new t([])}unionWith(e){let n=new He(St.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var rd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var rt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};rt.EMPTY_BYTE_STRING=new rt("");var yj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gn(t){if(me(!!t,39018),typeof t=="string"){let e=0,n=yj.exec(t);if(me(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kn(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}var AS="server_timestamp",RS="__type__",NS="__previous_value__",MS="__local_write_time__";function nv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[RS])===null||n===void 0?void 0:n.stringValue)===AS}function kd(t){let e=t.mapValue.fields[NS];return nv(e)?kd(e):e}function Ra(t){let e=Gn(t.mapValue.fields[MS].timestampValue);return new xe(e.seconds,e.nanos)}var Cm=class{constructor(e,n,r,i,o,s,c,u,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},id="(default)",od=class t{constructor(e,n){this.projectId=e,this.database=n||id}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===id}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var rv="__type__",PS="__max__",Gl={mapValue:{fields:{__type__:{stringValue:PS}}}},iv="__vector__",Po="value";function Nr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nv(t)?4:xS(t)?9007199254740991:kS(t)?10:11:$(28295,{value:t})}function wn(t,e){if(t===e)return!0;let n=Nr(t);if(n!==Nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ra(t).isEqual(Ra(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Gn(i.timestampValue),c=Gn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Kn(i.bytesValue).isEqual(Kn(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return De(i.geoPointValue.latitude)===De(o.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return De(i.integerValue)===De(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=De(i.doubleValue),c=De(o.doubleValue);return s===c?Aa(s)===Aa(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return Mo(t.arrayValue.values||[],e.arrayValue.values||[],wn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(AC(s)!==AC(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!wn(s[u],c[u])))return!1;return!0}(t,e);default:return $(52216,{left:t})}}function Na(t,e){return(t.values||[]).find(n=>wn(n,e))!==void 0}function ko(t,e){if(t===e)return 0;let n=Nr(t),r=Nr(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=De(o.integerValue||o.doubleValue),u=De(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return RC(t.timestampValue,e.timestampValue);case 4:return RC(Ra(t),Ra(e));case 5:return Tm(t.stringValue,e.stringValue);case 6:return function(o,s){let c=Kn(o),u=Kn(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=te(c[l],u[l]);if(f!==0)return f}return te(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=te(De(o.latitude),De(s.latitude));return c!==0?c:te(De(o.longitude),De(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return NC(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let p=o.fields||{},y=s.fields||{},m=(c=p[Po])===null||c===void 0?void 0:c.arrayValue,S=(u=y[Po])===null||u===void 0?void 0:u.arrayValue,N=te(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:NC(m,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Gl.mapValue&&s===Gl.mapValue)return 0;if(o===Gl.mapValue)return 1;if(s===Gl.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=Tm(u[p],f[p]);if(y!==0)return y;let m=ko(c[u[p]],l[f[p]]);if(m!==0)return m}return te(u.length,f.length)}(t.mapValue,e.mapValue);default:throw $(23264,{le:n})}}function RC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return te(t,e);let n=Gn(t),r=Gn(e),i=te(n.seconds,r.seconds);return i!==0?i:te(n.nanos,r.nanos)}function NC(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ko(n[i],r[i]);if(o)return o}return te(n.length,r.length)}function xo(t){return Sm(t)}function Sm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Gn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Kn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Sm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Sm(n.fields[s])}`;return i+"}"}(t.mapValue):$(61005,{value:t})}function Yl(t){switch(Nr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=kd(t);return e?16+Yl(e):16;case 5:return 2*t.stringValue.length;case 6:return Kn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Yl(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ii(r.fields,(o,s)=>{i+=o.length+Yl(s)}),i}(t.mapValue);default:throw $(13486,{value:t})}}function Am(t){return!!t&&"integerValue"in t}function ov(t){return!!t&&"arrayValue"in t}function MC(t){return!!t&&"nullValue"in t}function PC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zl(t){return!!t&&"mapValue"in t}function kS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rv])===null||n===void 0?void 0:n.stringValue)===iv}function Ea(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ii(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ea(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ea(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===PS}var eK={mapValue:{fields:{[rv]:{stringValue:iv},[Po]:{arrayValue:{}}}}};var Xt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ea(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=Ea(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Zl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ii(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Ea(this.value))}};function OS(t){let e=[];return Ii(t.fields,(n,r)=>{let i=new St([n]);if(Zl(r)){let o=OS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new yn(e)}var en=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Y.min(),Y.min(),Y.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Y.min(),Y.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Y.min(),Y.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Oo=class{constructor(e,n){this.position=e,this.inclusive=n}};function kC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=ko(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function xC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wn(t.position[n],e.position[n]))return!1;return!0}var Fo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function vj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var sd=class{},Le=class t extends sd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Nm(e,n,r):n==="array-contains"?new km(e,r):n==="in"?new xm(e,r):n==="not-in"?new Om(e,r):n==="array-contains-any"?new Fm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mm(e,r):new Pm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ko(n,this.value)):n!==null&&Nr(this.value)===Nr(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},En=class t extends sd{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return FS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function FS(t){return t.op==="and"}function LS(t){return _j(t)&&FS(t)}function _j(t){for(let e of t.filters)if(e instanceof En)return!1;return!0}function Rm(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+xo(t.value);if(LS(t))return t.filters.map(e=>Rm(e)).join(",");{let e=t.filters.map(n=>Rm(n)).join(",");return`${t.op}(${e})`}}function VS(t,e){return t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&wn(r.value,i.value)}(t,e):t instanceof En?function(r,i){return i instanceof En&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&VS(s,i.filters[c]),!0):!1}(t,e):void $(19439)}function jS(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${xo(n.value)}`}(t):t instanceof En?function(n){return n.op.toString()+" {"+n.getFilters().map(jS).join(" ,")+"}"}(t):"Filter"}var Nm=class extends Le{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},Mm=class extends Le{constructor(e,n){super(e,"in",n),this.keys=US("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Pm=class extends Le{constructor(e,n){super(e,"not-in",n),this.keys=US("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function US(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var km=class extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ov(n)&&Na(n.arrayValue,this.value)}},xm=class extends Le{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Na(this.value.arrayValue,n)}},Om=class extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(Na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Na(this.value.arrayValue,n)}},Fm=class extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ov(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Na(this.value.arrayValue,r))}};var Lm=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function OC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Lm(t,e,n,r,i,o,s)}function sv(t){let e=G(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xo(r)).join(",")),e.Pe=n}return e.Pe}function av(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xC(t.startAt,e.startAt)&&xC(t.endAt,e.endAt)}function Vm(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Lo=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Ij(t,e,n,r,i,o,s,c){return new Lo(t,e,n,r,i,o,s,c)}function cv(t){return new Lo(t)}function FC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wj(t){return t.collectionGroup!==null}function Ta(t){let e=G(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new He(St.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Fo(o,r))}),n.has(St.keyField().canonicalString())||e.Te.push(new Fo(St.keyField(),r))}return e.Te}function _n(t){let e=G(t);return e.Ie||(e.Ie=Ej(e,Ta(t))),e.Ie}function Ej(t,e){if(t.limitType==="F")return OC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Fo(i.field,o)});let n=t.endAt?new Oo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Oo(t.startAt.position,t.startAt.inclusive):null;return OC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jm(t,e,n){return new Lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return av(_n(t),_n(e))&&t.limitType===e.limitType}function BS(t){return`${sv(_n(t))}|lt:${t.limitType}`}function To(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>jS(i)).join(", ")}]`),Pd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xo(i)).join(",")),`Target(${r})`}(_n(t))}; limitType=${t.limitType})`}function Od(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Ta(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=kC(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,Ta(r),i)||r.endAt&&!function(s,c,u){let l=kC(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,Ta(r),i))}(t,e)}function Tj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $S(t){return(e,n)=>{let r=!1;for(let i of Ta(t)){let o=Dj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Dj(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?ko(u,l):$(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $(19790,{direction:t.dir})}}var Qn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ii(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return SS(this.inner)}size(){return this.innerSize}};var bj=new Se(H.comparator);function Yn(){return bj}var HS=new Se(H.comparator);function wa(...t){let e=HS;for(let n of t)e=e.insert(n.key,n);return e}function qS(t){let e=HS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ui(){return Da()}function zS(){return Da()}function Da(){return new Qn(t=>t.toString(),(t,e)=>t.isEqual(e))}var Cj=new Se(H.comparator),Sj=new He(H.comparator);function ie(...t){let e=Sj;for(let n of t)e=e.add(n);return e}var Aj=new He(te);function Rj(){return Aj}function uv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Aa(e)?"-0":e}}function WS(t){return{integerValue:""+t}}function Nj(t,e){return ij(e)?WS(e):uv(t,e)}var Vo=class{constructor(){this._=void 0}};function Mj(t,e,n){return t instanceof jo?function(i,o){let s={fields:{[RS]:{stringValue:AS},[MS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&nv(o)&&(o=kd(o)),o&&(s.fields[NS]=o),{mapValue:s}}(n,e):t instanceof mi?KS(t,e):t instanceof yi?QS(t,e):function(i,o){let s=GS(i,o),c=LC(s)+LC(i.Ee);return Am(s)&&Am(i.Ee)?WS(c):uv(i.serializer,c)}(t,e)}function Pj(t,e,n){return t instanceof mi?KS(t,e):t instanceof yi?QS(t,e):n}function GS(t,e){return t instanceof Uo?function(r){return Am(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var jo=class extends Vo{},mi=class extends Vo{constructor(e){super(),this.elements=e}};function KS(t,e){let n=YS(e);for(let r of t.elements)n.some(i=>wn(i,r))||n.push(r);return{arrayValue:{values:n}}}var yi=class extends Vo{constructor(e){super(),this.elements=e}};function QS(t,e){let n=YS(e);for(let r of t.elements)n=n.filter(i=>!wn(i,r));return{arrayValue:{values:n}}}var Uo=class extends Vo{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function LC(t){return De(t.integerValue||t.doubleValue)}function YS(t){return ov(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof mi&&i instanceof mi||r instanceof yi&&i instanceof yi?Mo(r.elements,i.elements,wn):r instanceof Uo&&i instanceof Uo?wn(r.Ee,i.Ee):r instanceof jo&&i instanceof jo}(t.transform,e.transform)}var Um=class{constructor(e,n){this.version=e,this.transformResults=n}},hi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Jl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Bo=class{};function ZS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ad(t.key,hi.none()):new vi(t.key,t.data,hi.none());{let n=t.data,r=Xt.empty(),i=new He(St.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Zn(t.key,r,new yn(i.toArray()),hi.none())}}function xj(t,e,n){t instanceof vi?function(i,o,s){let c=i.value.clone(),u=jC(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Zn?function(i,o,s){if(!Jl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=jC(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(JS(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ba(t,e,n,r){return t instanceof vi?function(o,s,c,u){if(!Jl(o.precondition,s))return c;let l=o.value.clone(),f=UC(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zn?function(o,s,c,u){if(!Jl(o.precondition,s))return c;let l=UC(o.fieldTransforms,u,s),f=s.data;return f.setAll(JS(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return Jl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function Oj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=GS(r.transform,i||null);o!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,o))}return n||null}function VC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Mo(r,i,(o,s)=>kj(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var vi=class extends Bo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Zn=class extends Bo{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function JS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function jC(t,e,n){let r=new Map;me(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,Pj(s,c,n[i]))}return r}function UC(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Mj(o,s,e))}return r}var ad=class extends Bo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Bm=class extends Bo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var $m=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&xj(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ba(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ba(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=zS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=ZS(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,(n,r)=>VC(n,r))&&Mo(this.baseMutations,e.baseMutations,(n,r)=>VC(n,r))}},Hm=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){me(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return Cj}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var qm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var zm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Me,ce;function Fj(t){switch(t){case M.OK:return $(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return $(15467,{code:t})}}function XS(t){if(t===void 0)return Wn("GRPC error has no .code"),M.UNKNOWN;switch(t){case Me.OK:return M.OK;case Me.CANCELLED:return M.CANCELLED;case Me.UNKNOWN:return M.UNKNOWN;case Me.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Me.INTERNAL:return M.INTERNAL;case Me.UNAVAILABLE:return M.UNAVAILABLE;case Me.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Me.NOT_FOUND:return M.NOT_FOUND;case Me.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Me.ABORTED:return M.ABORTED;case Me.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Me.DATA_LOSS:return M.DATA_LOSS;default:return $(39323,{code:t})}}(ce=Me||(Me={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";var BC=null;var Lj=new Hn([4294967295,4294967295],0);function $C(t){let e=dS().encode(t),n=new am;return n.update(e),new Uint8Array(n.digest())}function HC(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hn([n,r],0),new Hn([i,o],0)]}var Wm=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new li(`Invalid padding: ${n}`);if(r<0)throw new li(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new li(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new li(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Hn.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Hn.fromNumber(r)));return i.compare(Lj)===1&&(i=new Hn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=$C(e),[r,i]=HC(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let n=$C(e),[r,i]=HC(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},li=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var cd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ma.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Y.min(),i,new Se(te),Yn(),ie())}},Ma=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ie(),ie(),ie())}};var Ao=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},ud=class{constructor(e,n){this.targetId=e,this.De=n}},ld=class{constructor(e,n,r=rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},dd=class{constructor(){this.ve=0,this.Ce=qC(),this.Fe=rt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ie(),n=ie(),r=ie();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$(38017,{changeType:o})}}),new Ma(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=qC()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Gm=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Yn(),this.je=Kl(),this.Je=Kl(),this.He=new Se(te)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:$(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(Vm(o))if(r===0){let s=new H(o.path);this.Xe(n,s,en.newNoDocument(s,Y.min()))}else me(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}BC?.ct(function(f,p,y,m,S){var N,R,L,q,W,_e;let it={localCacheCount:f,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},ye=p.unchangedNames;return ye&&(it.bloomFilter={applied:S===0,hashCount:(N=ye?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(q=(L=(R=ye?.bits)===null||R===void 0?void 0:R.bitmap)===null||L===void 0?void 0:L.length)!==null&&q!==void 0?q:0,padding:(_e=(W=ye?.bits)===null||W===void 0?void 0:W.padding)!==null&&_e!==void 0?_e:0,mightContain:T=>{var _;return(_=m?.mightContain(T))!==null&&_!==void 0&&_}}),it}(s,e.De,this.We.lt(),c,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=Kn(r).toUint8Array()}catch(u){if(u instanceof rd)return Rr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Wm(s,i,o)}catch(u){return Rr(u instanceof li?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&Vm(c.target)){let u=new H(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,en.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ie();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new cd(e,n,this.He,this.ze,r);return this.ze=Yn(),this.je=Kl(),this.Je=Kl(),this.He=new Se(te),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new dd,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new He(te),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new He(te),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new dd),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function Kl(){return new Se(H.comparator)}function qC(){return new Se(H.comparator)}var Vj={asc:"ASCENDING",desc:"DESCENDING"},jj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uj={and:"AND",or:"OR"},Km=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Qm(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Bj(t,e){return hd(t,e.toTimestamp())}function In(t){return me(!!t,49232),Y.fromTimestamp(function(n){let r=Gn(n);return new xe(r.seconds,r.nanos)}(t))}function lv(t,e){return Ym(t,e).canonicalString()}function Ym(t,e){let n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function t0(t){let e=Ne.fromString(t);return me(s0(e),10190,{key:e.toString()}),e}function Zm(t,e){return lv(t.databaseId,e.path)}function fm(t,e){let n=t0(e);if(n.get(1)!==t.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(r0(n))}function n0(t,e){return lv(t.databaseId,e)}function $j(t){let e=t0(t);return e.length===4?Ne.emptyPath():r0(e)}function Jm(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r0(t){return me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function zC(t,e,n){return{name:Zm(t,e),fields:n.value.mapValue.fields}}function Hj(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:$(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(me(f===void 0||typeof f=="string",58123),rt.fromBase64String(f||"")):(me(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),rt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let f=l.code===void 0?M.UNKNOWN:XS(l.code);return new V(f,l.message||"")}(s);n=new ld(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=fm(t,r.document.name),o=In(r.document.updateTime),s=r.document.createTime?In(r.document.createTime):Y.min(),c=new Xt({mapValue:{fields:r.document.fields}}),u=en.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new Ao(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=fm(t,r.document),o=r.readTime?In(r.readTime):Y.min(),s=en.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Ao([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=fm(t,r.document),o=r.removedTargetIds||[];n=new Ao([],o,i,null)}else{if(!("filter"in e))return $(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new zm(i,o),c=r.targetId;n=new ud(c,s)}}return n}function qj(t,e){let n;if(e instanceof vi)n={update:zC(t,e.key,e.value)};else if(e instanceof ad)n={delete:Zm(t,e.key)};else if(e instanceof Zn)n={update:zC(t,e.key,e.data),updateMask:Xj(e.fieldMask)};else{if(!(e instanceof Bm))return $(16599,{Rt:e.type});n={verify:Zm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof jo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof mi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Uo)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw $(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Bj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$(27497)}(t,e.precondition)),n}function zj(t,e){return t&&t.length>0?(me(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?In(i.updateTime):In(o);return s.isEqual(Y.min())&&(s=In(o)),new Um(s,i.transformResults||[])}(n,e))):[]}function Wj(t,e){return{documents:[n0(t,e.path)]}}function Gj(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=n0(t,i);let o=function(l){if(l.length!==0)return o0(En.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(y){return{field:Do(y.field),direction:Yj(y.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=Qm(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:n,parent:i}}function Kj(t){let e=$j(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){me(r===1,65062);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){let y=i0(p);return y instanceof En&&LS(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(y=>function(S){return new Fo(bo(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,Pd(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){let y=!!p.before,m=p.values||[];return new Oo(m,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,m=p.values||[];return new Oo(m,y)}(n.endAt)),Ij(e,i,s,o,c,"F",u,l)}function Qj(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function i0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=bo(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=bo(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=bo(n.unaryFilter.field);return Le.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=bo(n.unaryFilter.field);return Le.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $(61313);default:return $(60726)}}(t):t.fieldFilter!==void 0?function(n){return Le.create(bo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $(58110);default:return $(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return En.create(n.compositeFilter.filters.map(r=>i0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $(1026)}}(n.compositeFilter.op))}(t):$(30097,{filter:t})}function Yj(t){return Vj[t]}function Zj(t){return jj[t]}function Jj(t){return Uj[t]}function Do(t){return{fieldPath:t.canonicalString()}}function bo(t){return St.fromServerFormat(t.fieldPath)}function o0(t){return t instanceof Le?function(n){if(n.op==="=="){if(PC(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(MC(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PC(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(MC(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:Zj(n.op),value:n.value}}}(t):t instanceof En?function(n){let r=n.getFilters().map(i=>o0(i));return r.length===1?r[0]:{compositeFilter:{op:Jj(n.op),filters:r}}}(t):$(54877,{filter:t})}function Xj(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function s0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Pa=class t{constructor(e,n,r,i,o=Y.min(),s=Y.min(),c=rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Xm=class{constructor(e){this.gt=e}};function eU(t){let e=Kj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jm(e,e.limit,"L"):e}var fd=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(De(e.integerValue));else if("doubleValue"in e){let r=De(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Aa(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Gn(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Kn(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?xS(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):kS(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):$(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=Po,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(De(c)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),H.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};fd.Ut=new fd;var ey=class{constructor(){this.Dn=new ty}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(gi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(gi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},ty=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new He(Ne.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new He(Ne.comparator)).toArray()}};var tK=new Uint8Array(0);var WC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},a0=41943040,$t=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(a0,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);var ka=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var GC="LruGarbageCollector",tU=1048576;function KC([t,e],[n,r]){let i=te(t,n);return i===0?te(e,r):i}var ny=class{constructor(e){this.Tr=e,this.buffer=new He(KC),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();KC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},ry=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){O(GC,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wo(n)?O(GC,"Ignoring IndexedDB error during garbage collection: ",n):yield zo(n)}yield this.Rr(3e5)}))}},iy=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(ev.ue);let r=new ny(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(WC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WC):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Eo()<=ne.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function nU(t,e){return new iy(t,e)}var oy=class{constructor(){this.changes=new Qn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var sy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var ay=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ba(r.mutation,i,yn.empty(),xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){let i=ui();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=wa();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=ui();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=Yn(),s=Da(),c=function(){return Da()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Zn)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),ba(f.mutation,l,f.mutation.getFieldMask(),xe.now())):s.set(l.key,yn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new sy(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Da(),i=new Se((s,c)=>s-c),o=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||yn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||ie()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=zS();f.forEach(y=>{if(!o.has(y)){let m=ZS(n.get(y),r.get(y));m!==null&&p.set(y,m),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(ui()),c=Sa,u=o;return s.next(l=>P.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ie())).next(f=>({batchId:c,changes:qS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=wa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=wa();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let l=function(p,y){return new Lo(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,en.newInvalidDocument(f)))});let c=wa();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&ba(f.mutation,l,yn.empty(),xe.now()),Od(n,l)&&(c=c.insert(u,l))}),c})}};var cy=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:In(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:eU(i.bundledQuery),readTime:In(i.readTime)}}(n)),P.resolve()}};var uy=class{constructor(){this.overlays=new Se(H.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ui();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=ui(),o=n.length+1,s=new H(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Se((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=ui(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=ui(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return P.resolve(c)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new qm(n,r));let o=this.kr.get(n);o===void 0&&(o=ie(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var ly=class{constructor(){this.sessionToken=rt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var xa=class{constructor(){this.qr=new He(Pe.Qr),this.$r=new He(Pe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Pe(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Pe(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new H(new Ne([])),r=new Pe(n,e),i=new Pe(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new H(new Ne([])),r=new Pe(n,e),i=new Pe(n,e+1),o=ie();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Pe(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Pe=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return H.comparator(e.key,n.key)||te(e.Hr,n.Hr)}static Ur(e,n){return te(e.Hr,n.Hr)||H.comparator(e.key,n.key)}};var dy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new He(Pe.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new $m(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Pe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?tv:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Pe(n,0),i=new Pe(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(te);return n.forEach(i=>{let o=new Pe(i,0),s=new Pe(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new Pe(new H(o),0),c=new He(te);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),P.resolve(this.ei(c))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){me(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new Pe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Pe(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var hy=class{constructor(e){this.ni=e,this.docs=function(){return new Se(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=Yn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():en.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Yn(),s=n.path,c=new H(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||tj(ej(f),r)<=0||(i.has(f.key)||Od(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){$(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fy(this)}getSize(e){return P.resolve(this.size)}},fy=class extends oy{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var py=class{constructor(e){this.persistence=e,this.ii=new Qn(n=>sv(n),av),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.si=0,this.oi=new xa,this.targetCount=0,this._i=ka.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new ka(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var pd=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new ev(0),this.ci=!1,this.ci=!0,this.li=new ly,this.referenceDelegate=e(this),this.hi=new py(this),this.indexManager=new ey,this.remoteDocumentCache=function(i){return new hy(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new Xm(n),this.Ti=new cy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new dy(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);let i=new gy(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},gy=class extends bm{constructor(e){super(),this.currentSequenceNumber=e}},my=class t{constructor(e){this.persistence=e,this.Ai=new xa,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw $(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=H.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,Y.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},gd=class t{constructor(e,n){this.persistence=e,this.gi=new Qn(r=>oj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=nU(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,Y.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yl(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var yy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ie(),i=ie();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var vy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var _y=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return ZD()?8:rj(Be())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new vy;return this.ws(e,n,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,s,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Eo()<=ne.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",To(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Eo()<=ne.DEBUG&&O("QueryEngine","Query:",To(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Eo()<=ne.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",To(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(n))):P.resolve())}ps(e,n){if(FC(n))return P.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jm(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ie(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,c);return this.Ds(n,l,s,u.readTime)?this.ps(e,jm(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return FC(n)||i.isEqual(Y.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(Eo()<=ne.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),To(n)),this.vs(e,s,n,X2(i,Sa)).next(c=>c))})}bs(e,n){let r=new He($S(e));return n.forEach((i,o)=>{Od(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Eo()<=ne.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",To(n)),this.gs.getDocumentsMatchingQuery(e,n,gi.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var dv="LocalStore",rU=3e8,Iy=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Se(te),this.Ms=new Qn(o=>sv(o),av),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ay(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function iU(t,e,n,r){return new Iy(t,e,n,r)}function c0(t,e){return v(this,null,function*(){let n=G(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ie();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function oU(t,e){let n=G(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let p=l.batch,y=p.keys(),m=P.resolve();return y.forEach(S=>{m=m.next(()=>f.getEntry(u,S)).next(N=>{let R=l.docVersions.get(S);me(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),f.addEntry(N)))})}),m.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ie();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function u0(t){let e=G(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function sU(t,e){let n=G(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let c=[];e.targetChanges.forEach((f,p)=>{let y=i.get(p);if(!y)return;c.push(n.hi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,f.addedDocuments,p)));let m=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(rt.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,r)),i=i.insert(p,m),function(N,R,L){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=rU?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(y,m,f)&&c.push(n.hi.updateTargetData(o,m))});let u=Yn(),l=ie();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(aU(o,s,e.documentUpdates).next(f=>{u=f.Ls,l=f.ks})),!r.isEqual(Y.min())){let f=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return P.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function aU(t,e,n){let r=ie(),i=ie();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Yn();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):O(dv,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function cU(t,e){let n=G(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uU(t,e){let n=G(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new Pa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function wy(t,e,n){return v(this,null,function*(){let r=G(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Wo(s))throw s;O(dv,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function QC(t,e,n){let r=G(t),i=Y.min(),o=ie();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let p=G(u),y=p.Ms.get(f);return y!==void 0?P.resolve(p.Fs.get(y)):p.hi.getTargetData(l,f)}(r,s,_n(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Y.min(),n?o:ie())).next(c=>(lU(r,Tj(e),c),{documents:c,qs:o})))}function lU(t,e,n){let r=t.xs.get(e)||Y.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var md=class{constructor(){this.activeTargetIds=Rj()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ey=class{constructor(){this.Fo=new md,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new md,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ty=class{xo(e){}shutdown(){}};var YC="ConnectivityMonitor",yd=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){O(YC,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){O(YC,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ql=null;function Dy(){return Ql===null?Ql=function(){return 268435456+Math.round(2147483648*Math.random())}():Ql++,"0x"+Ql.toString(16)}var pm="RestConnection",dU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},by=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===id?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=Dy(),c=this.Go(e,n.toUriEncodedString());O(pm,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),f=yr(l);return this.jo(e,c,u,r,f).then(p=>(O(pm,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Rr(pm,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=dU[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var Cy=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var nt="WebChannelConnection",Sy=class extends by{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=Dy();return new Promise((c,u)=>{let l=new cm;l.setWithCredentials(!0),l.listenOnce(um.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ia.NO_ERROR:let p=l.getResponseJson();O(nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case Ia.TIMEOUT:O(nt,`RPC '${e}' ${s} timed out`),u(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case Ia.HTTP_ERROR:let y=l.getStatus();if(O(nt,`RPC '${e}' ${s} failed with status:`,y,"response text:",l.getResponseText()),y>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let S=m?.error;if(S&&S.status&&S.message){let N=function(L){let q=L.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(q)>=0?q:M.UNKNOWN}(S.status);u(new V(N,S.message))}else u(new V(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new V(M.UNAVAILABLE,"Connection failed."));break;default:$(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{O(nt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);O(nt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",f,r,15)})}P_(e,n,r){let i=Dy(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=hm(),c=dm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");O(nt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.T_(p);let y=!1,m=!1,S=new Cy({Ho:R=>{m?O(nt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(O(nt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),O(nt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),N=(R,L,q)=>{R.listen(L,W=>{try{q(W)}catch(_e){setTimeout(()=>{throw _e},0)}})};return N(p,wo.EventType.OPEN,()=>{m||(O(nt,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),N(p,wo.EventType.CLOSE,()=>{m||(m=!0,O(nt,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),N(p,wo.EventType.ERROR,R=>{m||(m=!0,Rr(nt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.__(new V(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,wo.EventType.MESSAGE,R=>{var L;if(!m){let q=R.data[0];me(!!q,16349);let W=q,_e=W?.error||((L=W[0])===null||L===void 0?void 0:L.error);if(_e){O(nt,`RPC '${e}' stream ${i} received error:`,_e);let it=_e.status,ye=function(w){let E=Me[w];if(E!==void 0)return XS(E)}(it),T=_e.message;ye===void 0&&(ye=M.INTERNAL,T="Unknown error status: "+it+" with message "+_e.message),m=!0,S.__(new V(ye,T)),p.close()}else O(nt,`RPC '${e}' stream ${i} received:`,q),S.a_(q)}}),N(c,lm.STAT_EVENT,R=>{R.stat===Wl.PROXY?O(nt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Wl.NOPROXY&&O(nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function gm(){return typeof document<"u"?document:null}function Fd(t){return new Km(t,!0)}var vd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var ZC="PersistentStream",_d=class{constructor(e,n,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new vd(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new V(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return O(ZC,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(O(ZC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ay=class extends _d{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=Hj(this.serializer,e),r=function(o){if(!("targetChange"in o))return Y.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?In(s.readTime):Y.min()}(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=Jm(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=Vm(u)?{documents:Wj(o,u)}:{query:Gj(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=e0(o,s.resumeToken);let l=Qm(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(Y.min())>0){c.readTime=hd(o,s.snapshotVersion.toTimestamp());let l=Qm(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=Qj(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=Jm(this.serializer),n.removeTarget=e,this.k_(n)}},Ry=class extends _d{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=zj(e.writeResults,e.commitTime),r=In(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=Jm(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>qj(this.serializer,r))};this.k_(n)}};var Ny=class{},My=class extends Ny{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Ym(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(M.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,Ym(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(M.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Py=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Wn(n),this._a=!1):O("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var _i="RemoteStore",ky=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){wi(this)&&(O(_i,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=G(u);l.Ia.add(4),yield ja(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Ld(l)})}(this))}))}),this.Aa=new Py(r,i)}};function Ld(t){return v(this,null,function*(){if(wi(t))for(let e of t.da)yield e(!0)})}function ja(t){return v(this,null,function*(){for(let e of t.da)yield e(!1)})}function l0(t,e){let n=G(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),gv(n)?pv(n):Go(n).x_()&&fv(n,e))}function hv(t,e){let n=G(t),r=Go(n);n.Ta.delete(e),r.x_()&&d0(n,e),n.Ta.size===0&&(r.x_()?r.B_():wi(n)&&n.Aa.set("Unknown"))}function fv(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Go(t).H_(e)}function d0(t,e){t.Ra.$e(e),Go(t).Y_(e)}function pv(t){t.Ra=new Gm({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Go(t).start(),t.Aa.aa()}function gv(t){return wi(t)&&!Go(t).M_()&&t.Ta.size>0}function wi(t){return G(t).Ia.size===0}function h0(t){t.Ra=void 0}function hU(t){return v(this,null,function*(){t.Aa.set("Online")})}function fU(t){return v(this,null,function*(){t.Ta.forEach((e,n)=>{fv(t,e)})})}function pU(t,e){return v(this,null,function*(){h0(t),gv(t)?(t.Aa.la(e),pv(t)):t.Aa.set("Unknown")})}function gU(t,e,n){return v(this,null,function*(){if(t.Aa.set("Online"),e instanceof ld&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})}(t,e)}catch(r){O(_i,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Id(t,r)}else if(e instanceof Ao?t.Ra.Ye(e):e instanceof ud?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Y.min()))try{let r=yield u0(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ta.get(l);f&&o.Ta.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.Ta.get(u);if(!f)return;o.Ta.set(u,f.withResumeToken(rt.EMPTY_BYTE_STRING,f.snapshotVersion)),d0(o,u);let p=new Pa(f.target,u,l,f.sequenceNumber);fv(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){O(_i,"Failed to raise snapshot:",r),yield Id(t,r)}})}function Id(t,e,n){return v(this,null,function*(){if(!Wo(e))throw e;t.Ia.add(1),yield ja(t),t.Aa.set("Offline"),n||(n=()=>u0(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){O(_i,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield Ld(t)}))})}function f0(t,e){return e().catch(n=>Id(t,n,e))}function Vd(t){return v(this,null,function*(){let e=G(t),n=Mr(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:tv;for(;mU(e);)try{let i=yield cU(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,yU(e,i)}catch(i){yield Id(e,i)}p0(e)&&g0(e)})}function mU(t){return wi(t)&&t.Pa.length<10}function yU(t,e){t.Pa.push(e);let n=Mr(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function p0(t){return wi(t)&&!Mr(t).M_()&&t.Pa.length>0}function g0(t){Mr(t).start()}function vU(t){return v(this,null,function*(){Mr(t).na()})}function _U(t){return v(this,null,function*(){let e=Mr(t);for(let n of t.Pa)e.X_(n.mutations)})}function IU(t,e,n){return v(this,null,function*(){let r=t.Pa.shift(),i=Hm.from(r,e,n);yield f0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Vd(t)})}function wU(t,e){return v(this,null,function*(){e&&Mr(t).Z_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return Fj(s)&&s!==M.ABORTED}(i.code)){let o=r.Pa.shift();Mr(r).N_(),yield f0(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Vd(r)}})}(t,e)),p0(t)&&g0(t)})}function JC(t,e){return v(this,null,function*(){let n=G(t);n.asyncQueue.verifyOperationInProgress(),O(_i,"RemoteStore received new credentials");let r=wi(n);n.Ia.add(3),yield ja(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield Ld(n)})}function EU(t,e){return v(this,null,function*(){let n=G(t);e?(n.Ia.delete(2),yield Ld(n)):e||(n.Ia.add(2),yield ja(n),n.Aa.set("Unknown"))})}function Go(t){return t.Va||(t.Va=function(n,r,i){let o=G(n);return o.ia(),new Ay(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:hU.bind(null,t),e_:fU.bind(null,t),n_:pU.bind(null,t),J_:gU.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.Va.N_(),gv(t)?pv(t):t.Aa.set("Unknown")):(yield t.Va.stop(),h0(t))}))),t.Va}function Mr(t){return t.ma||(t.ma=function(n,r,i){let o=G(n);return o.ia(),new Ry(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:vU.bind(null,t),n_:wU.bind(null,t),ea:_U.bind(null,t),ta:IU.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.ma.N_(),yield Vd(t)):(yield t.ma.stop(),t.Pa.length>0&&(O(_i,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var xy=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function mv(t,e){if(Wn("AsyncQueue",`${e}: ${t}`),Wo(t))return new V(M.UNAVAILABLE,`${e}: ${t}`);throw t}var wd=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=wa(),this.sortedSet=new Se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Ed=class{constructor(){this.fa=new Se(H.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):$(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},$o=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,wd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Oy=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Fy=class{constructor(){this.queries=XC(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=G(n),o=i.queries;i.queries=XC(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new V(M.ABORTED,"Firestore shutting down"))}};function XC(){return new Qn(t=>BS(t),xd)}function TU(t,e){return v(this,null,function*(){let n=G(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Oy,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=mv(s,`Initialization of query '${To(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&yv(n)})}function DU(t,e){return v(this,null,function*(){let n=G(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function bU(t,e){let n=G(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&yv(n)}function CU(t,e,n){let r=G(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function yv(t){t.Da.forEach(e=>{e.next()})}var Ly,eS;(eS=Ly||(Ly={})).Fa="default",eS.Cache="cache";var Vy=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new $o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Ly.Cache}};var Td=class{constructor(e){this.key=e}},Dd=class{constructor(e){this.key=e}},jy=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ie(),this.mutatedKeys=ie(),this.Xa=$S(e),this.eu=new wd(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Ed,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let y=i.get(f),m=Od(this.query,p)?p:null,S=!!y&&this.mutatedKeys.has(y.key),N=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),R=!1;y&&m?y.data.isEqual(m.data)?S!==N&&(r.track({type:3,doc:m}),R=!0):this.iu(y,m)||(r.track({type:2,doc:m}),R=!0,(u&&this.Xa(m,u)>0||l&&this.Xa(m,l)<0)&&(c=!0)):!y&&m?(r.track({type:0,doc:m}),R=!0):y&&!m&&(r.track({type:1,doc:y}),R=!0,(u||l)&&(c=!0)),R&&(m?(s=s.add(m),o=N?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((f,p)=>function(m,S){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $(20277,{At:R})}};return N(m)-N(S)}(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let c=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new $o(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ed,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ie(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Dd(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Td(r))}),n}uu(e){this.Ha=e.qs,this.Za=ie();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return $o.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},vv="SyncEngine",Uy=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},By=class{constructor(e){this.key=e,this.lu=!1}},$y=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Qn(c=>BS(c),xd),this.Tu=new Map,this.Iu=new Set,this.du=new Se(H.comparator),this.Eu=new Map,this.Au=new xa,this.Ru={},this.Vu=new Map,this.mu=ka.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function SU(t,e,n=!0){return v(this,null,function*(){let r=w0(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield m0(r,e,n,!0),i})}function AU(t,e){return v(this,null,function*(){let n=w0(t);yield m0(n,e,!0,!1)})}function m0(t,e,n,r){return v(this,null,function*(){let i=yield uU(t.localStore,_n(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield RU(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&l0(t.remoteStore,i),c})}function RU(t,e,n,r,i){return v(this,null,function*(){t.gu=(p,y,m)=>function(N,R,L,q){return v(this,null,function*(){let W=R.view.nu(L);W.Ds&&(W=yield QC(N.localStore,R.query,!1).then(({documents:T})=>R.view.nu(T,W)));let _e=q&&q.targetChanges.get(R.targetId),it=q&&q.targetMismatches.get(R.targetId)!=null,ye=R.view.applyChanges(W,N.isPrimaryClient,_e,it);return nS(N,R.targetId,ye._u),ye.snapshot})}(t,p,y,m);let o=yield QC(t.localStore,e,!0),s=new jy(e,o.qs),c=s.nu(o.documents),u=Ma.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);nS(t,n,l._u);let f=new Uy(e,n,s);return t.Pu.set(e,f),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function NU(t,e,n){return v(this,null,function*(){let r=G(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!xd(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield wy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hv(r.remoteStore,i.targetId),Hy(r,i.targetId)}).catch(zo))):(Hy(r,i.targetId),yield wy(r.localStore,i.targetId,!0))})}function MU(t,e){return v(this,null,function*(){let n=G(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hv(n.remoteStore,r.targetId))})}function PU(t,e,n){return v(this,null,function*(){let r=jU(t);try{let i=yield function(s,c){let u=G(s),l=xe.now(),f=c.reduce((m,S)=>m.add(S.key),ie()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let S=Yn(),N=ie();return u.Os.getEntries(m,f).next(R=>{S=R,S.forEach((L,q)=>{q.isValidDocument()||(N=N.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,S)).next(R=>{p=R;let L=[];for(let q of c){let W=Oj(q,p.get(q.key).overlayedDocument);W!=null&&L.push(new Zn(q.key,W,OS(W.value.mapValue),hi.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,L,c)}).next(R=>{y=R;let L=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(m,R.batchId,L)})}).then(()=>({batchId:y.batchId,changes:qS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Se(te)),l=l.insert(c,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Ua(r,i.changes),yield Vd(r.remoteStore)}catch(i){let o=mv(i,"Failed to persist write");n.reject(o)}})}function y0(t,e){return v(this,null,function*(){let n=G(t);try{let r=yield sU(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?me(s.lu,14607):i.removedDocuments.size>0&&(me(s.lu,42227),s.lu=!1))}),yield Ua(n,r,e)}catch(r){yield zo(r)}})}function tS(t,e,n){let r=G(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=G(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.wa)y.va(c)&&(l=!0)}),l&&yv(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kU(t,e,n){return v(this,null,function*(){let r=G(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Se(H.comparator);s=s.insert(o,en.newNoDocument(o,Y.min()));let c=ie().add(o),u=new cd(Y.min(),new Map,new Se(te),s,c);yield y0(r,u),r.du=r.du.remove(o),r.Eu.delete(e),_v(r)}else yield wy(r.localStore,e,!1).then(()=>Hy(r,e,n)).catch(zo)})}function xU(t,e){return v(this,null,function*(){let n=G(t),r=e.batch.batchId;try{let i=yield oU(n.localStore,e);_0(n,r,null),v0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ua(n,i)}catch(i){yield zo(i)}})}function OU(t,e,n){return v(this,null,function*(){let r=G(t);try{let i=yield function(s,c){let u=G(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(me(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);_0(r,e,n),v0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ua(r,i)}catch(i){yield zo(i)}})}function v0(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function _0(t,e,n){let r=G(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Hy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||I0(t,r)})}function I0(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(hv(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),_v(t))}function nS(t,e,n){for(let r of n)r instanceof Td?(t.Au.addReference(r.key,e),FU(t,r)):r instanceof Dd?(O(vv,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||I0(t,r.key)):$(19791,{yu:r})}function FU(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(O(vv,"New document in limbo: "+n),t.Iu.add(r),_v(t))}function _v(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new H(Ne.fromString(e)),r=t.mu.next();t.Eu.set(r,new By(n)),t.du=t.du.insert(n,r),l0(t.remoteStore,new Pa(_n(cv(n.path)),r,"TargetPurposeLimboResolution",ev.ue))}}function Ua(t,e,n){return v(this,null,function*(){let r=G(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=yy.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(u,l){return v(this,null,function*(){let f=G(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,y=>P.forEach(y.Is,m=>f.persistence.referenceDelegate.addReference(p,y.targetId,m)).next(()=>P.forEach(y.ds,m=>f.persistence.referenceDelegate.removeReference(p,y.targetId,m)))))}catch(p){if(!Wo(p))throw p;O(dv,"Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let m=f.Fs.get(y),S=m.snapshotVersion,N=m.withLastLimboFreeSnapshotVersion(S);f.Fs=f.Fs.insert(y,N)}}})}(r.localStore,o))})}function LU(t,e){return v(this,null,function*(){let n=G(t);if(!n.currentUser.isEqual(e)){O(vv,"User change. New user:",e.toKey());let r=yield c0(n.localStore,e);n.currentUser=e,function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new V(M.CANCELLED,s))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ua(n,r.Bs)}})}function VU(t,e){let n=G(t),r=n.Eu.get(e);if(r&&r.lu)return ie().add(r.key);{let i=ie(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let c=n.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function w0(t){let e=G(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=y0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kU.bind(null,e),e.hu.J_=bU.bind(null,e.eventManager),e.hu.pu=CU.bind(null,e.eventManager),e}function jU(t){let e=G(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OU.bind(null,e),e}var E0=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=Fd(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return iU(this.persistence,new _y,n.initialUser,this.serializer)}Du(n){return new pd(my.Vi,this.serializer)}bu(n){return new Ey}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),qy=class extends E0{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){me(this.persistence.referenceDelegate instanceof gd,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new ry(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?$t.withCacheSize(this.cacheSizeBytes):$t.DEFAULT;return new pd(r=>gd.Vi(r,n),this.serializer)}};var UU=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=LU.bind(null,this.syncEngine),yield EU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Fy}()}createDatastore(n){let r=Fd(n.databaseInfo.databaseId),i=function(s){return new Sy(s)}(n.databaseInfo);return function(s,c,u,l){return new My(s,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,u){return new ky(i,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>tS(this.syncEngine,r,0),function(){return yd.C()?new yd:new Ty}())}createSyncEngine(n,r){return function(o,s,c,u,l,f,p){let y=new $y(o,s,c,u,l,f);return p&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(o){return v(this,null,function*(){let s=G(o);O(_i,"RemoteStore shutting down."),s.Ia.add(5),yield ja(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var zy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Pr="FirestoreClient",Wy=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$e.UNAUTHENTICATED,this.clientId=Ca.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){O(Pr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(O(Pr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=mv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function mm(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),O(Pr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield c0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Rr("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{O("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Rr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function rS(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield BU(t);O(Pr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>JC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>JC(e.remoteStore,i)),t._onlineComponents=e})}function BU(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O(Pr,"Using user provided OfflineComponentProvider");try{yield mm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Rr("Error using user provided cache. Falling back to memory cache: "+n),yield mm(t,new E0)}}else O(Pr,"Using default OfflineComponentProvider"),yield mm(t,new qy(void 0));return t._offlineComponents})}function T0(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(O(Pr,"Using user provided OnlineComponentProvider"),yield rS(t,t._uninitializedComponentsProvider._online)):(O(Pr,"Using default OnlineComponentProvider"),yield rS(t,new UU))),t._onlineComponents})}function $U(t){return T0(t).then(e=>e.syncEngine)}function iS(t){return v(this,null,function*(){let e=yield T0(t),n=e.eventManager;return n.onListen=SU.bind(null,e.syncEngine),n.onUnlisten=NU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MU.bind(null,e.syncEngine),n})}function D0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var oS=new Map;var b0="firestore.googleapis.com",sS=!0,bd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b0,this.ssl=sS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:sS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=a0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tU)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Oa=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ym;switch(r.type){case"firstParty":return new wm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=oS.get(n);r&&(O("ComponentProvider","Removing Datastore"),oS.delete(n),r.terminate())}(this),Promise.resolve()}};function C0(t,e,n,r={}){var i;t=So(t,Oa);let o=yr(e),s=t._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(ml(`https://${u}`),yl("Firestore",!0)),s.host!==b0&&s.host!==u&&Rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Lt(l,c)&&(t._setSettings(l),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=$e.MOCK_USER;else{f=WD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new $e(y)}t._authCredentials=new vm(new Xl(f,p))}}var Cd=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ht=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Va(n,t._jsonSchema))return new t(e,r||null,new H(Ne.fromString(n.referencePath)))}};ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:ke("string",ht._jsonSchemaVersion),referencePath:ke("string")};var Fa=class t extends Cd{constructor(e,n,r){super(e,n,cv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function S0(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=Ca.newId()),Z2("doc","path",e),t instanceof Oa){let r=Ne.fromString(e,...n);return DC(r),new ht(t,null,new H(r))}{if(!(t instanceof ht||t instanceof Fa))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return DC(r),new ht(t.firestore,t instanceof Fa?t.converter:null,new H(r))}}var aS="AsyncQueue",Sd=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new vd(this,"async_queue_retry"),this.oc=()=>{let r=gm();r&&O(aS,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new zn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Wo(e))throw e;O(aS,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Wn("INTERNAL UNHANDLED ERROR: ",cS(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=xy.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&$(47125,{hc:cS(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function cS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function uS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Ho=class extends Oa{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Sd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Sd(e),this._firestoreClient=void 0,yield e}})}};function A0(t,e){let n=typeof t=="object"?t:fn(),r=typeof t=="string"?t:e||id,i=jt(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=zD("firestore");o&&C0(i,...o)}return i}function R0(t){if(t._terminated)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HU(t),t._firestoreClient}function HU(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,f){return new Cm(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,D0(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Wy(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var Cr=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(rt.fromBase64String(e))}catch(n){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Va(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Cr._jsonSchemaVersion="firestore/bytes/1.0",Cr._jsonSchema={type:ke("string",Cr._jsonSchemaVersion),bytes:ke("string")};var La=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ad=class{constructor(e){this._methodName=e}};var Sr=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Va(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Sr._jsonSchemaVersion="firestore/geoPoint/1.0",Sr._jsonSchema={type:ke("string",Sr._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};var Ar=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Va(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new V(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ar._jsonSchemaVersion="firestore/vectorValue/1.0",Ar._jsonSchema={type:ke("string",Ar._jsonSchemaVersion),vectorValues:ke("object")};var qU=/^__.*__$/,Gy=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zn(e,this.data,this.fieldMask,n,this.fieldTransforms):new vi(e,this.data,n,this.fieldTransforms)}};function N0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $(40011,{Ec:t})}}var Ky=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Rd(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(N0(this.Ec)&&qU.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Qy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fd(e)}Dc(e,n,r,i=!1){return new Ky({Ec:e,methodName:n,bc:r,path:St.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function zU(t){let e=t._freezeSettings(),n=Fd(t._databaseId);return new Qy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WU(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);x0("Data must be an object, but it was:",s,r);let c=P0(r,s),u,l;if(o.merge)u=new yn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let y=GU(e,p,n);if(!s.contains(y))throw new V(M.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);QU(f,y)||f.push(y)}u=new yn(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Gy(new Xt(c),u,l)}function M0(t,e){if(k0(t=Qe(t)))return x0("Unsupported field value:",e,t),P0(t,e);if(t instanceof Ad)return function(r,i){if(!N0(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=M0(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Nj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=xe.fromDate(r);return{timestampValue:hd(i.serializer,o)}}if(r instanceof xe){let o=new xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hd(i.serializer,o)}}if(r instanceof Sr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cr)return{bytesValue:e0(i.serializer,r._byteString)};if(r instanceof ht){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:lv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ar)return function(s,c){return{mapValue:{fields:{[rv]:{stringValue:iv},[Po]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return uv(c.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Xy(r)}`)}(t,e)}function P0(t,e){let n={};return SS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ii(t,(r,i)=>{let o=M0(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function k0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xe||t instanceof Sr||t instanceof Cr||t instanceof ht||t instanceof Ad||t instanceof Ar)}function x0(t,e,n){if(!k0(n)||!hS(n)){let r=Xy(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function GU(t,e,n){if((e=Qe(e))instanceof La)return e._internalPath;if(typeof e=="string")return O0(t,e);throw Rd("Field path arguments must be of type string or ",t,!1,void 0,n)}var KU=new RegExp("[~\\*/\\[\\]]");function O0(t,e,n){if(e.search(KU)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new La(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rd(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(M.INVALID_ARGUMENT,c+t+u)}function QU(t,e){return t.some(n=>n.isEqual(e))}var Nd=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Yy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(F0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Yy=class extends Nd{data(){return super.data()}};function F0(t,e){return typeof e=="string"?O0(t,e):e instanceof La?e._internalPath:e._delegate._internalPath}function YU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zy=class{convertValue(e,n="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ii(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Po].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>De(s.doubleValue));return new Ar(o)}convertGeoPoint(e){return new Sr(De(e.latitude),De(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=kd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ra(e));default:return null}}convertTimestamp(e){let n=Gn(e);return new xe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ne.fromString(e);me(s0(r),9688,{name:e});let i=new od(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||Wn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function ZU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var di=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},fi=class t extends Nd{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ro(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(F0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};fi._jsonSchemaVersion="firestore/documentSnapshot/1.0",fi._jsonSchema={type:ke("string",fi._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};var Ro=class extends fi{data(e={}){return super.data(e)}},No=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new di(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ro(this._firestore,this._userDataWriter,r.key,r,new di(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Ro(i._firestore,i._userDataWriter,c.doc.key,c.doc,new di(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Ro(i._firestore,i._userDataWriter,c.doc.key,c.doc,new di(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:JU(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ca.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function JU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $(61501,{type:t})}}No._jsonSchemaVersion="firestore/querySnapshot/1.0",No._jsonSchema={type:ke("string",No._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};var Md=class extends Zy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cr(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}};function L0(t,e,n){t=So(t,ht);let r=So(t.firestore,Ho),i=ZU(t.converter,e,n);return XU(r,[WU(zU(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hi.none())])}function Iv(t,...e){var n,r,i;t=Qe(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||uS(e[s])||(o=e[s++]);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(uS(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(t instanceof ht)l=So(t.firestore,Ho),f=cv(t._key.path),u={next:p=>{e[s]&&e[s](eB(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=So(t,Cd);l=So(p.firestore,Ho),f=p._query;let y=new Md(l);u={next:m=>{e[s]&&e[s](new No(l,y,p,m))},error:e[s+1],complete:e[s+2]},YU(t._query)}return function(y,m,S,N){let R=new zy(N),L=new Vy(m,R,S);return y.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return TU(yield iS(y),L)})),()=>{R.Ou(),y.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return DU(yield iS(y),L)}))}}(R0(l),f,c,u)}function XU(t,e){return function(r,i){let o=new zn;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return PU(yield $U(r),i,o)})),o.promise}(R0(t),e)}function eB(t,e,n){let r=n.docs.get(e._key),i=new Md(t);return new fi(t,i,e._key,r,new di(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){qo=i})(_r),Ye(new Re("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Ho(new _m(r.getProvider("auth-internal")),new Em(s,r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new od(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ge(IC,wC,e),ge(IC,wC,"esm2017")})();var jd=function(){return jd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},jd.apply(this,arguments)};var rB={includeMetadataChanges:!1};function V0(t,e){return e===void 0&&(e=rB),new re(function(n){var r=Iv(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function j0(t){return V0(t,{includeMetadataChanges:!0})}function U0(t,e){return e===void 0&&(e={}),j0(t).pipe(oe(function(n){return B0(n,e)}))}function B0(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:jd(jd({},r),(n={},n[e.idField]=t.id,n))}var Ei=class{constructor(e){return e}},$0="firestore",wv=class{constructor(){return Ir($0)}};var Ev=new j("angularfire2.firestore-instances");function iB(t,e){let n=ii($0,t,e);return n&&new Ei(n)}function oB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ei(r)}}var sB={provide:wv,deps:[[new ut,Ev]]},aB={provide:Ei,useFactory:iB,deps:[[new ut,Ev],Zt]};function H0(t,...e){return ge("angularfire",pn.full,"fst"),Kt([aB,sB,{provide:Ev,useFactory:oB(t),multi:!0,deps:[pe,je,gn,Un,[new ut,_a],[new ut,_o],...e]}])}var q0=Bt(U0,!0);var Tv=Bt(S0,!0,2);var z0=Bt(A0,!0);var W0=Bt(L0,!0,2);var Ud=class t{constructor(){}firestore=k(Ei);getPersonalData(){let e=Tv(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return q0(e)}updatePersonalData(e){let n=Tv(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return W0(n,e,{merge:!0})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};var cB=(t,e,n,r)=>({"is-open-about":t,"is-open-skills":e,"is-open-projects":n,"is-open-contact":r}),Bd=class t{activeTab=null;openTab(e){this.activeTab=e}closeTab(){this.activeTab=null}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=cn({type:t,selectors:[["app-radial-tabs"]],decls:13,vars:6,consts:[[1,"grid"],[1,"wrap",3,"ngClass"],[3,"click"],[1,"avatar"]],template:function(n,r){n&1&&(Ot(0,"div",0)(1,"div",1)(2,"a",2),Ru("click",function(){return r.openTab("about")}),yt(3,"div"),Dt(),Ot(4,"a",2),Ru("click",function(){return r.openTab("skills")}),yt(5,"div"),Dt(),Ot(6,"a"),yt(7,"div"),Dt(),Ot(8,"a"),yt(9,"div"),Dt(),Ot(10,"a"),yt(11,"div"),Dt(),yt(12,"span",3),Dt()()),n&2&&(GE(),up("ngClass",bT(1,cB,r.activeTab==="about",r.activeTab==="skills",r.activeTab==="projects",r.activeTab==="contact")))},dependencies:[fr,gp],styles:[".grid[_ngcontent-%COMP%]{position:fixed;inset:0;background:#e3dfd2;box-shadow:inset 0 0 20vmin #585247;display:flex;align-items:center;justify-content:center;overflow:hidden}.wrap[_ngcontent-%COMP%]{--size-with: 240vmin;--size-height: 240vmin;position:absolute;left:50%;top:50%;width:var(--size-with);height:var(--size-height);background:transparent;transform-origin:center center;transform:translate(-50%,-50%) scale(.2);opacity:1;z-index:1;transition:transform .9s ease,opacity 1s ease,left 1s ease,top 1s ease}a[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:47.5%;height:47.5%;overflow:hidden;transform:scale(.5) translateZ(0);background:#585247}a[_ngcontent-%COMP%]:nth-child(1){border-radius:40vmin 0 0;transform-origin:110% 110%;transition:transform .4s .15s}a[_ngcontent-%COMP%]:nth-child(2){border-radius:0 40vmin 0 0;left:52.5%;transform-origin:-10% 110%;transition:transform .4s .2s}a[_ngcontent-%COMP%]:nth-child(3){border-radius:0 0 0 40vmin;top:52.5%;transform-origin:110% -10%;transition:transform .4s .25s}a[_ngcontent-%COMP%]:nth-child(4){border-radius:0 0 40vmin;top:52.5%;left:52.5%;transform-origin:-10% -10%;transition:transform .4s .3s}a[_ngcontent-%COMP%]:nth-child(5){width:55%;height:55%;left:22.5%;top:22.5%;border-radius:50vmin;box-shadow:0 0 0 5vmin #e3dfd2;transform:scale(1)}.wrap[_ngcontent-%COMP%] > .avatar[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;width:80vmin;height:80vmin;border-radius:50%;background-image:url(/assets/FotoPerfil.png);background-size:cover;background-position:center;background-repeat:no-repeat;transform-origin:center center;transform:translate(-50%,-50%) scale(1);transition:transform .5s;z-index:2;pointer-events:none}.wrap[_ngcontent-%COMP%]:hover{transform:translate(-50%,-50%) scale(.4);opacity:1}.wrap[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{transform:scale(1) translateZ(0)}a[_ngcontent-%COMP%]:hover   div[_ngcontent-%COMP%]{opacity:1;transform:translateZ(0)}span[_ngcontent-%COMP%]{all:unset}.wrap.is-open-about[_ngcontent-%COMP%]{left:80%;top:50%;transform:translate(-50%,-50%) scale(.2)}.wrap.is-open-skills[_ngcontent-%COMP%]{left:20%;top:50%;transform:translate(-50%,-50%) scale(.2)}.wrap.is-open-projects[_ngcontent-%COMP%], .wrap.is-open-contact[_ngcontent-%COMP%]{left:80%;top:50%;transform:translate(-50%,-50%) scale(.2)}"]})};var $d=class t{fireBaseService=k(Ud);personalData=this.fireBaseService.getPersonalData();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=cn({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(n,r){n&1&&(Ot(0,"div"),yt(1,"app-radial-tabs"),Dt())},dependencies:[fr,Bd],encapsulation:2})};var Hd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=cn({type:t,selectors:[["app-notfound"]],decls:2,vars:0,template:function(n,r){n&1&&(Ot(0,"p"),DT(1,"notfound works!"),Dt())},encapsulation:2})};var G0=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:$d},{path:"**",component:Hd}];var Y0="@firebase/installations",Sv="0.6.18";var Z0=1e4,J0=`w:${Sv}`,X0="FIS_v2",uB="https://firebaseinstallations.googleapis.com/v1",lB=60*60*1e3,dB="installations",hB="Installations";var fB={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Di=new dt(dB,hB,fB);function eA(t){return t instanceof Ke&&t.code.includes("request-failed")}function tA({projectId:t}){return`${uB}/projects/${t}/installations`}function nA(t){return{token:t.token,requestStatus:2,expiresIn:gB(t.expiresIn),creationTime:Date.now()}}function rA(t,e){return v(this,null,function*(){let r=(yield e.json()).error;return Di.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function iA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function pB(t,{refreshToken:e}){let n=iA(t);return n.append("Authorization",mB(e)),n}function oA(t){return v(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function gB(t){return Number(t.replace("s","000"))}function mB(t){return`${X0} ${t}`}function yB(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let o=tA(t),s=iA(t),c=e.getImmediate({optional:!0});if(c){let p=yield c.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={fid:n,authVersion:X0,appId:t.appId,sdkVersion:J0},l={method:"POST",headers:s,body:JSON.stringify(u)},f=yield oA(()=>fetch(o,l));if(f.ok){let p=yield f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:nA(p.authToken)}}else throw yield rA("Create Installation",f)})}function sA(t){return new Promise(e=>{setTimeout(e,t)})}function vB(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var _B=/^[cdef][\w-]{21}$/,Cv="";function IB(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=wB(t);return _B.test(n)?n:Cv}catch{return Cv}}function wB(t){return vB(t).substr(0,22)}function zd(t){return`${t.appName}!${t.appId}`}var aA=new Map;function cA(t,e){let n=zd(t);uA(n,e),EB(n,e)}function uA(t,e){let n=aA.get(t);if(n)for(let r of n)r(e)}function EB(t,e){let n=TB();n&&n.postMessage({key:t,fid:e}),DB()}var Ti=null;function TB(){return!Ti&&"BroadcastChannel"in self&&(Ti=new BroadcastChannel("[Firebase] FID Change"),Ti.onmessage=t=>{uA(t.data.key,t.data.fid)}),Ti}function DB(){aA.size===0&&Ti&&(Ti.close(),Ti=null)}var bB="firebase-installations-database",CB=1,bi="firebase-installations-store",Dv=null;function Av(){return Dv||(Dv=Tl(bB,CB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bi)}}})),Dv}function qd(t,e){return v(this,null,function*(){let n=zd(t),i=(yield Av()).transaction(bi,"readwrite"),o=i.objectStore(bi),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&cA(t,e.fid),e})}function lA(t){return v(this,null,function*(){let e=zd(t),r=(yield Av()).transaction(bi,"readwrite");yield r.objectStore(bi).delete(e),yield r.done})}function Wd(t,e){return v(this,null,function*(){let n=zd(t),i=(yield Av()).transaction(bi,"readwrite"),o=i.objectStore(bi),s=yield o.get(n),c=e(s);return c===void 0?yield o.delete(n):yield o.put(c,n),yield i.done,c&&(!s||s.fid!==c.fid)&&cA(t,c.fid),c})}function Rv(t){return v(this,null,function*(){let e,n=yield Wd(t.appConfig,r=>{let i=SB(r),o=AB(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Cv?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function SB(t){let e=t||{fid:IB(),registrationStatus:0};return dA(e)}function AB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Di.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=RB(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:NB(t)}:{installationEntry:e}}function RB(t,e){return v(this,null,function*(){try{let n=yield yB(t,e);return qd(t.appConfig,n)}catch(n){throw eA(n)&&n.customData.serverCode===409?yield lA(t.appConfig):yield qd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function NB(t){return v(this,null,function*(){let e=yield K0(t.appConfig);for(;e.registrationStatus===1;)yield sA(100),e=yield K0(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield Rv(t);return r||n}return e})}function K0(t){return Wd(t,e=>{if(!e)throw Di.create("installation-not-found");return dA(e)})}function dA(t){return MB(t)?{fid:t.fid,registrationStatus:0}:t}function MB(t){return t.registrationStatus===1&&t.registrationTime+Z0<Date.now()}function PB(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let o=kB(t,n),s=pB(t,n),c=e.getImmediate({optional:!0});if(c){let p=yield c.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={installation:{sdkVersion:J0,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(u)},f=yield oA(()=>fetch(o,l));if(f.ok){let p=yield f.json();return nA(p)}else throw yield rA("Generate Auth Token",f)})}function kB(t,{fid:e}){return`${tA(t)}/${e}/authTokens:generate`}function Nv(t,e=!1){return v(this,null,function*(){let n,r=yield Wd(t.appConfig,o=>{if(!hA(o))throw Di.create("not-registered");let s=o.authToken;if(!e&&FB(s))return o;if(s.requestStatus===1)return n=xB(t,e),o;{if(!navigator.onLine)throw Di.create("app-offline");let c=VB(o);return n=OB(t,c),c}});return n?yield n:r.authToken})}function xB(t,e){return v(this,null,function*(){let n=yield Q0(t.appConfig);for(;n.authToken.requestStatus===1;)yield sA(100),n=yield Q0(t.appConfig);let r=n.authToken;return r.requestStatus===0?Nv(t,e):r})}function Q0(t){return Wd(t,e=>{if(!hA(e))throw Di.create("not-registered");let n=e.authToken;return jB(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function OB(t,e){return v(this,null,function*(){try{let n=yield PB(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield qd(t.appConfig,r),n}catch(n){if(eA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield lA(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield qd(t.appConfig,r)}throw n}})}function hA(t){return t!==void 0&&t.registrationStatus===2}function FB(t){return t.requestStatus===2&&!LB(t)}function LB(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+lB}function VB(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function jB(t){return t.requestStatus===1&&t.requestTime+Z0<Date.now()}function UB(t){return v(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield Rv(e);return r?r.catch(console.error):Nv(e).catch(console.error),n.fid})}function BB(t,e=!1){return v(this,null,function*(){let n=t;return yield $B(n),(yield Nv(n,e)).token})}function $B(t){return v(this,null,function*(){let{registrationPromise:e}=yield Rv(t);e&&(yield e)})}function HB(t){if(!t||!t.options)throw bv("App Configuration");if(!t.name)throw bv("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw bv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function bv(t){return Di.create("missing-app-config-values",{valueName:t})}var fA="installations",qB="installations-internal",zB=t=>{let e=t.getProvider("app").getImmediate(),n=HB(e),r=jt(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},WB=t=>{let e=t.getProvider("app").getImmediate(),n=jt(e,fA).getImmediate();return{getId:()=>UB(n),getToken:i=>BB(n,i)}};function GB(){Ye(new Re(fA,zB,"PUBLIC")),Ye(new Re(qB,WB,"PRIVATE"))}GB();ge(Y0,Sv);ge(Y0,Sv,"esm2017");var Gd="analytics",KB="firebase_id",QB="origin",YB=60*1e3,ZB="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Lv="https://www.googletagmanager.com/gtag/js";var _t=new Vt("@firebase/analytics");var JB={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},At=new dt("analytics","Analytics",JB);function XB(t){if(!t.startsWith(Lv)){let e=At.create("invalid-gtag-resource",{gtagURL:t});return _t.warn(e.message),""}return t}function IA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function e$(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function t$(t,e){let n=e$("firebase-js-sdk-policy",{createScriptURL:XB}),r=document.createElement("script"),i=`${Lv}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function n$(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function r$(t,e,n,r,i,o){return v(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let u=(yield IA(n)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(c){_t.error(c)}t("config",i,o)})}function i$(t,e,n,r,i){return v(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let c=yield IA(n);for(let u of s){let l=c.find(p=>p.measurementId===u),f=l&&e[l.appId];if(f)o.push(f);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){_t.error(o)}})}function o$(t,e,n,r){function i(o,...s){return v(this,null,function*(){try{if(o==="event"){let[c,u]=s;yield i$(t,e,n,c,u)}else if(o==="config"){let[c,u]=s;yield r$(t,e,n,r,c,u)}else if(o==="consent"){let[c,u]=s;t("consent",c,u)}else if(o==="get"){let[c,u,l]=s;t("get",c,u,l)}else if(o==="set"){let[c]=s;t("set",c)}else t(o,...s)}catch(c){_t.error(c)}})}return i}function s$(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=o$(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function a$(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(Lv)&&n.src.includes(t))return n;return null}var c$=30,u$=1e3,Pv=class{constructor(e={},n=u$){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},wA=new Pv;function l$(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function d$(t){return v(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:l$(r)},o=ZB.replace("{app-id}",n),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let c="";try{let u=yield s.json();!((e=u.error)===null||e===void 0)&&e.message&&(c=u.error.message)}catch{}throw At.create("config-fetch-failed",{httpStatus:s.status,responseMessage:c})}return s.json()})}function h$(r){return v(this,arguments,function*(t,e=wA,n){let{appId:i,apiKey:o,measurementId:s}=t.options;if(!i)throw At.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw At.create("no-api-key")}let c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new kv;return setTimeout(()=>v(null,null,function*(){u.abort()}),n!==void 0?n:YB),EA({appId:i,apiKey:o,measurementId:s},c,u,e)})}function EA(o,s,c){return v(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=wA){var u;let{appId:l,measurementId:f}=t;try{yield f$(r,e)}catch(p){if(f)return _t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:f};throw p}try{let p=yield d$(t);return i.deleteThrottleMetadata(l),p}catch(p){let y=p;if(!p$(y)){if(i.deleteThrottleMetadata(l),f)return _t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:l,measurementId:f};throw p}let m=Number((u=y?.customData)===null||u===void 0?void 0:u.httpStatus)===503?Il(n,i.intervalMillis,c$):Il(n,i.intervalMillis),S={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return i.setThrottleMetadata(l,S),_t.debug(`Calling attemptFetch again in ${m} millis`),EA(t,S,r,i)}})}function f$(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(At.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function p$(t){if(!(t instanceof Ke)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var kv=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var xv;function g$(t,e,n,r,i){return v(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}})}var Ov;function m$(t){Ov=t}function y$(t){xv=t}function v$(){return v(this,null,function*(){if(ti())try{yield _l()}catch(t){return _t.warn(At.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return _t.warn(At.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function _$(t,e,n,r,i,o,s){return v(this,null,function*(){var c;let u=h$(t);u.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&_t.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>_t.error(m)),e.push(u);let l=v$().then(m=>{if(m)return r.getId()}),[f,p]=yield Promise.all([u,l]);a$(o)||t$(o,f.measurementId),Ov&&(i("consent","default",Ov),m$(void 0)),i("js",new Date);let y=(c=s?.config)!==null&&c!==void 0?c:{};return y[QB]="firebase",y.update=!0,p!=null&&(y[KB]=p),i("config",f.measurementId,y),xv&&(i("set",xv),y$(void 0)),f.measurementId})}var Fv=class{constructor(e){this.app=e}_delete(){return delete Ba[this.app.options.appId],Promise.resolve()}},Ba={},pA=[],gA={},Mv="dataLayer",I$="gtag",mA,TA,yA=!1;function w$(){let t=[];if(vl()&&t.push("This is a browser extension environment."),JD()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=At.create("invalid-analytics-context",{errorInfo:e});_t.warn(n.message)}}function E$(t,e,n){w$();let r=t.options.appId;if(!r)throw At.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)_t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw At.create("no-api-key");if(Ba[r]!=null)throw At.create("already-exists",{id:r});if(!yA){n$(Mv);let{wrappedGtag:o,gtagCore:s}=s$(Ba,pA,gA,Mv,I$);TA=o,mA=s,yA=!0}return Ba[r]=_$(t,pA,gA,e,mA,Mv,n),new Fv(t)}function DA(t=fn()){t=Qe(t);let e=jt(t,Gd);return e.isInitialized()?e.getImmediate():bA(t)}function bA(t,e={}){let n=jt(t,Gd);if(n.isInitialized()){let i=n.getImmediate();if(Lt(e,n.getOptions()))return i;throw At.create("already-initialized")}return n.initialize({options:e})}function CA(t,e,n,r){t=Qe(t),g$(TA,Ba[t.app.options.appId],e,n,r).catch(i=>_t.error(i))}var vA="@firebase/analytics",_A="0.10.17";function T$(){Ye(new Re(Gd,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return E$(r,i,n)},"PUBLIC")),Ye(new Re("analytics-internal",t,"PRIVATE")),ge(vA,_A),ge(vA,_A,"esm2017");function t(e){try{let n=e.getProvider(Gd).getImmediate();return{logEvent:(r,i,o)=>CA(n,r,i,o)}}catch(n){throw At.create("interop-component-reg-failed",{reason:n})}}}T$();var $a=class{constructor(e){return e}},SA="analytics",Vv=class{constructor(){return Ir(SA)}};var AA=Bt(DA,!0);var DY=Math.floor(Math.random()*(2**32-1))-2**31;var jv=new j("angularfire2.analytics-instances");function D$(t,e,n){if(!Pu(n))return null;let r=ii(SA,t,e);return r&&new $a(r)}function b$(t){return(e,n,r)=>{if(!Pu(r))return null;let i=e.runOutsideAngular(()=>t(n));return new $a(i)}}var C$={provide:Vv,deps:[[new ut,jv]]},S$={provide:$a,useFactory:D$,deps:[[new ut,jv],Zt,an]};function RA(t,...e){return ge("angularfire",pn.full,"analytics"),Kt([S$,C$,{provide:jv,useFactory:b$(t),multi:!0,deps:[pe,je,an,gn,Un,...e]}])}var NA={production:!1,firebaseConfig:{apiKey:"AIzaSyBF38aXP_jKP6WBKJp78cZGjGmpwvLt_j8",authDomain:"cv-web-angular.firebaseapp.com",projectId:"cv-web-angular",storageBucket:"cv-web-angular.firebasestorage.app",messagingSenderId:"119785680877",appId:"1:119785680877:web:27a7c5644fddd90876c1e4",measurementId:"G-0QL3DQG5NC"}};Dp(hl,{providers:[Kp(G0),RT({eventCoalescing:!0}),mb(()=>yb(NA.firebaseConfig)),H0(()=>z0()),mC(()=>yC()),RA(()=>AA())]}).catch(t=>console.error(t));
