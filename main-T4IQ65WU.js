var BP=Object.defineProperty,$P=Object.defineProperties;var HP=Object.getOwnPropertyDescriptors;var Bw=Object.getOwnPropertySymbols,zP=Object.getPrototypeOf,qP=Object.prototype.hasOwnProperty,GP=Object.prototype.propertyIsEnumerable,WP=Reflect.get;var $w=(n,e,t)=>e in n?BP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})qP.call(e,t)&&$w(n,t,e[t]);if(Bw)for(var t of Bw(e))GP.call(e,t)&&$w(n,t,e[t]);return n},ce=(n,e)=>$P(n,HP(e));var Sr=(n,e,t)=>WP(zP(n),t,e);var v=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function Np(n,e){return Object.is(n,e)}var Ye=null,_u=!1,Pp=1,cn=Symbol("SIGNAL");function fe(n){let e=Ye;return Ye=n,e}function xp(){return Ye}var ga={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ma(n){if(_u)throw new Error("");if(Ye===null)return;Ye.consumerOnSignalRead(n);let e=Ye.nextProducerIndex++;if(bu(Ye),e<Ye.producerNode.length&&Ye.producerNode[e]!==n&&pa(Ye)){let t=Ye.producerNode[e];wu(t,Ye.producerIndexOfThis[e])}Ye.producerNode[e]!==n&&(Ye.producerNode[e]=n,Ye.producerIndexOfThis[e]=pa(Ye)?zw(n,Ye,e):0),Ye.producerLastReadVersion[e]=n.version}function Hw(){Pp++}function kp(n){if(!(pa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Pp)){if(!n.producerMustRecompute(n)&&!Vp(n)){Mp(n);return}n.producerRecomputeValue(n),Mp(n)}}function Op(n){if(n.liveConsumerNode===void 0)return;let e=_u;_u=!0;try{for(let t of n.liveConsumerNode)t.dirty||KP(t)}finally{_u=e}}function Fp(){return Ye?.consumerAllowSignalWrites!==!1}function KP(n){n.dirty=!0,Op(n),n.consumerMarkedDirty?.(n)}function Mp(n){n.dirty=!1,n.lastCleanEpoch=Pp}function Iu(n){return n&&(n.nextProducerIndex=0),fe(n)}function Lp(n,e){if(fe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(pa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)wu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Vp(n){bu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(kp(t),r!==t.version))return!0}return!1}function jp(n){if(bu(n),pa(n))for(let e=0;e<n.producerNode.length;e++)wu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function zw(n,e,t){if(qw(n),n.liveConsumerNode.length===0&&Gw(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=zw(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function wu(n,e){if(qw(n),n.liveConsumerNode.length===1&&Gw(n))for(let r=0;r<n.producerNode.length;r++)wu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];bu(i),i.producerIndexOfThis[r]=e}}function pa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function bu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function qw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Gw(n){return n.producerNode!==void 0}function Up(n,e){let t=Object.create(QP);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(kp(t),ma(t),t.value===Eu)throw t.error;return t.value};return r[cn]=t,r}var Ap=Symbol("UNSET"),Rp=Symbol("COMPUTING"),Eu=Symbol("ERRORED"),QP=ce(L({},ga),{value:Ap,dirty:!0,error:null,equal:Np,kind:"computed",producerMustRecompute(n){return n.value===Ap||n.value===Rp},producerRecomputeValue(n){if(n.value===Rp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Rp;let t=Iu(n),r,i=!1;try{r=n.computation(),fe(null),i=e!==Ap&&e!==Eu&&r!==Eu&&n.equal(e,r)}catch(o){r=Eu,n.error=o}finally{Lp(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function YP(){throw new Error}var Ww=YP;function Kw(n){Ww(n)}function Bp(n){Ww=n}var JP=null;function $p(n,e){let t=Object.create(Tu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(ma(t),t.value);return r[cn]=t,r}function ya(n,e){Fp()||Kw(n),n.equal(n.value,e)||(n.value=e,ZP(n))}function Hp(n,e){Fp()||Kw(n),ya(n,e(n.value))}var Tu=ce(L({},ga),{equal:Np,value:void 0,kind:"signal"});function ZP(n){n.version++,Hw(),Op(n),JP?.()}function zp(n){let e=fe(null);try{return n()}finally{fe(e)}}var qp;function va(){return qp}function Qn(n){let e=qp;return qp=n,e}var Du=Symbol("NotFound");function ne(n){return typeof n=="function"}function mo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Cu=mo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function mi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Le=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof Cu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Qw(o)}catch(s){e=e??[],s instanceof Cu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Cu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Qw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&mi(t,e)}remove(e){let{_finalizers:t}=this;t&&mi(t,e),e instanceof n&&e._removeParent(this)}};Le.EMPTY=(()=>{let n=new Le;return n.closed=!0,n})();var Gp=Le.EMPTY;function Su(n){return n instanceof Le||n&&"closed"in n&&ne(n.remove)&&ne(n.add)&&ne(n.unsubscribe)}function Qw(n){ne(n)?n():n.unsubscribe()}var un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yo={setTimeout(n,e,...t){let{delegate:r}=yo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=yo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Au(n){yo.setTimeout(()=>{let{onUnhandledError:e}=un;if(e)e(n);else throw n})}function _a(){}var Yw=Wp("C",void 0,void 0);function Jw(n){return Wp("E",void 0,n)}function Zw(n){return Wp("N",n,void 0)}function Wp(n,e,t){return{kind:n,value:e,error:t}}var yi=null;function vo(n){if(un.useDeprecatedSynchronousErrorHandling){let e=!yi;if(e&&(yi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=yi;if(yi=null,t)throw r}}else n()}function Xw(n){un.useDeprecatedSynchronousErrorHandling&&yi&&(yi.errorThrown=!0,yi.error=n)}var vi=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Su(e)&&e.add(this)):this.destination=ix}static create(e,t,r){return new _o(e,t,r)}next(e){this.isStopped?Qp(Zw(e),this):this._next(e)}error(e){this.isStopped?Qp(Jw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qp(Yw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nx=Function.prototype.bind;function Kp(n,e){return nx.call(n,e)}var Yp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ru(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ru(r)}else Ru(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ru(t)}}},_o=class extends vi{constructor(e,t,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&un.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kp(e.next,o),error:e.error&&Kp(e.error,o),complete:e.complete&&Kp(e.complete,o)}):i=e}this.destination=new Yp(i)}};function Ru(n){un.useDeprecatedSynchronousErrorHandling?Xw(n):Au(n)}function rx(n){throw n}function Qp(n,e){let{onStoppedNotification:t}=un;t&&yo.setTimeout(()=>t(n,e))}var ix={closed:!0,next:_a,error:rx,complete:_a};var Eo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function jt(n){return n}function Mu(...n){return Jp(n)}function Jp(n){return n.length===0?jt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ue=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=sx(t)?t:new _o(t,r,i);return vo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=eb(r),new r((i,o)=>{let s=new _o({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Eo](){return this}pipe(...t){return Jp(t)(this)}toPromise(t){return t=eb(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function eb(n){var e;return(e=n??un.Promise)!==null&&e!==void 0?e:Promise}function ox(n){return n&&ne(n.next)&&ne(n.error)&&ne(n.complete)}function sx(n){return n&&n instanceof vi||ox(n)&&Su(n)}function Zp(n){return ne(n?.lift)}function me(n){return e=>{if(Zp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,r,i){return new Xp(n,e,t,r,i)}var Xp=class extends vi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Io(){return me((n,e)=>{let t=null;n._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var wo=class extends ue{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Zp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return Io()(this)}};var tb=mo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Je=(()=>{class n extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Nu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new tb}next(t){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Gp:(this.currentObservers=null,o.push(t),new Le(()=>{this.currentObservers=null,mi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ue;return t.source=this,t}}return n.create=(e,t)=>new Nu(e,t),n})(),Nu=class extends Je{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Gp}};var ut=class extends Je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var eg={now(){return(eg.delegate||Date).now()},delegate:void 0};var Pu=class extends Le{constructor(e,t){super()}schedule(e,t=0){return this}};var Ea={setInterval(n,e,...t){let{delegate:r}=Ea;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ea;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var bo=class extends Pu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ea.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ea.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,mi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var To=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};To.now=eg.now;var Do=class extends To{constructor(e,t=To.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var tg=new Do(bo);var xu=class extends bo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var ku=class extends Do{};var ng=new ku(xu);var Rt=new ue(n=>n.complete());function nb(n){return n&&ne(n.schedule)}function rb(n){return n[n.length-1]}function Ou(n){return ne(rb(n))?n.pop():void 0}function Ar(n){return nb(rb(n))?n.pop():void 0}function rg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function ob(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function ib(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _i(n){return this instanceof _i?(this.v=n,this):new _i(n)}function sb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(M){return new Promise(function(R,V){o.push([y,M,R,V])>1||u(y,M)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof _i?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function ab(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof ib=="function"?ib(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Fu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Lu(n){return ne(n?.then)}function Vu(n){return ne(n[Eo])}function ju(n){return Symbol.asyncIterator&&ne(n?.[Symbol.asyncIterator])}function Uu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ax(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bu=ax();function $u(n){return ne(n?.[Bu])}function Hu(n){return sb(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield _i(t.read());if(i)return yield _i(void 0);yield yield _i(r)}}finally{t.releaseLock()}})}function zu(n){return ne(n?.getReader)}function He(n){if(n instanceof ue)return n;if(n!=null){if(Vu(n))return cx(n);if(Fu(n))return ux(n);if(Lu(n))return lx(n);if(ju(n))return cb(n);if($u(n))return dx(n);if(zu(n))return hx(n)}throw Uu(n)}function cx(n){return new ue(e=>{let t=n[Eo]();if(ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ux(n){return new ue(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function lx(n){return new ue(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Au)})}function dx(n){return new ue(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function cb(n){return new ue(e=>{fx(n,e).catch(t=>e.error(t))})}function hx(n){return cb(Hu(n))}function fx(n,e){var t,r,i,o;return ob(this,void 0,void 0,function*(){try{for(t=ab(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Mt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Rr(n,e=0){return me((t,r)=>{t.subscribe(pe(r,i=>Mt(r,n,()=>r.next(i),e),()=>Mt(r,n,()=>r.complete(),e),i=>Mt(r,n,()=>r.error(i),e)))})}function Mr(n,e=0){return me((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ub(n,e){return He(n).pipe(Mr(e),Rr(e))}function lb(n,e){return He(n).pipe(Mr(e),Rr(e))}function db(n,e){return new ue(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function hb(n,e){return new ue(t=>{let r;return Mt(t,e,()=>{r=n[Bu](),Mt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function qu(n,e){if(!n)throw new Error("Iterable cannot be null");return new ue(t=>{Mt(t,e,()=>{let r=n[Symbol.asyncIterator]();Mt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function fb(n,e){return qu(Hu(n),e)}function pb(n,e){if(n!=null){if(Vu(n))return ub(n,e);if(Fu(n))return db(n,e);if(Lu(n))return lb(n,e);if(ju(n))return qu(n,e);if($u(n))return hb(n,e);if(zu(n))return fb(n,e)}throw Uu(n)}function xe(n,e){return e?pb(n,e):He(n)}function Z(...n){let e=Ar(n);return xe(n,e)}function Co(n,e){let t=ne(n)?n:()=>n,r=i=>i.error(t());return new ue(e?i=>e.schedule(r,0,i):r)}function ig(n){return!!n&&(n instanceof ue||ne(n.lift)&&ne(n.subscribe))}var Yn=mo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(n,e){return me((t,r)=>{let i=0;t.subscribe(pe(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:px}=Array;function gx(n,e){return px(e)?n(...e):n(e)}function Gu(n){return ie(e=>gx(n,e))}var{isArray:mx}=Array,{getPrototypeOf:yx,prototype:vx,keys:_x}=Object;function Wu(n){if(n.length===1){let e=n[0];if(mx(e))return{args:e,keys:null};if(Ex(e)){let t=_x(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Ex(n){return n&&typeof n=="object"&&yx(n)===vx}function Ku(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Qu(...n){let e=Ar(n),t=Ou(n),{args:r,keys:i}=Wu(n);if(r.length===0)return xe([],e);let o=new ue(Ix(r,e,i?s=>Ku(i,s):jt));return t?o.pipe(Gu(t)):o}function Ix(n,e,t=jt){return r=>{gb(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)gb(e,()=>{let l=xe(n[u],e),h=!1;l.subscribe(pe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function gb(n,e,t){n?Mt(t,n,e):e()}function mb(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?T(M):u.push(M),T=M=>{o&&e.next(M),l++;let R=!1;He(t(M,h++)).subscribe(pe(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let V=u.shift();s?Mt(e,s,()=>T(V)):T(V)}m()}catch(V){e.error(V)}}))};return n.subscribe(pe(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ze(n,e,t=1/0){return ne(e)?Ze((r,i)=>ie((o,s)=>e(r,o,i,s))(He(n(r,i))),t):(typeof e=="number"&&(t=e),me((r,i)=>mb(r,i,n,t)))}function yb(n=1/0){return Ze(jt,n)}function vb(){return yb(1)}function So(...n){return vb()(xe(n,Ar(n)))}function Yu(n){return new ue(e=>{He(n()).subscribe(e)})}function og(...n){let e=Ou(n),{args:t,keys:r}=Wu(n),i=new ue(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;He(t[h]).subscribe(pe(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Ku(r,a):a),o.complete())}))}});return e?i.pipe(Gu(e)):i}function Nt(n,e){return me((t,r)=>{let i=0;t.subscribe(pe(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Nr(n){return me((e,t)=>{let r=null,i=!1,o;r=e.subscribe(pe(t,void 0,void 0,s=>{o=He(n(s,Nr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function _b(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(pe(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Pr(n,e){return ne(e)?Ze(n,e,1):Ze(n,1)}function xr(n){return me((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Jn(n){return n<=0?()=>Rt:me((e,t)=>{let r=0;e.subscribe(pe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ju(n=wx){return me((e,t)=>{let r=!1;e.subscribe(pe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function wx(){return new Yn}function Ei(n){return me((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Zn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Nt((i,o)=>n(i,o,r)):jt,Jn(1),t?xr(e):Ju(()=>new Yn))}function Ao(n){return n<=0?()=>Rt:me((e,t)=>{let r=[];e.subscribe(pe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Nt((i,o)=>n(i,o,r)):jt,Ao(1),t?xr(e):Ju(()=>new Yn))}function Zu(n,e){return me(_b(n,e,arguments.length>=2,!0))}function Xu(...n){let e=Ar(n);return me((t,r)=>{(e?So(n,t,e):So(n,t)).subscribe(r)})}function Ut(n,e){return me((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,h=o++;He(n(u,h)).subscribe(i=pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ag(n){return me((e,t)=>{He(n).subscribe(pe(t,()=>t.complete(),_a)),!t.closed&&e.subscribe(t)})}function lt(n,e,t){let r=ne(n)||e||t?{next:n,error:e,complete:t}:n;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):jt}var bx="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(e,t){super(Dx(e,t)),this.code=e}};function Tx(n){return`NG0${Math.abs(n)}`}function Dx(n,e){return`${Tx(n)}${e?": "+e:""}`}var a0=Symbol("InputSignalNode#UNSET"),Cx=ce(L({},Tu),{transformFn:void 0,applyValueToInputSignal(n,e){ya(n,e)}});function c0(n,e){let t=Object.create(Cx);t.value=n,t.transformFn=e?.transform;function r(){if(ma(t),t.value===a0){let i=null;throw new H(-950,i)}return t.value}return r[cn]=t,r}function Pa(n){return{toString:n}.toString()}var el="__parameters__";function Sx(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function u0(n,e,t){return Pa(()=>{let r=Sx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(el)?u[el]:Object.defineProperty(u,el,{value:[]})[el];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var wg=globalThis;function Re(n){for(let e in n)if(n[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function Ax(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Pt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Pt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Eb(n,e){return n?e?`${n} ${e}`:n:e||""}var Rx=Re({__forward_ref__:Re});function xl(n){return n.__forward_ref__=xl,n.toString=function(){return Pt(this())},n}function Ct(n){return l0(n)?n():n}function l0(n){return typeof n=="function"&&n.hasOwnProperty(Rx)&&n.__forward_ref__===xl}function G(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Lr(n){return{providers:n.providers||[],imports:n.imports||[]}}function kl(n){return Ib(n,h0)||Ib(n,f0)}function d0(n){return kl(n)!==null}function Ib(n,e){return n.hasOwnProperty(e)?n[e]:null}function Mx(n){let e=n&&(n[h0]||n[f0]);return e||null}function wb(n){return n&&(n.hasOwnProperty(bb)||n.hasOwnProperty(Nx))?n[bb]:null}var h0=Re({\u0275prov:Re}),bb=Re({\u0275inj:Re}),f0=Re({ngInjectableDef:Re}),Nx=Re({ngInjectorDef:Re}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=G({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function p0(n){return n&&!!n.\u0275providers}var Px=Re({\u0275cmp:Re}),xx=Re({\u0275dir:Re}),kx=Re({\u0275pipe:Re}),Ox=Re({\u0275mod:Re}),cl=Re({\u0275fac:Re}),Ta=Re({__NG_ELEMENT_ID__:Re}),Tb=Re({__NG_ENV_ID__:Re});function ul(n){return typeof n=="string"?n:n==null?"":String(n)}function Fx(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ul(n)}function g0(n,e){throw new H(-200,n)}function dm(n,e){throw new H(-201,!1)}var ae=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ae||{}),bg;function m0(){return bg}function Kt(n){let e=bg;return bg=n,e}function y0(n,e,t){let r=kl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ae.Optional)return null;if(e!==void 0)return e;dm(n,"Injector")}var Lx={},Ii=Lx,Tg="__NG_DI_FLAG__",ll=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Du:Ii,r)}},dl="ngTempTokenPath",Vx="ngTokenPath",jx=/\n/gm,Ux="\u0275",Db="__source";function Bx(n,e=ae.Default){if(va()===void 0)throw new H(-203,!1);if(va()===null)return y0(n,void 0,e);{let t=va(),r;return t instanceof ll?r=t.injector:r=t,r.get(n,e&ae.Optional?null:void 0,e)}}function X(n,e=ae.Default){return(m0()||Bx)(Ct(n),e)}function x(n,e=ae.Default){return X(n,Ol(e))}function Ol(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Dg(n){let e=[];for(let t=0;t<n.length;t++){let r=Ct(n[t]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let a=r[s],u=$x(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(X(i,o))}else e.push(X(r))}return e}function v0(n,e){return n[Tg]=e,n.prototype[Tg]=e,n}function $x(n){return n[Tg]}function Hx(n,e,t,r){let i=n[dl];throw e[Db]&&i.unshift(e[Db]),n.message=zx(`
`+n.message,i,t,r),n[Vx]=i,n[dl]=null,n}function zx(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Ux?n.slice(2):n;let i=Pt(e);if(Array.isArray(e))i=e.map(Pt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Pt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(jx,`
  `)}`}var It=v0(u0("Optional"),8);var qx=v0(u0("SkipSelf"),4);function xo(n,e){let t=n.hasOwnProperty(cl);return t?n[cl]:null}function hm(n,e){n.forEach(t=>Array.isArray(t)?hm(t,e):e(t))}function _0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function hl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Gx(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Wx(n,e,t){let r=xa(n,e);return r>=0?n[r|1]=t:(r=~r,Gx(n,r,e,t)),r}function cg(n,e){let t=xa(n,e);if(t>=0)return n[t|1]}function xa(n,e){return Kx(n,e,1)}function Kx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var bi={},Qt=[],Da=new $(""),E0=new $("",-1),I0=new $(""),fl=class{get(e,t=Ii){if(t===Ii){let r=new Error(`NullInjectorError: No provider for ${Pt(e)}!`);throw r.name="NullInjectorError",r}return t}};function w0(n,e){let t=n[Ox]||null;if(!t&&e===!0)throw new Error(`Type ${Pt(n)} does not have '\u0275mod' property.`);return t}function ko(n){return n[Px]||null}function Qx(n){return n[xx]||null}function Yx(n){return n[kx]||null}function Bt(n){return{\u0275providers:n}}function Jx(...n){return{\u0275providers:b0(!0,n),\u0275fromNgModule:!0}}function b0(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return hm(e,s=>{let a=s;Cg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&T0(i,o),t}function T0(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];fm(i,o=>{e(o,r)})}}function Cg(n,e,t,r){if(n=Ct(n),!n)return!1;let i=null,o=wb(n),s=!o&&ko(n);if(!o&&!s){let u=n.ngModule;if(o=wb(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Cg(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{hm(o.imports,h=>{Cg(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&T0(l,e)}if(!a){let l=xo(i)||(()=>new i);e({provide:i,useFactory:l,deps:Qt},i),e({provide:I0,useValue:i,multi:!0},i),e({provide:Da,useValue:()=>X(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;fm(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function fm(n,e){for(let t of n)p0(t)&&(t=t.\u0275providers),Array.isArray(t)?fm(t,e):e(t)}var Zx=Re({provide:String,useValue:Re});function D0(n){return n!==null&&typeof n=="object"&&Zx in n}function Xx(n){return!!(n&&n.useExisting)}function ek(n){return!!(n&&n.useFactory)}function Oo(n){return typeof n=="function"}function tk(n){return!!n.useClass}var Fl=new $(""),rl={},Cb={},ug;function pm(){return ug===void 0&&(ug=new fl),ug}var Et=class{},Ca=class extends Et{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Ag(e,s=>this.processProvider(s)),this.records.set(E0,Ro(void 0,this)),i.has("environment")&&this.records.set(Et,Ro(void 0,this));let o=this.records.get(Fl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(I0,Qt,ae.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Du:Ii,r)}destroy(){wa(this),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return wa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){wa(this);let t=Qn(this),r=Kt(void 0),i;try{return e()}finally{Qn(t),Kt(r)}}get(e,t=Ii,r=ae.Default){if(wa(this),e.hasOwnProperty(Tb))return e[Tb](this);r=Ol(r);let i,o=Qn(this),s=Kt(void 0);try{if(!(r&ae.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=sk(e)&&kl(e);l&&this.injectableDefInScope(l)?u=Ro(Sg(e),rl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&ae.Self?pm():this.parent;return t=r&ae.Optional&&t===Ii?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[dl]=a[dl]||[]).unshift(Pt(e)),o)throw a;return Hx(a,e,"R3InjectorError",this.source)}else throw a}finally{Kt(s),Qn(o)}}resolveInjectorInitializers(){let e=fe(null),t=Qn(this),r=Kt(void 0),i;try{let o=this.get(Da,Qt,ae.Self);for(let s of o)s()}finally{Qn(t),Kt(r),fe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Pt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ct(e);let t=Oo(e)?e:Ct(e&&e.provide),r=rk(e);if(!Oo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ro(void 0,rl,!0),i.factory=()=>Dg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=fe(null);try{return t.value===Cb?g0(Pt(e)):t.value===rl&&(t.value=Cb,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&ok(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{fe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ct(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Sg(n){let e=kl(n),t=e!==null?e.factory:xo(n);if(t!==null)return t;if(n instanceof $)throw new H(204,!1);if(n instanceof Function)return nk(n);throw new H(204,!1)}function nk(n){if(n.length>0)throw new H(204,!1);let t=Mx(n);return t!==null?()=>t.factory(n):()=>new n}function rk(n){if(D0(n))return Ro(void 0,n.useValue);{let e=C0(n);return Ro(e,rl)}}function C0(n,e,t){let r;if(Oo(n)){let i=Ct(n);return xo(i)||Sg(i)}else if(D0(n))r=()=>Ct(n.useValue);else if(ek(n))r=()=>n.useFactory(...Dg(n.deps||[]));else if(Xx(n))r=(i,o)=>X(Ct(n.useExisting),o!==void 0&&o&ae.Optional?ae.Optional:void 0);else{let i=Ct(n&&(n.useClass||n.provide));if(ik(n))r=()=>new i(...Dg(n.deps));else return xo(i)||Sg(i)}return r}function wa(n){if(n.destroyed)throw new H(205,!1)}function Ro(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ik(n){return!!n.deps}function ok(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function sk(n){return typeof n=="function"||typeof n=="object"&&n instanceof $}function Ag(n,e){for(let t of n)Array.isArray(t)?Ag(t,e):t&&p0(t)?Ag(t.\u0275providers,e):e(t)}function ht(n,e){let t;n instanceof Ca?(wa(n),t=n):t=new ll(n);let r,i=Qn(t),o=Kt(void 0);try{return e()}finally{Qn(i),Kt(o)}}function S0(){return m0()!==void 0||va()!=null}function A0(n){if(!S0())throw new H(-203,!1)}function ak(n){return typeof n=="function"}var tr=0,ye=1,oe=2,St=3,dn=4,fn=5,pl=6,gl=7,xt=8,Fo=9,Fr=10,dt=11,Sa=12,Sb=13,Go=14,En=15,Lo=16,Mo=17,Vo=18,Ll=19,R0=20,kr=21,lg=22,ml=23,Yt=24,dg=25,hn=26,M0=1;var Ti=7,yl=8,vl=9,Jt=10;function Or(n){return Array.isArray(n)&&typeof n[M0]=="object"}function nr(n){return Array.isArray(n)&&n[M0]===!0}function gm(n){return(n.flags&4)!==0}function Wo(n){return n.componentOffset>-1}function Vl(n){return(n.flags&1)===1}function In(n){return!!n.template}function _l(n){return(n[oe]&512)!==0}function Ko(n){return(n[oe]&256)===256}var Rg=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function N0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var ka=(()=>{let n=()=>P0;return n.ngInherit=!0,n})();function P0(n){return n.type.prototype.ngOnChanges&&(n.setInput=uk),ck}function ck(){let n=k0(this),e=n?.current;if(e){let t=n.previous;if(t===bi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function uk(n,e,t,r,i){let o=this.declaredInputs[r],s=k0(n)||lk(n,{previous:bi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Rg(l&&l.currentValue,t,u===bi),N0(n,e,i,t)}var x0="__ngSimpleChanges__";function k0(n){return n[x0]||null}function lk(n,e){return n[x0]=e}var Ab=null;var Me=function(n,e=null,t){Ab?.(n,e,t)},dk="svg",hk="math";function wn(n){for(;Array.isArray(n);)n=n[tr];return n}function O0(n,e){return wn(e[n])}function rr(n,e){return wn(e[n.index])}function F0(n,e){return n.data[e]}function fk(n,e){return n[e]}function bn(n,e){let t=e[n];return Or(t)?t:t[tr]}function mm(n){return(n[oe]&128)===128}function pk(n){return nr(n[St])}function jo(n,e){return e==null?null:n[e]}function L0(n){n[Mo]=0}function V0(n){n[oe]&1024||(n[oe]|=1024,mm(n)&&Ul(n))}function gk(n,e){for(;n>0;)e=e[Go],n--;return e}function jl(n){return!!(n[oe]&9216||n[Yt]?.dirty)}function Mg(n){n[Fr].changeDetectionScheduler?.notify(8),n[oe]&64&&(n[oe]|=1024),jl(n)&&Ul(n)}function Ul(n){n[Fr].changeDetectionScheduler?.notify(0);let e=Di(n);for(;e!==null&&!(e[oe]&8192||(e[oe]|=8192,!mm(e)));)e=Di(e)}function j0(n,e){if(Ko(n))throw new H(911,!1);n[kr]===null&&(n[kr]=[]),n[kr].push(e)}function mk(n,e){if(n[kr]===null)return;let t=n[kr].indexOf(e);t!==-1&&n[kr].splice(t,1)}function Di(n){let e=n[St];return nr(e)?e[St]:e}function U0(n){return n[gl]??=[]}function B0(n){return n.cleanup??=[]}var de={lFrame:Y0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ng=!1;function yk(){return de.lFrame.elementDepthCount}function vk(){de.lFrame.elementDepthCount++}function _k(){de.lFrame.elementDepthCount--}function ym(){return de.bindingsEnabled}function Ek(){return de.skipHydrationRootTNode!==null}function Ik(n){return de.skipHydrationRootTNode===n}function wk(){de.skipHydrationRootTNode=null}function je(){return de.lFrame.lView}function Zt(){return de.lFrame.tView}function ir(n){return de.lFrame.contextLView=n,n[xt]}function or(n){return de.lFrame.contextLView=null,n}function Xt(){let n=$0();for(;n!==null&&n.type===64;)n=n.parent;return n}function $0(){return de.lFrame.currentTNode}function bk(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Mi(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function vm(){return de.lFrame.isParent}function H0(){de.lFrame.isParent=!1}function Tk(){return de.lFrame.contextLView}function z0(){return Ng}function Rb(n){let e=Ng;return Ng=n,e}function Dk(){return de.lFrame.bindingIndex}function Ck(n){return de.lFrame.bindingIndex=n}function q0(){return de.lFrame.bindingIndex++}function G0(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Sk(){return de.lFrame.inI18n}function Ak(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,Pg(e)}function Rk(){return de.lFrame.currentDirectiveIndex}function Pg(n){de.lFrame.currentDirectiveIndex=n}function Mk(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function W0(n){de.lFrame.currentQueryIndex=n}function Nk(n){let e=n[ye];return e.type===2?e.declTNode:e.type===1?n[fn]:null}function K0(n,e,t){if(t&ae.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ae.Host);)if(i=Nk(o),i===null||(o=o[Go],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=de.lFrame=Q0();return r.currentTNode=e,r.lView=n,!0}function _m(n){let e=Q0(),t=n[ye];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Q0(){let n=de.lFrame,e=n===null?null:n.child;return e===null?Y0(n):e}function Y0(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function J0(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Z0=J0;function Em(){let n=J0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Pk(n){return(de.lFrame.contextLView=gk(n,de.lFrame.contextLView))[xt]}function Ni(){return de.lFrame.selectedIndex}function Ci(n){de.lFrame.selectedIndex=n}function xk(){let n=de.lFrame;return F0(n.tView,n.selectedIndex)}function kk(){return de.lFrame.currentNamespace}var X0=!0;function Bl(){return X0}function $l(n){X0=n}function Ok(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=P0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Im(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function il(n,e,t){eT(n,e,3,t)}function ol(n,e,t,r){(n[oe]&3)===t&&eT(n,e,t,r)}function hg(n,e){let t=n[oe];(t&3)===e&&(t&=16383,t+=1,n[oe]=t)}function eT(n,e,t,r){let i=r!==void 0?n[Mo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Mo]+=65536),(a<o||o==-1)&&(Fk(n,t,e,u),n[Mo]=(n[Mo]&4294901760)+u+2),u++}function Mb(n,e){Me(4,n,e);let t=fe(null);try{e.call(n)}finally{fe(t),Me(5,n,e)}}function Fk(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[oe]>>14<n[Mo]>>16&&(n[oe]&3)===e&&(n[oe]+=16384,Mb(a,o)):Mb(a,o)}var Po=-1,Si=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function Lk(n){return(n.flags&8)!==0}function Vk(n){return(n.flags&16)!==0}function jk(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Bk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Uk(n){return n===3||n===4||n===6}function Bk(n){return n.charCodeAt(0)===64}function Uo(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Nb(n,t,i,null,e[++r]):Nb(n,t,i,null,null))}}return n}function Nb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function tT(n){return n!==Po}function El(n){return n&32767}function $k(n){return n>>16}function Il(n,e){let t=$k(n),r=e;for(;t>0;)r=r[Go],t--;return r}var xg=!0;function Pb(n){let e=xg;return xg=n,e}var Hk=256,nT=Hk-1,rT=5,zk=0,_n={};function qk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ta)&&(r=t[Ta]),r==null&&(r=t[Ta]=zk++);let i=r&nT,o=1<<i;e.data[n+(i>>rT)]|=o}function wl(n,e){let t=iT(n,e);if(t!==-1)return t;let r=e[ye];r.firstCreatePass&&(n.injectorIndex=e.length,fg(r.data,n),fg(e,null),fg(r.blueprint,null));let i=wm(n,e),o=n.injectorIndex;if(tT(i)){let s=El(i),a=Il(i,e),u=a[ye].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function fg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function iT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function wm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=uT(i),r===null)return Po;if(t++,i=i[Go],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Po}function kg(n,e,t){qk(n,e,t)}function oT(n,e,t){if(t&ae.Optional||n!==void 0)return n;dm(e,"NodeInjector")}function sT(n,e,t,r){if(t&ae.Optional&&r===void 0&&(r=null),(t&(ae.Self|ae.Host))===0){let i=n[Fo],o=Kt(void 0);try{return i?i.get(e,r,t&ae.Optional):y0(e,r,t&ae.Optional)}finally{Kt(o)}}return oT(r,e,t)}function aT(n,e,t,r=ae.Default,i){if(n!==null){if(e[oe]&2048&&!(r&ae.Self)){let s=Yk(n,e,t,r,_n);if(s!==_n)return s}let o=cT(n,e,t,r,_n);if(o!==_n)return o}return sT(e,t,r,i)}function cT(n,e,t,r,i){let o=Kk(t);if(typeof o=="function"){if(!K0(e,n,r))return r&ae.Host?oT(i,t,r):sT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))dm(t);else return s}finally{Z0()}}else if(typeof o=="number"){let s=null,a=iT(n,e),u=Po,l=r&ae.Host?e[En][fn]:null;for((a===-1||r&ae.SkipSelf)&&(u=a===-1?wm(n,e):e[a+8],u===Po||!kb(r,!1)?a=-1:(s=e[ye],a=El(u),e=Il(u,e)));a!==-1;){let h=e[ye];if(xb(o,a,h.data)){let p=Gk(a,e,t,s,r,l);if(p!==_n)return p}u=e[a+8],u!==Po&&kb(r,e[ye].data[a+8]===l)&&xb(o,a,e)?(s=h,a=El(u),e=Il(u,e)):a=-1}}return i}function Gk(n,e,t,r,i,o){let s=e[ye],a=s.data[n+8],u=r==null?Wo(a)&&xg:r!=s&&(a.type&3)!==0,l=i&ae.Host&&o===a,h=Wk(a,s,t,u,l);return h!==null?bl(e,s,h,a,i):_n}function Wk(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let T=s[y];if(y<u&&t===T||y>=u&&T.type===t)return y}if(i){let y=s[u];if(y&&In(y)&&y.type===t)return u}return null}function bl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Si){let a=o;a.resolving&&g0(Fx(s[t]));let u=Pb(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Kt(a.injectImpl):null,p=K0(n,r,ae.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&Ok(t,s[t],e)}finally{h!==null&&Kt(h),Pb(u),a.resolving=!1,Z0()}}return o}function Kk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ta)?n[Ta]:void 0;return typeof e=="number"?e>=0?e&nT:Qk:e}function xb(n,e,t){let r=1<<n;return!!(t[e+(n>>rT)]&r)}function kb(n,e){return!(n&ae.Self)&&!(n&ae.Host&&e)}var wi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return aT(this._tNode,this._lView,e,Ol(r),t)}};function Qk(){return new wi(Xt(),je())}function Hl(n){return Pa(()=>{let e=n.prototype.constructor,t=e[cl]||Og(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[cl]||Og(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Og(n){return l0(n)?()=>{let e=Og(Ct(n));return e&&e()}:xo(n)}function Yk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[oe]&2048&&!_l(s);){let a=cT(o,s,t,r|ae.Self,_n);if(a!==_n)return a;let u=o.parent;if(!u){let l=s[R0];if(l){let h=l.get(t,_n,r);if(h!==_n)return h}u=uT(s),s=s[Go]}o=u}return i}function uT(n){let e=n[ye],t=e.type;return t===2?e.declTNode:t===1?n[fn]:null}function Ob(n,e=null,t=null,r){let i=lT(n,e,t,r);return i.resolveInjectorInitializers(),i}function lT(n,e=null,t=null,r,i=new Set){let o=[t||Qt,Jx(n)];return r=r||(typeof n=="object"?void 0:Pt(n)),new Ca(o,e||pm(),r||null,i)}var Xe=class n{static THROW_IF_NOT_FOUND=Ii;static NULL=new fl;static create(e,t){if(Array.isArray(e))return Ob({name:""},t,e,"");{let r=e.name??"";return Ob({name:r},e.parent,e.providers,r)}}static \u0275prov=G({token:n,providedIn:"any",factory:()=>X(E0)});static __NG_ELEMENT_ID__=-1};var Jk=new $("");Jk.__NG_ELEMENT_ID__=n=>{let e=Xt();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(n&ae.Optional)return null;throw new H(204,!1)};var dT=!1,Qo=(()=>{class n{static __NG_ELEMENT_ID__=Zk;static __NG_ENV_ID__=t=>t}return n})(),Fg=class extends Qo{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Ko(t)?(e(),()=>{}):(j0(t,e),()=>mk(t,e))}};function Zk(){return new Fg(je())}var Bo=class{},bm=new $("",{providedIn:"root",factory:()=>!1});var hT=new $(""),fT=new $(""),sr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ut(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),zl=(()=>{class n{internalPendingTasks=x(sr);scheduler=x(Bo);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return v(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),Lg=class extends Je{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,S0()&&(this.destroyRef=x(Qo,{optional:!0})??void 0,this.pendingTasks=x(sr,{optional:!0})??void 0)}emit(e){let t=fe(null);try{super.next(e)}finally{fe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Le&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ve=Lg;function Tl(...n){}function pT(n){let e,t;function r(){n=Tl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Fb(n){return queueMicrotask(()=>n()),()=>{n=Tl}}var Tm="isAngularZone",Dl=Tm+"_ID",Xk=0,be=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ve(!1);onMicrotaskEmpty=new Ve(!1);onStable=new Ve(!1);onError=new Ve(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=dT}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,nO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Tm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,eO,Tl,Tl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},eO={};function Dm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function tO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){pT(()=>{n.callbackScheduled=!1,Vg(n),n.isCheckStableRunning=!0,Dm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Vg(n)}function nO(n){let e=()=>{tO(n)},t=Xk++;n._inner=n._inner.fork({name:"angular",properties:{[Tm]:!0,[Dl]:t,[Dl+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(rO(u))return r.invokeTask(o,s,a,u);try{return Lb(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Vb(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return Lb(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!iO(u)&&e(),Vb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Vg(n),Dm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Vg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Lb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Vb(n){n._nesting--,Dm(n)}var jg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ve;onMicrotaskEmpty=new Ve;onStable=new Ve;onError=new Ve;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function rO(n){return gT(n,"__ignore_ng_zone__")}function iO(n){return gT(n,"__scheduler_tick__")}function gT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Xn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},oO=new $("",{providedIn:"root",factory:()=>{let n=x(be),e=x(Xn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function jb(n,e){return c0(n,e)}function sO(n){return c0(a0,n)}var mT=(jb.required=sO,jb);function aO(){return ql(Xt(),je())}function ql(n,e){return new Gl(rr(n,e))}var Gl=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=aO}return n})();function Dn(n,e){let t=$p(n,e?.equal),r=t[cn];return t.set=i=>ya(r,i),t.update=i=>Hp(r,i),t.asReadonly=cO.bind(t),t}function cO(){let n=this[cn];if(n.readonlyFn===void 0){let e=()=>this();e[cn]=n,n.readonlyFn=e}return n.readonlyFn}function yT(n){return(n.flags&128)===128}var vT=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(vT||{}),_T=new Map,uO=0;function lO(){return uO++}function dO(n){_T.set(n[Ll],n)}function Ug(n){_T.delete(n[Ll])}var Ub="__ngContext__";function Yo(n,e){Or(e)?(n[Ub]=e[Ll],dO(e)):n[Ub]=e}function ET(n){return wT(n[Sa])}function IT(n){return wT(n[dn])}function wT(n){for(;n!==null&&!nr(n);)n=n[dn];return n}var Bg;function bT(n){Bg=n}function hO(){if(Bg!==void 0)return Bg;if(typeof document<"u")return document;throw new H(210,!1)}var Cm=new $("",{providedIn:"root",factory:()=>fO}),fO="ng",Sm=new $(""),Cn=new $("",{providedIn:"platform",factory:()=>"unknown"});var Am=new $("",{providedIn:"root",factory:()=>hO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var pO="h",gO="b";var TT=!1,mO=new $("",{providedIn:"root",factory:()=>TT});var DT=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(DT||{}),Wl=new $(""),Bb=new Set;function Rm(n){Bb.has(n)||(Bb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var yO=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})();var vO=(n,e,t,r)=>{};function _O(n,e,t,r){vO(n,e,t,r)}var EO=()=>null;function CT(n,e,t=!1){return EO(n,e,t)}function ST(n,e){let t=n.contentQueries;if(t!==null){let r=fe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];W0(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function $g(n,e,t){W0(0);let r=fe(null);try{e(n,t)}finally{fe(r)}}function Mm(n,e,t){if(gm(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{fe(r)}}}var Tn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Tn||{}),tl;function IO(){if(tl===void 0&&(tl=null,wg.trustedTypes))try{tl=wg.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return tl}function wO(n){return IO()?.createScriptURL(n)||n}var Hg=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bx})`}};function bO(n){return n instanceof Hg?n.changingThisBreaksApplicationSecurity:n}function AT(n){return wO(n[0])}var TO=/^>|^->|<!--|-->|--!>|<!-$/g,DO=/(<|>)/g,CO="\u200B$1\u200B";function SO(n){return n.replace(TO,e=>e.replace(DO,CO))}function RT(n){return n instanceof Function?n():n}function AO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var MT="ng-template";function RO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&AO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Nm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Nm(n){return n.type===4&&n.value!==MT}function MO(n,e,t){let r=n.type===4&&!t?MT:n.value;return e===r}function NO(n,e,t){let r=4,i=n.attrs,o=i!==null?kO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!ln(r)&&!ln(u))return!1;if(s&&ln(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!MO(n,u,t)||u===""&&e.length===1){if(ln(r))return!1;s=!0}}else if(r&8){if(i===null||!RO(n,i,u,t)){if(ln(r))return!1;s=!0}}else{let l=e[++a],h=PO(u,i,Nm(n),t);if(h===-1){if(ln(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(ln(r))return!1;s=!0}}}}return ln(r)||s}function ln(n){return(n&1)===0}function PO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return OO(e,n)}function xO(n,e,t=!1){for(let r=0;r<e.length;r++)if(NO(n,e[r],t))return!0;return!1}function kO(n){for(let e=0;e<n.length;e++){let t=n[e];if(Uk(t))return e}return n.length}function OO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function $b(n,e){return n?":not("+e.trim()+")":e}function FO(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ln(s)&&(e+=$b(o,i),i=""),r=s,o=o||!ln(r);t++}return i!==""&&(e+=$b(o,i)),e}function LO(n){return n.map(FO).join(",")}function VO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!ln(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Vr={};function jO(n,e){return n.createText(e)}function UO(n,e,t){n.setValue(e,t)}function BO(n,e){return n.createComment(SO(e))}function NT(n,e,t){return n.createElement(e,t)}function Cl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function PT(n,e,t){n.appendChild(e,t)}function Hb(n,e,t,r,i){r!==null?Cl(n,e,t,r,i):PT(n,e,t)}function $O(n,e,t){n.removeChild(null,e,t)}function HO(n,e,t){n.setAttribute(e,"style",t)}function zO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function xT(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&jk(n,e,r),i!==null&&zO(n,e,i),o!==null&&HO(n,e,o)}function Pm(n,e,t,r,i,o,s,a,u,l,h){let p=hn+r,m=p+i,y=qO(p,m),T=typeof l=="function"?l():l;return y[ye]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function qO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Vr);return t}function GO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Pm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function xm(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[tr]=i,p[oe]=r|4|128|8|64|1024,(l!==null||n&&n[oe]&2048)&&(p[oe]|=2048),L0(p),p[St]=p[Go]=n,p[xt]=t,p[Fr]=s||n&&n[Fr],p[dt]=a||n&&n[dt],p[Fo]=u||n&&n[Fo]||null,p[fn]=o,p[Ll]=lO(),p[pl]=h,p[R0]=l,p[En]=e.type==2?n[En]:p,p}function WO(n,e,t){let r=rr(e,n),i=GO(t),o=n[Fr].rendererFactory,s=km(n,xm(n,i,null,kT(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function kT(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function OT(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function km(n,e){return n[Sa]?n[Sb][dn]=e:n[Sa]=e,n[Sb]=e,e}function j(n=1){FT(Zt(),je(),Ni()+n,!1)}function FT(n,e,t,r){if(!r)if((e[oe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&il(e,o,t)}else{let o=n.preOrderHooks;o!==null&&ol(e,o,0,t)}Ci(t)}var Kl=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Kl||{});function zg(n,e,t,r){let i=fe(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Kl.SignalBased)!==0&&(u=e[o][cn]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):N0(e,u,o,r)}finally{fe(i)}}function LT(n,e,t,r,i){let o=Ni(),s=r&2;try{Ci(-1),s&&e.length>hn&&FT(n,e,hn,!1),Me(s?2:0,i),t(r,i)}finally{Ci(o),Me(s?3:1,i)}}function Ql(n,e,t){e1(n,e,t),(t.flags&64)===64&&t1(n,e,t)}function Om(n,e,t=rr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function KO(n,e,t,r){let o=r.get(mO,TT)||t===Tn.ShadowDom,s=n.selectRootElement(e,o);return QO(s),s}function QO(n){YO(n)}var YO=()=>null;function JO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function ZO(n,e,t,r,i,o,s,a){if(!a&&Lm(e,n,t,r,i)){Wo(e)&&XO(t,e.index);return}if(e.type&3){let u=rr(e,t);r=JO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function XO(n,e){let t=bn(e,n);t[oe]&16||(t[oe]|=64)}function e1(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Wo(t)&&WO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||wl(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=bl(e,n,s,t);if(Yo(u,e),o!==null&&r1(e,s-r,u,a,t,o),In(a)){let l=bn(t.index,e);l[xt]=bl(e,n,s,t)}}}function t1(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Rk();try{Ci(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Pg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&n1(u,l)}}finally{Ci(-1),Pg(s)}}function n1(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Fm(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];xO(e,o.selectors,!1)&&(r??=[],In(o)?r.unshift(o):r.push(o))}return r}function r1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];zg(r,t,u,l)}}function i1(n,e){let t=n[Fo],r=t?t.get(Xn,null):null;r&&r.handleError(e)}function Lm(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];zg(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];zg(h,l,r,i),a=!0}return a}function o1(n,e){let t=bn(e,n),r=t[ye];s1(r,t);let i=t[tr];i!==null&&t[pl]===null&&(t[pl]=CT(i,t[Fo])),Me(18),Vm(r,t,t[xt]),Me(19,t[xt])}function s1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Vm(n,e,t){_m(e);try{let r=n.viewQuery;r!==null&&$g(1,r,t);let i=n.template;i!==null&&LT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Vo]?.finishViewCreation(n),n.staticContentQueries&&ST(n,e),n.staticViewQueries&&$g(2,n.viewQuery,t);let o=n.components;o!==null&&a1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[oe]&=-5,Em()}}function a1(n,e){for(let t=0;t<e.length;t++)o1(n,e[t])}function c1(n,e,t,r){let i=fe(null);try{let o=e.tView,a=n[oe]&4096?4096:16,u=xm(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Lo]=l;let h=n[Vo];return h!==null&&(u[Vo]=h.createEmbeddedView(o)),Vm(o,u,t),u}finally{fe(i)}}function zb(n,e){return!e||e.firstChild===null||yT(n)}var u1;function jm(n,e){return u1(n,e)}var er=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(er||{});function VT(n){return(n.flags&32)===32}function No(n,e,t,r,i){if(r!=null){let o,s=!1;nr(r)?o=r:Or(r)&&(s=!0,r=r[tr]);let a=wn(r);n===0&&t!==null?i==null?PT(e,t,a):Cl(e,t,a,i||null,!0):n===1&&t!==null?Cl(e,t,a,i||null,!0):n===2?$O(e,a,s):n===3&&e.destroyNode(a),o!=null&&I1(e,n,o,t,i)}}function l1(n,e){jT(n,e),e[tr]=null,e[fn]=null}function d1(n,e,t,r,i,o){r[tr]=i,r[fn]=e,Jl(n,r,t,1,i,o)}function jT(n,e){e[Fr].changeDetectionScheduler?.notify(9),Jl(n,e,e[dt],2,null,null)}function h1(n){let e=n[Sa];if(!e)return pg(n[ye],n);for(;e;){let t=null;if(Or(e))t=e[Sa];else{let r=e[Jt];r&&(t=r)}if(!t){for(;e&&!e[dn]&&e!==n;)Or(e)&&pg(e[ye],e),e=e[St];e===null&&(e=n),Or(e)&&pg(e[ye],e),t=e&&e[dn]}e=t}}function Um(n,e){let t=n[vl],r=t.indexOf(e);t.splice(r,1)}function UT(n,e){if(Ko(e))return;let t=e[dt];t.destroyNode&&Jl(n,e,t,3,null,null),h1(e)}function pg(n,e){if(Ko(e))return;let t=fe(null);try{e[oe]&=-129,e[oe]|=256,e[Yt]&&jp(e[Yt]),p1(n,e),f1(n,e),e[ye].type===1&&e[dt].destroy();let r=e[Lo];if(r!==null&&nr(e[St])){r!==e[St]&&Um(r,e);let i=e[Vo];i!==null&&i.detachView(n)}Ug(e)}finally{fe(t)}}function f1(n,e){let t=n.cleanup,r=e[gl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[gl]=null);let i=e[kr];if(i!==null){e[kr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ml];if(o!==null){e[ml]=null;for(let s of o)s.destroy()}}function p1(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Si)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Me(4,a,u);try{u.call(a)}finally{Me(5,a,u)}}else{Me(4,i,o);try{o.call(i)}finally{Me(5,i,o)}}}}}function g1(n,e,t){return m1(n,e.parent,t)}function m1(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[tr];if(Wo(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Tn.None||i===Tn.Emulated)return null}return rr(r,t)}function y1(n,e,t){return _1(n,e,t)}function v1(n,e,t){return n.type&40?rr(n,t):null}var _1=v1,qb;function Yl(n,e,t,r){let i=g1(n,r,e),o=e[dt],s=r.parent||e[fn],a=y1(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Hb(o,i,t[u],a,!1);else Hb(o,i,t,a,!1);qb!==void 0&&qb(o,r,e,t,i)}function ba(n,e){if(e!==null){let t=e.type;if(t&3)return rr(e,n);if(t&4)return qg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ba(n,r);{let i=n[e.index];return nr(i)?qg(-1,i):wn(i)}}else{if(t&128)return ba(n,e.next);if(t&32)return jm(e,n)()||wn(n[e.index]);{let r=BT(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Di(n[En]);return ba(i,r)}else return ba(n,e.next)}}}return null}function BT(n,e){if(e!==null){let r=n[En][fn],i=e.projection;return r.projection[i]}return null}function qg(n,e){let t=Jt+n+1;if(t<e.length){let r=e[t],i=r[ye].firstChild;if(i!==null)return ba(r,i)}return e[Ti]}function Bm(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Yo(wn(a),r),t.flags|=2),!VT(t))if(u&8)Bm(n,e,t.child,r,i,o,!1),No(e,n,i,a,o);else if(u&32){let l=jm(t,r),h;for(;h=l();)No(e,n,i,h,o);No(e,n,i,a,o)}else u&16?E1(n,e,r,t,i,o):No(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Jl(n,e,t,r,i,o){Bm(t,r,n.firstChild,e,i,o,!1)}function E1(n,e,t,r,i,o){let s=t[En],u=s[fn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];No(e,n,i,h,o)}else{let l=u,h=s[St];yT(r)&&(l.flags|=128),Bm(n,e,l,h,i,o,!0)}}function I1(n,e,t,r,i){let o=t[Ti],s=wn(t);o!==s&&No(e,n,r,o,i);for(let a=Jt;a<t.length;a++){let u=t[a];Jl(u[ye],u,n,e,r,o)}}function w1(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:er.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=er.Important),n.setStyle(t,r,i,o))}}function Sl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(wn(o)),nr(o)&&b1(o,r);let s=t.type;if(s&8)Sl(n,e,t.child,r);else if(s&32){let a=jm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=BT(e,t);if(Array.isArray(a))r.push(...a);else{let u=Di(e[En]);Sl(u[ye],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function b1(n,e){for(let t=Jt;t<n.length;t++){let r=n[t],i=r[ye].firstChild;i!==null&&Sl(r[ye],r,i,e)}n[Ti]!==n[tr]&&e.push(n[Ti])}function $T(n){if(n[dg]!==null){for(let e of n[dg])e.impl.addSequence(e);n[dg].length=0}}var HT=[];function T1(n){return n[Yt]??D1(n)}function D1(n){let e=HT.pop()??Object.create(S1);return e.lView=n,e}function C1(n){n.lView[Yt]!==n&&(n.lView=null,HT.push(n))}var S1=ce(L({},ga),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ul(n.lView)},consumerOnSignalRead(){this.lView[Yt]=this}});function A1(n){let e=n[Yt]??Object.create(R1);return e.lView=n,e}var R1=ce(L({},ga),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Di(n.lView);for(;e&&!zT(e[ye]);)e=Di(e);e&&V0(e)},consumerOnSignalRead(){this.lView[Yt]=this}});function zT(n){return n.type!==2}function qT(n){if(n[ml]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[ml])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[oe]&8192)}}var M1=100;function GT(n,e=!0,t=0){let i=n[Fr].rendererFactory,o=!1;o||i.begin?.();try{N1(n,t)}catch(s){throw e&&i1(n,s),s}finally{o||i.end?.()}}function N1(n,e){let t=z0();try{Rb(!0),Gg(n,e);let r=0;for(;jl(n);){if(r===M1)throw new H(103,!1);r++,Gg(n,1)}}finally{Rb(t)}}function P1(n,e,t,r){if(Ko(e))return;let i=e[oe],o=!1,s=!1;_m(e);let a=!0,u=null,l=null;o||(zT(n)?(l=T1(e),u=Iu(l)):xp()===null?(a=!1,l=A1(e),u=Iu(l)):e[Yt]&&(jp(e[Yt]),e[Yt]=null));try{L0(e),Ck(n.bindingStartIndex),t!==null&&LT(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&il(e,y,null)}else{let y=n.preOrderHooks;y!==null&&ol(e,y,0,null),hg(e,0)}if(s||x1(e),qT(e),WT(e,0),n.contentQueries!==null&&ST(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&il(e,y)}else{let y=n.contentHooks;y!==null&&ol(e,y,1),hg(e,1)}O1(n,e);let p=n.components;p!==null&&QT(e,p,0);let m=n.viewQuery;if(m!==null&&$g(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&il(e,y)}else{let y=n.viewHooks;y!==null&&ol(e,y,2),hg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[lg]){for(let y of e[lg])y();e[lg]=null}o||($T(e),e[oe]&=-73)}catch(h){throw o||Ul(e),h}finally{l!==null&&(Lp(l,u),a&&C1(l)),Em()}}function WT(n,e){for(let t=ET(n);t!==null;t=IT(t))for(let r=Jt;r<t.length;r++){let i=t[r];KT(i,e)}}function x1(n){for(let e=ET(n);e!==null;e=IT(e)){if(!(e[oe]&2))continue;let t=e[vl];for(let r=0;r<t.length;r++){let i=t[r];V0(i)}}}function k1(n,e,t){Me(18);let r=bn(e,n);KT(r,t),Me(19,r[xt])}function KT(n,e){mm(n)&&Gg(n,e)}function Gg(n,e){let r=n[ye],i=n[oe],o=n[Yt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Vp(o)),s||=!1,o&&(o.dirty=!1),n[oe]&=-9217,s)P1(r,n,r.template,n[xt]);else if(i&8192){qT(n),WT(n,1);let a=r.components;a!==null&&QT(n,a,1),$T(n)}}function QT(n,e,t){for(let r=0;r<e.length;r++)k1(n,e[r],t)}function O1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ci(~i);else{let o=i,s=t[++r],a=t[++r];Ak(s,o);let u=e[o];Me(24,u),a(2,u),Me(25,u)}}}finally{Ci(-1)}}function $m(n,e){let t=z0()?64:1088;for(n[Fr].changeDetectionScheduler?.notify(e);n;){n[oe]|=t;let r=Di(n);if(_l(n)&&!r)return n;n=r}return null}function YT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function F1(n,e,t,r=!0){let i=e[ye];if(L1(i,e,n,t),r){let s=qg(t,n),a=e[dt],u=a.parentNode(n[Ti]);u!==null&&d1(i,n[fn],a,e,u,s)}let o=e[pl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Wg(n,e){if(n.length<=Jt)return;let t=Jt+e,r=n[t];if(r){let i=r[Lo];i!==null&&i!==n&&Um(i,r),e>0&&(n[t-1][dn]=r[dn]);let o=hl(n,Jt+e);l1(r[ye],r);let s=o[Vo];s!==null&&s.detachView(o[ye]),r[St]=null,r[dn]=null,r[oe]&=-129}return r}function L1(n,e,t,r){let i=Jt+r,o=t.length;r>0&&(t[i-1][dn]=e),r<o-Jt?(e[dn]=t[i],_0(t,Jt+r,e)):(t.push(e),e[dn]=null),e[St]=t;let s=e[Lo];s!==null&&t!==s&&JT(s,e);let a=e[Vo];a!==null&&a.insertView(n),Mg(e),e[oe]|=128}function JT(n,e){let t=n[vl],r=e[St];if(Or(r))n[oe]|=2;else{let i=r[St][En];e[En]!==i&&(n[oe]|=2)}t===null?n[vl]=[e]:t.push(e)}var Aa=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[ye];return Sl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[xt]}set context(e){this._lView[xt]=e}get destroyed(){return Ko(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[St];if(nr(e)){let t=e[yl],r=t?t.indexOf(this):-1;r>-1&&(Wg(e,r),hl(t,r))}this._attachedToViewContainer=!1}UT(this._lView[ye],this._lView)}onDestroy(e){j0(this._lView,e)}markForCheck(){$m(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[oe]&=-129}reattach(){Mg(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,GT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=_l(this._lView),t=this._lView[Lo];t!==null&&!e&&Um(t,this._lView),jT(this._lView[ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=_l(this._lView),r=this._lView[Lo];r!==null&&!t&&JT(r,this._lView),Mg(this._lView)}};var Zl=(()=>{class n{static __NG_ELEMENT_ID__=U1}return n})(),V1=Zl,j1=class extends V1{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=c1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Aa(i)}};function U1(){return B1(Xt(),je())}function B1(n,e){return n.type&4?new j1(e,n,ql(n,e)):null}function Xl(n,e,t,r,i){let o=n.data[e];if(o===null)o=$1(n,e,t,r,i),Sk()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=bk();o.injectorIndex=s===null?-1:s.injectorIndex}return Mi(o,!0),o}function $1(n,e,t,r,i){let o=$0(),s=vm(),a=s?o:o&&o.parent,u=n.data[e]=z1(n,a,t,e,r,i);return H1(n,u,o,s),u}function H1(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function z1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Ek()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var m7=new RegExp(`^(\\d+)*(${gO}|${pO})*(.*)`);var q1=()=>null;function Gb(n,e){return q1(n,e)}var G1=class{},ZT=class{},Kg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Pt(e)}.`)}},ed=class{static NULL=new Kg},$o=class{},Hm=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>W1()}return n})();function W1(){let n=je(),e=Xt(),t=bn(e.index,n);return(Or(t)?t:n)[dt]}var K1=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>null})}return n})();var gg={},Qg=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ol(r);let i=this.injector.get(e,gg,r);return i!==gg||t===gg?i:this.parentInjector.get(e,t,r)}};function Yg(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Eb(i,a);else if(o==2){let u=a,l=e[++s];r=Eb(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function et(n,e=ae.Default){let t=je();if(t===null)return X(n,e);let r=Xt();return aT(r,t,Ct(n),e)}function zm(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,u=null,l=null,h=Y1(s);h===null?a=s:[a,u,l]=h,X1(n,e,t,a,o,u,l)}o!==null&&r!==null&&Q1(t,r,o)}function Q1(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}function Y1(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&In(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,J1(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function J1(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function Z1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function X1(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&In(y)&&(u=!0,Z1(n,t,m)),kg(wl(t,e),n,y.type)}oF(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=OT(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=Uo(t.mergedAttrs,y.hostAttrs),tF(n,t,e,p,y),iF(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let T=y.type.prototype;!l&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}eF(n,t,o)}function eF(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Wb(0,e,i,r),Wb(1,e,i,r),Qb(e,r,!1);else{let o=t.get(i);Kb(0,e,o,r),Kb(1,e,o,r),Qb(e,r,!0)}}}function Wb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),XT(e,o)}}function Kb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),XT(e,s)}}function XT(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Qb(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Nm(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function tF(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=xo(i.type,!0)),s=new Si(o,In(i),et);n.blueprint[r]=s,t[r]=s,nF(n,e,r,OT(n,t,i.hostVars,Vr),i)}function nF(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;rF(s)!=a&&s.push(a),s.push(t,r,o)}}function rF(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function iF(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;In(e)&&(t[""]=n)}}function oF(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function eD(n,e,t,r,i,o,s,a){let u=e.consts,l=jo(u,s),h=Xl(e,n,2,r,l);return o&&zm(e,t,h,jo(u,a),i),h.mergedAttrs=Uo(h.mergedAttrs,h.attrs),h.attrs!==null&&Yg(h,h.attrs,!1),h.mergedAttrs!==null&&Yg(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function tD(n,e){Im(n,e),gm(e)&&n.queries.elementEnd(e)}var Al=class extends ed{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ko(e);return new Ra(t,this.ngModule)}};function sF(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Kl.SignalBased)!==0};return i&&(o.transform=i),o})}function aF(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function cF(n,e,t){let r=e instanceof Et?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Qg(t,r):t}function uF(n){let e=n.get($o,null);if(e===null)throw new H(407,!1);let t=n.get(K1,null),r=n.get(Bo,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function lF(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return NT(e,t,t==="svg"?dk:t==="math"?hk:null)}var Ra=class extends ZT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=sF(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=aF(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=LO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Me(22);let o=fe(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:VO(this.componentDef.selectors[0]),u=Pm(0,null,null,1,0,null,null,null,null,[a],null),l=cF(s,i||this.ngModule,e),h=uF(l),p=h.rendererFactory.createRenderer(null,s),m=r?KO(p,r,s.encapsulation,l):lF(s,p),y=xm(null,u,null,512|kT(s),null,null,h,p,l,null,CT(m,l,!0));y[hn]=m,_m(y);let T=null;try{let M=eD(hn,u,y,"#host",()=>[this.componentDef],!0,0);m&&(xT(p,m,M),Yo(m,y)),Ql(u,y,M),Mm(u,M,y),tD(u,M),t!==void 0&&dF(M,this.ngContentSelectors,t),T=bn(M.index,y),y[xt]=T[xt],Vm(u,y,null)}catch(M){throw T!==null&&Ug(T),Ug(y),M}finally{Me(23),Em()}return new Jg(this.componentType,y)}finally{fe(o)}}},Jg=class extends G1{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=F0(t[ye],hn),this.location=ql(this._tNode,t),this.instance=bn(this._tNode.index,t)[xt],this.hostView=this.changeDetectorRef=new Aa(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Lm(r,i[ye],i,e,t);this.previousInputValues.set(e,t);let s=bn(r.index,i);$m(s,1)}get injector(){return new wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function dF(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Jo=(()=>{class n{static __NG_ELEMENT_ID__=hF}return n})();function hF(){let n=Xt();return pF(n,je())}var fF=Jo,nD=class extends fF{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ql(this._hostTNode,this._hostLView)}get injector(){return new wi(this._hostTNode,this._hostLView)}get parentInjector(){let e=wm(this._hostTNode,this._hostLView);if(tT(e)){let t=Il(e,this._hostLView),r=El(e),i=t[ye].data[r+8];return new wi(i,t)}else return new wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Yb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Gb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,zb(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!ak(e),a;if(s)a=t;else{let T=t||{};a=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let u=s?e:new Ra(ko(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(Et,null);M&&(o=M)}let h=ko(u.componentType??{}),p=Gb(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,zb(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(pk(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[St],l=new nD(u,u[fn],u[St]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return F1(s,i,o,r),e.attachToViewContainerRef(),_0(mg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Yb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Wg(this._lContainer,t);r&&(hl(mg(this._lContainer),t),UT(r[ye],r))}detach(e){let t=this._adjustIndex(e,-1),r=Wg(this._lContainer,t);return r&&hl(mg(this._lContainer),t)!=null?new Aa(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Yb(n){return n[yl]}function mg(n){return n[yl]||(n[yl]=[])}function pF(n,e){let t,r=e[n.index];return nr(r)?t=r:(t=YT(r,e,null,n),e[n.index]=t,km(e,t)),mF(t,e,n,r),new nD(t,n,e)}function gF(n,e){let t=n[dt],r=t.createComment(""),i=rr(e,n),o=t.parentNode(i);return Cl(t,o,r,t.nextSibling(i),!1),r}var mF=_F,yF=()=>!1;function vF(n,e,t){return yF(n,e,t)}function _F(n,e,t,r){if(n[Ti])return;let i;t.type&8?i=wn(r):i=gF(e,t),n[Ti]=i}var Ho=class{},qm=class{};var Zg=class extends Ho{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Al(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=w0(e);this._bootstrapComponents=RT(o.bootstrap),this._r3Injector=lT(e,t,[{provide:Ho,useValue:this},{provide:ed,useValue:this.componentFactoryResolver},...r],Pt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Xg=class extends qm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Zg(this.moduleType,e,[])}};var Rl=class extends Ho{injector;componentFactoryResolver=new Al(this);instance=null;constructor(e){super();let t=new Ca([...e.providers,{provide:Ho,useValue:this},{provide:ed,useValue:this.componentFactoryResolver}],e.parent||pm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function td(n,e,t=null){return new Rl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var EF=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=b0(!1,t.type),i=r.length>0?td([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:n,providedIn:"environment",factory:()=>new n(X(Et))})}return n})();function De(n){return Pa(()=>{let e=rD(n),t=ce(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===vT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(EF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Tn.Emulated,styles:n.styles||Qt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Rm("NgStandalone"),iD(t);let r=n.dependencies;return t.directiveDefs=Jb(r,!1),t.pipeDefs=Jb(r,!0),t.id=DF(t),t})}function IF(n){return ko(n)||Qx(n)}function wF(n){return n!==null}function jr(n){return Pa(()=>({type:n.type,bootstrap:n.bootstrap||Qt,declarations:n.declarations||Qt,imports:n.imports||Qt,exports:n.exports||Qt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function bF(n,e){if(n==null)return bi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Kl.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function TF(n){if(n==null)return bi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Sn(n){return Pa(()=>{let e=rD(n);return iD(e),e})}function rD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||bi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Qt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bF(n.inputs,e),outputs:TF(n.outputs),debugInfo:null}}function iD(n){n.features?.forEach(e=>e(n))}function Jb(n,e){if(!n)return null;let t=e?Yx:IF;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(wF)}function DF(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function CF(n){return Object.getPrototypeOf(n.prototype).constructor}function nd(n){let e=CF(n.type),t=!0,r=[n];for(;e;){let i;if(In(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=yg(n.inputs),s.declaredInputs=yg(n.declaredInputs),s.outputs=yg(n.outputs);let a=i.hostBindings;a&&NF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&RF(n,u),l&&MF(n,l),SF(n,i),Ax(n.outputs,i.outputs),In(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===nd&&(t=!1)}}e=Object.getPrototypeOf(e)}AF(r)}function SF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function AF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Uo(i.hostAttrs,t=Uo(t,i.hostAttrs))}}function yg(n){return n===bi?{}:n===Qt?[]:n}function RF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function MF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function NF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function oD(n){return xF(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function PF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function xF(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Ma(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function kF(n,e,t,r){let i=Ma(n,e,t);return Ma(n,e+1,r)||i}function OF(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Xl(e,n,4,s||null,a||null);ym()&&zm(e,t,h,jo(l,u),Fm),h.mergedAttrs=Uo(h.mergedAttrs,h.attrs),Im(e,h);let p=h.tView=Pm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function FF(n,e,t,r,i,o,s,a,u,l){let h=t+hn,p=e.firstCreatePass?OF(h,e,n,r,i,o,s,a,u):e.data[h];Mi(p,!1);let m=LF(e,n,p,t);Bl()&&Yl(e,n,m,p),Yo(m,n);let y=YT(m,n,m,p);return n[h]=y,km(n,y),vF(y,p,n),Vl(p)&&Ql(e,n,p),u!=null&&Om(n,p,l),p}function pn(n,e,t,r,i,o,s,a){let u=je(),l=Zt(),h=jo(l.consts,o);return FF(u,l,n,e,t,r,i,h,s,a),pn}var LF=VF;function VF(n,e,t,r){return $l(!0),e[dt].createComment("")}var sD=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var aD=new $("");var jF=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>new em})}return n})(),em=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Pi(n){return!!n&&typeof n.then=="function"}function cD(n){return!!n&&typeof n.subscribe=="function"}var UF=new $("");var uD=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=x(UF,{optional:!0})??[];injector=x(Xe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=ht(this.injector,i);if(Pi(o))t.push(o);else if(cD(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gm=new $("");function BF(){Bp(()=>{throw new H(600,!1)})}function $F(n){return n.isBoundToModule}var HF=10;var Ai=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(oO);afterRenderManager=x(yO);zonelessEnabled=x(bm);rootEffectScheduler=x(jF);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Je;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(sr).hasPendingTasks.pipe(ie(t=>!t));constructor(){x(Wl,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=x(Et);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Xe.NULL){Me(10);let o=t instanceof ZT;if(!this._injector.get(uD).done){let y="";throw new H(405,y)}let a;o?a=t:a=this._injector.get(ed).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=$F(a)?void 0:this._injector.get(Ho),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,m=h.injector.get(aD,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),sl(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),Me(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Me(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(DT.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let t=fe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,fe(t),this.afterTick.next(),Me(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get($o,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<HF;)Me(14),this.synchronizeOnce(),Me(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)zF(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>jl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;sl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Gm,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>sl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function zF(n,e,t,r){if(!t&&!jl(n))return;GT(n,e,t&&!r?0:1)}function qF(n,e,t,r){return Ma(n,q0(),t)?e+ul(t)+r:Vr}function GF(n,e,t,r,i,o){let s=Dk(),a=kF(n,s,t,i);return G0(2),a?e+ul(t)+r+ul(i)+o:Vr}function nl(n,e){return n<<17|e<<2}function Ri(n){return n>>17&32767}function WF(n){return(n&2)==2}function KF(n,e){return n&131071|e<<17}function tm(n){return n|2}function zo(n){return(n&131068)>>2}function vg(n,e){return n&-131069|e<<2}function QF(n){return(n&1)===1}function nm(n){return n|1}function YF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ri(s),u=zo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||xa(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Ri(n[a+1]);n[r+1]=nl(m,a),m!==0&&(n[m+1]=vg(n[m+1],r)),n[a+1]=KF(n[a+1],r)}else n[r+1]=nl(a,0),a!==0&&(n[a+1]=vg(n[a+1],r)),a=r;else n[r+1]=nl(u,0),a===0?a=r:n[u+1]=vg(n[u+1],r),u=r;l&&(n[r+1]=tm(n[r+1])),Zb(n,h,r,!0),Zb(n,h,r,!1),JF(e,h,n,r,o),s=nl(a,u),o?e.classBindings=s:e.styleBindings=s}function JF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&xa(o,e)>=0&&(t[r+1]=nm(t[r+1]))}function Zb(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ri(i):zo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];ZF(u,e)&&(a=!0,n[s+1]=r?nm(l):tm(l)),s=r?Ri(l):zo(l)}a&&(n[t+1]=r?tm(i):nm(i))}function ZF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?xa(n,e)>=0:!1}function W(n,e,t){let r=je(),i=q0();if(Ma(r,i,e)){let o=Zt(),s=xk();ZO(o,s,r,n,e,r[dt],t,!1)}return W}function Xb(n,e,t,r,i){Lm(e,n,t,i?"class":"style",r)}function xi(n,e,t){return lD(n,e,t,!1),xi}function Ne(n,e){return lD(n,e,null,!0),Ne}function lD(n,e,t,r){let i=je(),o=Zt(),s=G0(2);if(o.firstUpdatePass&&eL(o,n,s,r),e!==Vr&&Ma(i,s,e)){let a=o.data[Ni()];oL(o,a,i,i[dt],n,i[s+1]=sL(e,t),r,s)}}function XF(n,e){return e>=n.expandoStartIndex}function eL(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Ni()],s=XF(n,t);aL(o,r)&&e===null&&!s&&(e=!1),e=tL(i,o,e,r),YF(i,o,e,t,s,r)}}function tL(n,e,t,r){let i=Mk(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=_g(null,n,e,t,r),t=Na(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=_g(i,n,e,t,r),o===null){let u=nL(n,e,r);u!==void 0&&Array.isArray(u)&&(u=_g(null,n,e,u[1],r),u=Na(u,e.attrs,r),rL(n,e,r,u))}else o=iL(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function nL(n,e,t){let r=t?e.classBindings:e.styleBindings;if(zo(r)!==0)return n[Ri(r)]}function rL(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ri(i)]=r}function iL(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Na(r,s,t)}return Na(r,e.attrs,t)}function _g(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Na(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Na(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Wx(n,s,t?!0:e[++o]))}return n===void 0?null:n}function oL(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=QF(l)?e0(u,e,t,i,zo(l),s):void 0;if(!Ml(h)){Ml(o)||WF(l)&&(o=e0(u,null,t,i,a,s));let p=O0(Ni(),t);w1(r,s,p,i,o)}}function e0(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Vr&&(m=p?Qt:void 0);let y=p?cg(m,r):h===r?m:void 0;if(l&&!Ml(y)&&(y=cg(u,r)),Ml(y)&&(a=y,s))return a;let T=n[i+1];i=s?Ri(T):zo(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=cg(u,r))}return a}function Ml(n){return n!==void 0}function sL(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Pt(bO(n)))),n}function aL(n,e){return(n.flags&(e?8:16))!==0}function k(n,e,t,r){let i=je(),o=Zt(),s=hn+n,a=i[dt],u=o.firstCreatePass?eD(s,o,i,e,Fm,ym(),t,r):o.data[s],l=cL(o,i,u,a,e,n);i[s]=l;let h=Vl(u);return Mi(u,!0),xT(a,l,u),!VT(u)&&Bl()&&Yl(o,i,l,u),(yk()===0||h)&&Yo(l,i),vk(),h&&(Ql(o,i,u),Mm(o,u,i)),r!==null&&Om(i,u),k}function O(){let n=Xt();vm()?H0():(n=n.parent,Mi(n,!1));let e=n;Ik(e)&&wk(),_k();let t=Zt();return t.firstCreatePass&&tD(t,e),e.classesWithoutHost!=null&&Lk(e)&&Xb(t,e,je(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Vk(e)&&Xb(t,e,je(),e.stylesWithoutHost,!1),O}function K(n,e,t,r){return k(n,e,t,r),O(),K}var cL=(n,e,t,r,i,o)=>($l(!0),NT(r,i,kk()));function uL(n,e,t,r,i){let o=e.consts,s=jo(o,r),a=Xl(e,n,8,"ng-container",s);s!==null&&Yg(a,s,!0);let u=jo(o,i);return ym()&&zm(e,t,a,u,Fm),a.mergedAttrs=Uo(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function Oa(n,e,t){let r=je(),i=Zt(),o=n+hn,s=i.firstCreatePass?uL(o,i,r,e,t):i.data[o];Mi(s,!0);let a=lL(i,r,s,n);return r[o]=a,Bl()&&Yl(i,r,a,s),Yo(a,r),Vl(s)&&(Ql(i,r,s),Mm(i,s,r)),t!=null&&Om(r,s),Oa}function Fa(){let n=Xt(),e=Zt();return vm()?H0():(n=n.parent,Mi(n,!1)),e.firstCreatePass&&(Im(e,n),gm(n)&&e.queries.elementEnd(n)),Fa}var lL=(n,e,t,r)=>($l(!0),BO(e[dt],""));function Ur(){return je()}var Nl="en-US";var dL=Nl;function hL(n){typeof n=="string"&&(dL=n.toLowerCase().replace(/_/g,"-"))}function t0(n,e,t){return function r(i){if(i===Function)return t;let o=Wo(n)?bn(n.index,e):e;$m(o,5);let s=e[xt],a=n0(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=n0(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function n0(n,e,t,r){let i=fe(null);try{return Me(6,e,t),t(r)!==!1}catch(o){return fL(n,o),!1}finally{Me(7,e,t),fe(i)}}function fL(n,e){let t=n[Fo],r=t?t.get(Xn,null):null;r&&r.handleError(e)}function r0(n,e,t,r,i,o){let s=e[t],a=e[ye],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?B0(a):null,m=U0(e),y=h.subscribe(o),T=m.length;m.push(o,y),p&&p.push(i,n.index,T,-(T+1))}function _e(n,e,t,r){let i=je(),o=Zt(),s=Xt();return gL(o,i,i[dt],s,n,e,r),_e}function pL(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[gl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function gL(n,e,t,r,i,o,s){let a=Vl(r),l=n.firstCreatePass?B0(n):null,h=U0(e),p=!0;if(r.type&3||s){let m=rr(r,e),y=s?s(m):m,T=h.length,M=s?V=>s(wn(V[r.index])):r.index,R=null;if(!s&&a&&(R=pL(n,e,i,r.index)),R!==null){let V=R.__ngLastListenerFn__||R;V.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=t0(r,e,o),_O(e,y,i,o);let V=t.listen(y,i,o);h.push(o,V),l&&l.push(i,M,T,T+1)}}else o=t0(r,e,o);if(p){let m=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let T=0;T<y.length;T+=2){let M=y[T],R=y[T+1];r0(r,e,M,R,i,o)}if(m&&m.length)for(let T of m)r0(r,e,T,i,i,o)}}function Br(n=1){return Pk(n)}function rd(n){let e=Tk();return fk(e,hn+n)}function U(n,e=""){let t=je(),r=Zt(),i=n+hn,o=r.firstCreatePass?Xl(r,i,1,e,null):r.data[i],s=mL(r,t,o,e,n);t[i]=s,Bl()&&Yl(r,t,s,o),Mi(o,!1)}var mL=(n,e,t,r,i)=>($l(!0),jO(e[dt],r));function kt(n){return id("",n,""),kt}function id(n,e,t){let r=je(),i=qF(r,n,e,t);return i!==Vr&&dD(r,Ni(),i),id}function Wm(n,e,t,r,i){let o=je(),s=GF(o,n,e,t,r,i);return s!==Vr&&dD(o,Ni(),s),Wm}function dD(n,e,t){let r=O0(e,n);UO(n[dt],r,t)}function yL(n,e,t){let r=Zt();if(r.firstCreatePass){let i=In(n);rm(t,r.data,r.blueprint,i,!0),rm(e,r.data,r.blueprint,i,!1)}}function rm(n,e,t,r,i){if(n=Ct(n),Array.isArray(n))for(let o=0;o<n.length;o++)rm(n[o],e,t,r,i);else{let o=Zt(),s=je(),a=Xt(),u=Oo(n)?n:Ct(n.provide),l=C0(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Oo(n)||!n.multi){let y=new Si(l,i,et),T=Ig(u,e,i?h:h+m,p);T===-1?(kg(wl(a,s),o,u),Eg(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[T]=y,s[T]=y)}else{let y=Ig(u,e,h+m,p),T=Ig(u,e,h,h+m),M=y>=0&&t[y],R=T>=0&&t[T];if(i&&!R||!i&&!M){kg(wl(a,s),o,u);let V=EL(i?_L:vL,t.length,i,r,l);!i&&R&&(t[T].providerFactory=V),Eg(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=hD(t[i?T:y],l,!i&&r);Eg(o,n,y>-1?y:T,V)}!i&&r&&R&&t[T].componentProviders++}}}function Eg(n,e,t,r){let i=Oo(e),o=tk(e);if(i||o){let u=(o?Ct(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function hD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ig(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function vL(n,e,t,r,i){return im(this.multi,[])}function _L(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=bl(r,r[ye],this.providerFactory.index,i);s=u.slice(0,a),im(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],im(o,s);return s}function im(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function EL(n,e,t,r,i){let o=new Si(n,t,et);return o.multi=[],o.index=e,o.componentProviders=0,hD(o,i,r&&!t),o}function fD(n,e=[]){return t=>{t.providersResolver=(r,i)=>yL(r,i?i(n):n,e)}}var qo=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},pD=new qo("19.2.15"),om=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},gD=(()=>{class n{compileModuleSync(t){return new Xg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=w0(t),o=RT(i.declarations).reduce((s,a)=>{let u=ko(a);return u&&s.push(new Ra(u)),s},[]);return new om(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var IL=(()=>{class n{zone=x(be);changeDetectionScheduler=x(Bo);applicationRef=x(Ai);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wL=new $("",{factory:()=>!1});function mD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new be(ce(L({},vD()),{scheduleInRootZone:t})),[{provide:be,useFactory:n},{provide:Da,multi:!0,useFactory:()=>{let r=x(IL,{optional:!0});return()=>r.initialize()}},{provide:Da,multi:!0,useFactory:()=>{let r=x(bL);return()=>{r.initialize()}}},e===!0?{provide:hT,useValue:!0}:[],{provide:fT,useValue:t??dT}]}function yD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=mD({ngZoneFactory:()=>{let i=vD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Rm("NgZone_CoalesceEvent"),new be(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Bt([{provide:wL,useValue:!0},{provide:bm,useValue:!1},r])}function vD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var bL=(()=>{class n{subscription=new Le;initialized=!1;zone=x(be);pendingTasks=x(sr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var TL=(()=>{class n{appRef=x(Ai);taskService=x(sr);ngZone=x(be);zonelessEnabled=x(bm);tracing=x(Wl,{optional:!0});disableScheduling=x(hT,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Le;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Dl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(fT,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof jg||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Fb:pT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Dl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Fb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DL(){return typeof $localize<"u"&&$localize.locale||Nl}var Km=new $("",{providedIn:"root",factory:()=>x(Km,ae.Optional|ae.SkipSelf)||DL()});var sm=new $(""),CL=new $("");function Ia(n){return!n.moduleRef}function SL(n){let e=Ia(n)?n.r3Injector:n.moduleRef.injector,t=e.get(be);return t.run(()=>{Ia(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Xn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Ia(n)){let o=()=>e.destroy(),s=n.platformInjector.get(sm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(sm);s.add(o),n.moduleRef.onDestroy(()=>{sl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return RL(r,t,()=>{let o=e.get(uD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Km,Nl);if(hL(s||Nl),!e.get(CL,!0))return Ia(n)?e.get(Ai):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ia(n)){let u=e.get(Ai);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return AL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function AL(n,e){let t=n.injector.get(Ai);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new H(-403,!1);e.push(n)}function RL(n,e,t){try{let r=t();return Pi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var al=null;function ML(n=[],e){return Xe.create({name:e,providers:[{provide:Fl,useValue:"platform"},{provide:sm,useValue:new Set([()=>al=null])},...n]})}function NL(n=[]){if(al)return al;let e=ML(n);return al=e,BF(),PL(e),e}function PL(n){let e=n.get(Sm,null);ht(n,()=>{e?.forEach(t=>t())})}function Qm(){return!1}var od=(()=>{class n{static __NG_ELEMENT_ID__=xL}return n})();function xL(n){return kL(Xt(),je(),(n&16)===16)}function kL(n,e,t){if(Wo(n)&&!t){let r=bn(n.index,e);return new Aa(r,r)}else if(n.type&175){let r=e[En];return new Aa(r,e)}return null}var am=class{constructor(){}supports(e){return oD(e)}create(e){return new cm(e)}},OL=(n,e)=>e,cm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||OL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<i0(r,i,o)?t:r,a=i0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,T=y+m;h<=T&&T<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!oD(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,PF(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new um(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Pl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Pl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},um=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},lm=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Pl=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new lm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function i0(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function o0(){return new Ym([new am])}var Ym=(()=>{class n{factories;static \u0275prov=G({token:n,providedIn:"root",factory:o0});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||o0()),deps:[[n,new qx,new It]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new H(901,!1)}}return n})();function _D(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Me(8);try{let o=i?.injector??NL(r),s=[mD({}),{provide:Bo,useExisting:TL},...t||[]],a=new Rl({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return SL({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Me(9)}}function An(n){return zp(n)}function Zo(n,e){return Up(n,e?.equal)}var s0=class{[cn];constructor(e){this[cn]=e}destroy(){this[cn].destroy()}};var nt=new $("");var wD=null;function ar(){return wD}function Jm(n){wD??=n}var La=class{},Zm=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>x(bD),providedIn:"platform"})}return n})();var bD=(()=>{class n extends Zm{_location;_history;_doc=x(nt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ar().getBaseHref(this._doc)}onPopState(t){let r=ar().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ar().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function TD(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function ED(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function $r(n){return n&&n[0]!=="?"?`?${n}`:n}var sd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>x(CD),providedIn:"root"})}return n})(),DD=new $(""),CD=(()=>{class n extends sd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return TD(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+$r(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+$r(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+$r(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(X(Zm),X(DD,8))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xo=(()=>{class n{_subject=new Je;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=VL(ED(ID(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$r(r))}normalize(t){return n.stripTrailingSlash(LL(this._basePath,ID(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$r(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$r(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=$r;static joinWithSlash=TD;static stripTrailingSlash=ED;static \u0275fac=function(r){return new(r||n)(X(sd))};static \u0275prov=G({token:n,factory:()=>FL(),providedIn:"root"})}return n})();function FL(){return new Xo(X(sd))}function LL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function ID(n){return n.replace(/\/index.html$/,"")}function VL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Xm=/\s+/,SD=[],ey=(()=>{class n{_ngEl;_renderer;initialClasses=SD;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Xm):SD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Xm):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Xm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(et(Gl),et(Hm))};static \u0275dir=Sn({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var ad=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ud=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ad(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),AD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);AD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(et(Jo),et(Zl),et(Ym))};static \u0275dir=Sn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function AD(n,e){n.context.$implicit=e.item}var cr=(()=>{class n{_viewContainer;_context=new cd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){RD(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){RD(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(et(Jo),et(Zl))};static \u0275dir=Sn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),cd=class{$implicit=null;ngIf=null};function RD(n,e){if(n&&!n.createEmbeddedView)throw new H(2020,!1)}var ze=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=jr({type:n});static \u0275inj=Lr({})}return n})();function Va(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ld="browser",MD="server";function dd(n){return n===ld}function hd(n){return n===MD}var ki=class{};var gd=new $(""),iy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(X(gd),X(be))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),ja=class{_doc;constructor(e){this._doc=e}manager},fd="ng-app-id";function ND(n){for(let e of n)e.remove()}function PD(n,e){let t=e.createElement("style");return t.textContent=n,t}function jL(n,e,t,r){let i=n.head?.querySelectorAll(`style[${fd}="${e}"],link[${fd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(fd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function ny(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var oy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=hd(o),jL(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,PD);r?.forEach(i=>this.addUsage(i,this.external,ny))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(ND(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])ND(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,PD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,ny(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(fd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(X(nt),X(Cm),X(Am,8),X(Cn))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),ty={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},sy=/%COMP%/g;var kD="%COMP%",UL=`_nghost-${kD}`,BL=`_ngcontent-${kD}`,$L=!0,HL=new $("",{providedIn:"root",factory:()=>$L});function zL(n){return BL.replace(sy,n)}function qL(n){return UL.replace(sy,n)}function OD(n,e){return e.map(t=>t.replace(sy,n))}var ay=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=hd(a),this.defaultRenderer=new Ua(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Tn.ShadowDom&&(r=ce(L({},r),{encapsulation:Tn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof pd?i.applyToHost(t):i instanceof Ba&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Tn.Emulated:o=new pd(u,l,r,this.appId,h,s,a,p,m);break;case Tn.ShadowDom:return new ry(u,l,t,r,s,a,this.nonce,p,m);default:o=new Ba(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(X(iy),X(oy),X(Cm),X(HL),X(nt),X(Cn),X(be),X(Am),X(Wl,8))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Ua=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(ty[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(xD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(xD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=ty[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=ty[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(er.DashCase|er.Important)?e.style.setProperty(t,r,i&er.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&er.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=ar().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function xD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ry=class extends Ua{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=OD(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=ny(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ba=class extends Ua{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?OD(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},pd=class extends Ba{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=zL(h),this.hostAttr=qL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var md=class n extends La{supportsDOMEvents=!0;static makeCurrent(){Jm(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=GL();return t==null?null:WL(t)}resetBaseElement(){$a=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Va(document.cookie,e)}},$a=null;function GL(){return $a=$a||document.head.querySelector("base"),$a?$a.getAttribute("href"):null}function WL(n){return new URL(n,document.baseURI).pathname}var KL=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),LD=(()=>{class n extends ja{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(X(nt))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),FD=["alt","control","meta","shift"],QL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},VD=(()=>{class n extends ja{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ar().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),FD.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=QL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),FD.forEach(s=>{if(s!==i){let a=YL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(X(nt))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function cy(n,e,t){return _D(L({rootComponent:n,platformRef:t?.platformRef},JL(e)))}function JL(n){return{appProviders:[...nV,...n?.providers??[]],platformProviders:tV}}function ZL(){md.makeCurrent()}function XL(){return new Xn}function eV(){return bT(document),document}var tV=[{provide:Cn,useValue:ld},{provide:Sm,useValue:ZL,multi:!0},{provide:nt,useFactory:eV}];var nV=[{provide:Fl,useValue:"root"},{provide:Xn,useFactory:XL},{provide:gd,useClass:LD,multi:!0,deps:[nt]},{provide:gd,useClass:VD,multi:!0,deps:[nt]},ay,oy,iy,{provide:$o,useExisting:ay},{provide:ki,useClass:KL},[]];var ns=class{},Ha=class{},Rn=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var vd=class{encodeKey(e){return jD(e)}encodeValue(e){return jD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function rV(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var iV=/%(\d[a-f0-9])/gi,oV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jD(n){return encodeURIComponent(n).replace(iV,(e,t)=>oV[t]??e)}function yd(n){return`${n}`}var ur=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new vd,e.fromString){if(e.fromObject)throw new H(2805,!1);this.map=rV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(yd):[yd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(yd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(yd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var _d=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function sV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function UD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function BD(n){return typeof Blob<"u"&&n instanceof Blob}function $D(n){return typeof FormData<"u"&&n instanceof FormData}function aV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var HD="Content-Type",zD="Accept",qD="X-Request-URL",GD="text/plain",WD="application/json",cV=`${WD}, ${GD}, */*`,ts=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(sV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Rn,this.context??=new _d,!this.params)this.params=new ur,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||UD(this.body)||BD(this.body)||$D(this.body)||aV(this.body)?this.body:this.body instanceof ur?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$D(this.body)?null:BD(this.body)?this.body.type||null:UD(this.body)?null:typeof this.body=="string"?GD:this.body instanceof ur?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?WD:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Oi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Oi||{}),rs=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Rn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ed=class n extends rs{constructor(e={}){super(e)}type=Oi.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},za=class n extends rs{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Oi.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},qa=class extends rs{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},uV=200,lV=204;function uy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var wd=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ts)o=t;else{let u;i.headers instanceof Rn?u=i.headers:u=new Rn(i.headers);let l;i.params&&(i.params instanceof ur?l=i.params:l=new ur({fromObject:i.params})),o=new ts(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Z(o).pipe(Pr(u=>this.handler.handle(u)));if(t instanceof ts||i.observe==="events")return s;let a=s.pipe(Nt(u=>u instanceof za));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new H(2806,!1);return u.body}));case"blob":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new H(2807,!1);return u.body}));case"text":return a.pipe(ie(u=>{if(u.body!==null&&typeof u.body!="string")throw new H(2808,!1);return u.body}));case"json":default:return a.pipe(ie(u=>u.body))}case"response":return a;default:throw new H(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ur().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,uy(i,r))}post(t,r,i={}){return this.request("POST",t,uy(i,r))}put(t,r,i={}){return this.request("PUT",t,uy(i,r))}static \u0275fac=function(r){return new(r||n)(X(ns))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();var dV=new $("");function hV(n,e){return e(n)}function fV(n,e,t){return(r,i)=>ht(t,()=>e(r,o=>n(o,i)))}var KD=new $(""),QD=new $(""),YD=new $("",{providedIn:"root",factory:()=>!0});var Id=(()=>{class n extends ns{backend;injector;chain=null;pendingTasks=x(sr);contributeToStability=x(YD);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(KD),...this.injector.get(QD,[])]));this.chain=r.reduceRight((i,o)=>fV(i,o,this.injector),hV)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ei(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(X(Ha),X(Et))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();var pV=/^\)\]\}',?\n/,gV=RegExp(`^${qD}:`,"m");function mV(n){return"responseURL"in n&&n.responseURL?n.responseURL:gV.test(n.getAllResponseHeaders())?n.getResponseHeader(qD):null}var ly=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new H(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?xe(r.\u0275loadImpl()):Z(null)).pipe(Ut(()=>new ue(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,R)=>s.setRequestHeader(M,R.join(","))),t.headers.has(zD)||s.setRequestHeader(zD,cV),!t.headers.has(HD)){let M=t.detectContentTypeHeader();M!==null&&s.setRequestHeader(HD,M)}if(t.responseType){let M=t.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let M=s.statusText||"OK",R=new Rn(s.getAllResponseHeaders()),V=mV(s)||t.url;return u=new Ed({headers:R,status:s.status,statusText:M,url:V}),u},h=()=>{let{headers:M,status:R,statusText:V,url:J}=l(),q=null;R!==lV&&(q=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=q?uV:0);let Ie=R>=200&&R<300;if(t.responseType==="json"&&typeof q=="string"){let at=q;q=q.replace(pV,"");try{q=q!==""?JSON.parse(q):null}catch(we){q=at,Ie&&(Ie=!1,q={error:we,text:q})}}Ie?(o.next(new za({body:q,headers:M,status:R,statusText:V,url:J||void 0})),o.complete()):o.error(new qa({error:q,headers:M,status:R,statusText:V,url:J||void 0}))},p=M=>{let{url:R}=l(),V=new qa({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(V)},m=!1,y=M=>{m||(o.next(l()),m=!0);let R={type:Oi.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},T=M=>{let R={type:Oi.UploadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",T)),s.send(a),o.next({type:Oi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",T)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(X(ki))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),JD=new $(""),yV="XSRF-TOKEN",vV=new $("",{providedIn:"root",factory:()=>yV}),_V="X-XSRF-TOKEN",EV=new $("",{providedIn:"root",factory:()=>_V}),Ga=class{},IV=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Va(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(X(nt),X(vV))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function wV(n,e){let t=n.url.toLowerCase();if(!x(JD)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=x(Ga).getToken(),i=x(EV);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function dy(...n){let e=[wd,ly,Id,{provide:ns,useExisting:Id},{provide:Ha,useFactory:()=>x(dV,{optional:!0})??x(ly)},{provide:KD,useValue:wV,multi:!0},{provide:JD,useValue:!0},{provide:Ga,useClass:IV}];for(let t of n)e.push(...t.\u0275providers);return Bt(e)}var ZD=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(X(nt))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var se="primary",sc=Symbol("RouteTitle"),my=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Vi(n){return new my(n)}function sC(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function DV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Mn(n[t],e[t]))return!1;return!0}function Mn(n,e){let t=n?yy(n):void 0,r=e?yy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!aC(n[i],e[i]))return!1;return!0}function yy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function aC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function cC(n){return n.length>0?n[n.length-1]:null}function qr(n){return ig(n)?n:Pi(n)?xe(Promise.resolve(n)):Z(n)}var CV={exact:lC,subset:dC},uC={exact:SV,subset:AV,ignored:()=>!0};function XD(n,e,t){return CV[t.paths](n.root,e.root,t.matrixParams)&&uC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function SV(n,e){return Mn(n,e)}function lC(n,e,t){if(!Fi(n.segments,e.segments)||!Dd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!lC(n.children[r],e.children[r],t))return!1;return!0}function AV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>aC(n[t],e[t]))}function dC(n,e,t){return hC(n,e,e.segments,t)}function hC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Fi(i,t)||e.hasChildren()||!Dd(i,t,r))}else if(n.segments.length===t.length){if(!Fi(n.segments,t)||!Dd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!dC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Fi(n.segments,i)||!Dd(n.segments,i,r)||!n.children[se]?!1:hC(n.children[se],e,o,r)}}function Dd(n,e,t){return e.every((r,i)=>uC[t](n[i].parameters,r.parameters))}var Pn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Te([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vi(this.queryParams),this._queryParamMap}toString(){return NV.serialize(this)}},Te=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cd(this)}},Hr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Vi(this.parameters),this._parameterMap}toString(){return pC(this)}};function RV(n,e){return Fi(n,e)&&n.every((t,r)=>Mn(t.parameters,e[r].parameters))}function Fi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function MV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===se&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==se&&(t=t.concat(e(i,r)))}),t}var ac=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new ji,providedIn:"root"})}return n})(),ji=class{parse(e){let t=new _y(e);return new Pn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Wa(e.root,!0)}`,r=kV(e.queryParams),i=typeof e.fragment=="string"?`#${PV(e.fragment)}`:"";return`${t}${r}${i}`}},NV=new ji;function Cd(n){return n.segments.map(e=>pC(e)).join("/")}function Wa(n,e){if(!n.hasChildren())return Cd(n);if(e){let t=n.children[se]?Wa(n.children[se],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${Wa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=MV(n,(r,i)=>i===se?[Wa(n.children[se],!1)]:[`${i}:${Wa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[se]!=null?`${Cd(n)}/${t[0]}`:`${Cd(n)}/(${t.join("//")})`}}function fC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bd(n){return fC(n).replace(/%3B/gi,";")}function PV(n){return encodeURI(n)}function vy(n){return fC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sd(n){return decodeURIComponent(n)}function eC(n){return Sd(n.replace(/\+/g,"%20"))}function pC(n){return`${vy(n.path)}${xV(n.parameters)}`}function xV(n){return Object.entries(n).map(([e,t])=>`;${vy(e)}=${vy(t)}`).join("")}function kV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${bd(t)}=${bd(i)}`).join("&"):`${bd(t)}=${bd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var OV=/^[^\/()?;#]+/;function hy(n){let e=n.match(OV);return e?e[0]:""}var FV=/^[^\/()?;=#]+/;function LV(n){let e=n.match(FV);return e?e[0]:""}var VV=/^[^=?&#]+/;function jV(n){let e=n.match(VV);return e?e[0]:""}var UV=/^[^&#]+/;function BV(n){let e=n.match(UV);return e?e[0]:""}var _y=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[se]=new Te(e,t)),r}parseSegment(){let e=hy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Hr(Sd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=LV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=hy(this.remaining);i&&(r=i,this.capture(r))}e[Sd(t)]=Sd(r)}parseQueryParam(e){let t=jV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=BV(this.remaining);s&&(r=s,this.capture(r))}let i=eC(t),o=eC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=hy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[se]:new Te([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function gC(n){return n.segments.length>0?new Te([],{[se]:n}):n}function mC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=mC(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Te(n.segments,e);return $V(t)}function $V(n){if(n.numberOfChildren===1&&n.children[se]){let e=n.children[se];return new Te(n.segments.concat(e.segments),e.children)}return n}function cs(n){return n instanceof Pn}function yC(n,e,t=null,r=null){let i=vC(n);return _C(i,e,t,r)}function vC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Te(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=gC(r);return e??i}function _C(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return fy(i,i,i,t,r);let o=HV(e);if(o.toRoot())return fy(i,i,new Te([],{}),t,r);let s=zV(o,i,n),a=s.processChildren?Qa(s.segmentGroup,s.index,o.commands):IC(s.segmentGroup,s.index,o.commands);return fy(i,s.segmentGroup,a,t,r)}function Rd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ja(n){return typeof n=="object"&&n!=null&&n.outlets}function fy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=EC(n,e,t);let a=gC(mC(s));return new Pn(a,o,i)}function EC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=EC(o,e,t)}),new Te(n.segments,r)}var Md=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Rd(r[0]))throw new H(4003,!1);let i=r.find(Ja);if(i&&i!==cC(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function HV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Md(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Md(t,e,r)}var ss=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function zV(n,e,t){if(n.isAbsolute)return new ss(e,!0,0);if(!t)return new ss(e,!1,NaN);if(t.parent===null)return new ss(t,!0,0);let r=Rd(n.commands[0])?0:1,i=t.segments.length-1+r;return qV(t,i,n.numberOfDoubleDots)}function qV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new ss(r,!1,i-o)}function GV(n){return Ja(n[0])?n[0].outlets:{[se]:n}}function IC(n,e,t){if(n??=new Te([],{}),n.segments.length===0&&n.hasChildren())return Qa(n,e,t);let r=WV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Te(n.segments.slice(0,r.pathIndex),{});return o.children[se]=new Te(n.segments.slice(r.pathIndex),n.children),Qa(o,0,i)}else return r.match&&i.length===0?new Te(n.segments,{}):r.match&&!n.hasChildren()?Ey(n,e,t):r.match?Qa(n,0,i):Ey(n,e,t)}function Qa(n,e,t){if(t.length===0)return new Te(n.segments,{});{let r=GV(t),i={};if(Object.keys(r).some(o=>o!==se)&&n.children[se]&&n.numberOfChildren===1&&n.children[se].segments.length===0){let o=Qa(n.children[se],e,t);return new Te(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=IC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Te(n.segments,i)}}function WV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ja(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!nC(u,l,s))return o;r+=2}else{if(!nC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ey(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ja(o)){let u=KV(o.outlets);return new Te(r,u)}if(i===0&&Rd(t[0])){let u=n.segments[e];r.push(new Hr(u.path,tC(t[0]))),i++;continue}let s=Ja(o)?o.outlets[se]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Rd(a)?(r.push(new Hr(s,tC(a))),i+=2):(r.push(new Hr(s,{})),i++)}return new Te(r,{})}function KV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ey(new Te([],{}),0,r))}),e}function tC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function nC(n,e,t){return n==t.path&&Mn(e,t.parameters)}var Ad="imperative",rt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(rt||{}),Ht=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ui=class extends Ht{type=rt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},lr=class extends Ht{urlAfterRedirects;type=rt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ot=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ot||{}),Za=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Za||{}),Nn=class extends Ht{reason;code;type=rt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},dr=class extends Ht{reason;code;type=rt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},us=class extends Ht{error;target;type=rt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xa=class extends Ht{urlAfterRedirects;state;type=rt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nd=class extends Ht{urlAfterRedirects;state;type=rt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pd=class extends Ht{urlAfterRedirects;state;shouldActivate;type=rt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},xd=class extends Ht{urlAfterRedirects;state;type=rt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kd=class extends Ht{urlAfterRedirects;state;type=rt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Od=class{route;type=rt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Fd=class{route;type=rt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ld=class{snapshot;type=rt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vd=class{snapshot;type=rt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jd=class{snapshot;type=rt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ud=class{snapshot;type=rt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ec=class{},ls=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function QV(n,e){return n.providers&&!n._injector&&(n._injector=td(n.providers,e,`Route: ${n.path}`)),n._injector??e}function gn(n){return n.outlet||se}function YV(n,e){let t=n.filter(r=>gn(r)===e);return t.push(...n.filter(r=>gn(r)!==e)),t}function cc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Bd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return cc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new fs(this.rootInjector)}},fs=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Bd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(X(Et))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$d=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Iy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Iy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=wy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wy(e,this._root).map(t=>t.value)}};function Iy(n,e){if(n===e.value)return e;for(let t of e.children){let r=Iy(n,t);if(r)return r}return null}function wy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=wy(n,t);if(r.length)return r.unshift(e),r}return[]}var $t=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function os(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var tc=class extends $d{snapshot;constructor(e,t){super(e),this.snapshot=t,My(this,e)}toString(){return this.snapshot.toString()}};function wC(n){let e=JV(n),t=new ut([new Hr("",{})]),r=new ut({}),i=new ut({}),o=new ut({}),s=new ut(""),a=new zr(t,r,o,s,i,se,n,e.root);return a.snapshot=e.root,new tc(new $t(a,[]),e)}function JV(n){let e={},t={},r={},i="",o=new Li([],e,r,i,t,se,n,null,{});return new nc("",new $t(o,[]))}var zr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[sc]))??Z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Vi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Vi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&TC(i)&&(r.resolve[sc]=i.title),r}var Li=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[sc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},nc=class extends $d{url;constructor(e,t){super(t),this.url=e,My(this,t)}toString(){return bC(this._root)}};function My(n,e){e.value._routerState=n,e.children.forEach(t=>My(n,t))}function bC(n){let e=n.children.length>0?` { ${n.children.map(bC).join(", ")} } `:"";return`${n.value}${e}`}function py(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Mn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Mn(e.params,t.params)||n.paramsSubject.next(t.params),DV(e.url,t.url)||n.urlSubject.next(t.url),Mn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function by(n,e){let t=Mn(n.params,e.params)&&RV(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||by(n.parent,e.parent))}function TC(n){return typeof n.title=="string"||n.title===null}var DC=new $(""),uc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=se;activateEvents=new Ve;deactivateEvents=new Ve;attachEvents=new Ve;detachEvents=new Ve;routerOutletData=mT(void 0);parentContexts=x(fs);location=x(Jo);changeDetector=x(od);inputBinder=x(Wd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Ty(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Sn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ka]})}return n})(),Ty=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===zr?this.route:e===fs?this.childContexts:e===DC?this.outletData:this.parent.get(e,t)}},Wd=new $("");var Ny=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=De({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&K(0,"router-outlet")},dependencies:[uc],encapsulation:2})}return n})();function Py(n){let e=n.children&&n.children.map(Py),t=e?ce(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==se&&(t.component=Ny),t}function ZV(n,e,t){let r=rc(n,e._root,t?t._root:void 0);return new tc(r,e)}function rc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=XV(n,e,t);return new $t(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>rc(n,a)),s}}let r=e2(e.value),i=e.children.map(o=>rc(n,o));return new $t(r,i)}}function XV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return rc(n,r,i);return rc(n,r)})}function e2(n){return new zr(new ut(n.url),new ut(n.params),new ut(n.queryParams),new ut(n.fragment),new ut(n.data),n.outlet,n.component,n)}var ds=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},CC="ngNavigationCancelingError";function zd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=cs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=SC(!1,Ot.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function SC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[CC]=!0,t.cancellationCode=e,t}function t2(n){return AC(n)&&cs(n.url)}function AC(n){return!!n&&n[CC]}var n2=(n,e,t,r)=>ie(i=>(new Dy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Dy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),py(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=os(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=os(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=os(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=os(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ud(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Vd(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(py(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),py(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},qd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},as=class{component;route;constructor(e,t){this.component=e,this.route=t}};function r2(n,e,t){let r=n._root,i=e?e._root:null;return Ka(r,i,t,[r.value])}function i2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ps(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!d0(n)?n:e.get(n):r}function Ka(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=os(e);return n.children.forEach(s=>{o2(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ya(a,t.getContext(s),i)),i}function o2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=s2(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new qd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ka(n,e,a?a.children:null,r,i):Ka(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new as(a.outlet.component,s))}else s&&Ya(e,a,i),i.canActivateChecks.push(new qd(r)),o.component?Ka(n,null,a?a.children:null,r,i):Ka(n,null,t,r,i);return i}function s2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Fi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fi(n.url,e.url)||!Mn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!by(n,e)||!Mn(n.queryParams,e.queryParams);case"paramsChange":default:return!by(n,e)}}function Ya(n,e,t){let r=os(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ya(s,e.children.getContext(o),t):Ya(s,null,t):Ya(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new as(e.outlet.component,i)):t.canDeactivateChecks.push(new as(null,i)):t.canDeactivateChecks.push(new as(null,i))}function lc(n){return typeof n=="function"}function a2(n){return typeof n=="boolean"}function c2(n){return n&&lc(n.canLoad)}function u2(n){return n&&lc(n.canActivate)}function l2(n){return n&&lc(n.canActivateChild)}function d2(n){return n&&lc(n.canDeactivate)}function h2(n){return n&&lc(n.canMatch)}function RC(n){return n instanceof Yn||n?.name==="EmptyError"}var Td=Symbol("INITIAL_VALUE");function hs(){return Ut(n=>Qu(n.map(e=>e.pipe(Jn(1),Xu(Td)))).pipe(ie(e=>{for(let t of e)if(t!==!0){if(t===Td)return Td;if(t===!1||f2(t))return t}return!0}),Nt(e=>e!==Td),Jn(1)))}function f2(n){return cs(n)||n instanceof ds}function p2(n,e){return Ze(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?Z(ce(L({},t),{guardsResult:!0})):g2(s,r,i,n).pipe(Ze(a=>a&&a2(a)?m2(r,o,n,e):Z(a)),ie(a=>ce(L({},t),{guardsResult:a})))})}function g2(n,e,t,r){return xe(n).pipe(Ze(i=>I2(i.component,i.route,t,e,r)),Zn(i=>i!==!0,!0))}function m2(n,e,t,r){return xe(e).pipe(Pr(i=>So(v2(i.route.parent,r),y2(i.route,r),E2(n,i.path,t),_2(n,i.route,t))),Zn(i=>i!==!0,!0))}function y2(n,e){return n!==null&&e&&e(new jd(n)),Z(!0)}function v2(n,e){return n!==null&&e&&e(new Ld(n)),Z(!0)}function _2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>Yu(()=>{let s=cc(e)??t,a=ps(o,s),u=u2(a)?a.canActivate(e,n):ht(s,()=>a(e,n));return qr(u).pipe(Zn())}));return Z(i).pipe(hs())}function E2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>i2(s)).filter(s=>s!==null).map(s=>Yu(()=>{let a=s.guards.map(u=>{let l=cc(s.node)??t,h=ps(u,l),p=l2(h)?h.canActivateChild(r,n):ht(l,()=>h(r,n));return qr(p).pipe(Zn())});return Z(a).pipe(hs())}));return Z(o).pipe(hs())}function I2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=cc(e)??i,l=ps(a,u),h=d2(l)?l.canDeactivate(n,e,t,r):ht(u,()=>l(n,e,t,r));return qr(h).pipe(Zn())});return Z(s).pipe(hs())}function w2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=ps(s,n),u=c2(a)?a.canLoad(e,t):ht(n,()=>a(e,t));return qr(u)});return Z(o).pipe(hs(),MC(r))}function MC(n){return Mu(lt(e=>{if(typeof e!="boolean")throw zd(n,e)}),ie(e=>e===!0))}function b2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=ps(s,n),u=h2(a)?a.canMatch(e,t):ht(n,()=>a(e,t));return qr(u)});return Z(o).pipe(hs(),MC(r))}var ic=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},oc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function is(n){return Co(new ic(n))}function T2(n){return Co(new H(4e3,!1))}function D2(n){return Co(SC(!1,Ot.GuardRejected))}var Cy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[se])return T2(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:T,title:M}=i,R=ht(o,()=>a({params:y,data:T,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:M}));if(R instanceof Pn)throw new oc(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new oc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Pn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Te(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Sy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function C2(n,e,t,r,i){let o=NC(n,e,t);return o.matched?(r=QV(e,r),b2(r,e,t,i).pipe(ie(s=>s===!0?o:L({},Sy)))):Z(o)}function NC(n,e,t){if(e.path==="**")return S2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},Sy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||sC)(t,n,e);if(!i)return L({},Sy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function S2(n){return{matched:!0,parameters:n.length>0?cC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function rC(n,e,t,r){return t.length>0&&M2(n,t,r)?{segmentGroup:new Te(e,R2(r,new Te(t,n.children))),slicedSegments:[]}:t.length===0&&N2(n,t,r)?{segmentGroup:new Te(n.segments,A2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Te(n.segments,n.children),slicedSegments:t}}function A2(n,e,t,r){let i={};for(let o of t)if(Kd(n,e,o)&&!r[gn(o)]){let s=new Te([],{});i[gn(o)]=s}return L(L({},r),i)}function R2(n,e){let t={};t[se]=e;for(let r of n)if(r.path===""&&gn(r)!==se){let i=new Te([],{});t[gn(r)]=i}return t}function M2(n,e,t){return t.some(r=>Kd(n,e,r)&&gn(r)!==se)}function N2(n,e,t){return t.some(r=>Kd(n,e,r))}function Kd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function P2(n,e,t){return e.length===0&&!n.children[t]}var Ay=class{};function x2(n,e,t,r,i,o,s="emptyOnly"){return new Ry(n,e,t,r,i,s,o).recognize()}var k2=31,Ry=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Cy(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=rC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:t,rootSnapshot:r})=>{let i=new $t(r,t),o=new nc("",i),s=yC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Li([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,t).pipe(ie(r=>({children:r,rootSnapshot:t})),Nr(r=>{if(r instanceof oc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ic?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof $t?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return xe(o).pipe(Pr(s=>{let a=r.children[s],u=YV(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Zu((s,a)=>(s.push(...a),s)),xr(null),sg(),Ze(s=>{if(s===null)return is(r);let a=PC(s);return O2(a),Z(a)}))}processSegment(e,t,r,i,o,s,a){return xe(t).pipe(Pr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Nr(l=>{if(l instanceof ic)return Z(null);throw l}))),Zn(u=>!!u),Nr(u=>{if(RC(u))return P2(r,i,o)?Z(new Ay):is(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return gn(r)!==s&&(s===se||!Kd(i,o,r))?is(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):is(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=NC(t,i,o);if(!u)return is(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>k2&&(this.allowRedirects=!1));let y=new Li(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,iC(i),gn(i),i.component??i._loadedComponent??null,i,oC(i)),T=Hd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data);let M=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Ze(R=>this.processSegment(e,r,t,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=C2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ut(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ut(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,T=new Li(m,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,iC(r),gn(r),r.component??r._loadedComponent??null,r,oC(r)),M=Hd(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(M.params),T.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:V}=rC(t,m,y,l);if(V.length===0&&R.hasChildren())return this.processChildren(h,l,R,T).pipe(ie(q=>new $t(T,q)));if(l.length===0&&V.length===0)return Z(new $t(T,[]));let J=gn(r)===o;return this.processSegment(h,l,R,V,J?se:o,!0,T).pipe(ie(q=>new $t(T,q instanceof $t?[q]:[])))}))):is(t)))}getChildConfig(e,t,r){return t.children?Z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Z({routes:t._loadedRoutes,injector:t._loadedInjector}):w2(e,t,r,this.urlSerializer).pipe(Ze(i=>i?this.configLoader.loadChildren(e,t).pipe(lt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):D2(t))):Z({routes:[],injector:e})}};function O2(n){n.sort((e,t)=>e.value.outlet===se?-1:t.value.outlet===se?1:e.value.outlet.localeCompare(t.value.outlet))}function F2(n){let e=n.value.routeConfig;return e&&e.path===""}function PC(n){let e=[],t=new Set;for(let r of n){if(!F2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=PC(r.children);e.push(new $t(r.value,i))}return e.filter(r=>!t.has(r))}function iC(n){return n.data||{}}function oC(n){return n.resolve||{}}function L2(n,e,t,r,i,o){return Ze(s=>x2(n,e,t,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:u})=>ce(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function V2(n,e){return Ze(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Z(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of xC(u))s.add(l);let a=0;return xe(s).pipe(Pr(u=>o.has(u)?j2(u,r,n,e):(u.data=Hd(u,u.parent,n).resolve,Z(void 0))),lt(()=>a++),Ao(1),Ze(u=>a===s.size?Z(t):Rt))})}function xC(n){let e=n.children.map(t=>xC(t)).flat();return[n,...e]}function j2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!TC(i)&&(o[sc]=i.title),U2(o,n,e,r).pipe(ie(s=>(n._resolvedData=s,n.data=Hd(n,n.parent,t).resolve,null)))}function U2(n,e,t,r){let i=yy(n);if(i.length===0)return Z({});let o={};return xe(i).pipe(Ze(s=>B2(n[s],e,t,r).pipe(Zn(),lt(a=>{if(a instanceof ds)throw zd(new ji,a);o[s]=a}))),Ao(1),ie(()=>o),Nr(s=>RC(s)?Rt:Co(s)))}function B2(n,e,t,r){let i=cc(e)??r,o=ps(n,i),s=o.resolve?o.resolve(e,t):ht(i,()=>o(e,t));return qr(s)}function gy(n){return Ut(e=>{let t=n(e);return t?xe(t).pipe(ie(()=>e)):Z(e)})}var xy=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(t){return t.data[sc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>x(kC),providedIn:"root"})}return n})(),kC=(()=>{class n extends xy{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(X(ZD))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dc=new $("",{providedIn:"root",factory:()=>({})}),hc=new $(""),OC=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(gD);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=qr(t.loadComponent()).pipe(ie(LC),lt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ei(()=>{this.componentLoaders.delete(t)})),i=new wo(r,()=>new Je).pipe(Io());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=FC(r,this.compiler,t,this.onLoadEndListener).pipe(Ei(()=>{this.childrenLoaders.delete(r)})),s=new wo(o,()=>new Je).pipe(Io());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FC(n,e,t,r){return qr(n.loadChildren()).pipe(ie(LC),Ze(i=>i instanceof qm||Array.isArray(i)?Z(i):xe(e.compileModuleAsync(i))),ie(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(hc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Py),injector:o}}))}function $2(n){return n&&typeof n=="object"&&"default"in n}function LC(n){return $2(n)?n.default:n}var Qd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>x(H2),providedIn:"root"})}return n})(),H2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VC=new $("");var jC=new $(""),UC=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Je;transitionAbortSubject=new Je;configLoader=x(OC);environmentInjector=x(Et);destroyRef=x(Qo);urlSerializer=x(ac);rootContexts=x(fs);location=x(Xo);inputBindingEnabled=x(Wd,{optional:!0})!==null;titleStrategy=x(xy);options=x(dc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(Qd);createViewTransition=x(VC,{optional:!0});navigationErrorHandler=x(jC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Z(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Od(i)),r=i=>this.events.next(new Fd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ce(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new ut(null),this.transitions.pipe(Nt(r=>r!==null),Ut(r=>{let i=!1,o=!1;return Z(r).pipe(Ut(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ot.SupersededByNewNavigation),Rt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ce(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new dr(s.id,this.urlSerializer.serialize(s.rawUrl),l,Za.IgnoredSameUrlNavigation)),s.resolve(!1),Rt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Z(s).pipe(Ut(l=>(this.events.next(new Ui(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Rt:Promise.resolve(l))),L2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),lt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ce(L({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Xa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:m,extras:y}=s,T=new Ui(l,this.urlSerializer.serialize(h),p,m);this.events.next(T);let M=wC(this.rootComponentType).snapshot;return this.currentTransition=r=ce(L({},s),{targetSnapshot:M,urlAfterRedirects:h,extras:ce(L({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Z(r)}else{let l="";return this.events.next(new dr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Za.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Rt}}),lt(s=>{let a=new Nd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ie(s=>(this.currentTransition=r=ce(L({},s),{guards:r2(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),p2(this.environmentInjector,s=>this.events.next(s)),lt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw zd(this.urlSerializer,s.guardsResult);let a=new Pd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Nt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ot.GuardRejected),!1)),gy(s=>{if(s.guards.canActivateChecks.length!==0)return Z(s).pipe(lt(a=>{let u=new xd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Ut(a=>{let u=!1;return Z(a).pipe(V2(this.paramsInheritanceStrategy,this.environmentInjector),lt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Ot.NoDataFromResolver)}}))}),lt(a=>{let u=new kd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),gy(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(lt(h=>{u.component=h}),ie(()=>{})));for(let h of u.children)l.push(...a(h));return l};return Qu(a(s.targetSnapshot.root)).pipe(xr(null),Jn(1))}),gy(()=>this.afterPreactivation()),Ut(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?xe(u).pipe(ie(()=>r)):Z(r)}),ie(s=>{let a=ZV(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ce(L({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),lt(()=>{this.events.next(new ec)}),n2(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Jn(1),lt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new lr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),ag(this.transitionAbortSubject.pipe(lt(s=>{throw s}))),Ei(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Ot.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Nr(s=>{if(this.destroyed)return r.resolve(!1),Rt;if(o=!0,AC(s))this.events.next(new Nn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),t2(s)?this.events.next(new ls(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new us(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=ht(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof ds){let{message:l,cancellationCode:h}=zd(this.urlSerializer,u);this.events.next(new Nn(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new ls(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Rt}))}))}cancelNavigationTransition(t,r,i){let o=new Nn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function z2(n){return n!==Ad}var BC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>x(q2),providedIn:"root"})}return n})(),Gd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},q2=(()=>{class n extends Gd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Hl(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$C=(()=>{class n{urlSerializer=x(ac);options=x(dc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(Xo);urlHandlingStrategy=x(Qd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Pn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Pn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=wC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>x(G2),providedIn:"root"})}return n})(),G2=(()=>{class n extends $C{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ui?this.updateStateMemento():t instanceof dr?this.commitTransition(r):t instanceof Xa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ec?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Nn&&(t.code===Ot.GuardRejected||t.code===Ot.NoDataFromResolver)?this.restoreHistory(r):t instanceof us?this.restoreHistory(r,!0):t instanceof lr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Hl(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ky(n,e){n.events.pipe(Nt(t=>t instanceof lr||t instanceof Nn||t instanceof us||t instanceof dr),ie(t=>t instanceof lr||t instanceof dr?0:(t instanceof Nn?t.code===Ot.Redirect||t.code===Ot.SupersededByNewNavigation:!1)?2:1),Nt(t=>t!==2),Jn(1)).subscribe(()=>{e()})}var W2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},K2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Yd=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(sD);stateManager=x($C);options=x(dc,{optional:!0})||{};pendingTasks=x(sr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(UC);urlSerializer=x(ac);location=x(Xo);urlHandlingStrategy=x(Qd);_events=new Je;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(BC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(hc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(Wd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Le;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Nn&&r.code!==Ot.Redirect&&r.code!==Ot.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof lr)this.navigated=!0;else if(r instanceof ls){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||z2(i.source)},s);this.scheduleNavigation(a,Ad,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Y2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ad,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Py),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=vC(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return _C(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=cs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ad,null,r)}navigate(t,r={skipLocationChange:!1}){return Q2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},W2):r===!1?i=L({},K2):i=r,cs(t))return XD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return XD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return ky(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Q2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}function Y2(n){return!(n instanceof ec)&&!(n instanceof ls)}var X2=new $("");function Oy(n,...e){return Bt([{provide:hc,multi:!0,useValue:n},[],{provide:zr,useFactory:ej,deps:[Yd]},{provide:Gm,multi:!0,useFactory:tj},e.map(t=>t.\u0275providers)])}function ej(n){return n.routerState.root}function tj(){let n=x(Xe);return e=>{let t=n.get(Ai);if(e!==t.components[0])return;let r=n.get(Yd),i=n.get(nj);n.get(rj)===1&&r.initialNavigation(),n.get(ij,null,ae.Optional)?.setUpPreloading(),n.get(X2,null,ae.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var nj=new $("",{factory:()=>new Je}),rj=new $("",{providedIn:"root",factory:()=>1});var ij=new $("");var Jd=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&K(0,"router-outlet")},dependencies:[ze,uc],encapsulation:2})};var HC=()=>{};var GC=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},sj=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Zd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(GC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):sj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Ly;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ly=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},aj=function(n){let e=GC(n);return Zd.encodeByteArray(e,!0)},pc=function(n){return aj(n).replace(/\./g,"")},Xd=function(n){try{return Zd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var cj=()=>jy().__FIREBASE_DEFAULTS__,uj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Xd(n[1]);return e&&JSON.parse(e)},eh=()=>{try{return HC()||cj()||uj()||lj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Uy=n=>{var e,t;return(t=(e=eh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},WC=n=>{let e=Uy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},By=()=>{var n;return(n=eh())===null||n===void 0?void 0:n.config},$y=n=>{var e;return(e=eh())===null||e===void 0?void 0:e[`_${n}`]};var Bi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Gr(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function th(n){return v(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function KC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[pc(JSON.stringify(t)),pc(JSON.stringify(s)),""].join(".")}var fc={};function dj(){let n={prod:[],emulator:[]};for(let e of Object.keys(fc))fc[e]?n.emulator.push(e):n.prod.push(e);return n}function hj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var zC=!1;function nh(n,e){if(typeof window>"u"||typeof document>"u"||!Gr(window.location.host)||fc[n]===e||fc[n]||zC)return;fc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=dj().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{zC=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=hj(r),y=t("text"),T=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),R=document.getElementById(M)||document.createElement("a"),V=t("preprendIcon"),J=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let q=m.element;a(q),h(R,M);let Ie=l();u(J,V),q.append(J,T,R,Ie),document.body.appendChild(q)}o?(T.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function fj(){var n;let e=(n=eh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rh(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function JC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZC(){let n=it();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function XC(){return!fj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $i(){try{return typeof indexedDB=="object"}catch{return!1}}function ih(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function eS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var pj="FirebaseError",ft=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=pj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,At.prototype.create)}},At=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?gj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ft(i,a,r)}};function gj(n,e){return n.replace(mj,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var mj=/\{\$([^}]+)}/g;function tS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function en(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(qC(o)&&qC(s)){if(!en(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function qC(n){return n!==null&&typeof n=="object"}function gc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nS(n,e){let t=new Vy(n,e);return t.subscribe.bind(t)}var Vy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");yj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Fy),i.error===void 0&&(i.error=Fy),i.complete===void 0&&(i.complete=Fy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function yj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Fy(){}var vj=1e3,_j=2,Ej=4*60*60*1e3,Ij=.5;function oh(n,e=vj,t=_j){let r=e*Math.pow(t,n),i=Math.round(Ij*r*(Math.random()-.5)*2);return Math.min(Ej,r+i)}function qe(n){return n&&n._delegate?n._delegate:n}var Be=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Hi="[DEFAULT]";var Hy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Bi;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bj(e))try{this.getOrInitializeService({instanceIdentifier:Hi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Hi){return this.instances.has(e)}getOptions(e=Hi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hi){return this.component?this.component.multipleInstances?e:Hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wj(n){return n===Hi?void 0:n}function bj(n){return n.instantiationMode==="EAGER"}var sh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Hy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Tj=[],he=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(he||{}),Dj={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},Cj=he.INFO,Sj={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},Aj=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Sj[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},tn=class{constructor(e){this.name=e,this._logLevel=Cj,this._logHandler=Aj,this._userLogHandler=null,Tj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var Rj=(n,e)=>e.some(t=>n instanceof t),rS,iS;function Mj(){return rS||(rS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nj(){return iS||(iS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var oS=new WeakMap,qy=new WeakMap,sS=new WeakMap,zy=new WeakMap,Wy=new WeakMap;function Pj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(xn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&oS.set(t,n)}).catch(()=>{}),Wy.set(e,n),e}function xj(n){if(qy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});qy.set(n,e)}var Gy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||sS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function aS(n){Gy=n(Gy)}function kj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(ah(this),e,...t);return sS.set(r,e.sort?e.sort():[e]),xn(r)}:Nj().includes(n)?function(...e){return n.apply(ah(this),e),xn(oS.get(this))}:function(...e){return xn(n.apply(ah(this),e))}}function Oj(n){return typeof n=="function"?kj(n):(n instanceof IDBTransaction&&xj(n),Rj(n,Mj())?new Proxy(n,Gy):n)}function xn(n){if(n instanceof IDBRequest)return Pj(n);if(zy.has(n))return zy.get(n);let e=Oj(n);return e!==n&&(zy.set(n,e),Wy.set(e,n)),e}var ah=n=>Wy.get(n);function ch(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=xn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(xn(s.result),u.oldVersion,u.newVersion,xn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Fj=["get","getKey","getAll","getAllKeys","count"],Lj=["put","add","delete","clear"],Ky=new Map;function cS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ky.get(e))return Ky.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Lj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Fj.includes(t)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Ky.set(e,o),o}aS(n=>ce(L({},n),{get:(e,t,r)=>cS(e,t)||n.get(e,t,r),has:(e,t)=>!!cS(e,t)||n.has(e,t)}));var Yy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Vj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Vj(n){let e=n.getComponent();return e?.type==="VERSION"}var Jy="@firebase/app",uS="0.13.2";var hr=new tn("@firebase/app"),jj="@firebase/app-compat",Uj="@firebase/analytics-compat",Bj="@firebase/analytics",$j="@firebase/app-check-compat",Hj="@firebase/app-check",zj="@firebase/auth",qj="@firebase/auth-compat",Gj="@firebase/database",Wj="@firebase/data-connect",Kj="@firebase/database-compat",Qj="@firebase/functions",Yj="@firebase/functions-compat",Jj="@firebase/installations",Zj="@firebase/installations-compat",Xj="@firebase/messaging",eU="@firebase/messaging-compat",tU="@firebase/performance",nU="@firebase/performance-compat",rU="@firebase/remote-config",iU="@firebase/remote-config-compat",oU="@firebase/storage",sU="@firebase/storage-compat",aU="@firebase/firestore",cU="@firebase/ai",uU="@firebase/firestore-compat",lU="firebase",dU="11.10.0";var Zy="[DEFAULT]",hU={[Jy]:"fire-core",[jj]:"fire-core-compat",[Bj]:"fire-analytics",[Uj]:"fire-analytics-compat",[Hj]:"fire-app-check",[$j]:"fire-app-check-compat",[zj]:"fire-auth",[qj]:"fire-auth-compat",[Gj]:"fire-rtdb",[Wj]:"fire-data-connect",[Kj]:"fire-rtdb-compat",[Qj]:"fire-fn",[Yj]:"fire-fn-compat",[Jj]:"fire-iid",[Zj]:"fire-iid-compat",[Xj]:"fire-fcm",[eU]:"fire-fcm-compat",[tU]:"fire-perf",[nU]:"fire-perf-compat",[rU]:"fire-rc",[iU]:"fire-rc-compat",[oU]:"fire-gcs",[sU]:"fire-gcs-compat",[aU]:"fire-fst",[uU]:"fire-fst-compat",[cU]:"fire-vertex","fire-js":"fire-js",[lU]:"fire-js-all"};var mc=new Map,fU=new Map,Xy=new Map;function lS(n,e){try{n.container.addComponent(e)}catch(t){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pt(n){let e=n.name;if(Xy.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;Xy.set(e,n);for(let t of mc.values())lS(t,n);for(let t of fU.values())lS(t,n);return!0}function nn(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function rn(n){return n==null?!1:n.settings!==void 0}var pU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new At("app","Firebase",pU);var ev=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Be("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}};var Kr=dU;function rv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Zy,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Wr.create("bad-app-name",{appName:String(i)});if(t||(t=By()),!t)throw Wr.create("no-options");let o=mc.get(i);if(o){if(en(t,o.options)&&en(r,o.config))return o;throw Wr.create("duplicate-app",{appName:i})}let s=new sh(i);for(let u of Xy.values())s.addComponent(u);let a=new ev(t,r,s);return mc.set(i,a),a}function kn(n=Zy){let e=mc.get(n);if(!e&&n===Zy&&By())return rv();if(!e)throw Wr.create("no-app",{appName:n});return e}function uh(){return Array.from(mc.values())}function Ce(n,e,t){var r;let i=(r=hU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(a.join(" "));return}pt(new Be(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var gU="firebase-heartbeat-database",mU=1,yc="firebase-heartbeat-store",Qy=null;function pS(){return Qy||(Qy=ch(gU,mU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wr.create("idb-open",{originalErrorMessage:n.message})})),Qy}function yU(n){return v(this,null,function*(){try{let t=(yield pS()).transaction(yc),r=yield t.objectStore(yc).get(gS(n));return yield t.done,r}catch(e){if(e instanceof ft)hr.warn(e.message);else{let t=Wr.create("idb-get",{originalErrorMessage:e?.message});hr.warn(t.message)}}})}function dS(n,e){return v(this,null,function*(){try{let r=(yield pS()).transaction(yc,"readwrite");yield r.objectStore(yc).put(e,gS(n)),yield r.done}catch(t){if(t instanceof ft)hr.warn(t.message);else{let r=Wr.create("idb-set",{originalErrorMessage:t?.message});hr.warn(r.message)}}})}function gS(n){return`${n.name}!${n.options.appId}`}var vU=1024,_U=30,tv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new nv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>_U){let s=IU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=hS(),{heartbeatsToSend:r,unsentEntries:i}=EU(this._heartbeatsCache.heartbeats),o=pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return hr.warn(t),""}})}};function hS(){return new Date().toISOString().substring(0,10)}function EU(n,e=vU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),fS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),fS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var nv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return $i()?ih().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield yU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return dS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return dS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function fS(n){return pc(JSON.stringify({version:2,heartbeats:n})).length}function IU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function wU(n){pt(new Be("platform-logger",e=>new Yy(e),"PRIVATE")),pt(new Be("heartbeat",e=>new tv(e),"PRIVATE")),Ce(Jy,uS,n),Ce(Jy,uS,"esm2017"),Ce("fire-js","")}wU("");var bU="firebase",TU="11.10.0";Ce(bU,TU,"app");function iv(n){n===void 0&&(A0(iv),n=x(Xe));let e=n.get(zl);return t=>new ue(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var On=new qo("ANGULARFIRE2_VERSION");function qi(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Qr=(n,e)=>{let t=e?[e]:uh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},gs=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(gs||{}),mS=Qm()&&typeof Zone<"u"?gs.WARN:gs.SILENT;var lh=class{zone;delegate;constructor(e,t=ng){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Fn=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=x(be);this.outsideAngular=t.runOutsideAngular(()=>new lh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new lh(typeof Zone>"u"?void 0:Zone.current,tg))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yS=!1;function DU(n,e){!yS&&(mS>gs.SILENT||Qm())&&(yS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),mS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function CU(n){let e=x(be,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function zi(n){let e=x(be,{optional:!0});return e?e.run(()=>n()):n()}var SU=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),ht(t,()=>zi(()=>n.apply(void 0,r)))),Ft=(n,e,t)=>(t||=e?gs.WARN:gs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(Fn),s=x(zl),a=x(Et)}catch{return DU(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=zi(()=>s.add())),i[l]=SU(i[l],r,a));let u=CU(()=>n.apply(this,i));return e?u instanceof ue?u.pipe(Mr(o.outsideAngular),Rr(o.insideAngular),iv(a)):u instanceof Promise?zi(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>ht(a,()=>zi(()=>l(p))),p=>ht(a,()=>zi(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:zi(()=>u):u instanceof ue?u.pipe(Mr(o.outsideAngular),Rr(o.insideAngular)):zi(()=>u)});var mn=class{constructor(e){return e}},fr=class{constructor(){return uh()}};function AU(n){return n&&n.length===1?n[0]:new mn(kn())}var ov=new $("angularfire2._apps"),RU={provide:mn,useFactory:AU,deps:[[new It,ov]]},MU={provide:fr,deps:[[new It,ov]]};function NU(n){return(e,t)=>{let r=t.get(Cn);Ce("angularfire",On.full,"core"),Ce("angularfire",On.full,"app"),Ce("angular",pD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new mn(i)}}function vS(n,...e){return Bt([RU,MU,{provide:ov,useFactory:NU(n),multi:!0,deps:[be,Xe,Fn,...e]}])}var _S=Ft(rv,!0);var PU=new Map,xU={activated:!1,tokenObservers:[]},kU={initialized:!1,enabled:!1};function yn(n){return PU.get(n)||Object.assign({},xU)}function bS(){return kU}var OU="https://content-firebaseappcheck.googleapis.com/v1";var FU="exchangeDebugToken",ES={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},FZ=24*60*60*1e3;var cv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new Bi,this.pending.promise.catch(t=>{}),yield LU(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Bi,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function LU(n){return new Promise(e=>{setTimeout(e,n)})}var VU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Yr=new At("appCheck","AppCheck",VU);function TS(n){if(!yn(n).activated)throw Yr.create("use-before-activation",{appName:n.name})}function DS(r,i){return v(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw Yr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Yr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Yr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Yr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function CS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${OU}/projects/${t}/apps/${r}:${FU}?key=${i}`,body:{debug_token:e}}}var jU="firebase-app-check-database",UU=1,uv="firebase-app-check-store";var dh=null;function BU(){return dh||(dh=new Promise((n,e)=>{try{let t=indexedDB.open(jU,UU);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Yr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(uv,{keyPath:"compositeKey"})}}}catch(t){e(Yr.create("storage-open",{originalErrorMessage:t?.message}))}}),dh)}function $U(n,e){return HU(zU(n),e)}function HU(n,e){return v(this,null,function*(){let r=(yield BU()).transaction(uv,"readwrite"),o=r.objectStore(uv).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Yr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function zU(n){return`${n.options.appId}-${n.name}`}var vc=new tn("@firebase/app-check");function sv(n,e){return $i()?$U(n,e).catch(t=>{vc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function SS(){return bS().enabled}function AS(){return v(this,null,function*(){let n=bS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var qU={error:"UNKNOWN_ERROR"};function GU(n){return Zd.encodeString(JSON.stringify(n),!1)}function lv(n,e=!1,t=!1){return v(this,null,function*(){let r=n.app;TS(r);let i=yn(r),o=i.token,s;if(o&&!_c(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(_c(l)?o=l:yield sv(r,void 0))}if(!e&&o&&_c(o))return{token:o.token};let a=!1;if(SS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=DS(CS(r,yield AS()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield sv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?vc.warn(l.message):t&&vc.error(l),av(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield yn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?vc.warn(l.message):t&&vc.error(l),s=l}let u;return o?s?_c(o)?u={token:o.token,internalError:s}:u=av(s):(u={token:o.token},i.token=o,yield sv(r,o)):u=av(s),a&&YU(r,u),u})}function WU(n){return v(this,null,function*(){let e=n.app;TS(e);let{provider:t}=yn(e);if(SS()){let r=yield AS(),{token:i}=yield DS(CS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function KU(n,e,t,r){let{app:i}=n,o=yn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&_c(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),IS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>IS(n))}function RS(n,e){let t=yn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function IS(n){let{app:e}=n,t=yn(e),r=t.tokenRefresher;r||(r=QU(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function QU(n){let{app:e}=n;return new cv(()=>v(null,null,function*(){let t=yn(e),r;if(t.token?r=yield lv(n,!0):r=yield lv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=yn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},ES.RETRIAL_MIN_WAIT,ES.RETRIAL_MAX_WAIT)}function YU(n,e){let t=yn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function _c(n){return n.expireTimeMillis-Date.now()>0}function av(n){return{token:GU(qU),error:n}}var dv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=yn(this.app);for(let t of e)RS(this.app,t.next);return Promise.resolve()}};function JU(n,e){return new dv(n,e)}function ZU(n){return{getToken:e=>lv(n,e),getLimitedUseToken:()=>WU(n),addTokenListener:e=>KU(n,"INTERNAL",e),removeTokenListener:e=>RS(n.app,e)}}var XU="@firebase/app-check",eB="0.10.1";var tB="app-check",wS="app-check-internal";function nB(){pt(new Be(tB,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return JU(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(wS).initialize()})),pt(new Be(wS,n=>{let e=n.getProvider("app-check").getImmediate();return ZU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ce(XU,eB)}nB();var rB="app-check";var ms=class{constructor(){return Qr(rB)}};var iB=["localhost","0.0.0.0","127.0.0.1"],QZ=typeof window<"u"&&iB.includes(window.location.hostname);function zS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var qS=zS,GS=new At("auth","Firebase",zS());var yh=new tn("@firebase/auth");function oB(n,...e){yh.logLevel<=he.WARN&&yh.warn(`Auth (${Kr}): ${n}`,...e)}function fh(n,...e){yh.logLevel<=he.ERROR&&yh.error(`Auth (${Kr}): ${n}`,...e)}function Xr(n,...e){throw Nv(n,...e)}function Wi(n,...e){return Nv(n,...e)}function WS(n,e,t){let r=Object.assign(Object.assign({},qS()),{[e]:t});return new At("auth","Firebase",r).create(e,{appName:n.name})}function Gi(n){return WS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return GS.create(n,...e)}function ee(n,e,...t){if(!n)throw Nv(e,...t)}function pr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw fh(e),new Error(e)}function ei(n,e){n||pr(e)}function gv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function sB(){return MS()==="http:"||MS()==="https:"}function MS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function aB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sB()||rh()||"connection"in navigator)?navigator.onLine:!0}function cB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ki=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ei(t>e,"Short delay should be less than long delay!"),this.isMobile=QC()||JC()}get(){return aB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Pv(n,e){ei(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var vh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var uB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var lB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dB=new Ki(3e4,6e4);function xv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ys(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){return KS(n,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=gc(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return YC()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Gr(n.emulatorConfig.host)&&(y.credentials="include"),vh.fetch()(yield QS(n,n.config.apiHost,t,p),y)}))})}function KS(n,e,t){return v(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},uB),e);try{let i=new mv(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw hh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw hh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw hh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw WS(n,h,l);Xr(n,h)}}catch(i){if(i instanceof ft)throw i;Xr(n,"network-request-failed",{message:String(i)})}})}function hB(o,s,a,u){return v(this,arguments,function*(n,e,t,r,i={}){let l=yield ys(n,e,t,r,i);return"mfaPendingCredential"in l&&Xr(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function QS(n,e,t,r){return v(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Pv(n.config,i):`${n.config.apiScheme}://${i}`;return lB.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var mv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Wi(this.auth,"network-request-failed")),dB.get())})}};function hh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Wi(n,e,r);return i.customData._tokenResponse=t,i}function fB(n,e){return v(this,null,function*(){return ys(n,"POST","/v1/accounts:delete",e)})}function _h(n,e){return v(this,null,function*(){return ys(n,"POST","/v1/accounts:lookup",e)})}function Ec(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kv(n,e=!1){return v(this,null,function*(){let t=qe(n),r=yield t.getIdToken(e),i=Ov(r);ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ec(hv(i.auth_time)),issuedAtTime:Ec(hv(i.iat)),expirationTime:Ec(hv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function hv(n){return Number(n)*1e3}function Ov(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Xd(t);return i?JSON.parse(i):(fh("Failed to decode base64 JWT payload"),null)}catch(i){return fh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function NS(n){let e=Ov(n);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function wc(n,e,t=!1){return v(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof ft&&pB(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function pB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var yv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),t)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var bc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Eh(n){return v(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield wc(n,_h(t,{idToken:r}));ee(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?YS(o.providerUserInfo):[],a=gB(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Fv(n){return v(this,null,function*(){let e=qe(n);yield Eh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function gB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YS(n){return n.map(e=>{var{providerId:t}=e,r=rg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function mB(n,e){return v(this,null,function*(){let t=yield KS(n,{},()=>v(null,null,function*(){let r=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield QS(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Gr(n.emulatorConfig.host)&&(u.credentials="include"),vh.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function yB(n,e){return v(this,null,function*(){return ys(n,"POST","/v2/accounts:revokeToken",xv(n,e))})}var Ic=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ee(e.length!==0,"internal-error");let t=NS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return v(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield mB(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return pr("not implemented")}};function Jr(n,e){ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Zr=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let t=yield wc(this,this.stsTokenManager.getToken(this.auth,e));return ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return kv(this,e)}reload(){return Fv(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Eh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(rn(this.auth.app))return Promise.reject(Gi(this.auth));let e=yield this.getIdToken();return yield wc(this,fB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=t.createdAt)!==null&&l!==void 0?l:void 0,J=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:Ie,isAnonymous:at,providerData:we,stsTokenManager:b}=t;ee(q&&b,e,"internal-error");let _=Ic.fromJSON(this.name,b);ee(typeof q=="string",e,"internal-error"),Jr(p,e.name),Jr(m,e.name),ee(typeof Ie=="boolean",e,"internal-error"),ee(typeof at=="boolean",e,"internal-error"),Jr(y,e.name),Jr(T,e.name),Jr(M,e.name),Jr(R,e.name),Jr(V,e.name),Jr(J,e.name);let I=new n({uid:q,auth:e,email:m,emailVerified:Ie,displayName:p,isAnonymous:at,photoURL:T,phoneNumber:y,tenantId:M,stsTokenManager:_,createdAt:V,lastLoginAt:J});return we&&Array.isArray(we)&&(I.providerData=we.map(w=>Object.assign({},w))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return v(this,null,function*(){let i=new Ic;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Eh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return v(this,null,function*(){let i=t.users[0];ee(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?YS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ic;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var PS=new Map;function gr(n){ei(n instanceof Function,"Expected a class definition");let e=PS.get(n);return e?(ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,PS.set(n,e),e)}var vB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(t,r){return v(this,null,function*(){this.storage[t]=r})}_get(t){return v(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return v(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),vv=vB;function ph(n,e,t){return`firebase:${n}:${e}:${t}`}var Ih=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ph(this.userKey,i.apiKey,o),this.fullPersistenceKey=ph("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield _h(this.auth,{idToken:e}).catch(()=>{});return t?Zr._fromGetAccountInfoResponse(this.auth,t,e):null}return Zr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(this,null,function*(){if(!t.length)return new n(gr(vv),e,r);let i=(yield Promise.all(t.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||gr(vv),s=ph(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield _h(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Zr._fromGetAccountInfoResponse(e,m,h)}else p=Zr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function xS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nA(e))return"Blackberry";if(rA(e))return"Webos";if(ZS(e))return"Safari";if((e.includes("chrome/")||XS(e))&&!e.includes("edge/"))return"Chrome";if(tA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function JS(n=it()){return/firefox\//i.test(n)}function ZS(n=it()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XS(n=it()){return/crios\//i.test(n)}function eA(n=it()){return/iemobile/i.test(n)}function tA(n=it()){return/android/i.test(n)}function nA(n=it()){return/blackberry/i.test(n)}function rA(n=it()){return/webos/i.test(n)}function Lv(n=it()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _B(n=it()){var e;return Lv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function EB(){return ZC()&&document.documentMode===10}function iA(n=it()){return Lv(n)||tA(n)||rA(n)||nA(n)||/windows phone/i.test(n)||eA(n)}function oA(n,e=[]){let t;switch(n){case"Browser":t=xS(it());break;case"Worker":t=`${xS(it())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Kr}/${r}`}var _v=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function IB(t){return v(this,arguments,function*(n,e={}){return ys(n,"GET","/v2/passwordPolicy",xv(n,e))})}var wB=6,Ev=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:wB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Iv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wh(this),this.idTokenSubscription=new wh(this),this.beforeStateQueue=new _v(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gr(t)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Ih.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let t=yield _h(this,{idToken:e}),r=yield Zr._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var t;if(rn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Eh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=cB()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(rn(this.app))return Promise.reject(Gi(this));let t=e?qe(e):null;return t&&ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return v(this,null,function*(){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return rn(this.app)?Promise.reject(Gi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return rn(this.app)?Promise.reject(Gi(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(gr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield IB(this),t=new Ev(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new At("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield yB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&gr(e)||this._popupRedirectResolver;ee(t,this,"argument-error"),this.redirectPersistenceManager=yield Ih.create(this,[gr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return v(this,null,function*(){var e;if(rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&oB(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Vv(n){return qe(n)}var wh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=nS(t=>this.observer=t)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var jv={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bB(n){jv=n}function TB(n){return jv.loadJS(n)}function DB(){return jv.gapiScript}function sA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Uv(n,e){let t=nn(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(en(o,e??{}))return i;Xr(i,"already-initialized")}return t.initialize({options:e})}function CB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(gr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Bv(n,e,t){let r=Vv(n);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=aA(e),{host:s,port:a}=SB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(en(l,r.config.emulator)&&en(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Gr(s)?(th(`${o}//${s}${u}`),nh("Auth",!0)):i||AB()}function aA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function SB(n){let e=aA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:kS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:kS(s)}}}function kS(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function AB(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var bh=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,t){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}};function fv(n,e){return v(this,null,function*(){return hB(n,"POST","/v1/accounts:signInWithIdp",xv(n,e))})}var Th=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var wv=class extends Th{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Tc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(this,null,function*(){let o=yield Zr._fromIdTokenResponse(e,r,i),s=OS(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=OS(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function OS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var bv=class n extends ft{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function cA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bv._fromErrorAndOperation(n,o,e,r):o})}function RB(n,e,t=!1){return v(this,null,function*(){let r=yield wc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Tc._forOperation(n,"link",r)})}function MB(n,e,t=!1){return v(this,null,function*(){let{auth:r}=n;if(rn(r.app))return Promise.reject(Gi(r));let i="reauthenticate";try{let o=yield wc(n,cA(r,i,e,n),t);ee(o.idToken,r,"internal-error");let s=Ov(o.idToken);ee(s,r,"internal-error");let{sub:a}=s;return ee(n.uid===a,r,"user-mismatch"),Tc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Xr(r,"user-mismatch"),o}})}function NB(n,e,t=!1){return v(this,null,function*(){if(rn(n.app))return Promise.reject(Gi(n));let r="signIn",i=yield cA(n,r,e),o=yield Tc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function $v(n,e,t,r){return qe(n).onIdTokenChanged(e,t,r)}function Hv(n,e,t){return qe(n).beforeAuthStateChanged(e,t)}var Dh="__sak";var Ch=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var PB=1e3,xB=10,kB=(()=>{class n extends Ch{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);EB()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,xB):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},PB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return v(this,null,function*(){yield Sr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return v(this,null,function*(){let r=yield Sr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return v(this,null,function*(){yield Sr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),uA=kB;var OB=(()=>{class n extends Ch{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),zv=OB;function FB(n){return Promise.all(n.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var LB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return v(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield FB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function lA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Tv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=lA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Ln(){return window}function VB(n){Ln().location.href=n}function dA(){return typeof Ln().WorkerGlobalScope<"u"&&typeof Ln().importScripts=="function"}function jB(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function UB(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function BB(){return dA()?self:null}var hA="firebaseLocalStorageDb",$B=1,Sh="firebaseLocalStorage",fA="fbase_key",Qi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Rh(n,e){return n.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function HB(){let n=indexedDB.deleteDatabase(hA);return new Qi(n).toPromise()}function Dv(){let n=indexedDB.open(hA,$B);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Sh,{keyPath:fA})}catch(i){t(i)}}),n.addEventListener("success",()=>v(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Sh)?e(r):(r.close(),yield HB(),e(yield Dv()))}))})}function FS(n,e,t){return v(this,null,function*(){let r=Rh(n,!0).put({[fA]:e,value:t});return new Qi(r).toPromise()})}function zB(n,e){return v(this,null,function*(){let t=Rh(n,!1).get(e),r=yield new Qi(t).toPromise();return r===void 0?null:r.value})}function LS(n,e){let t=Rh(n,!0).delete(e);return new Qi(t).toPromise()}var qB=800,GB=3,WB=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield Dv(),this.db)})}_withRetries(t){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>GB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return dA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=LB._getInstance(BB()),this.receiver._subscribe("keyChanged",(t,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var t,r;if(this.activeServiceWorker=yield jB(),!this.activeServiceWorker)return;this.sender=new Tv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||UB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Dv();return yield FS(t,Dh,"1"),yield LS(t,Dh),!0}catch{}return!1})}_withPendingWrite(t){return v(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>FS(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return v(this,null,function*(){let r=yield this._withRetries(i=>zB(i,t));return this.localCache[t]=r,r})}_remove(t){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>LS(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return v(this,null,function*(){let t=yield this._withRetries(o=>{let s=Rh(o,!1).getAll();return new Qi(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),qB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),pA=WB;var oX=sA("rcb"),sX=new Ki(3e4,6e4);function KB(n,e){return e?gr(e):(ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Dc=class extends bh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fv(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function QB(n){return NB(n.auth,new Dc(n),n.bypassAuthState)}function YB(n){let{auth:e,user:t}=n;return ee(t,e,"internal-error"),MB(t,new Dc(n),n.bypassAuthState)}function JB(n){return v(this,null,function*(){let{auth:e,user:t}=n;return ee(t,e,"internal-error"),RB(t,new Dc(n),n.bypassAuthState)})}var Cv=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QB;case"linkViaPopup":case"linkViaRedirect":return JB;case"reauthViaPopup":case"reauthViaRedirect":return YB;default:Xr(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var aX=new Ki(2e3,1e4);var ZB="pendingRedirect",gh=new Map,Sv=class n extends Cv{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=gh.get(this.auth._key());if(!e){try{let r=(yield XB(this.resolver,this.auth))?yield Sr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Sr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Sr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function XB(n,e){return v(this,null,function*(){let t=n$(e),r=t$(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function e$(n,e){gh.set(n._key(),e)}function t$(n){return gr(n._redirectPersistence)}function n$(n){return ph(ZB,n.config.apiKey,n.name)}function r$(n,e,t=!1){return v(this,null,function*(){if(rn(n.app))return Promise.reject(Gi(n));let r=Vv(n),i=KB(r,e),s=yield new Sv(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var i$=10*60*1e3,Av=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!gA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Wi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i$&&this.cachedEventUids.clear(),this.cachedEventUids.has(VS(e))}saveEventToCache(e){this.cachedEventUids.add(VS(e)),this.lastProcessedEventTime=Date.now()}};function VS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function gA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function o$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gA(n);default:return!1}}function s$(t){return v(this,arguments,function*(n,e={}){return ys(n,"GET","/v1/projects",e)})}var a$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c$=/^https?/;function u$(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield s$(n);for(let t of e)try{if(l$(t))return}catch{}Xr(n,"unauthorized-domain")})}function l$(n){let e=gv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!c$.test(t))return!1;if(a$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var d$=new Ki(3e4,6e4);function jS(){let n=Ln().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function h$(n){return new Promise((e,t)=>{var r,i,o;function s(){jS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jS(),t(Wi(n,"network-request-failed"))},timeout:d$.get()})}if(!((i=(r=Ln().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ln().gapi)===null||o===void 0)&&o.load)s();else{let a=sA("iframefcb");return Ln()[a]=()=>{gapi.load?s():t(Wi(n,"network-request-failed"))},TB(`${DB()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw mh=null,e})}var mh=null;function f$(n){return mh=mh||h$(n),mh}var p$=new Ki(5e3,15e3),g$="__/auth/iframe",m$="emulator/auth/iframe",y$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _$(n){let e=n.config;ee(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Pv(e,m$):`https://${n.config.authDomain}/${g$}`,r={apiKey:e.apiKey,appName:n.name,v:Kr},i=v$.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${gc(r).slice(1)}`}function E$(n){return v(this,null,function*(){let e=yield f$(n),t=Ln().gapi;return ee(t,n,"internal-error"),e.open({where:document.body,url:_$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y$,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Wi(n,"network-request-failed"),a=Ln().setTimeout(()=>{o(s)},p$.get());function u(){Ln().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var I$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w$=500,b$=600,T$="_blank",D$="http://localhost",Ah=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function C$(n,e,t,r=w$,i=b$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},I$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=it().toLowerCase();t&&(a=XS(l)?T$:t),JS(l)&&(e=e||D$,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(_B(l)&&a!=="_self")return S$(e||"",a),new Ah(null);let p=window.open(e||"",a,h);ee(p,n,"popup-blocked");try{p.focus()}catch{}return new Ah(p)}function S$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var A$="__/auth/handler",R$="emulator/auth/handler",M$=encodeURIComponent("fac");function US(n,e,t,r,i,o){return v(this,null,function*(){ee(n.config.authDomain,n,"auth-domain-config-required"),ee(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Kr,eventId:i};if(e instanceof Th){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",tS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof wv){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${M$}=${encodeURIComponent(u)}`:"";return`${N$(n)}?${gc(a).slice(1)}${l}`})}function N$({config:n}){return n.emulator?Pv(n,R$):`https://${n.authDomain}/${A$}`}var pv="webStorageSupport",Rv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zv,this._completeRedirectFn=r$,this._overrideRedirectResult=e$}_openPopup(e,t,r,i){return v(this,null,function*(){var o;ei((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield US(e,t,r,gv(),i);return C$(e,s,lA())})}_openRedirect(e,t,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield US(e,t,r,gv(),i);return VB(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ei(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return v(this,null,function*(){let t=yield E$(e),r=new Av(e);return t.register("authEvent",i=>(ee(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pv,{type:pv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[pv];s!==void 0&&t(!!s),Xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=u$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iA()||ZS()||Lv()}},mA=Rv;var BS="@firebase/auth",$S="1.10.8";var Mv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function P$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x$(n){pt(new Be("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oA(n)},l=new Iv(r,i,o,u);return CB(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pt(new Be("auth-internal",e=>{let t=Vv(e.getProvider("auth").getImmediate());return(r=>new Mv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ce(BS,$S,P$(n)),Ce(BS,$S,"esm2017")}var k$=5*60,O$=$y("authIdTokenMaxAge")||k$,HS=null,F$=n=>e=>v(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>O$)return;let i=t?.token;HS!==i&&(HS=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function qv(n=kn()){let e=nn(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Uv(n,{popupRedirectResolver:mA,persistence:[pA,uA,zv]}),r=$y("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=F$(o.toString());Hv(t,s,()=>s(t.currentUser)),$v(t,a=>s(a))}}let i=Uy("auth");return i&&Bv(t,`http://${i}`),t}function L$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}bB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Wi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",L$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x$("Browser");var yA="auth",Cc=class{constructor(e){return e}},Sc=class{constructor(){return Qr(yA)}};var Gv=new $("angularfire2.auth-instances");function MH(n,e){let t=qi(yA,n,e);return t&&new Cc(t)}function NH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Cc(r)}}var PH={provide:Sc,deps:[[new It,Gv]]},xH={provide:Cc,useFactory:MH,deps:[[new It,Gv],mn]};function vA(n,...e){return Ce("angularfire",On.full,"auth"),Bt([xH,PH,{provide:Gv,useFactory:NH(n),multi:!0,deps:[be,Xe,Fn,fr,[new It,ms],...e]}])}var _A=Ft(qv,!0);var EA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},IA={};var mr,Wv;(function(){var n;function e(b,_){function I(){}I.prototype=_.prototype,b.D=_.prototype,b.prototype=new I,b.prototype.constructor=b,b.C=function(w,D,S){for(var E=Array(arguments.length-2),Gn=2;Gn<arguments.length;Gn++)E[Gn-2]=arguments[Gn];return _.prototype[D].apply(w,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,_,I){I||(I=0);var w=Array(16);if(typeof _=="string")for(var D=0;16>D;++D)w[D]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(D=0;16>D;++D)w[D]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=b.g[0],I=b.g[1],D=b.g[2];var S=b.g[3],E=_+(S^I&(D^S))+w[0]+3614090360&4294967295;_=I+(E<<7&4294967295|E>>>25),E=S+(D^_&(I^D))+w[1]+3905402710&4294967295,S=_+(E<<12&4294967295|E>>>20),E=D+(I^S&(_^I))+w[2]+606105819&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(_^D&(S^_))+w[3]+3250441966&4294967295,I=D+(E<<22&4294967295|E>>>10),E=_+(S^I&(D^S))+w[4]+4118548399&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(D^_&(I^D))+w[5]+1200080426&4294967295,S=_+(E<<12&4294967295|E>>>20),E=D+(I^S&(_^I))+w[6]+2821735955&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(_^D&(S^_))+w[7]+4249261313&4294967295,I=D+(E<<22&4294967295|E>>>10),E=_+(S^I&(D^S))+w[8]+1770035416&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(D^_&(I^D))+w[9]+2336552879&4294967295,S=_+(E<<12&4294967295|E>>>20),E=D+(I^S&(_^I))+w[10]+4294925233&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(_^D&(S^_))+w[11]+2304563134&4294967295,I=D+(E<<22&4294967295|E>>>10),E=_+(S^I&(D^S))+w[12]+1804603682&4294967295,_=I+(E<<7&4294967295|E>>>25),E=S+(D^_&(I^D))+w[13]+4254626195&4294967295,S=_+(E<<12&4294967295|E>>>20),E=D+(I^S&(_^I))+w[14]+2792965006&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(_^D&(S^_))+w[15]+1236535329&4294967295,I=D+(E<<22&4294967295|E>>>10),E=_+(D^S&(I^D))+w[1]+4129170786&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(_^I))+w[6]+3225465664&4294967295,S=_+(E<<9&4294967295|E>>>23),E=D+(_^I&(S^_))+w[11]+643717713&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(D^S))+w[0]+3921069994&4294967295,I=D+(E<<20&4294967295|E>>>12),E=_+(D^S&(I^D))+w[5]+3593408605&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(_^I))+w[10]+38016083&4294967295,S=_+(E<<9&4294967295|E>>>23),E=D+(_^I&(S^_))+w[15]+3634488961&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(D^S))+w[4]+3889429448&4294967295,I=D+(E<<20&4294967295|E>>>12),E=_+(D^S&(I^D))+w[9]+568446438&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(_^I))+w[14]+3275163606&4294967295,S=_+(E<<9&4294967295|E>>>23),E=D+(_^I&(S^_))+w[3]+4107603335&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(D^S))+w[8]+1163531501&4294967295,I=D+(E<<20&4294967295|E>>>12),E=_+(D^S&(I^D))+w[13]+2850285829&4294967295,_=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(_^I))+w[2]+4243563512&4294967295,S=_+(E<<9&4294967295|E>>>23),E=D+(_^I&(S^_))+w[7]+1735328473&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^_&(D^S))+w[12]+2368359562&4294967295,I=D+(E<<20&4294967295|E>>>12),E=_+(I^D^S)+w[5]+4294588738&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^D)+w[8]+2272392833&4294967295,S=_+(E<<11&4294967295|E>>>21),E=D+(S^_^I)+w[11]+1839030562&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^_)+w[14]+4259657740&4294967295,I=D+(E<<23&4294967295|E>>>9),E=_+(I^D^S)+w[1]+2763975236&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^D)+w[4]+1272893353&4294967295,S=_+(E<<11&4294967295|E>>>21),E=D+(S^_^I)+w[7]+4139469664&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^_)+w[10]+3200236656&4294967295,I=D+(E<<23&4294967295|E>>>9),E=_+(I^D^S)+w[13]+681279174&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^D)+w[0]+3936430074&4294967295,S=_+(E<<11&4294967295|E>>>21),E=D+(S^_^I)+w[3]+3572445317&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^_)+w[6]+76029189&4294967295,I=D+(E<<23&4294967295|E>>>9),E=_+(I^D^S)+w[9]+3654602809&4294967295,_=I+(E<<4&4294967295|E>>>28),E=S+(_^I^D)+w[12]+3873151461&4294967295,S=_+(E<<11&4294967295|E>>>21),E=D+(S^_^I)+w[15]+530742520&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^_)+w[2]+3299628645&4294967295,I=D+(E<<23&4294967295|E>>>9),E=_+(D^(I|~S))+w[0]+4096336452&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~D))+w[7]+1126891415&4294967295,S=_+(E<<10&4294967295|E>>>22),E=D+(_^(S|~I))+w[14]+2878612391&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~_))+w[5]+4237533241&4294967295,I=D+(E<<21&4294967295|E>>>11),E=_+(D^(I|~S))+w[12]+1700485571&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~D))+w[3]+2399980690&4294967295,S=_+(E<<10&4294967295|E>>>22),E=D+(_^(S|~I))+w[10]+4293915773&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~_))+w[1]+2240044497&4294967295,I=D+(E<<21&4294967295|E>>>11),E=_+(D^(I|~S))+w[8]+1873313359&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~D))+w[15]+4264355552&4294967295,S=_+(E<<10&4294967295|E>>>22),E=D+(_^(S|~I))+w[6]+2734768916&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~_))+w[13]+1309151649&4294967295,I=D+(E<<21&4294967295|E>>>11),E=_+(D^(I|~S))+w[4]+4149444226&4294967295,_=I+(E<<6&4294967295|E>>>26),E=S+(I^(_|~D))+w[11]+3174756917&4294967295,S=_+(E<<10&4294967295|E>>>22),E=D+(_^(S|~I))+w[2]+718787259&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~_))+w[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(D+(E<<21&4294967295|E>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+S&4294967295}r.prototype.u=function(b,_){_===void 0&&(_=b.length);for(var I=_-this.blockSize,w=this.B,D=this.h,S=0;S<_;){if(D==0)for(;S<=I;)i(this,b,S),S+=this.blockSize;if(typeof b=="string"){for(;S<_;)if(w[D++]=b.charCodeAt(S++),D==this.blockSize){i(this,w),D=0;break}}else for(;S<_;)if(w[D++]=b[S++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=_},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;var I=8*this.o;for(_=b.length-8;_<b.length;++_)b[_]=I&255,I/=256;for(this.u(b),b=Array(16),_=I=0;4>_;++_)for(var w=0;32>w;w+=8)b[I++]=this.g[_]>>>w&255;return b};function o(b,_){var I=a;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=_(b)}function s(b,_){this.h=_;for(var I=[],w=!0,D=b.length-1;0<=D;D--){var S=b[D]|0;w&&S==_||(I[D]=S,w=!1)}this.g=I}var a={};function u(b){return-128<=b&&128>b?o(b,function(_){return new s([_|0],0>_?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return R(l(-b));for(var _=[],I=1,w=0;b>=I;w++)_[w]=b/I|0,I*=4294967296;return new s(_,0)}function h(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return R(h(b.substring(1),_));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(_,8)),w=p,D=0;D<b.length;D+=8){var S=Math.min(8,b.length-D),E=parseInt(b.substring(D,D+S),_);8>S?(S=l(Math.pow(_,S)),w=w.j(S).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var b=0,_=1,I=0;I<this.g.length;I++){var w=this.i(I);b+=(0<=w?w:4294967296+w)*_,_*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T(this))return"0";if(M(this))return"-"+R(this).toString(b);for(var _=l(Math.pow(b,6)),I=this,w="";;){var D=Ie(I,_).g;I=V(I,D.j(_));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(b);if(I=D,T(I))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function T(b){if(b.h!=0)return!1;for(var _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function M(b){return b.h==-1}n.l=function(b){return b=V(this,b),M(b)?-1:T(b)?0:1};function R(b){for(var _=b.g.length,I=[],w=0;w<_;w++)I[w]=~b.g[w];return new s(I,~b.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],w=0,D=0;D<=_;D++){var S=w+(this.i(D)&65535)+(b.i(D)&65535),E=(S>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);w=E>>>16,S&=65535,E&=65535,I[D]=E<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function V(b,_){return b.add(R(_))}n.j=function(b){if(T(this)||T(b))return p;if(M(this))return M(b)?R(this).j(R(b)):R(R(this).j(b));if(M(b))return R(this.j(R(b)));if(0>this.l(y)&&0>b.l(y))return l(this.m()*b.m());for(var _=this.g.length+b.g.length,I=[],w=0;w<2*_;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<b.g.length;D++){var S=this.i(w)>>>16,E=this.i(w)&65535,Gn=b.i(D)>>>16,Qs=b.i(D)&65535;I[2*w+2*D]+=E*Qs,J(I,2*w+2*D),I[2*w+2*D+1]+=S*Qs,J(I,2*w+2*D+1),I[2*w+2*D+1]+=E*Gn,J(I,2*w+2*D+1),I[2*w+2*D+2]+=S*Gn,J(I,2*w+2*D+2)}for(w=0;w<_;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=_;w<2*_;w++)I[w]=0;return new s(I,0)};function J(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function q(b,_){this.g=b,this.h=_}function Ie(b,_){if(T(_))throw Error("division by zero");if(T(b))return new q(p,p);if(M(b))return _=Ie(R(b),_),new q(R(_.g),R(_.h));if(M(_))return _=Ie(b,R(_)),new q(R(_.g),_.h);if(30<b.g.length){if(M(b)||M(_))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=_;0>=w.l(b);)I=at(I),w=at(w);var D=we(I,1),S=we(w,1);for(w=we(w,2),I=we(I,2);!T(w);){var E=S.add(w);0>=E.l(b)&&(D=D.add(I),S=E),w=we(w,1),I=we(I,1)}return _=V(b,D.j(_)),new q(D,_)}for(D=p;0<=b.l(_);){for(I=Math.max(1,Math.floor(b.m()/_.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(I),E=S.j(_);M(E)||0<E.l(b);)I-=w,S=l(I),E=S.j(_);T(S)&&(S=m),D=D.add(S),b=V(b,E)}return new q(D,b)}n.A=function(b){return Ie(this,b).h},n.and=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)&b.i(w);return new s(I,this.h&b.h)},n.or=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)|b.i(w);return new s(I,this.h|b.h)},n.xor=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],w=0;w<_;w++)I[w]=this.i(w)^b.i(w);return new s(I,this.h^b.h)};function at(b){for(var _=b.g.length+1,I=[],w=0;w<_;w++)I[w]=b.i(w)<<1|b.i(w-1)>>>31;return new s(I,b.h)}function we(b,_){var I=_>>5;_%=32;for(var w=b.g.length-I,D=[],S=0;S<w;S++)D[S]=0<_?b.i(S+I)>>>_|b.i(S+I+1)<<32-_:b.i(S+I);return new s(D,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Wv=IA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,mr=IA.Integer=s}).apply(typeof EA<"u"?EA:typeof self<"u"?self:typeof window<"u"?window:{});var Mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yr={};var Kv,kH,vs,Qv,Ac,Nh,Yv,Jv,Zv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mh=="object"&&Mh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var F=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)F[Ae-2]=arguments[Ae];return d.prototype[C].apply(g,F)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let F=0;F<A;F++)c[C+F]=g[F]}else c.push(g)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function J(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ie(c){return Ie[" "](c),c}Ie[" "]=function(){};var at=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function we(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function E(){var c=rp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Gn{constructor(){this.h=this.g=null}add(d,f){let g=Qs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Qs=new V(()=>new aP,c=>c.reset());class aP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ys,Js=!1,rp=new Gn,UI=()=>{let c=a.Promise.resolve(void 0);Ys=()=>{c.then(cP)}};var cP=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){S(f)}var d=Qs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Js=!1};function br(){this.s=this.s,this.C=this.C}br.prototype.s=!1,br.prototype.ma=function(){this.s||(this.s=!0,this.N())},br.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var uP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Zs(c,d){if(mt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(at){e:{try{Ie(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:lP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Zs.aa.h.call(this)}}T(Zs,mt);var lP={2:"touch",3:"pen",4:"mouse"};Zs.prototype.h=function(){Zs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Xs="closure_listenable_"+(1e6*Math.random()|0),dP=0;function hP(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++dP,this.da=this.fa=!1}function nu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ru(c){this.src=c,this.g={},this.h=0}ru.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var F=op(c,d,g,C);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new hP(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function ip(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(nu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function op(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var sp="closure_lm_"+(1e6*Math.random()|0),ap={};function BI(c,d,f,g,C){if(g&&g.once)return HI(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)BI(c,d[A],f,g,C);return null}return f=dp(f),c&&c[Xs]?c.K(d,f,l(g)?!!g.capture:!!g,C):$I(c,d,f,!1,g,C)}function $I(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var F=l(C)?!!C.capture:!!C,Ae=up(c);if(Ae||(c[sp]=Ae=new ru(c)),f=Ae.add(d,f,g,F,A),f.proxy)return f;if(g=fP(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)uP||(C=F),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(qI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function fP(){function c(f){return d.call(c.src,c.listener,f)}let d=pP;return c}function HI(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)HI(c,d[A],f,g,C);return null}return f=dp(f),c&&c[Xs]?c.L(d,f,l(g)?!!g.capture:!!g,C):$I(c,d,f,!0,g,C)}function zI(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)zI(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=dp(f),c&&c[Xs]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=op(A,f,g,C),-1<f&&(nu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=up(c))&&(d=c.g[d.toString()],c=-1,d&&(c=op(d,f,g,C)),(f=-1<c?d[c]:null)&&cp(f))}function cp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Xs])ip(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(qI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=up(d))?(ip(f,c),f.h==0&&(f.src=null,d[sp]=null)):nu(c)}}}function qI(c){return c in ap?ap[c]:ap[c]="on"+c}function pP(c,d){if(c.da)c=!0;else{d=new Zs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&cp(c),c=f.call(g,d)}return c}function up(c){return c=c[sp],c instanceof ru?c:null}var lp="__closure_events_fn_"+(1e9*Math.random()>>>0);function dp(c){return typeof c=="function"?c:(c[lp]||(c[lp]=function(d){return c.handleEvent(d)}),c[lp])}function yt(){br.call(this),this.i=new ru(this),this.M=this,this.F=null}T(yt,br),yt.prototype[Xs]=!0,yt.prototype.removeEventListener=function(c,d,f,g){zI(this,c,d,f,g)};function Tt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new mt(d,c);else if(d instanceof mt)d.target=d.target||c;else{var C=d;d=new mt(g,c),w(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var F=d.g=f[A];C=iu(F,g,!0,d)&&C}if(F=d.g=c,C=iu(F,g,!0,d)&&C,C=iu(F,g,!1,d)&&C,f)for(A=0;A<f.length;A++)F=d.g=f[A],C=iu(F,g,!1,d)&&C}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)nu(f[g]);delete c.g[d],c.h--}}this.F=null},yt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},yt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function iu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var F=d[A];if(F&&!F.da&&F.capture==f){var Ae=F.listener,ct=F.ha||F.src;F.fa&&ip(c.i,F),C=Ae.call(ct,g)!==!1&&C}}return C&&!g.defaultPrevented}function GI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function WI(c){c.g=GI(()=>{c.g=null,c.i&&(c.i=!1,WI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class gP extends br{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:WI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(c){br.call(this),this.h=c,this.g={}}T(ea,br);var KI=[];function QI(c){we(c.g,function(d,f){this.g.hasOwnProperty(f)&&cp(d)},c),c.g={}}ea.prototype.N=function(){ea.aa.N.call(this),QI(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hp=a.JSON.stringify,mP=a.JSON.parse,yP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function fp(){}fp.prototype.h=null;function YI(c){return c.h||(c.h=c.i())}function JI(){}var ta={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pp(){mt.call(this,"d")}T(pp,mt);function gp(){mt.call(this,"c")}T(gp,mt);var hi={},ZI=null;function ou(){return ZI=ZI||new yt}hi.La="serverreachability";function XI(c){mt.call(this,hi.La,c)}T(XI,mt);function na(c){let d=ou();Tt(d,new XI(d))}hi.STAT_EVENT="statevent";function ew(c,d){mt.call(this,hi.STAT_EVENT,c),this.stat=d}T(ew,mt);function Dt(c){let d=ou();Tt(d,new ew(d,c))}hi.Ma="timingevent";function tw(c,d){mt.call(this,hi.Ma,c),this.size=d}T(tw,mt);function ra(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ia(){this.g=!0}ia.prototype.xa=function(){this.g=!1};function vP(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var F="",Ae=A.split("&"),ct=0;ct<Ae.length;ct++){var Ee=Ae[ct].split("=");if(1<Ee.length){var vt=Ee[0];Ee=Ee[1];var _t=vt.split("_");F=2<=_t.length&&_t[1]=="type"?F+(vt+"="+Ee+"&"):F+(vt+"=redacted&")}}else F=null;else F=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function _P(c,d,f,g,C,A,F){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+F})}function ho(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+IP(c,f)+(g?" "+g:"")})}function EP(c,d){c.info(function(){return"TIMEOUT: "+d})}ia.prototype.info=function(){};function IP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return hp(f)}catch{return d}}var su={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mp;function au(){}T(au,fp),au.prototype.g=function(){return new XMLHttpRequest},au.prototype.i=function(){return{}},mp=new au;function Tr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rw}function rw(){this.i=null,this.g="",this.h=!1}var iw={},yp={};function vp(c,d,f){c.L=1,c.v=du(Wn(d)),c.m=f,c.P=!0,ow(c,null)}function ow(c,d){c.F=Date.now(),cu(c),c.A=Wn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),_w(f.i,"t",g),c.C=0,f=c.j.J,c.h=new rw,c.g=Lw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new gP(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(KI[0]=C.toString()),C=KI);for(var A=0;A<C.length;A++){var F=BI(f,C[A],g||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),na(),vP(c.i,c.u,c.A,c.l,c.R,c.m)}Tr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Kn(c)==3?d.j():this.Y(c)},Tr.prototype.Y=function(c){try{if(c==this.g)e:{let _t=Kn(this.g);var d=this.g.Ba();let go=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Cw(this.g)))){this.J||_t!=4||d==7||(d==8||0>=go?na(3):na(2)),_p(this);var f=this.g.Z();this.X=f;t:if(sw(this)){var g=Cw(this.g);c="";var C=g.length,A=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fi(this),oa(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,_P(this.i,this.u,this.A,this.l,this.R,_t,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,ct=this.g;if((Ae=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Ae)){var Ee=Ae;break t}}Ee=null}if(f=Ee)ho(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ep(this,f);else{this.o=!1,this.s=3,Dt(12),fi(this),oa(this);break e}}if(this.P){f=!0;let an;for(;!this.J&&this.C<F.length;)if(an=wP(this,F),an==yp){_t==4&&(this.s=4,Dt(14),f=!1),ho(this.i,this.l,null,"[Incomplete Response]");break}else if(an==iw){this.s=4,Dt(15),ho(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else ho(this.i,this.l,an,null),Ep(this,an);if(sw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||F.length!=0||this.h.h||(this.s=1,Dt(16),f=!1),this.o=this.o&&f,!f)ho(this.i,this.l,F,"[Invalid Chunked Response]"),fi(this),oa(this);else if(0<F.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Cp(vt),vt.M=!0,Dt(11))}}else ho(this.i,this.l,F,null),Ep(this,F);_t==4&&fi(this),this.o&&!this.J&&(_t==4?xw(this.j,this):(this.o=!1,cu(this)))}else jP(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),fi(this),oa(this)}}}catch{}finally{}};function sw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wP(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?yp:(f=Number(d.substring(f,g)),isNaN(f)?iw:(g+=1,g+f>d.length?yp:(d=d.slice(g,g+f),c.C=g+f,d)))}Tr.prototype.cancel=function(){this.J=!0,fi(this)};function cu(c){c.S=Date.now()+c.I,aw(c,c.I)}function aw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ra(m(c.ba,c),d)}function _p(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Tr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(EP(this.i,this.A),this.L!=2&&(na(),Dt(17)),fi(this),this.s=2,oa(this)):aw(this,this.S-c)};function oa(c){c.j.G==0||c.J||xw(c.j,c)}function fi(c){_p(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,QI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Ep(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Ip(f.h,c))){if(!c.K&&Ip(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)mu(f),pu(f);else break e;Dp(f),Dt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=ra(m(f.Za,f),6e3));if(1>=lw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else gi(f,11)}else if((c.K||f.g==c)&&mu(f),!J(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let Ee=C[d];if(f.T=Ee[0],Ee=Ee[1],f.G==2)if(Ee[0]=="c"){f.K=Ee[1],f.ia=Ee[2];let vt=Ee[3];vt!=null&&(f.la=vt,f.j.info("VER="+f.la));let _t=Ee[4];_t!=null&&(f.Aa=_t,f.j.info("SVER="+f.Aa));let go=Ee[5];go!=null&&typeof go=="number"&&0<go&&(g=1.5*go,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let an=c.g;if(an){let vu=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vu){var A=g.h;A.g||vu.indexOf("spdy")==-1&&vu.indexOf("quic")==-1&&vu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(wp(A,A.h),A.h=null))}if(g.D){let Sp=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Sp&&(g.ya=Sp,Pe(g.I,g.D,Sp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var F=c;if(g.qa=Fw(g,g.J?g.ia:null,g.W),F.K){dw(g.h,F);var Ae=F,ct=g.L;ct&&(Ae.I=ct),Ae.B&&(_p(Ae),cu(Ae)),g.g=F}else Nw(g);0<f.i.length&&gu(f)}else Ee[0]!="stop"&&Ee[0]!="close"||gi(f,7);else f.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?gi(f,7):Tp(f):Ee[0]!="noop"&&f.l&&f.l.ta(Ee),f.v=0)}}na(4)}catch{}}var bP=class{constructor(c,d){this.g=c,this.map=d}};function cw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function lw(c){return c.h?1:c.g?c.g.size:0}function Ip(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function wp(c,d){c.g?c.g.add(d):c.h=d}function dw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}cw.prototype.cancel=function(){if(this.i=hw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function hw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function TP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function DP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function fw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=DP(c),g=TP(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var pw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function pi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pi){this.h=c.h,uu(this,c.j),this.o=c.o,this.g=c.g,lu(this,c.s),this.l=c.l;var d=c.i,f=new ca;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),gw(this,f),this.m=c.m}else c&&(d=String(c).match(pw))?(this.h=!1,uu(this,d[1]||"",!0),this.o=sa(d[2]||""),this.g=sa(d[3]||"",!0),lu(this,d[4]),this.l=sa(d[5]||"",!0),gw(this,d[6]||"",!0),this.m=sa(d[7]||"")):(this.h=!1,this.i=new ca(null,this.h))}pi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(aa(d,mw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(aa(d,mw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(aa(f,f.charAt(0)=="/"?RP:AP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",aa(f,NP)),c.join("")};function Wn(c){return new pi(c)}function uu(c,d,f){c.j=f?sa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function lu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function gw(c,d,f){d instanceof ca?(c.i=d,PP(c.i,c.h)):(f||(d=aa(d,MP)),c.i=new ca(d,c.h))}function Pe(c,d,f){c.i.set(d,f)}function du(c){return Pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function sa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function aa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,SP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function SP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var mw=/[#\/\?@]/g,AP=/[#\?:]/g,RP=/[#\?]/g,MP=/[#\?@]/g,NP=/#/g;function ca(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Dr(c){c.g||(c.g=new Map,c.h=0,c.i&&CP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=ca.prototype,n.add=function(c,d){Dr(this),this.i=null,c=fo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function yw(c,d){Dr(c),d=fo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function vw(c,d){return Dr(c),d=fo(c,d),c.g.has(d)}n.forEach=function(c,d){Dr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},n.na=function(){Dr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},n.V=function(c){Dr(this);let d=[];if(typeof c=="string")vw(this,c)&&(d=d.concat(this.g.get(fo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Dr(this),this.i=null,c=fo(this,c),vw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function _w(c,d,f){yw(c,d),0<f.length&&(c.i=null,c.g.set(fo(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),F=this.V(g);for(g=0;g<F.length;g++){var C=A;F[g]!==""&&(C+="="+encodeURIComponent(String(F[g]))),c.push(C)}}return this.i=c.join("&")};function fo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function PP(c,d){d&&!c.j&&(Dr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(yw(this,g),_w(this,C,f))},c)),c.j=d}function xP(c,d){let f=new ia;if(a.Image){let g=new Image;g.onload=y(Cr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Cr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Cr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Cr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function kP(c,d){let f=new ia,g=new AbortController,C=setTimeout(()=>{g.abort(),Cr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?Cr(f,"TestPingServer: ok",!0,d):Cr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Cr(f,"TestPingServer: error",!1,d)})}function Cr(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function OP(){this.g=new yP}function FP(c,d,f){let g=f||"";try{fw(c,function(C,A){let F=C;l(C)&&(F=hp(C)),d.push(g+A+"="+encodeURIComponent(F))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function ua(c){this.l=c.Ub||null,this.j=c.eb||!1}T(ua,fp),ua.prototype.g=function(){return new hu(this.l,this.j)},ua.prototype.i=function(c){return function(){return c}}({});function hu(c,d){yt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(hu,yt),n=hu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,da(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,la(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,da(this)),this.g&&(this.readyState=3,da(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ew(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ew(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?la(this):da(this),this.readyState==3&&Ew(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,la(this))},n.Qa=function(c){this.g&&(this.response=c,la(this))},n.ga=function(){this.g&&la(this)};function la(c){c.readyState=4,c.l=null,c.j=null,c.v=null,da(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function da(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Iw(c){let d="";return we(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function bp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Iw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Pe(c,d,f))}function Fe(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Fe,yt);var LP=/^https?$/i,VP=["POST","PUT"];n=Fe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mp.g(),this.v=this.o?YI(this.o):YI(mp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){ww(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(VP,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,F]of f)this.g.setRequestHeader(A,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dw(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){ww(this,A)}};function ww(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,bw(c),fu(c)}function bw(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Tt(this,"complete"),Tt(this,"abort"),fu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fu(this,!0)),Fe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Tw(this):this.bb())},n.bb=function(){Tw(this)};function Tw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Kn(c)!=4||c.Z()!=2)){if(c.u&&Kn(c)==4)GI(c.Ea,0,c);else if(Tt(c,"readystatechange"),Kn(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=F===0){var C=String(c.D).match(pw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!LP.test(C?C.toLowerCase():"")}f=g}if(f)Tt(c,"complete"),Tt(c,"success");else{c.m=6;try{var A=2<Kn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",bw(c)}}finally{fu(c)}}}}function fu(c,d){if(c.g){Dw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Tt(c,"ready");try{f.onreadystatechange=g}catch{}}}function Dw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),mP(d)}};function Cw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jP(c){let d={};c=(c.g&&2<=Kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(J(c[g]))continue;var f=D(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}b(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Sw(c){this.Aa=0,this.i=[],this.j=new ia,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,c),this.cb=ha("retryDelaySeedMs",1e4,c),this.Wa=ha("forwardChannelMaxRetries",2,c),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new cw(c&&c.concurrentRequestLimit),this.Da=new OP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Sw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Dt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Fw(this,null,this.W),gu(this)};function Tp(c){if(Aw(c),c.G==3){var d=c.U++,f=Wn(c.I);if(Pe(f,"SID",c.K),Pe(f,"RID",d),Pe(f,"TYPE","terminate"),fa(c,f),d=new Tr(c,c.j,d),d.L=2,d.v=du(Wn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Lw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),cu(d)}Ow(c)}function pu(c){c.g&&(Cp(c),c.g.cancel(),c.g=null)}function Aw(c){pu(c),c.u&&(a.clearTimeout(c.u),c.u=null),mu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function gu(c){if(!uw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ys||UI(),Js||(Ys(),Js=!0),rp.add(d,c),c.B=0}}function UP(c,d){return lw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ra(m(c.Ga,c,d),kw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Tr(this,this.j,c),A=this.o;if(this.S&&(A?(A=_(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Mw(this,C,d),f=Wn(this.I),Pe(f,"RID",c),Pe(f,"CVER",22),this.D&&Pe(f,"X-HTTP-Session-Id",this.D),fa(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(Iw(A)))+"&"+d:this.m&&bp(f,this.m,A)),wp(this.h,C),this.Ua&&Pe(f,"TYPE","init"),this.P?(Pe(f,"$req",d),Pe(f,"SID","null"),C.T=!0,vp(C,f,null)):vp(C,f,d),this.G=2}}else this.G==3&&(c?Rw(this,c):this.i.length==0||uw(this.h)||Rw(this))};function Rw(c,d){var f;d?f=d.l:f=c.U++;let g=Wn(c.I);Pe(g,"SID",c.K),Pe(g,"RID",f),Pe(g,"AID",c.T),fa(c,g),c.m&&c.o&&bp(g,c.m,c.o),f=new Tr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Mw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wp(c.h,f),vp(f,g,d)}function fa(c,d){c.H&&we(c.H,function(f,g){Pe(d,g,f)}),c.l&&fw({},function(f,g){Pe(d,g,f)})}function Mw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let F=["count="+f];A==-1?0<f?(A=C[0].g,F.push("ofs="+A)):A=0:F.push("ofs="+A);let Ae=!0;for(let ct=0;ct<f;ct++){let Ee=C[ct].g,vt=C[ct].map;if(Ee-=A,0>Ee)A=Math.max(0,C[ct].g-100),Ae=!1;else try{FP(vt,F,"req"+Ee+"_")}catch{g&&g(vt)}}if(Ae){g=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Nw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ys||UI(),Js||(Ys(),Js=!0),rp.add(d,c),c.v=0}}function Dp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ra(m(c.Fa,c),kw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Pw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ra(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),pu(this),Pw(this))};function Cp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Pw(c){c.g=new Tr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Wn(c.qa);Pe(d,"RID","rpc"),Pe(d,"SID",c.K),Pe(d,"AID",c.T),Pe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pe(d,"TO",c.ja),Pe(d,"TYPE","xmlhttp"),fa(c,d),c.m&&c.o&&bp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=du(Wn(d)),f.m=null,f.P=!0,ow(f,c)}n.Za=function(){this.C!=null&&(this.C=null,pu(this),Dp(this),Dt(19))};function mu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function xw(c,d){var f=null;if(c.g==d){mu(c),Cp(c),c.g=null;var g=2}else if(Ip(c.h,d))f=d.D,dw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=ou(),Tt(g,new tw(g,f)),gu(c)}else Nw(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&UP(c,d)||g==2&&Dp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function kw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function gi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new pi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||uu(g,"https"),du(g),C?xP(g.toString(),f):kP(g.toString(),f)}else Dt(2);c.G=0,c.l&&c.l.sa(d),Ow(c),Aw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Ow(c){if(c.G=0,c.ka=[],c.l){let d=hw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Fw(c,d,f){var g=f instanceof pi?Wn(f):new pi(f);if(g.g!="")d&&(g.g=d+"."+g.g),lu(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new pi(null);g&&uu(A,g),d&&(A.g=d),C&&lu(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Pe(g,f,d),Pe(g,"VER",c.la),fa(c,g),g}function Lw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Fe(new ua({eb:f})):new Fe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vw(){}n=Vw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function yu(){}yu.prototype.g=function(c,d){return new Vt(c,d)};function Vt(c,d){yt.call(this),this.g=new Sw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!J(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!J(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new po(this)}T(Vt,yt),Vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){Tp(this.g)},Vt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=hp(c),c=f);d.i.push(new bP(d.Ya++,c)),d.G==3&&gu(d)},Vt.prototype.N=function(){this.g.l=null,delete this.j,Tp(this.g),delete this.g,Vt.aa.N.call(this)};function jw(c){pp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(jw,pp);function Uw(){gp.call(this),this.status=1}T(Uw,gp);function po(c){this.g=c}T(po,Vw),po.prototype.ua=function(){Tt(this.g,"a")},po.prototype.ta=function(c){Tt(this.g,new jw(c))},po.prototype.sa=function(c){Tt(this.g,new Uw)},po.prototype.ra=function(){Tt(this.g,"b")},yu.prototype.createWebChannel=yu.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,Zv=yr.createWebChannelTransport=function(){return new yu},Jv=yr.getStatEventTarget=function(){return ou()},Yv=yr.Event=hi,Nh=yr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},su.NO_ERROR=0,su.TIMEOUT=8,su.HTTP_ERROR=6,Ac=yr.ErrorCode=su,nw.COMPLETE="complete",Qv=yr.EventType=nw,JI.EventType=ta,ta.OPEN="a",ta.CLOSE="b",ta.ERROR="c",ta.MESSAGE="d",yt.prototype.listen=yt.prototype.K,vs=yr.WebChannel=JI,kH=yr.FetchXmlHttpFactory=ua,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,Kv=yr.XhrIo=Fe}).apply(typeof Mh<"u"?Mh:typeof self<"u"?self:typeof window<"u"?window:{});var wA="@firebase/firestore",bA="4.8.0";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var Us="11.10.0";var eo=new tn("@firebase/firestore");function _s(){return eo.logLevel}function B(n,...e){if(eo.logLevel<=he.DEBUG){let t=e.map(VE);eo.debug(`Firestore (${Us}): ${n}`,...t)}}function vr(n,...e){if(eo.logLevel<=he.ERROR){let t=e.map(VE);eo.error(`Firestore (${Us}): ${n}`,...t)}}function oi(n,...e){if(eo.logLevel<=he.WARN){let t=e.map(VE);eo.warn(`Firestore (${Us}): ${n}`,...t)}}function VE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Q(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,dR(n,r,t)}function dR(n,e,t){let r=`FIRESTORE (${Us}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw vr(r),new Error(r)}function Se(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||dR(e,i,r)}function te(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends ft{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Vn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Vh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},r_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ot.UNAUTHENTICATED))}shutdown(){}},i_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},o_=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Se(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string",31837,{l:r}),new Vh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string",2055,{h:e}),new ot(e)}},s_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},a_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new s_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},jh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},c_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Se(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Se(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new jh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function OH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function hR(){return new TextEncoder}var kc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=OH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function le(n,e){return n<e?-1:n>e?1:0}function u_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return le(r,i);{let o=hR(),s=FH(o.encode(TA(n,t)),o.encode(TA(e,t)));return s!==0?s:le(r,i)}}t+=r>65535?2:1}return le(n.length,e.length)}function TA(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function FH(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return le(n[t],e[t]);return le(n.length,e.length)}function Ss(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var DA="__name__",Uh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Q(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Q(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return le(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):u_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}},$e=class n extends Uh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},LH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gt=class n extends Uh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return LH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DA}static keyField(){return new n([DA])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new z(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new z(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Y=class n{constructor(e){this.path=e}static fromPath(e){return new n($e.fromString(e))}static fromName(e){return new n($e.fromString(e).popFirst(5))}static empty(){return new n($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return $e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new $e(e.slice()))}};function VH(n,e,t){if(!t)throw new z(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jH(n,e,t,r){if(e===!0&&r===!0)throw new z(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function CA(n){if(!Y.isDocumentKey(n))throw new z(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function jE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Q(12329,{type:typeof n})}function jn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=jE(n);throw new z(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ke(n,e){let t={typeString:n};return e&&(t.value=e),t}function Gc(n,e){if(!fR(n))throw new z(N.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new z(N.INVALID_ARGUMENT,t);return!0}var SA=-62135596800,AA=1e6,Qe=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*AA);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<SA)throw new z(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AA}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gc(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-SA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:Ke("string",Qe._jsonSchemaVersion),seconds:Ke("number"),nanoseconds:Ke("number")};var re=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Qe(0,0))}static max(){return new n(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Oc=-1,l_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};l_.UNKNOWN_ID=-1;function UH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new Qe(t+1,0):new Qe(t,r));return new to(i,Y.empty(),e)}function BH(n){return new to(n.readTime,n.key,Oc)}var to=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(re.min(),Y.empty(),Oc)}static max(){return new n(re.max(),Y.empty(),Oc)}};function $H(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Y.comparator(n.documentKey,e.documentKey),t!==0?t:le(n.largestBatchId,e.largestBatchId))}var HH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",d_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Bs(n){return v(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==HH)throw n;B("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function zH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $s(n){return n.name==="IndexedDbTransactionError"}var UE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),BE=-1;function If(n){return n==null}function Fc(n){return n===0&&1/n==-1/0}function qH(n){return typeof n=="number"&&Number.isInteger(n)&&!Fc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var pR="";function GH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=RA(e)),e=WH(n.get(t),e);return RA(e)}function WH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case pR:t+="";break;default:t+=o}}return t}function RA(n){return n+pR+""}var KH="remoteDocuments",gR="owner";var mR="mutationQueues";var yR="mutations";var vR="documentMutations",QH="remoteDocumentsV14";var _R="remoteDocumentGlobal";var ER="targets";var IR="targetDocuments";var wR="targetGlobal",bR="collectionParents";var TR="clientMetadata";var DR="bundles";var CR="namedQueries";var YH="indexConfiguration";var JH="indexState";var ZH="indexEntries";var SR="documentOverlays";var XH="globals";var e3=[mR,yR,vR,KH,ER,gR,wR,IR,TR,_R,bR,DR,CR],lee=[...e3,SR],t3=[mR,yR,vR,QH,ER,gR,wR,IR,TR,_R,bR,DR,CR,SR],n3=t3,r3=[...n3,YH,JH,ZH];var dee=[...r3,XH];function MA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function li(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ue=class n{constructor(e,t){this.comparator=e,this.root=t||Un.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bs(this.root,e,this.comparator,!1)}getReverseIterator(){return new bs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bs(this.root,e,this.comparator,!0)}},bs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Un=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}};Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var st=class n{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bh(this.data.getIterator())}getIteratorFrom(e){return new Bh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Bh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var sn=class n{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new n([])}unionWith(e){let t=new st(Gt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ss(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var $h=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var bt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $h("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};bt.EMPTY_BYTE_STRING=new bt("");var i3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(n){if(Se(!!n,39018),typeof n=="string"){let e=0,t=i3.exec(n);if(Se(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(n.seconds),nanos:Oe(n.nanos)}}function Oe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Er(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}var RR="server_timestamp",MR="__type__",NR="__previous_value__",PR="__local_write_time__";function $E(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[MR])===null||t===void 0?void 0:t.stringValue)===RR}function wf(n){let e=n.mapValue.fields[NR];return $E(e)?wf(e):e}function Lc(n){let e=_r(n.mapValue.fields[PR].timestampValue);return new Qe(e.seconds,e.nanos)}var h_=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Hh="(default)",zh=class n{constructor(e,t){this.projectId=e,this.database=t||Hh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Hh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var HE="__type__",xR="__max__",Ph={mapValue:{fields:{__type__:{stringValue:xR}}}},zE="__vector__",As="value";function si(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$E(n)?4:OR(n)?9007199254740991:kR(n)?10:11:Q(28295,{value:n})}function Hn(n,e){if(n===e)return!0;let t=si(n);if(t!==si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lc(n).isEqual(Lc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=_r(i.timestampValue),a=_r(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Er(i.bytesValue).isEqual(Er(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?Fc(s)===Fc(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ss(n.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(MA(s)!==MA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Hn(s[u],a[u])))return!1;return!0}(n,e);default:return Q(52216,{left:n})}}function Vc(n,e){return(n.values||[]).find(t=>Hn(t,e))!==void 0}function Rs(n,e){if(n===e)return 0;let t=si(n),r=si(e);if(t!==r)return le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return le(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return NA(n.timestampValue,e.timestampValue);case 4:return NA(Lc(n),Lc(e));case 5:return u_(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Er(o),u=Er(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=le(a[l],u[l]);if(h!==0)return h}return le(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=le(Oe(o.latitude),Oe(s.latitude));return a!==0?a:le(Oe(o.longitude),Oe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return PA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[As])===null||a===void 0?void 0:a.arrayValue,T=(u=m[As])===null||u===void 0?void 0:u.arrayValue,M=le(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:PA(y,T)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ph.mapValue&&s===Ph.mapValue)return 0;if(o===Ph.mapValue)return 1;if(s===Ph.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=u_(u[p],h[p]);if(m!==0)return m;let y=Rs(a[u[p]],l[h[p]]);if(y!==0)return y}return le(u.length,h.length)}(n.mapValue,e.mapValue);default:throw Q(23264,{le:t})}}function NA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return le(n,e);let t=_r(n),r=_r(e),i=le(t.seconds,r.seconds);return i!==0?i:le(t.nanos,r.nanos)}function PA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Rs(t[i],r[i]);if(o)return o}return le(t.length,r.length)}function Ms(n){return f_(n)}function f_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=_r(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Er(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Y.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=f_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${f_(t.fields[s])}`;return i+"}"}(n.mapValue):Q(61005,{value:n})}function Oh(n){switch(si(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=wf(n);return e?16+Oh(e):16;case 5:return 2*n.stringValue.length;case 6:return Er(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Oh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return li(r.fields,(o,s)=>{i+=o.length+Oh(s)}),i}(n.mapValue);default:throw Q(13486,{value:n})}}function p_(n){return!!n&&"integerValue"in n}function qE(n){return!!n&&"arrayValue"in n}function xA(n){return!!n&&"nullValue"in n}function kA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fh(n){return!!n&&"mapValue"in n}function kR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[HE])===null||t===void 0?void 0:t.stringValue)===zE}function Mc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return li(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Mc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function OR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===xR}var fee={mapValue:{fields:{[HE]:{stringValue:zE},[As]:{arrayValue:{}}}}};var qt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mc(t)}setAll(e){let t=Gt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Mc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Fh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Fh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){li(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Mc(this.value))}};function FR(n){let e=[];return li(n.fields,(t,r)=>{let i=new Gt([t]);if(Fh(r)){let o=FR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new sn(e)}var vn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,re.min(),re.min(),re.min(),qt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,re.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,re.min(),re.min(),qt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,re.min(),re.min(),qt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ns=class{constructor(e,t){this.position=e,this.inclusive=t}};function OA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Y.comparator(Y.fromName(s.referenceValue),t.key):r=Rs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function FA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hn(n.position[t],e.position[t]))return!1;return!0}var Ps=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function o3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var qh=class{},tt=class n extends qh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new m_(e,t,r):t==="array-contains"?new __(e,r):t==="in"?new E_(e,r):t==="not-in"?new I_(e,r):t==="array-contains-any"?new w_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new y_(e,r):new v_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Rs(t,this.value)):t!==null&&si(this.value)===si(t)&&this.matchesComparison(Rs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},zn=class n extends qh{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return LR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function LR(n){return n.op==="and"}function VR(n){return s3(n)&&LR(n)}function s3(n){for(let e of n.filters)if(e instanceof zn)return!1;return!0}function g_(n){if(n instanceof tt)return n.field.canonicalString()+n.op.toString()+Ms(n.value);if(VR(n))return n.filters.map(e=>g_(e)).join(",");{let e=n.filters.map(t=>g_(t)).join(",");return`${n.op}(${e})`}}function jR(n,e){return n instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&Hn(r.value,i.value)}(n,e):n instanceof zn?function(r,i){return i instanceof zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&jR(s,i.filters[a]),!0):!1}(n,e):void Q(19439)}function UR(n){return n instanceof tt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ms(t.value)}`}(n):n instanceof zn?function(t){return t.op.toString()+" {"+t.getFilters().map(UR).join(" ,")+"}"}(n):"Filter"}var m_=class extends tt{constructor(e,t,r){super(e,t,r),this.key=Y.fromName(r.referenceValue)}matches(e){let t=Y.comparator(e.key,this.key);return this.matchesComparison(t)}},y_=class extends tt{constructor(e,t){super(e,"in",t),this.keys=BR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},v_=class extends tt{constructor(e,t){super(e,"not-in",t),this.keys=BR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function BR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Y.fromName(r.referenceValue))}var __=class extends tt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return qE(t)&&Vc(t.arrayValue,this.value)}},E_=class extends tt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Vc(this.value.arrayValue,t)}},I_=class extends tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Vc(this.value.arrayValue,t)}},w_=class extends tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!qE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Vc(this.value.arrayValue,r))}};var b_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function LA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new b_(n,e,t,r,i,o,s)}function GE(n){let e=te(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>g_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),If(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ms(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ms(r)).join(",")),e.Pe=t}return e.Pe}function WE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!o3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!FA(n.startAt,e.startAt)&&FA(n.endAt,e.endAt)}function T_(n){return Y.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var xs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function a3(n,e,t,r,i,o,s,a){return new xs(n,e,t,r,i,o,s,a)}function bf(n){return new xs(n)}function VA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function c3(n){return n.collectionGroup!==null}function Nc(n){let e=te(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new st(Gt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ps(o,r))}),t.has(Gt.keyField().canonicalString())||e.Te.push(new Ps(Gt.keyField(),r))}return e.Te}function Bn(n){let e=te(n);return e.Ie||(e.Ie=u3(e,Nc(n))),e.Ie}function u3(n,e){if(n.limitType==="F")return LA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ps(i.field,o)});let t=n.endAt?new Ns(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ns(n.startAt.position,n.startAt.inclusive):null;return LA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function D_(n,e,t){return new xs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Tf(n,e){return WE(Bn(n),Bn(e))&&n.limitType===e.limitType}function $R(n){return`${GE(Bn(n))}|lt:${n.limitType}`}function Es(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>UR(i)).join(", ")}]`),If(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ms(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ms(i)).join(",")),`Target(${r})`}(Bn(n))}; limitType=${n.limitType})`}function Df(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Y.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Nc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=OA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Nc(r),i)||r.endAt&&!function(s,a,u){let l=OA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Nc(r),i))}(n,e)}function l3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HR(n){return(e,t)=>{let r=!1;for(let i of Nc(n)){let o=d3(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function d3(n,e,t){let r=n.field.isKeyField()?Y.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Rs(u,l):Q(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:n.dir})}}var Ir=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){li(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return AR(this.inner)}size(){return this.innerSize}};var h3=new Ue(Y.comparator);function wr(){return h3}var zR=new Ue(Y.comparator);function Rc(...n){let e=zR;for(let t of n)e=e.insert(t.key,t);return e}function qR(n){let e=zR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yi(){return Pc()}function GR(){return Pc()}function Pc(){return new Ir(n=>n.toString(),(n,e)=>n.isEqual(e))}var f3=new Ue(Y.comparator),p3=new st(Y.comparator);function ge(...n){let e=p3;for(let t of n)e=e.add(t);return e}var g3=new st(le);function m3(){return g3}function KE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function WR(n){return{integerValue:""+n}}function y3(n,e){return qH(e)?WR(e):KE(n,e)}var ks=class{constructor(){this._=void 0}};function v3(n,e,t){return n instanceof Os?function(i,o){let s={fields:{[MR]:{stringValue:RR},[PR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$E(o)&&(o=wf(o)),o&&(s.fields[NR]=o),{mapValue:s}}(t,e):n instanceof no?QR(n,e):n instanceof ro?YR(n,e):function(i,o){let s=KR(i,o),a=jA(s)+jA(i.Ee);return p_(s)&&p_(i.Ee)?WR(a):KE(i.serializer,a)}(n,e)}function _3(n,e,t){return n instanceof no?QR(n,e):n instanceof ro?YR(n,e):t}function KR(n,e){return n instanceof Fs?function(r){return p_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Os=class extends ks{},no=class extends ks{constructor(e){super(),this.elements=e}};function QR(n,e){let t=JR(e);for(let r of n.elements)t.some(i=>Hn(i,r))||t.push(r);return{arrayValue:{values:t}}}var ro=class extends ks{constructor(e){super(),this.elements=e}};function YR(n,e){let t=JR(e);for(let r of n.elements)t=t.filter(i=>!Hn(i,r));return{arrayValue:{values:t}}}var Fs=class extends ks{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function jA(n){return Oe(n.integerValue||n.doubleValue)}function JR(n){return qE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function E3(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof no&&i instanceof no||r instanceof ro&&i instanceof ro?Ss(r.elements,i.elements,Hn):r instanceof Fs&&i instanceof Fs?Hn(r.Ee,i.Ee):r instanceof Os&&i instanceof Os}(n.transform,e.transform)}var C_=class{constructor(e,t){this.version=e,this.transformResults=t}},ti=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Lh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ls=class{};function ZR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Gh(n.key,ti.none()):new io(n.key,n.data,ti.none());{let t=n.data,r=qt.empty(),i=new st(Gt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new qn(n.key,r,new sn(i.toArray()),ti.none())}}function I3(n,e,t){n instanceof io?function(i,o,s){let a=i.value.clone(),u=BA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof qn?function(i,o,s){if(!Lh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=BA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(XR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function xc(n,e,t,r){return n instanceof io?function(o,s,a,u){if(!Lh(o.precondition,s))return a;let l=o.value.clone(),h=$A(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof qn?function(o,s,a,u){if(!Lh(o.precondition,s))return a;let l=$A(o.fieldTransforms,u,s),h=s.data;return h.setAll(XR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Lh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function w3(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=KR(r.transform,i||null);o!=null&&(t===null&&(t=qt.empty()),t.set(r.field,o))}return t||null}function UA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ss(r,i,(o,s)=>E3(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var io=class extends Ls{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},qn=class extends Ls{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function XR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function BA(n,e,t){let r=new Map;Se(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,_3(s,a,t[i]))}return r}function $A(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,v3(o,s,e))}return r}var Gh=class extends Ls{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},S_=class extends Ls{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var A_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&I3(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=xc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=xc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=GR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=ZR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ge())}isEqual(e){return this.batchId===e.batchId&&Ss(this.mutations,e.mutations,(t,r)=>UA(t,r))&&Ss(this.baseMutations,e.baseMutations,(t,r)=>UA(t,r))}},R_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Se(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return f3}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var M_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var N_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ge,ve;function b3(n){switch(n){case N.OK:return Q(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return Q(15467,{code:n})}}function eM(n){if(n===void 0)return vr("GRPC error has no .code"),N.UNKNOWN;switch(n){case Ge.OK:return N.OK;case Ge.CANCELLED:return N.CANCELLED;case Ge.UNKNOWN:return N.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return N.INTERNAL;case Ge.UNAVAILABLE:return N.UNAVAILABLE;case Ge.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Ge.NOT_FOUND:return N.NOT_FOUND;case Ge.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Ge.ABORTED:return N.ABORTED;case Ge.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Ge.DATA_LOSS:return N.DATA_LOSS;default:return Q(39323,{code:n})}}(ve=Ge||(Ge={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var HA=null;var T3=new mr([4294967295,4294967295],0);function zA(n){let e=hR().encode(n),t=new Wv;return t.update(e),new Uint8Array(t.digest())}function qA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mr([t,r],0),new mr([i,o],0)]}var P_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ji(`Invalid padding: ${t}`);if(r<0)throw new Ji(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ji(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ji(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=mr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(mr.fromNumber(r)));return i.compare(T3)===1&&(i=new mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=zA(e),[r,i]=qA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=zA(e),[r,i]=qA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ji=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Wh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(re.min(),i,new Ue(le),wr(),ge())}},jc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ge(),ge(),ge())}};var Ts=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Kh=class{constructor(e,t){this.targetId=e,this.De=t}},Qh=class{constructor(e,t,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Yh=class{constructor(){this.ve=0,this.Ce=GA(),this.Fe=bt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ge(),t=ge(),r=ge();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:o})}}),new jc(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=GA()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Se(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},x_=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=wr(),this.je=xh(),this.Je=xh(),this.He=new Ue(le)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(T_(o))if(r===0){let s=new Y(o.path);this.Xe(t,s,vn.newNoDocument(s,re.min()))}else Se(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}HA?.ct(function(h,p,m,y,T){var M,R,V,J,q,Ie;let at={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},we=p.unchangedNames;return we&&(at.bloomFilter={applied:T===0,hashCount:(M=we?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(J=(V=(R=we?.bits)===null||R===void 0?void 0:R.bitmap)===null||V===void 0?void 0:V.length)!==null&&J!==void 0?J:0,padding:(Ie=(q=we?.bits)===null||q===void 0?void 0:q.padding)!==null&&Ie!==void 0?Ie:0,mightContain:b=>{var _;return(_=y?.mightContain(b))!==null&&_!==void 0&&_}}),at}(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Er(r).toUint8Array()}catch(u){if(u instanceof $h)return oi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new P_(s,i,o)}catch(u){return oi(u instanceof Ji?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&T_(a.target)){let u=new Y(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,vn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ge();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Wh(e,t,this.He,this.ze,r);return this.ze=wr(),this.je=xh(),this.Je=xh(),this.He=new Ue(le),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Yh,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new st(le),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new st(le),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Yh),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function xh(){return new Ue(Y.comparator)}function GA(){return new Ue(Y.comparator)}var D3={asc:"ASCENDING",desc:"DESCENDING"},C3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S3={and:"AND",or:"OR"},k_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function O_(n,e){return n.useProto3Json||If(e)?e:{value:e}}function Jh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function A3(n,e){return Jh(n,e.toTimestamp())}function $n(n){return Se(!!n,49232),re.fromTimestamp(function(t){let r=_r(t);return new Qe(r.seconds,r.nanos)}(n))}function QE(n,e){return F_(n,e).canonicalString()}function F_(n,e){let t=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function nM(n){let e=$e.fromString(n);return Se(aM(e),10190,{key:e.toString()}),e}function L_(n,e){return QE(n.databaseId,e.path)}function Xv(n,e){let t=nM(e);if(t.get(1)!==n.databaseId.projectId)throw new z(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new z(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Y(iM(t))}function rM(n,e){return QE(n.databaseId,e)}function R3(n){let e=nM(n);return e.length===4?$e.emptyPath():iM(e)}function V_(n){return new $e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iM(n){return Se(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function WA(n,e,t){return{name:L_(n,e),fields:t.value.mapValue.fields}}function M3(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Se(h===void 0||typeof h=="string",58123),bt.fromBase64String(h||"")):(Se(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),bt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?N.UNKNOWN:eM(l.code);return new z(h,l.message||"")}(s);t=new Qh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Xv(n,r.document.name),o=$n(r.document.updateTime),s=r.document.createTime?$n(r.document.createTime):re.min(),a=new qt({mapValue:{fields:r.document.fields}}),u=vn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ts(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Xv(n,r.document),o=r.readTime?$n(r.readTime):re.min(),s=vn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ts([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Xv(n,r.document),o=r.removedTargetIds||[];t=new Ts([],o,i,null)}else{if(!("filter"in e))return Q(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new N_(i,o),a=r.targetId;t=new Kh(a,s)}}return t}function N3(n,e){let t;if(e instanceof io)t={update:WA(n,e.key,e.value)};else if(e instanceof Gh)t={delete:L_(n,e.key)};else if(e instanceof qn)t={update:WA(n,e.key,e.data),updateMask:U3(e.fieldMask)};else{if(!(e instanceof S_))return Q(16599,{Rt:e.type});t={verify:L_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Os)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof no)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ro)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fs)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Q(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:A3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q(27497)}(n,e.precondition)),t}function P3(n,e){return n&&n.length>0?(Se(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?$n(i.updateTime):$n(o);return s.isEqual(re.min())&&(s=$n(o)),new C_(s,i.transformResults||[])}(t,e))):[]}function x3(n,e){return{documents:[rM(n,e.path)]}}function k3(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=rM(n,i);let o=function(l){if(l.length!==0)return sM(zn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Is(m.field),direction:L3(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=O_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:t,parent:i}}function O3(n){let e=R3(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Se(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let m=oM(p);return m instanceof zn&&VR(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(T){return new Ps(ws(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,If(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Ns(y,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Ns(y,m)}(t.endAt)),a3(e,i,s,o,a,"F",u,l)}function F3(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function oM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ws(t.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ws(t.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ws(t.unaryFilter.field);return tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ws(t.unaryFilter.field);return tt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(n):n.fieldFilter!==void 0?function(t){return tt.create(ws(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return zn.create(t.compositeFilter.filters.map(r=>oM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(t.compositeFilter.op))}(n):Q(30097,{filter:n})}function L3(n){return D3[n]}function V3(n){return C3[n]}function j3(n){return S3[n]}function Is(n){return{fieldPath:n.canonicalString()}}function ws(n){return Gt.fromServerFormat(n.fieldPath)}function sM(n){return n instanceof tt?function(t){if(t.op==="=="){if(kA(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NAN"}};if(xA(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kA(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NOT_NAN"}};if(xA(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(t.field),op:V3(t.op),value:t.value}}}(n):n instanceof zn?function(t){let r=t.getFilters().map(i=>sM(i));return r.length===1?r[0]:{compositeFilter:{op:j3(t.op),filters:r}}}(n):Q(54877,{filter:n})}function U3(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Uc=class n{constructor(e,t,r,i,o=re.min(),s=re.min(),a=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var j_=class{constructor(e){this.gt=e}};function B3(n){let e=O3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?D_(e,e.limit,"L"):e}var Zh=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Fc(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=_r(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Er(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?OR(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):kR(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Q(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=As,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Oe(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),Y.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Zh.Ut=new Zh;var U_=class{constructor(){this.Dn=new B_}addToCollectionParentIndex(e,t){return this.Dn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(to.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(to.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},B_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new st($e.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st($e.comparator)).toArray()}};var pee=new Uint8Array(0);var KA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cM=41943040,on=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(cM,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);var Bc=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var QA="LruGarbageCollector",$3=1048576;function YA([n,e],[t,r]){let i=le(n,t);return i===0?le(e,r):i}var $_=class{constructor(e){this.Tr=e,this.buffer=new st(YA),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();YA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},H_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){B(QA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){$s(t)?B(QA,"Ignoring IndexedDB error during garbage collection: ",t):yield Bs(t)}yield this.Rr(3e5)}))}},z_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(UE.ue);let r=new $_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(KA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KA):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),_s()<=he.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function H3(n,e){return new z_(n,e)}var q_=class{constructor(){this.changes=new Ir(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var G_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var W_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&xc(r.mutation,i,sn.empty(),Qe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ge()){let i=Yi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Rc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Yi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ge()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=wr(),s=Pc(),a=function(){return Pc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof qn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),xc(h.mutation,l,h.mutation.getFieldMask(),Qe.now())):s.set(l.key,sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new G_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Pc(),i=new Ue((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||sn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=GR();h.forEach(m=>{if(!o.has(m)){let y=ZR(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):c3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(Yi()),a=Oc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(h=>({batchId:a,changes:qR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Y(t)).next(r=>{let i=Rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Rc();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,m){return new xs(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,vn.newInvalidDocument(h)))});let a=Rc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&xc(h.mutation,l,sn.empty(),Qe.now()),Df(t,l)&&(a=a.insert(u,l))}),a})}};var K_=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return P.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:$n(i.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:B3(i.bundledQuery),readTime:$n(i.readTime)}}(t)),P.resolve()}};var Q_=class{constructor(){this.overlays=new Ue(Y.comparator),this.kr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Yi();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=Yi(),o=t.length+1,s=new Y(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ue((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Yi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Yi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new M_(t,r));let o=this.kr.get(t);o===void 0&&(o=ge(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var Y_=class{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var $c=class{constructor(){this.qr=new st(We.Qr),this.$r=new st(We.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new We(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new We(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new Y(new $e([])),r=new We(t,e),i=new We(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new Y(new $e([])),r=new We(t,e),i=new We(t,e+1),o=ge();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new We(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},We=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Y.comparator(e.key,t.key)||le(e.Hr,t.Hr)}static Ur(e,t){return le(e.Hr,t.Hr)||Y.comparator(e.key,t.key)}};var J_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new st(We.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new A_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new We(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?BE:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new We(t,0),i=new We(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new st(le);return t.forEach(i=>{let o=new We(i,0),s=new We(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Y.isDocumentKey(o)||(o=o.child(""));let s=new We(new Y(o),0),a=new st(le);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Se(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(t.mutations,i=>{let o=new We(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new We(t,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Z_=class{constructor(e){this.ni=e,this.docs=function(){return new Ue(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let r=wr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=wr(),s=t.path,a=new Y(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||$H(BH(h),r)<=0||(i.has(h.key)||Df(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Q(9500)}ri(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new X_(this)}getSize(e){return P.resolve(this.size)}},X_=class extends q_{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var eE=class{constructor(e){this.persistence=e,this.ii=new Ir(t=>GE(t),WE),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.si=0,this.oi=new $c,this.targetCount=0,this._i=Bc.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),P.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Bc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.hr(t),P.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.oi.containsKey(t))}};var Xh=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new UE(0),this.ci=!1,this.ci=!0,this.li=new Y_,this.referenceDelegate=e(this),this.hi=new eE(this),this.indexManager=new U_,this.remoteDocumentCache=function(i){return new Z_(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new j_(t),this.Ti=new K_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Q_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new J_(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new tE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},tE=class extends d_{constructor(e){super(),this.currentSequenceNumber=e}},nE=class n{constructor(e){this.persistence=e,this.Ai=new $c,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw Q(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=Y.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,re.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return P.or([()=>P.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},ef=class n{constructor(e,t){this.persistence=e,this.gi=new Ir(r=>GH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=H3(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Oh(e.data.value)),t}Sr(e,t,r){return P.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var rE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ge(),i=ge();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var iE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var oE=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return XC()?8:zH(it())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new iE;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(_s()<=he.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Es(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(_s()<=he.DEBUG&&B("QueryEngine","Query:",Es(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(_s()<=he.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Es(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bn(t))):P.resolve())}ps(e,t){if(VA(t))return P.resolve(null);let r=Bn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=D_(t,null,"F"),r=Bn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,D_(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return VA(t)||i.isEqual(re.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?P.resolve(null):(_s()<=he.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Es(t)),this.vs(e,s,t,UH(i,Oc)).next(a=>a))})}bs(e,t){let r=new st(HR(e));return t.forEach((i,o)=>{Df(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return _s()<=he.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Es(t)),this.gs.getDocumentsMatchingQuery(e,t,to.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var YE="LocalStore",z3=3e8,sE=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ue(le),this.Ms=new Ir(o=>GE(o),WE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W_(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function q3(n,e,t,r){return new sE(n,e,t,r)}function uM(n,e){return v(this,null,function*(){let t=te(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ge();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function G3(n,e){let t=te(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(M=>{let R=l.docVersions.get(T);Se(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function lM(n){let e=te(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function W3(n,e){let t=te(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(bt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(M,R,V){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=z3?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=wr(),l=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(K3(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(re.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function K3(n,e,t){let r=ge(),i=ge();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=wr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B(YE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function Q3(n,e){let t=te(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=BE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y3(n,e){let t=te(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Uc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function aE(n,e,t){return v(this,null,function*(){let r=te(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!$s(s))throw s;B(YE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function JA(n,e,t){let r=te(n),i=re.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=te(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)}(r,s,Bn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:re.min(),t?o:ge())).next(a=>(J3(r,l3(e),a),{documents:a,qs:o})))}function J3(n,e,t){let r=n.xs.get(e)||re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var tf=class{constructor(){this.activeTargetIds=m3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var cE=class{constructor(){this.Fo=new tf,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new tf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var uE=class{xo(e){}shutdown(){}};var ZA="ConnectivityMonitor",nf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){B(ZA,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){B(ZA,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var kh=null;function lE(){return kh===null?kh=function(){return 268435456+Math.round(2147483648*Math.random())}():kh++,"0x"+kh.toString(16)}var e_="RestConnection",Z3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},dE=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Hh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=lE(),a=this.Go(e,t.toUriEncodedString());B(e_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Gr(l);return this.jo(e,a,u,r,h).then(p=>(B(e_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw oi(e_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Us}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=Z3[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var hE=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var wt="WebChannelConnection",fE=class extends dE{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=lE();return new Promise((a,u)=>{let l=new Kv;l.setWithCredentials(!0),l.listenOnce(Qv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ac.NO_ERROR:let p=l.getResponseJson();B(wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Ac.TIMEOUT:B(wt,`RPC '${e}' ${s} timed out`),u(new z(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:let m=l.getStatus();if(B(wt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let M=function(V){let J=V.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(J)>=0?J:N.UNKNOWN}(T.status);u(new z(M,T.message))}else u(new z(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new z(N.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{B(wt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);B(wt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=lE(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Zv(),a=Jv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");B(wt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,T=new hE({Ho:R=>{y?B(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(B(wt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),B(wt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),M=(R,V,J)=>{R.listen(V,q=>{try{J(q)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return M(p,vs.EventType.OPEN,()=>{y||(B(wt,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),M(p,vs.EventType.CLOSE,()=>{y||(y=!0,B(wt,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(p))}),M(p,vs.EventType.ERROR,R=>{y||(y=!0,oi(wt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),T.__(new z(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,vs.EventType.MESSAGE,R=>{var V;if(!y){let J=R.data[0];Se(!!J,16349);let q=J,Ie=q?.error||((V=q[0])===null||V===void 0?void 0:V.error);if(Ie){B(wt,`RPC '${e}' stream ${i} received error:`,Ie);let at=Ie.status,we=function(I){let w=Ge[I];if(w!==void 0)return eM(w)}(at),b=Ie.message;we===void 0&&(we=N.INTERNAL,b="Unknown error status: "+at+" with message "+Ie.message),y=!0,T.__(new z(we,b)),p.close()}else B(wt,`RPC '${e}' stream ${i} received:`,J),T.a_(J)}}),M(a,Yv.STAT_EVENT,R=>{R.stat===Nh.PROXY?B(wt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Nh.NOPROXY&&B(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function t_(){return typeof document<"u"?document:null}function Cf(n){return new k_(n,!0)}var rf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var XA="PersistentStream",of=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new rf(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new z(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return B(XA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(B(XA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},pE=class extends of{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=M3(this.serializer,e),r=function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?$n(s.readTime):re.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=V_(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=T_(u)?{documents:x3(o,u)}:{query:k3(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=tM(o,s.resumeToken);let l=O_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=Jh(o,s.snapshotVersion.toTimestamp());let l=O_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=F3(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=V_(this.serializer),t.removeTarget=e,this.k_(t)}},gE=class extends of{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=P3(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=V_(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>N3(this.serializer,r))};this.k_(t)}};var mE=class{},yE=class extends mE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new z(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,F_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(N.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,F_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},vE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(vr(t),this._a=!1):B("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var oo="RemoteStore",_E=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){so(this)&&(B(oo,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=te(u);l.Ia.add(4),yield Wc(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Sf(l)})}(this))}))}),this.Aa=new vE(r,i)}};function Sf(n){return v(this,null,function*(){if(so(n))for(let e of n.da)yield e(!0)})}function Wc(n){return v(this,null,function*(){for(let e of n.da)yield e(!1)})}function dM(n,e){let t=te(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),eI(t)?XE(t):Hs(t).x_()&&ZE(t,e))}function JE(n,e){let t=te(n),r=Hs(t);t.Ta.delete(e),r.x_()&&hM(t,e),t.Ta.size===0&&(r.x_()?r.B_():so(t)&&t.Aa.set("Unknown"))}function ZE(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hs(n).H_(e)}function hM(n,e){n.Ra.$e(e),Hs(n).Y_(e)}function XE(n){n.Ra=new x_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Hs(n).start(),n.Aa.aa()}function eI(n){return so(n)&&!Hs(n).M_()&&n.Ta.size>0}function so(n){return te(n).Ia.size===0}function fM(n){n.Ra=void 0}function X3(n){return v(this,null,function*(){n.Aa.set("Online")})}function e4(n){return v(this,null,function*(){n.Ta.forEach((e,t)=>{ZE(n,e)})})}function t4(n,e){return v(this,null,function*(){fM(n),eI(n)?(n.Aa.la(e),XE(n)):n.Aa.set("Unknown")})}function n4(n,e,t){return v(this,null,function*(){if(n.Aa.set("Online"),e instanceof Qh&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){B(oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sf(n,r)}else if(e instanceof Ts?n.Ra.Ye(e):e instanceof Kh?n.Ra.it(e):n.Ra.et(e),!t.isEqual(re.min()))try{let r=yield lM(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(bt.EMPTY_BYTE_STRING,h.snapshotVersion)),hM(o,u);let p=new Uc(h.target,u,l,h.sequenceNumber);ZE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){B(oo,"Failed to raise snapshot:",r),yield sf(n,r)}})}function sf(n,e,t){return v(this,null,function*(){if(!$s(e))throw e;n.Ia.add(1),yield Wc(n),n.Aa.set("Offline"),t||(t=()=>lM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){B(oo,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Sf(n)}))})}function pM(n,e){return e().catch(t=>sf(n,t,e))}function Af(n){return v(this,null,function*(){let e=te(n),t=ai(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:BE;for(;r4(e);)try{let i=yield Q3(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,i4(e,i)}catch(i){yield sf(e,i)}gM(e)&&mM(e)})}function r4(n){return so(n)&&n.Pa.length<10}function i4(n,e){n.Pa.push(e);let t=ai(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function gM(n){return so(n)&&!ai(n).M_()&&n.Pa.length>0}function mM(n){ai(n).start()}function o4(n){return v(this,null,function*(){ai(n).na()})}function s4(n){return v(this,null,function*(){let e=ai(n);for(let t of n.Pa)e.X_(t.mutations)})}function a4(n,e,t){return v(this,null,function*(){let r=n.Pa.shift(),i=R_.from(r,e,t);yield pM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Af(n)})}function c4(n,e){return v(this,null,function*(){e&&ai(n).Z_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return b3(s)&&s!==N.ABORTED}(i.code)){let o=r.Pa.shift();ai(r).N_(),yield pM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Af(r)}})}(n,e)),gM(n)&&mM(n)})}function eR(n,e){return v(this,null,function*(){let t=te(n);t.asyncQueue.verifyOperationInProgress(),B(oo,"RemoteStore received new credentials");let r=so(t);t.Ia.add(3),yield Wc(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Sf(t)})}function u4(n,e){return v(this,null,function*(){let t=te(n);e?(t.Ia.delete(2),yield Sf(t)):e||(t.Ia.add(2),yield Wc(t),t.Aa.set("Unknown"))})}function Hs(n){return n.Va||(n.Va=function(t,r,i){let o=te(t);return o.ia(),new pE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:X3.bind(null,n),e_:e4.bind(null,n),n_:t4.bind(null,n),J_:n4.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.Va.N_(),eI(n)?XE(n):n.Aa.set("Unknown")):(yield n.Va.stop(),fM(n))}))),n.Va}function ai(n){return n.ma||(n.ma=function(t,r,i){let o=te(t);return o.ia(),new gE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:o4.bind(null,n),n_:c4.bind(null,n),ea:s4.bind(null,n),ta:a4.bind(null,n)}),n.da.push(e=>v(null,null,function*(){e?(n.ma.N_(),yield Af(n)):(yield n.ma.stop(),n.Pa.length>0&&(B(oo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var EE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function tI(n,e){if(vr("AsyncQueue",`${e}: ${n}`),$s(n))return new z(N.UNAVAILABLE,`${e}: ${n}`);throw n}var af=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Y.comparator(t.key,r.key):(t,r)=>Y.comparator(t.key,r.key),this.keyedMap=Rc(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var cf=class{constructor(){this.fa=new Ue(Y.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Q(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Vs=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,af.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var IE=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},wE=class{constructor(){this.queries=tR(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=te(t),o=i.queries;i.queries=tR(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new z(N.ABORTED,"Firestore shutting down"))}};function tR(){return new Ir(n=>$R(n),Tf)}function yM(n,e){return v(this,null,function*(){let t=te(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new IE,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=tI(s,`Initialization of query '${Es(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&nI(t)})}function vM(n,e){return v(this,null,function*(){let t=te(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function l4(n,e){let t=te(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&nI(t)}function d4(n,e,t){let r=te(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function nI(n){n.Da.forEach(e=>{e.next()})}var bE,nR;(nR=bE||(bE={})).Fa="default",nR.Cache="cache";var uf=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Vs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==bE.Cache}};var lf=class{constructor(e){this.key=e}},df=class{constructor(e){this.key=e}},TE=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ge(),this.mutatedKeys=ge(),this.Xa=HR(e),this.eu=new af(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new cf,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Df(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?T!==M&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(y,T){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{At:R})}};return M(y)-M(T)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Vs(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new cf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ge(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new df(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new lf(r))}),t}uu(e){this.Ha=e.qs,this.Za=ge();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Vs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},rI="SyncEngine",DE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},CE=class{constructor(e){this.key=e,this.lu=!1}},SE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Ir(a=>$R(a),Tf),this.Tu=new Map,this.Iu=new Set,this.du=new Ue(Y.comparator),this.Eu=new Map,this.Au=new $c,this.Ru={},this.Vu=new Map,this.mu=Bc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function h4(n,e,t=!0){return v(this,null,function*(){let r=TM(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield _M(r,e,t,!0),i})}function f4(n,e){return v(this,null,function*(){let t=TM(n);yield _M(t,e,!0,!1)})}function _M(n,e,t,r){return v(this,null,function*(){let i=yield Y3(n.localStore,Bn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield p4(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&dM(n.remoteStore,i),a})}function p4(n,e,t,r,i){return v(this,null,function*(){n.gu=(p,m,y)=>function(M,R,V,J){return v(this,null,function*(){let q=R.view.nu(V);q.Ds&&(q=yield JA(M.localStore,R.query,!1).then(({documents:b})=>R.view.nu(b,q)));let Ie=J&&J.targetChanges.get(R.targetId),at=J&&J.targetMismatches.get(R.targetId)!=null,we=R.view.applyChanges(q,M.isPrimaryClient,Ie,at);return iR(M,R.targetId,we._u),we.snapshot})}(n,p,m,y);let o=yield JA(n.localStore,e,!0),s=new TE(e,o.qs),a=s.nu(o.documents),u=jc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);iR(n,t,l._u);let h=new DE(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function g4(n,e,t){return v(this,null,function*(){let r=te(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Tf(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield aE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&JE(r.remoteStore,i.targetId),AE(r,i.targetId)}).catch(Bs))):(AE(r,i.targetId),yield aE(r.localStore,i.targetId,!0))})}function m4(n,e){return v(this,null,function*(){let t=te(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),JE(t.remoteStore,r.targetId))})}function y4(n,e,t){return v(this,null,function*(){let r=T4(n);try{let i=yield function(s,a){let u=te(s),l=Qe.now(),h=a.reduce((y,T)=>y.add(T.key),ge()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=wr(),M=ge();return u.Os.getEntries(y,h).next(R=>{T=R,T.forEach((V,J)=>{J.isValidDocument()||(M=M.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(R=>{p=R;let V=[];for(let J of a){let q=w3(J,p.get(J.key).overlayedDocument);q!=null&&V.push(new qn(J.key,q,FR(q.value.mapValue),ti.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,a)}).next(R=>{m=R;let V=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,V)})}).then(()=>({batchId:m.batchId,changes:qR(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ue(le)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Kc(r,i.changes),yield Af(r.remoteStore)}catch(i){let o=tI(i,"Failed to persist write");t.reject(o)}})}function EM(n,e){return v(this,null,function*(){let t=te(n);try{let r=yield W3(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Se(s.lu,14607):i.removedDocuments.size>0&&(Se(s.lu,42227),s.lu=!1))}),yield Kc(t,r,e)}catch(r){yield Bs(r)}})}function rR(n,e,t){let r=te(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=te(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&nI(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function v4(n,e,t){return v(this,null,function*(){let r=te(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ue(Y.comparator);s=s.insert(o,vn.newNoDocument(o,re.min()));let a=ge().add(o),u=new Wh(re.min(),new Map,new Ue(le),s,a);yield EM(r,u),r.du=r.du.remove(o),r.Eu.delete(e),iI(r)}else yield aE(r.localStore,e,!1).then(()=>AE(r,e,t)).catch(Bs)})}function _4(n,e){return v(this,null,function*(){let t=te(n),r=e.batch.batchId;try{let i=yield G3(t.localStore,e);wM(t,r,null),IM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Kc(t,i)}catch(i){yield Bs(i)}})}function E4(n,e,t){return v(this,null,function*(){let r=te(n);try{let i=yield function(s,a){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Se(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);wM(r,e,t),IM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Kc(r,i)}catch(i){yield Bs(i)}})}function IM(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function wM(n,e,t){let r=te(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function AE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||bM(n,r)})}function bM(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(JE(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),iI(n))}function iR(n,e,t){for(let r of t)r instanceof lf?(n.Au.addReference(r.key,e),I4(n,r)):r instanceof df?(B(rI,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||bM(n,r.key)):Q(19791,{yu:r})}function I4(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(B(rI,"New document in limbo: "+t),n.Iu.add(r),iI(n))}function iI(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new Y($e.fromString(e)),r=n.mu.next();n.Eu.set(r,new CE(t)),n.du=n.du.insert(t,r),dM(n.remoteStore,new Uc(Bn(bf(t.path)),r,"TargetPurposeLimboResolution",UE.ue))}}function Kc(n,e,t){return v(this,null,function*(){let r=te(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=rE.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(u,l){return v(this,null,function*(){let h=te(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!$s(p))throw p;B(YE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),T=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(T);h.Fs=h.Fs.insert(m,M)}}})}(r.localStore,o))})}function w4(n,e){return v(this,null,function*(){let t=te(n);if(!t.currentUser.isEqual(e)){B(rI,"User change. New user:",e.toKey());let r=yield uM(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new z(N.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Kc(t,r.Bs)}})}function b4(n,e){let t=te(n),r=t.Eu.get(e);if(r&&r.lu)return ge().add(r.key);{let i=ge(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function TM(n){let e=te(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=EM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v4.bind(null,e),e.hu.J_=l4.bind(null,e.eventManager),e.hu.pu=d4.bind(null,e.eventManager),e}function T4(n){let e=te(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E4.bind(null,e),e}var DM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return v(this,null,function*(){this.serializer=Cf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return q3(this.persistence,new oE,t.initialUser,this.serializer)}Du(t){return new Xh(nE.Vi,this.serializer)}bu(t){return new cE}terminate(){return v(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),RE=class extends DM{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Se(this.persistence.referenceDelegate instanceof ef,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new H_(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new Xh(r=>ef.Vi(r,t),this.serializer)}};var D4=(()=>{class n{initialize(t,r){return v(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>rR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=w4.bind(null,this.syncEngine),yield u4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new wE}()}createDatastore(t){let r=Cf(t.databaseInfo.databaseId),i=function(s){return new fE(s)}(t.databaseInfo);return function(s,a,u,l){return new yE(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new _E(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>rR(this.syncEngine,r,0),function(){return nf.C()?new nf:new uE}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let m=new SE(o,s,a,u,l,h);return p&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var t,r;yield function(o){return v(this,null,function*(){let s=te(o);B(oo,"RemoteStore shutting down."),s.Ia.add(5),yield Wc(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var hf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ci="FirestoreClient",ME=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=kc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){B(ci,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(B(ci,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=tI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function n_(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),B(ci,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield uM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{oi("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{B("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{oi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function oR(n,e){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield C4(n);B(ci,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>eR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>eR(e.remoteStore,i)),n._onlineComponents=e})}function C4(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(ci,"Using user provided OfflineComponentProvider");try{yield n_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;oi("Error using user provided cache. Falling back to memory cache: "+t),yield n_(n,new DM)}}else B(ci,"Using default OfflineComponentProvider"),yield n_(n,new RE(void 0));return n._offlineComponents})}function CM(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(ci,"Using user provided OnlineComponentProvider"),yield oR(n,n._uninitializedComponentsProvider._online)):(B(ci,"Using default OnlineComponentProvider"),yield oR(n,new D4))),n._onlineComponents})}function S4(n){return CM(n).then(e=>e.syncEngine)}function NE(n){return v(this,null,function*(){let e=yield CM(n),t=e.eventManager;return t.onListen=h4.bind(null,e.syncEngine),t.onUnlisten=g4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=f4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=m4.bind(null,e.syncEngine),t})}function A4(n,e,t={}){let r=new Vn;return n.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,u,l){let h=new hf({next:m=>{h.Ou(),s.enqueueAndForget(()=>vM(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new z(N.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new z(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new uf(bf(a.path),h,{includeMetadataChanges:!0,ka:!0});return yM(o,p)}(yield NE(n),n.asyncQueue,e,t,r)})),r.promise}function SM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var sR=new Map;var AM="firestore.googleapis.com",aR=!0,ff=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AM,this.ssl=aR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:aR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$3)throw new z(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Hc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ff({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ff(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new r_;switch(r.type){case"firstParty":return new a_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=sR.get(t);r&&(B("ComponentProvider","Removing Datastore"),sR.delete(t),r.terminate())}(this),Promise.resolve()}};function RM(n,e,t,r={}){var i;n=jn(n,Hc);let o=Gr(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(th(`https://${u}`),nh("Firestore",!0)),s.host!==AM&&s.host!==u&&oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!en(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ot.MOCK_USER;else{h=KC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new z(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ot(m)}n._authCredentials=new i_(new Vh(h,p))}}var pf=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},gt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Gc(t,n._jsonSchema))return new n(e,r||null,new Y($e.fromString(t.referencePath)))}};gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Ke("string",gt._jsonSchemaVersion),referencePath:Ke("string")};var zc=class n extends pf{constructor(e,t,r){super(e,t,bf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new Y(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function MM(n,e,...t){if(n=qe(n),arguments.length===1&&(e=kc.newId()),VH("doc","path",e),n instanceof Hc){let r=$e.fromString(e,...t);return CA(r),new gt(n,null,new Y(r))}{if(!(n instanceof gt||n instanceof zc))throw new z(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child($e.fromString(e,...t));return CA(r),new gt(n.firestore,n instanceof zc?n.converter:null,new Y(r))}}var cR="AsyncQueue",gf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new rf(this,"async_queue_retry"),this.oc=()=>{let r=t_();r&&B(cR,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=t_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=t_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Vn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!$s(e))throw e;B(cR,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,vr("INTERNAL UNHANDLED ERROR: ",uR(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=EE.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Q(47125,{hc:uR(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function uR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function lR(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var ui=class extends Hc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new gf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new gf(e),this._firestoreClient=void 0,yield e}})}};function NM(n,e){let t=typeof n=="object"?n:kn(),r=typeof n=="string"?n:e||Hh,i=nn(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=WC("firestore");o&&RM(i,...o)}return i}function oI(n){if(n._terminated)throw new z(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||R4(n),n._firestoreClient}function R4(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new h_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,SM(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new ME(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var ni=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(bt.fromBase64String(e))}catch(t){throw new z(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gc(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Ke("string",ni._jsonSchemaVersion),bytes:Ke("string")};var js=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var qc=class{constructor(e){this._methodName=e}};var ri=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Gc(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:Ke("string",ri._jsonSchemaVersion),latitude:Ke("number"),longitude:Ke("number")};var ii=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gc(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new z(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:Ke("string",ii._jsonSchemaVersion),vectorValues:Ke("object")};var M4=/^__.*__$/,PE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new qn(e,this.data,this.fieldMask,t,this.fieldTransforms):new io(e,this.data,t,this.fieldTransforms)}},mf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new qn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function PM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ec:n})}}var xE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return vf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(PM(this.Ec)&&M4.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},kE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Cf(e)}Dc(e,t,r,i=!1){return new xE({Ec:e,methodName:t,bc:r,path:Gt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function xM(n){let e=n._freezeSettings(),t=Cf(n._databaseId);return new kE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function N4(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);sI("Data must be an object, but it was:",s,r);let a=kM(r,s),u,l;if(o.merge)u=new sn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=OE(e,p,t);if(!s.contains(m))throw new z(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);FM(h,m)||h.push(m)}u=new sn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new PE(new qt(a),u,l)}var yf=class n extends qc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function P4(n,e,t,r){let i=n.Dc(1,e,t);sI("Data must be an object, but it was:",i,r);let o=[],s=qt.empty();li(r,(u,l)=>{let h=aI(e,u,t);l=qe(l);let p=i.gc(h);if(l instanceof yf)o.push(h);else{let m=Rf(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new sn(o);return new mf(s,a,i.fieldTransforms)}function x4(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[OE(e,r,t)],u=[i];if(o.length%2!=0)throw new z(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(OE(e,o[m])),u.push(o[m+1]);let l=[],h=qt.empty();for(let m=a.length-1;m>=0;--m)if(!FM(l,a[m])){let y=a[m],T=u[m];T=qe(T);let M=s.gc(y);if(T instanceof yf)l.push(y);else{let R=Rf(T,M);R!=null&&(l.push(y),h.set(y,R))}}let p=new sn(l);return new mf(h,p,s.fieldTransforms)}function Rf(n,e){if(OM(n=qe(n)))return sI("Unsupported field value:",e,n),kM(n,e);if(n instanceof qc)return function(r,i){if(!PM(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Rf(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return y3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Qe.fromDate(r);return{timestampValue:Jh(i.serializer,o)}}if(r instanceof Qe){let o=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jh(i.serializer,o)}}if(r instanceof ri)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ni)return{bytesValue:tM(i.serializer,r._byteString)};if(r instanceof gt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:QE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ii)return function(s,a){return{mapValue:{fields:{[HE]:{stringValue:zE},[As]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return KE(a.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${jE(r)}`)}(n,e)}function kM(n,e){let t={};return AR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):li(n,(r,i)=>{let o=Rf(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function OM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qe||n instanceof ri||n instanceof ni||n instanceof gt||n instanceof qc||n instanceof ii)}function sI(n,e,t){if(!OM(t)||!fR(t)){let r=jE(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function OE(n,e,t){if((e=qe(e))instanceof js)return e._internalPath;if(typeof e=="string")return aI(n,e);throw vf("Field path arguments must be of type string or ",n,!1,void 0,t)}var k4=new RegExp("[~\\*/\\[\\]]");function aI(n,e,t){if(e.search(k4)>=0)throw vf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new js(...e.split("."))._internalPath}catch{throw vf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new z(N.INVALID_ARGUMENT,a+n+u)}function FM(n,e){return n.some(t=>t.isEqual(e))}var _f=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new FE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(LM("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},FE=class extends _f{data(){return super.data()}};function LM(n,e){return typeof e=="string"?aI(n,e):e instanceof js?e._internalPath:e._delegate._internalPath}function O4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new z(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var LE=class{convertValue(e,t="none"){switch(si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return li(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[As].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Oe(s.doubleValue));return new ii(o)}convertGeoPoint(e){return new ri(Oe(e.latitude),Oe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=wf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lc(e));default:return null}}convertTimestamp(e){let t=_r(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=$e.fromString(e);Se(aM(r),9688,{name:e});let i=new zh(r.get(1),r.get(3)),o=new Y(r.popFirst(5));return i.isEqual(t)||vr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function F4(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Zi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Xi=class n extends _f{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ds(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(LM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new z(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Xi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xi._jsonSchema={type:Ke("string",Xi._jsonSchemaVersion),bundleSource:Ke("string","DocumentSnapshot"),bundleName:Ke("string"),bundle:Ke("string")};var Ds=class extends Xi{data(e={}){return super.data(e)}},Cs=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Zi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ds(this._firestore,this._userDataWriter,r.key,r,new Zi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ds(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ds(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:L4(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new z(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function L4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:n})}}function VM(n){n=jn(n,gt);let e=jn(n.firestore,ui);return A4(oI(e),n._key).then(t=>$M(e,n,t))}Cs._jsonSchemaVersion="firestore/querySnapshot/1.0",Cs._jsonSchema={type:Ke("string",Cs._jsonSchemaVersion),bundleSource:Ke("string","QuerySnapshot"),bundleName:Ke("string"),bundle:Ke("string")};var Ef=class extends LE{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,t)}};function jM(n,e,t){n=jn(n,gt);let r=jn(n.firestore,ui),i=F4(n.converter,e,t);return BM(r,[N4(xM(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,ti.none())])}function UM(n,e,t,...r){n=jn(n,gt);let i=jn(n.firestore,ui),o=xM(i),s;return s=typeof(e=qe(e))=="string"||e instanceof js?x4(o,"updateDoc",n._key,e,t,r):P4(o,"updateDoc",n._key,e),BM(i,[s.toMutation(n._key,ti.exists(!0))])}function cI(n,...e){var t,r,i;n=qe(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||lR(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(lR(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof gt)l=jn(n.firestore,ui),h=bf(n._key.path),u={next:p=>{e[s]&&e[s]($M(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=jn(n,pf);l=jn(p.firestore,ui),h=p._query;let m=new Ef(l);u={next:y=>{e[s]&&e[s](new Cs(l,m,p,y))},error:e[s+1],complete:e[s+2]},O4(n._query)}return function(m,y,T,M){let R=new hf(M),V=new uf(y,R,T);return m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return yM(yield NE(m),V)})),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return vM(yield NE(m),V)}))}}(oI(l),h,a,u)}function BM(n,e){return function(r,i){let o=new Vn;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return y4(yield S4(r),i,o)})),o.promise}(oI(n),e)}function $M(n,e,t){let r=t.docs.get(e._key),i=new Ef(n);return new Xi(n,i,e._key,r,new Zi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Us=i})(Kr),pt(new Be("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ui(new o_(r.getProvider("auth-internal")),new c_(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ce(wA,bA,e),Ce(wA,bA,"esm2017")})();var Mf=function(){return Mf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Mf.apply(this,arguments)};var U4={includeMetadataChanges:!1};function HM(n,e){return e===void 0&&(e=U4),new ue(function(t){var r=cI(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function zM(n){return HM(n,{includeMetadataChanges:!0})}function qM(n,e){return e===void 0&&(e={}),zM(n).pipe(ie(function(t){return GM(t,e)}))}function GM(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Mf(Mf({},r),(t={},t[e.idField]=n.id,t))}var ao=class{constructor(e){return e}},WM="firestore",uI=class{constructor(){return Qr(WM)}};var lI=new $("angularfire2.firestore-instances");function B4(n,e){let t=qi(WM,n,e);return t&&new ao(t)}function $4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ao(r)}}var H4={provide:uI,deps:[[new It,lI]]},z4={provide:ao,useFactory:B4,deps:[[new It,lI],mn]};function KM(n,...e){return Ce("angularfire",On.full,"fst"),Bt([z4,H4,{provide:lI,useFactory:$4(n),multi:!0,deps:[be,Xe,Fn,fr,[new It,Sc],[new It,ms],...e]}])}var dI=Ft(qM,!0);var zs=Ft(MM,!0,2);var QM=Ft(VM,!0);var YM=Ft(NM,!0);var JM=Ft(jM,!0,2);var ZM=Ft(UM,!0,2);var qs=class n{constructor(){}firestore=x(ao);getPersonalData(){let e=zs(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return dI(e)}getPersonalDataOnce(){return v(this,null,function*(){let e=zs(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q"),t=yield QM(e);return t.exists()?t.data():void 0})}getDocument(e){if(!this.firestore)return console.warn("Firestore no est\xE1 inicializado. Retornando array vac\xEDo."),Z([]);let t=zs(this.firestore,e);return dI(t)}updateDocument(e,t,r){let i=zs(this.firestore,e,t);return ZM(i,r)}updatePersonalData(e){let t=zs(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return JM(t,e,{merge:!0})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})};var Nf=class n{title=null;secondTitle=null;thirdTitle=null;content=null;openPanel=!1;togglePanel(){this.openPanel=!this.openPanel}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-accordion"]],inputs:{title:"title",secondTitle:"secondTitle",thirdTitle:"thirdTitle",content:"content"},decls:13,vars:10,consts:[[1,"detail-panel"],[1,"detail-header",3,"click"],[1,"accordion-btn"],[1,"detail-content"],[1,"detail-inner"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1),_e("click",function(){return r.togglePanel()}),k(2,"h2"),U(3),O(),k(4,"h4"),U(5),O(),k(6,"h5"),U(7),O(),K(8,"button",2),O(),k(9,"div",3)(10,"div",4)(11,"p"),U(12),O()()()()),t&2&&(j(),Ne("open",r.openPanel),j(2),kt(r.title),j(2),kt(r.secondTitle),j(2),kt(r.thirdTitle),j(),Ne("open",r.openPanel),j(),Ne("open",r.openPanel),j(3),id(" ",r.content," "))},dependencies:[ze],styles:['.detail-panel[_ngcontent-%COMP%]{background-color:var(--color-subpanel-dark);margin:40px 0;border-radius:8px}.detail-header.open[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #2239b9,0 0 17px #1d08bdd2;background:#2f2f9179}.detail-header[_ngcontent-%COMP%]{position:relative;cursor:pointer;-webkit-user-select:none;user-select:none;padding:1rem;background-color:var(--color-subpanel-child-dark);border-radius:8px;transition:background .2s ease}.detail-header[_ngcontent-%COMP%]:hover{background:#2f2f9179;box-shadow:0 0 0 2px #2239b9,0 0 34px #1d08bdd2}.detail-content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .7s cubic-bezier(.11,.37,.17,.72);border-radius:0 0 8px 8px}.detail-content.open[_ngcontent-%COMP%]{max-height:500px;transition:max-height 1s ease-in}.detail-inner[_ngcontent-%COMP%]{padding:1rem;background-color:#1b1c27}.accordion-btn[_ngcontent-%COMP%]{position:absolute;right:23px;top:50%;transform:translateY(-50%);width:20px;height:20px;border:none;background:url("./media/mas-SRVL4M23.png") no-repeat center;background-size:contain;cursor:pointer;transition:background .7s cubic-bezier(.18,0,1,.79)}.accordion-btn.open[_ngcontent-%COMP%]{background-image:url("./media/menos-3VJFCNR6.png");transition:background .2s cubic-bezier(.18,0,1,.79)}']})};function q4(n,e){if(n&1){let t=Ur();Oa(0),k(1,"div",2),_e("click",function(){ir(t);let i=Br();return or(i.selectView("experience"))}),k(2,"h2"),U(3,"Experiencia laboral"),O(),k(4,"p"),U(5,"Trayectoria profesional y proyectos destacados."),O()(),k(6,"div",3),_e("click",function(){ir(t);let i=Br();return or(i.selectView("technologies"))}),k(7,"h2"),U(8,"Tecnolog\xEDas especializadas"),O(),k(9,"p"),U(10,"Stack t\xE9cnico y herramientas utilizadas."),O()(),Fa()}}function G4(n,e){if(n&1){let t=Ur();Oa(0),k(1,"div",4)(2,"button",5),_e("click",function(){ir(t);let i=Br();return or(i.selectView("menu"))}),U(3,"\u2190 Volver"),O(),k(4,"div",6),K(5,"app-accordion",7)(6,"app-accordion",8),O()(),Fa()}n&2&&(j(5),W("title","Desarrollador Full-Stack")("secondTitle","Indra Sistemas")("thirdTitle","Octubre 2024 - ACTUALMENTE"),j(),W("title","Desarrollador Full-Stack")("secondTitle","Mercanza")("thirdTitle","Septiembre 2023 - Diciembre 2023"))}function W4(n,e){if(n&1){let t=Ur();Oa(0),k(1,"div",4)(2,"button",5),_e("click",function(){ir(t);let i=Br();return or(i.selectView("menu"))}),U(3,"\u2190 Volver"),O(),k(4,"div",6),K(5,"app-accordion",9)(6,"app-accordion",10)(7,"app-accordion",11)(8,"app-accordion",12)(9,"app-accordion",13)(10,"app-accordion",14)(11,"app-accordion",15)(12,"app-accordion",16)(13,"app-accordion",17)(14,"app-accordion",18)(15,"app-accordion",19)(16,"app-accordion",20)(17,"app-accordion",21)(18,"app-accordion",22)(19,"app-accordion",23)(20,"app-accordion",24)(21,"app-accordion",25)(22,"app-accordion",26)(23,"app-accordion",27)(24,"app-accordion",28)(25,"app-accordion",29)(26,"app-accordion",30)(27,"app-accordion",31)(28,"app-accordion",32),O()(),Fa()}n&2&&(j(5),W("title","Java")("secondTitle","Nivel: Alto"),j(),W("title","TypeScript")("secondTitle","Nivel: Alto"),j(),W("title","Python")("secondTitle","Nivel: Intermedio"),j(),W("title","C#")("secondTitle","Nivel: Intermedio"),j(),W("title","JavaScript")("secondTitle","Nivel: B\xE1sico"),j(),W("title","PHP")("secondTitle","Nivel: B\xE1sico"),j(),W("title","HTML5 & CSS3")("secondTitle","Nivel: Intermedio"),j(),W("title","JSON & XML")("secondTitle","Nivel: Alto"),j(),W("title","SQL")("secondTitle","Nivel: Intermedio"),j(),W("title","Spring Boot")("secondTitle","Nivel: Intermedio"),j(),W("title","Angular")("secondTitle","Nivel: Intermedio"),j(),W("title","Ionic")("secondTitle","Nivel: B\xE1sico"),j(),W("title","Node.js")("secondTitle","Nivel: B\xE1sico"),j(),W("title","MySQL & SQL Server")("secondTitle","Nivel: Intermedio"),j(),W("title","MongoDB & Firebase")("secondTitle","Nivel: Intermedio"),j(),W("title","MQTT (Mosquitto)")("secondTitle","Nivel: Alto"),j(),W("title","Kafka, RabbitMQ, NATS")("secondTitle","Nivel: Intermedio"),j(),W("title","Git")("secondTitle","Nivel: Alto"),j(),W("title","Docker")("secondTitle","Nivel: Alto"),j(),W("title","Jenkins")("secondTitle","Nivel: Intermedio"),j(),W("title","JIRA & Kanban (Trello)")("secondTitle","Nivel: Alto"),j(),W("title","Android Studio & Capacitor")("secondTitle","Nivel: Intermedio"),j(),W("title","Unity & Processing")("secondTitle","Nivel: Intermedio"),j(),W("title","Unreal Engine")("secondTitle","Nivel: B\xE1sico"))}var Pf=class n{view="menu";openPanels={indra:!1,mercanza:!1};selectView(e){this.view=e}togglePanel(e){this.openPanels[e]=!this.openPanels[e]}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-experience-panel"]],decls:4,vars:3,consts:[[1,"experience-wrapper"],[4,"ngIf"],[1,"experience-card","experience",3,"click"],[1,"experience-card","technologies",3,"click"],[1,"experience-detail"],[1,"back-btn",3,"click"],[1,"detail-scroll"],["content",`El proyecto en el que actualmente trabajo es un sistema de mando y control,
                          encargado de gestionar recursos, publicar instrucciones y llevar un seguimiento de las acciones.
                          Ademas de comunicarse con otras plataformas con objetivos similares a nuestro sistema.
                          
                          Los desarrollos principales en los que he trabajado han sido:
                          
                          La migracion de la aplicaci\xF3n de Windows a Linux y Android.
                          
                          Integraci\xF3n en el nuevas tecnolog\xEDas y desarrollado un nuevo frontal m\xE1s din\xE1mico y 
                          con apariencia mas moderna usando Angular.
                          
                          Implementar nuevas funcionalidades en un sistema programado en Java con mas de 15 a\xF1os y consolidado.
                          Sin quebrar el funcionamiento de los sistemas ya 
                          existentes y otros que estan en desarrollo y comparten servicios en com\xFAn.`,3,"title","secondTitle","thirdTitle"],["content",`Los proyectos en los que trabaj\xE9 eran encargados de llevar el tratamiento 
                          de datos personales y de negocio de diversas empresas con sus empleados o clientes.
                          
                          Estos proyectos usaban diferentes tecnolog\xEDas pero en los que mas desarroll\xE9
                          usaban Angular y .NET con C#.
          
                          En estas aplicaciones web realic\xE9 sobre todo tareas
                          de resoluci\xF3n de incidencias, correci\xF3n de componentes de interfaz gr\xE1fica y
                          optimizaci\xF3n de consultas a APIs y Bases de datos relaccionales.`,3,"title","secondTitle","thirdTitle"],["content","Desarrollo backend aplicando programaci\xF3n orientada a objetos, creaci\xF3n de APIs REST, WebSockets, manejo de dependencias con Maven y ejecuci\xF3n en servidores de aplicaciones. Experiencia integrando backend con frontend.",3,"title","secondTitle"],["content","Uso avanzado de TypeScript en aplicaciones Angular, tipado est\xE1tico, gen\xE9ricos, manejo de estructuras de datos y l\xF3gica de negocio mantenible.",3,"title","secondTitle"],["content","Desarrollo de scripts y aplicaciones backend sencillas, automatizaci\xF3n de tareas y consumo de APIs.",3,"title","secondTitle"],["content","Desarrollo de aplicaciones y scripts, principalmente en entornos de creaci\xF3n interactiva y motores de juego.",3,"title","secondTitle"],["content","Uso de JavaScript para complementar funcionalidades frontend y comprensi\xF3n de su integraci\xF3n con frameworks modernos.",3,"title","secondTitle"],["content","Conocimientos b\xE1sicos para desarrollo web backend y mantenimiento de aplicaciones existentes.",3,"title","secondTitle"],["content","Maquetaci\xF3n de interfaces web, estructuraci\xF3n sem\xE1ntica y dise\xF1o responsive adaptable a distintos dispositivos.",3,"title","secondTitle"],["content","Uso intensivo de formatos de intercambio de datos en APIs REST, configuraci\xF3n de servicios y comunicaci\xF3n entre sistemas.",3,"title","secondTitle"],["content","Consultas a bases de datos relacionales, operaciones CRUD y comprensi\xF3n de modelos de datos.",3,"title","secondTitle"],["content","Creaci\xF3n de servicios REST, controladores, inyecci\xF3n de dependencias y estructuraci\xF3n de proyectos backend.",3,"title","secondTitle"],["content","Desarrollo de aplicaciones SPA, consumo de APIs REST, componentes, servicios y manejo de estado con TypeScript.",3,"title","secondTitle"],["content","Uso de Ionic para el desarrollo de aplicaciones h\xEDbridas y adaptaci\xF3n de interfaces a dispositivos m\xF3viles.",3,"title","secondTitle"],["content","Conocimientos b\xE1sicos del runtime para ejecuci\xF3n de aplicaciones JavaScript y soporte a herramientas de desarrollo.",3,"title","secondTitle"],["content","Uso de bases de datos relacionales, consultas SQL, gesti\xF3n de datos y conexi\xF3n desde aplicaciones backend.",3,"title","secondTitle"],["content","Uso de bases de datos NoSQL y BaaS para almacenamiento de datos, autenticaci\xF3n y servicios en tiempo real.",3,"title","secondTitle"],["content","Uso de mensajer\xEDa ligera para comunicaci\xF3n entre dispositivos y sistemas distribuidos mediante el protocolo MQTT.",3,"title","secondTitle"],["content","Conocimientos en sistemas de mensajer\xEDa y streaming para comunicaci\xF3n as\xEDncrona entre servicios.",3,"title","secondTitle"],["content","Control de versiones, trabajo con ramas, resoluci\xF3n de conflictos y gesti\xF3n de repositorios.",3,"title","secondTitle"],["content","Creaci\xF3n y uso de contenedores para entornos de desarrollo y despliegue de servicios backend.",3,"title","secondTitle"],["content","Uso de pipelines b\xE1sicos para integraci\xF3n y automatizaci\xF3n de procesos de build.",3,"title","secondTitle"],["content","Gesti\xF3n de tareas, seguimiento de proyectos y trabajo colaborativo con metodolog\xEDas \xE1giles.",3,"title","secondTitle"],["content","Desarrollo y compilaci\xF3n de aplicaciones m\xF3viles, integraci\xF3n con funcionalidades nativas y despliegue en dispositivos f\xEDsicos.",3,"title","secondTitle"],["content","Desarrollo de proyectos interactivos y videojuegos, l\xF3gica de juego y creaci\xF3n visual.",3,"title","secondTitle"],["content","Conocimientos iniciales en motores gr\xE1ficos y desarrollo de experiencias interactivas.",3,"title","secondTitle"]],template:function(t,r){t&1&&(k(0,"div",0),pn(1,q4,11,0,"ng-container",1)(2,G4,7,6,"ng-container",1)(3,W4,29,48,"ng-container",1),O()),t&2&&(j(),W("ngIf",r.view==="menu"),j(),W("ngIf",r.view==="experience"),j(),W("ngIf",r.view==="technologies"))},dependencies:[ze,cr,Nf],styles:[".experience-wrapper[_ngcontent-%COMP%]{display:flex;gap:2rem;width:100%;height:15rem;max-width:900px;margin:0 auto;align-items:stretch}.experience-card[_ngcontent-%COMP%]{flex:1;padding:2.5rem;background:#ffffff0a;border:1px solid rgba(255,255,255,.08);cursor:pointer;transition:all .35s ease;position:relative}.experience-card[_ngcontent-%COMP%]:hover{background:#ffffff14;transform:translateY(-6px)}.experience-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem;letter-spacing:.08em;margin-bottom:1rem;text-transform:uppercase}.experience-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;opacity:.85}.experience-card.experience[_ngcontent-%COMP%]{border-left:4px solid #6aa9ff}.experience-card.technologies[_ngcontent-%COMP%]{border-left:4px solid #7dffb3}.experience-detail[_ngcontent-%COMP%]{width:100%;height:100%;align-content:center;position:relative}.back-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6aa9ff;font-size:1rem;cursor:pointer;margin-bottom:1.5rem;position:absolute;top:0}.detail-scroll[_ngcontent-%COMP%]{max-height:93%;overflow-y:scroll;padding:5px;scrollbar-gutter:stable;box-sizing:border-box}.detail-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.detail-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff40;border-radius:3px}"]})};var xf=class n{abierta=!1;toggleCarta(){this.abierta=!this.abierta}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-card"]],decls:66,vars:2,consts:[[1,"card",3,"click"],[1,"interior"],[1,"borde"],[1,"solapa"],[1,"sello"],["src","assets/Sello.png","alt",""],[1,"papel"],[1,"contenido-carta"],["src","assets/MarcaAguaRojaModerna.png","alt","Marca de Agua",1,"marca-agua"],[1,"texto-carta"],["src","assets/lineaClasica001.png","alt","Linea Hornamental",1,"linea-hornamental"],[1,"body"],[1,"main-content"],[1,"question-selection"],[1,"despedida"],[1,"firma"],["src","/assets/lineaClasica001.png","alt","Linea Hornamental",1,"linea-hornamental-inferior"],[1,"cuerpo-sobre"]],template:function(t,r){t&1&&(k(0,"div",0),_e("click",function(){return r.toggleCarta()}),K(1,"div",1)(2,"div",2)(3,"div",3),k(4,"div",4),K(5,"img",5),O(),k(6,"div",6)(7,"div",7),K(8,"img",8),k(9,"div",9),K(10,"img",10),k(11,"div",11)(12,"div",12)(13,"p"),U(14," Mi nombre es "),k(15,"strong"),U(16,"Felipe Izquierdo Romero"),O(),U(17," y soy desarrollador "),k(18,"strong"),U(19,"Full-Stack"),O(),U(20,", especializado en "),k(21,"strong"),U(22,"Java, Spring Boot y Angular"),O(),U(23,". "),O(),k(24,"p"),U(25," Me dedico al desarrollo de aplicaciones para "),k(26,"strong"),U(27,"Web y Android"),O(),U(28,", con un enfoque claro en la "),k(29,"strong"),U(30,"escalabilidad"),O(),U(31,", la "),k(32,"strong"),U(33,"sostenibilidad del software"),O(),U(34," y la aplicaci\xF3n de buenas pr\xE1cticas de programaci\xF3n. "),O(),k(35,"p"),U(36," Disfruto especialmente del trabajo colaborativo, ya que considero que la comunicaci\xF3n y el intercambio de ideas son clave para resolver los retos que surgen al desarrollar nuevas funcionalidades. "),O()(),k(37,"div",13)(38,"p"),U(39,"\xBFPor qu\xE9 deber\xEDa considerarme su elecci\xF3n?"),O(),k(40,"ul")(41,"li"),U(42,"Perfil anal\xEDtico y orientado a la resoluci\xF3n de problemas"),O(),k(43,"li"),U(44,"Forma de trabajo ordenada y estructurada"),O(),k(45,"li"),U(46,"Comunicaci\xF3n clara y efectiva en equipo"),O(),k(47,"li"),U(48,"Alto grado de implicaci\xF3n en los proyectos"),O(),k(49,"li"),U(50,"Actitud proactiva y en\xE9rgica"),O()()(),k(51,"p",14),U(52," Agradezco su tiempo y atenci\xF3n. Quedo a su disposici\xF3n para ampliar cualquier informaci\xF3n y para conversar sobre c\xF3mo puedo aportar valor a su equipo y a sus proyectos. "),O(),k(53,"p",15),U(54," Atentamente,"),K(55,"br"),k(56,"strong"),U(57,"Felipe Izquierdo Romero"),O()()(),K(58,"img",16)(59,"br")(60,"br")(61,"br")(62,"br")(63,"br")(64,"br"),O()()(),K(65,"div",17),O()),t&2&&Ne("abierta",r.abierta)},styles:[".card[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;cursor:pointer;border-radius:35px;transform:translate(0);transition:transform .5s ease}.borde[_ngcontent-%COMP%]{position:absolute;top:0;left:0;border-radius:35px;width:100%;height:100%;background-color:#000;clip-path:polygon(0 0,1% 0,50% 49%,99% 0,100% 0,50% 50%);z-index:4}.cuerpo-sobre[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:var(--color-card);border-radius:35px;width:100%;height:100%;clip-path:polygon(50% 50%,100% 0%,100% 100%,0 100%,0 0%);z-index:2}.sello[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:80px;height:80px;border-radius:50%;transform:translate(-50%,-50%);transition:transform .4s ease,opacity .3s ease;z-index:4;display:flex;align-items:center;justify-content:center}.sello[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;border-radius:50%;pointer-events:none}.solapa[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--color-card);clip-path:polygon(0 0,50% 50%,100% 0);transform-origin:top center;transform:rotateX(0);transition:transform .6s ease;z-index:2;border-radius:35px}.interior[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;border-radius:35px}.papel[_ngcontent-%COMP%]{position:absolute;bottom:0;left:10%;width:80%;height:90%;background-color:var(--color-paper-card);border-radius:3px;box-shadow:0 14px 50px #0003;overflow:hidden;transition:transform .6s ease,height .6s ease,opacity .3s ease;z-index:1;opacity:0}.texto-carta[_ngcontent-%COMP%]{position:relative;z-index:1;color:#000;padding:40px}.contenido-carta[_ngcontent-%COMP%]{position:relative;max-height:100%;overflow-y:auto}.marca-agua[_ngcontent-%COMP%]{position:absolute;inset:5% 0 0;width:100%;height:100%;object-fit:contain;opacity:.12;z-index:0;pointer-events:none}.linea-hornamental[_ngcontent-%COMP%], .linea-hornamental-inferior[_ngcontent-%COMP%]{width:100%;height:50%;z-index:0;pointer-events:none}.despedida[_ngcontent-%COMP%]{margin-top:1.5rem}.firma[_ngcontent-%COMP%]{margin-top:6.7rem;text-align:right}.card.abierta[_ngcontent-%COMP%]   .solapa[_ngcontent-%COMP%]{transform:rotateX(180deg);z-index:0}.card[_ngcontent-%COMP%]:not(.abierta)   .solapa[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_solapa-subir-z .6s forwards}.card.abierta[_ngcontent-%COMP%]   .papel[_ngcontent-%COMP%]{height:160%;transform:translateY(-30%);transition-delay:.4s;opacity:1}.card.abierta[_ngcontent-%COMP%]{transform:translateY(150%) scale(1.5)}p[_ngcontent-%COMP%]{font-family:var(--font-ui-accent)}@keyframes _ngcontent-%COMP%_solapa-subir-z{0%{z-index:1}99%{z-index:1}to{z-index:3}}"]})};var kf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-personal-info"]],decls:21,vars:0,consts:[[1,"info-container"],[1,"padre"],[1,"decoration-line"],[1,"business-card"],[1,"profile"],["src","assets/FotoPerfil.png","alt","Foto de Felipe Izquierdo Romero"],[1,"info"],[1,"contact"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1),K(2,"div",2),k(3,"div",3)(4,"div",4),K(5,"img",5),O(),k(6,"div",6)(7,"h1"),U(8,"Felipe Izquierdo Romero"),O(),k(9,"h2"),U(10,"Software Developer"),O(),k(11,"ul",7)(12,"li"),U(13,"\u{1F4CD} Paseo del Higueral 6, Fuenlabrada, Madrid"),O(),k(14,"li"),U(15,"\u2709\uFE0F felipe.iz.ro.98@gmail.com"),O(),k(16,"li"),U(17,"\u{1F517} linkedin.com/in/tu-perfil"),O(),k(18,"li"),U(19,"\u{1F4DE} 646 684 855"),O()()()(),K(20,"div",2),O()())},styles:[".info-container[_ngcontent-%COMP%]{width:100%;height:100%}.padre[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;gap:30px;background:#fff;border-radius:35px;flex-direction:column}.business-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1.5rem;background:#fff;border-radius:35px}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:23vmin;height:23vmin;border-radius:50%;object-fit:cover;border:3px solid #e5e5e5}.info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;margin:0;font-size:1.3rem;font-weight:600}.info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:var(--font-body);margin:.2rem 0 1rem;font-size:.95rem;font-weight:500;color:#666}.contact[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;font-size:.85rem;color:#333}.contact[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.4rem}.decoration-line[_ngcontent-%COMP%]{width:100%;height:20px;background:#edc888}"]})};var Of=class n{openPdf(){window.open("assets/NEW_CurriculumAzul.pdf","_blank")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-curriculum"]],decls:5,vars:0,consts:[[1,"pdf-frame",3,"click"],["src",AT`assets/NEW_CurriculumAzul.pdf#page=1&toolbar=0&navpanes=0`,"title","Curriculum Felipe","loading","lazy"],[1,"overlay"]],template:function(t,r){t&1&&(k(0,"div",0),_e("click",function(){return r.openPdf()}),K(1,"iframe",1),k(2,"div",2)(3,"span"),U(4,"Haz clic para abrir"),O()()())},styles:[".pdf-frame[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;cursor:pointer;border-radius:12px;box-shadow:0 10px 30px #0003}.pdf-frame[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000026;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#000000b3;color:#fff;padding:10px 16px;border-radius:20px;font-size:.9rem}.pdf-frame[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}"]})};function K4(n,e){n&1&&K(0,"app-personal-info",12)}function Q4(n,e){n&1&&K(0,"app-card")}function Y4(n,e){n&1&&K(0,"app-curriculum",12)}var Ff=class n{currentIndex=0;contents=["personal-info","card","curriculum"];content=this.contents[this.currentIndex];title="Informacion personal";changeContent(){switch(this.content){case"card":this.title="Carta de presentacion";break;case"personal-info":this.title="Informacion personal";break;case"curriculum":this.title="Curriculum";break}}next(){this.currentIndex<this.contents.length-1&&(this.currentIndex++,this.content=this.contents[this.currentIndex],this.changeContent())}previous(){this.currentIndex>0&&(this.currentIndex--,this.content=this.contents[this.currentIndex],this.changeContent())}downloadCV(){let e=document.createElement("a");e.href="assets/NEW_CurriculumAzul.pdf",e.download="Felipe_Izquierdo_CV.pdf",e.click()}downloadCard(){let e=document.createElement("a");console.warn("Estas descargardo el CV en vez de la carta"),e.href="assets/NEW_CurriculumAzul.pdf",e.download="Felipe_Izquierdo_CV.pdf",e.click()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-about-panel"]],decls:15,vars:7,consts:[[1,"about-container"],[1,"content-container"],[1,"content"],["class","correct-translate",4,"ngIf"],[4,"ngIf"],[1,"buttons"],[3,"click"],["src","assets/FlechaIzquierda.png","alt","Anterior"],[1,"title"],[1,"download-btn",3,"click","disabled"],["src","assets/Download.png","alt","Descargar"],["src","assets/FlechaDerecha.png","alt","Siguiente"],[1,"correct-translate"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1)(2,"div",2),pn(3,K4,1,0,"app-personal-info",3)(4,Q4,1,0,"app-card",4)(5,Y4,1,0,"app-curriculum",3),O(),k(6,"div",5)(7,"button",6),_e("click",function(){return r.previous()}),K(8,"img",7),O(),k(9,"div",8),U(10),O(),k(11,"button",9),_e("click",function(){return r.downloadCV()}),K(12,"img",10),O(),k(13,"button",6),_e("click",function(){return r.next()}),K(14,"img",11),O()()()()),t&2&&(j(3),W("ngIf",r.content==="personal-info"),j(),W("ngIf",r.content==="card"),j(),W("ngIf",r.content==="curriculum"),j(5),kt(r.title),j(),Ne("disabled",r.content==="personal-info"),W("disabled",r.content==="personal-info"))},dependencies:[ze,cr,xf,kf,Of],styles:[".about-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;padding:4vmin 0;box-sizing:border-box;border-radius:12px}.content-container[_ngcontent-%COMP%]{border-radius:12px;background:var(--color-subpanel-child-dark);padding:20px}.title[_ngcontent-%COMP%]{font-size:2rem}.content[_ngcontent-%COMP%]{width:95vmin;height:50vmin}.buttons[_ngcontent-%COMP%]{display:flex;width:95vmin;align-items:center;background:var(--color-subpanel-dark);border-radius:9px;margin-top:18px}.buttons[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:2rem;pointer-events:none}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:60px;height:60px;padding:0;background:transparent;border:none;cursor:pointer}.buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.download-btn.disabled[_ngcontent-%COMP%]{opacity:.35;filter:grayscale(1);cursor:default}.download-btn[_ngcontent-%COMP%]:disabled{pointer-events:none}"]})};function J4(n,e){n&1&&K(0,"div")}function Z4(n,e){n&1&&K(0,"app-experience-panel")}function X4(n,e){n&1&&K(0,"app-about-panel")}var Lf=class n{visible=!1;activeTab=void 0;close=new Ve;pathImg="";onClose(){this.close.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-left-panel"]],inputs:{visible:"visible",activeTab:"activeTab",pathImg:"pathImg"},outputs:{close:"close"},decls:8,vars:9,consts:[[1,"tab-panel"],[1,"tab-panel-inner"],[1,"close-btn",3,"click"],[4,"ngIf"],[1,"tab-image"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1)(2,"button",2),_e("click",function(){return r.onClose()}),U(3,"\u2715"),O(),pn(4,J4,1,0,"div",3)(5,Z4,1,0,"app-experience-panel",3)(6,X4,1,0,"app-about-panel",3),O()(),K(7,"div",4)),t&2&&(Ne("is-visible",r.visible),j(4),W("ngIf",r.activeTab==="about"),j(),W("ngIf",r.activeTab==="experience"),j(),W("ngIf",r.activeTab==="about"),j(),xi("background-image","url("+r.pathImg+")"),Ne("is-visible",r.visible))},dependencies:[ze,cr,Pf,Ff],styles:[".tab-panel[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:var(--panel-width);background:var(--color-panel-dark);color:#f5f5f5;box-shadow:8px 0 30px #00000073;transform:translate(-100%);transition:transform 1s ease;z-index:5;display:flex;align-items:center}.tab-image[_ngcontent-%COMP%]{visibility:hidden;position:fixed;top:0;right:0;left:auto;height:100vh;width:var(--image-width);color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(-500%);transition:transform 1s ease;z-index:5;display:flex;align-items:center;background-size:170% 100%;background-position:center;background-repeat:no-repeat;z-index:0}.tab-image.is-visible[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.tab-panel.is-visible[_ngcontent-%COMP%]{transform:translate(0)}.tab-panel-inner[_ngcontent-%COMP%]{padding:3rem;width:100%;height:100%;box-sizing:border-box;align-content:center}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;border:none;background:transparent;color:#f5f5f5;font-size:1.8rem;cursor:pointer}.tab-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.4rem;margin-bottom:1.5rem;letter-spacing:.08em;text-transform:uppercase}.tab-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.6;max-width:32rem}"]})};function ez(n,e){if(n&1){let t=Ur();k(0,"div",1),_e("click",function(){let i=ir(t).index,o=Br();return or(o.toggleExpand(i))}),k(1,"div",2)(2,"h2"),U(3),O(),k(4,"h4"),U(5),O(),k(6,"h5"),U(7),O(),k(8,"p"),U(9),O()(),k(10,"div",3)(11,"p"),U(12),O()()()}if(n&2){let t,r=e.$implicit,i=e.index,o=Br();Ne("expanded",o.expandedIndex()===i),j(3),kt(r.nombre),j(2),kt(r.entity),j(2),Wm("",r.start," ",r.end,""),j(2),kt(r.description),j(3),kt(o.contentStudies()[(t=o.expandedIndex())!==null&&t!==void 0?t:0].content)}}var Vf=class n{fireBaseService=x(qs);studiesSignal=Dn([]);contentStudies=Dn([]);dataSubscription;expandedIndex=Dn(null);toggleExpand(e){this.expandedIndex.set(this.expandedIndex()===e?null:e)}ngOnInit(){this.setDocumentData(),this.setContentData()}ngOnDestroy(){this.dataSubscription?.unsubscribe()}setDocumentData(){this.dataSubscription=this.fireBaseService.getDocument("ESTUDIOS/JsQdBul7oM8HeoebALwJ").subscribe({next:e=>{console.log("VALUE: ",e?.LISTA_DE_ESTUDIOS),this.studiesSignal.set(e?.LISTA_DE_ESTUDIOS??[])},error:e=>{console.error("Error en get document")}})}setContentData(){this.contentStudies.set([{id:1,content:"Actualmente curso el Grado en Ingenier\xEDa Inform\xE1tica en la UNED, enfocado al an\xE1lisis, dise\xF1o y desarrollo de sistemas software.         La formaci\xF3n cubre programaci\xF3n, bases de datos, ingenier\xEDa del software, sistemas y redes,         reforzando una base t\xE9cnica s\xF3lida y una visi\xF3n global del desarrollo."},{id:2,content:"Curso intensivo de desarrollo web Back-End orientado a la creaci\xF3n de APIs REST, arquitectura de aplicaciones y buenas pr\xE1cticas.         Incluye trabajo con bases de datos, control de versiones y enfoque en calidad del c\xF3digo, seguridad y escalabilidad."},{id:3,content:"Grado Superior en desarrollo de aplicaciones multiplataforma, tanto m\xF3viles como de escritorio.         Formaci\xF3n en programaci\xF3n orientada a objetos, Java, bases de datos, servicios web y desarrollo de proyectos completos."}])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-studies-panel"]],decls:1,vars:1,consts:[["class","study-card",3,"expanded","click",4,"ngFor","ngForOf"],[1,"study-card",3,"click"],[1,"text","text-primary"],[1,"text","text-secondary"]],template:function(t,r){t&1&&pn(0,ez,13,8,"div",0),t&2&&W("ngForOf",r.studiesSignal())},dependencies:[ze,ud],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:100%;height:100%}.study-card[_ngcontent-%COMP%]{position:relative;flex:1 1 0;background:var(--color-subpanel-child-dark);border-radius:8px;overflow:hidden;cursor:pointer;box-shadow:0 0 0 1px #ffffff0f,0 6px 14px #00000040;transition:box-shadow .35s ease}.study-card[_ngcontent-%COMP%]:not(.expanded):hover{background:#2f2f9179;box-shadow:0 0 0 2px #2239b9,0 0 34px #1d08bdd2}.text[_ngcontent-%COMP%]{position:absolute;inset:0;padding:1rem;box-sizing:border-box;transition:transform .35s ease,opacity .35s ease;overflow-y:hidden}.text-secondary[_ngcontent-%COMP%]{transform:translate(100%);opacity:0;border-radius:8px}.study-card.expanded[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{transform:translate(-100%);opacity:0}.study-card.expanded[_ngcontent-%COMP%]   .text-secondary[_ngcontent-%COMP%]{transform:translate(0);opacity:1}.study-card.expanded[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #2239b9,0 0 17px #1d08bdd2;background:#2f2f9179}"]})};var tz=new $(""),nz=new $("");function aN(n){return n!=null}function cN(n){return Pi(n)?xe(n):n}function uN(n){let e={};return n.forEach(t=>{e=t!=null?L(L({},e),t):e}),Object.keys(e).length===0?null:e}function lN(n,e){return e.map(t=>t(n))}function rz(n){return!n.validate}function dN(n){return n.map(e=>rz(e)?e:t=>e.validate(t))}function iz(n){if(!n)return null;let e=n.filter(aN);return e.length==0?null:function(t){return uN(lN(t,e))}}function hN(n){return n!=null?iz(dN(n)):null}function oz(n){if(!n)return null;let e=n.filter(aN);return e.length==0?null:function(t){let r=lN(t,e).map(cN);return og(r).pipe(ie(uN))}}function fN(n){return n!=null?oz(dN(n)):null}function XM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pN(n){return n._rawValidators}function gN(n){return n._rawAsyncValidators}function hI(n){return n?Array.isArray(n)?n:[n]:[]}function Bf(n,e){return Array.isArray(n)?n.includes(e):n===e}function eN(n,e){let t=hI(e);return hI(n).forEach(i=>{Bf(t,i)||t.push(i)}),t}function tN(n,e){return hI(e).filter(t=>!Bf(n,t))}var fI=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Xc=class extends fI{name;get formDirective(){return null}get path(){return null}};var pI=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},sz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Kne=ce(L({},sz),{"[class.ng-submitted]":"isSubmitted"});var mN=(()=>{class n extends pI{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(et(Xc,10))};static \u0275dir=Sn({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ne("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[nd]})}return n})();var Qc="VALID",jf="INVALID",Gs="PENDING",Yc="DISABLED",di=class{},$f=class extends di{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Jc=class extends di{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Zc=class extends di{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ws=class extends di{status;source;constructor(e,t){super(),this.status=e,this.source=t}},gI=class extends di{source;constructor(e){super(),this.source=e}},mI=class extends di{source;constructor(e){super(),this.source=e}};function _I(n){return(Gf(n)?n.validators:n)||null}function az(n){return Array.isArray(n)?hN(n):n||null}function EI(n,e){return(Gf(e)?e.asyncValidators:n)||null}function cz(n){return Array.isArray(n)?fN(n):n||null}function Gf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function yN(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[t])throw new H(1001,"")}function vN(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new H(1002,"")})}var Ks=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return An(this.statusReactive)}set status(e){An(()=>this.statusReactive.set(e))}_status=Zo(()=>this.statusReactive());statusReactive=Dn(void 0);get valid(){return this.status===Qc}get invalid(){return this.status===jf}get pending(){return this.status==Gs}get disabled(){return this.status===Yc}get enabled(){return this.status!==Yc}errors;get pristine(){return An(this.pristineReactive)}set pristine(e){An(()=>this.pristineReactive.set(e))}_pristine=Zo(()=>this.pristineReactive());pristineReactive=Dn(!0);get dirty(){return!this.pristine}get touched(){return An(this.touchedReactive)}set touched(e){An(()=>this.touchedReactive.set(e))}_touched=Zo(()=>this.touchedReactive());touchedReactive=Dn(!1);get untouched(){return!this.touched}_events=new Je;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(eN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(eN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tN(e,this._rawAsyncValidators))}hasValidator(e){return Bf(this._rawValidators,e)}hasAsyncValidator(e){return Bf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Zc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Zc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(L({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Jc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Jc(!0,r))}markAsPending(e={}){this.status=Gs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ws(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(L({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yc,this.errors=null,this._forEachChild(i=>{i.disable(ce(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $f(this.value,r)),this._events.next(new Ws(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Qc,this._forEachChild(r=>{r.enable(ce(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(L({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qc||this.status===Gs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $f(this.value,t)),this._events.next(new Ws(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(L({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yc:Qc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Gs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=cN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ws(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?Yc:this.errors?jf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gs)?Gs:this._anyControlsHaveStatus(jf)?jf:Qc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Jc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Zc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=az(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=cz(this._rawAsyncValidators)}},Hf=class extends Ks{constructor(e,t,r){super(_I(t),EI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){vN(this,!0,e),Object.keys(e).forEach(r=>{yN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var yI=class extends Hf{};var _N=new $("",{providedIn:"root",factory:()=>II}),II="always";function nN(n,e,t=II){wI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),lz(n,e),hz(n,e),dz(n,e),uz(n,e)}function rN(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function uz(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function wI(n,e){let t=pN(n);e.validator!==null?n.setValidators(XM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=gN(n);e.asyncValidator!==null?n.setAsyncValidators(XM(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();zf(e._rawValidators,i),zf(e._rawAsyncValidators,i)}function qf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=pN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=gN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return zf(e._rawValidators,r),zf(e._rawAsyncValidators,r),t}function lz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&EN(n,e)})}function dz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&EN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function EN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hz(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function fz(n,e){n==null,wI(n,e)}function pz(n,e){return qf(n,e)}function gz(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function mz(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function iN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function oN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Uf=class extends Ks{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(_I(t),EI(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(oN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){oN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var yz=n=>n instanceof Uf;var IN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Sn({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var vz=new $("");var _z={provide:Xc,useExisting:xl(()=>bI)},bI=(()=>{class n extends Xc{callSetDisabledState;get submitted(){return An(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Zo(()=>this._submittedReactive());_submittedReactive=Dn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ve;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return nN(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){rN(t.control||null,t,!1),mz(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),gz(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new gI(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new mI(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(rN(r||null,t),yz(i)&&(nN(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);fz(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&pz(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wI(this.form,this),this._oldForm&&qf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(et(tz,10),et(nz,10),et(_N,8))};static \u0275dir=Sn({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&_e("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[fD([_z]),nd,ka]})}return n})();var Ez=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=jr({type:n});static \u0275inj=Lr({})}return n})(),vI=class extends Ks{constructor(e,t,r){super(_I(t),EI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){vN(this,!1,e),e.forEach((r,i)=>{yN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function sN(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var wN=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return sN(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Hf(i,o)}record(t,r=null){let i=this._reduceControls(t);return new yI(i,r)}control(t,r,i){let o={};return this.useNonNullable?(sN(r)?o=r:(o.validators=r,o.asyncValidators=i),new Uf(t,ce(L({},o),{nonNullable:!0}))):new Uf(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new vI(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Uf)return t;if(t instanceof Ks)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vz,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:_N,useValue:t.callSetDisabledState??II}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=jr({type:n});static \u0275inj=Lr({imports:[Ez]})}return n})();var Wf=class n{constructor(e,t){this.fb=e;this.httpClient=t;this.emailForm=this.fb.group({name:[""],email:[""],message:[""]})}emailForm;sendEmail(e,t,r){let i="https://formspree.io/f/xlgdraer",o={headers:new Rn({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"})},s=`name=${e}&email=${t}&message=${r}`;this.httpClient.post(i,s,o).subscribe({next:a=>console.log("Email enviado",a),error:a=>console.error("Error",a)})}static \u0275fac=function(t){return new(t||n)(et(wN),et(wd))};static \u0275cmp=De({type:n,selectors:[["app-contact"]],decls:19,vars:1,consts:[["name",""],["email",""],["message",""],[1,"contact-container"],[1,"contact-form",3,"formGroup"],[1,"form-group"],["type","text","placeholder","Entidad"],["type","email","placeholder","tu-entidad@email.com"],["rows","6","placeholder","Escribe tu mensaje aqu\xED..."],["type","button",1,"submit-btn",3,"click"]],template:function(t,r){if(t&1){let i=Ur();k(0,"div",3)(1,"form",4)(2,"div",5)(3,"label"),U(4,"Nombre"),O(),K(5,"input",6,0),O(),k(7,"div",5)(8,"label"),U(9,"Email"),O(),K(10,"input",7,1),O(),k(12,"div",5)(13,"label"),U(14,"Mensaje"),O(),K(15,"textarea",8,2),O(),k(17,"button",9),_e("click",function(){ir(i);let s=rd(6),a=rd(11),u=rd(16);return or(r.sendEmail(s.value,a.value,u.value))}),U(18," Enviar mensaje "),O()()()}t&2&&(j(),W("formGroup",r.emailForm))},dependencies:[bN,IN,mN,bI],styles:[".contact-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;font-family:var(--font-body)}.contact-form[_ngcontent-%COMP%]{width:70%;height:90%;background:#fffffff2;border-radius:20px;padding:32px;display:flex;flex-direction:column;gap:20px;box-shadow:0 20px 40px #00000026}.contact-form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}label[_ngcontent-%COMP%]{font-size:.9rem;color:#444}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:12px 14px;border-radius:10px;border:1px solid #ccc;font-size:1rem;font-family:inherit;transition:all .2s ease}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 2px #3b82f633}textarea[_ngcontent-%COMP%]{resize:none;height:30vmin}.submit-btn[_ngcontent-%COMP%]{margin-top:auto;padding:14px;border-radius:12px;border:none;background:#3b82f6;color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s ease,transform .15s ease}.submit-btn[_ngcontent-%COMP%]:hover{background:#2563eb;transform:translateY(-2px)}.submit-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}"]})};function wz(n,e){n&1&&K(0,"app-studies-panel",6)}function bz(n,e){n&1&&K(0,"app-contact")}var Kf=class n{visible=!1;title="default-text";contents="default-text";activeTab=void 0;close=new Ve;pathImg="";onClose(){this.close.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-right-panel"]],inputs:{visible:"visible",title:"title",contents:"contents",activeTab:"activeTab",pathImg:"pathImg"},outputs:{close:"close"},decls:7,vars:8,consts:[[1,"tab-panel"],[1,"tab-panel-inner"],[1,"close-btn",3,"click"],["class","studies-wrapper",4,"ngIf"],[4,"ngIf"],[1,"tab-image"],[1,"studies-wrapper"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1)(2,"button",2),_e("click",function(){return r.onClose()}),U(3,"\u2715"),O(),pn(4,wz,1,0,"app-studies-panel",3)(5,bz,1,0,"app-contact",4),O()(),K(6,"div",5)),t&2&&(Ne("is-visible",r.visible),j(4),W("ngIf",r.activeTab==="studies"),j(),W("ngIf",r.activeTab==="contact"),j(),xi("background-image","url("+r.pathImg+")"),Ne("is-visible",r.visible))},dependencies:[ze,cr,Vf,Wf],styles:[".tab-panel[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:auto;height:100vh;width:var(--panel-width);background:var(--color-panel-dark);color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(100%);transition:transform 1s ease;z-index:5;display:flex;flex-direction:column;align-items:stretch}.tab-image[_ngcontent-%COMP%]{visibility:hidden;position:fixed;top:0;left:0;right:auto;height:100vh;width:var(--image-width);color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(500%);transition:transform 1s ease;z-index:5;display:flex;align-items:center;background-size:170% 100%;background-position:center;background-repeat:no-repeat;z-index:0}.tab-image.is-visible[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.tab-panel.is-visible[_ngcontent-%COMP%]{transform:translate(0)}.tab-panel-inner[_ngcontent-%COMP%]{padding:3rem;width:100%;box-sizing:border-box;height:100%}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;border:none;background:transparent;color:#f5f5f5;font-size:1.8rem;cursor:pointer}.tab-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.4rem;margin-bottom:1.5rem;letter-spacing:.08em;text-transform:uppercase}.tab-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.6;max-width:32rem}.studies-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--color-subpanel-dark);padding:1.5rem;border-radius:12px;box-sizing:border-box;display:flex;flex-direction:column;min-height:min-content;overflow:hidden}"]})};var Qf=class n{activeTab=null;focusedTab=null;clockText="Comencemos";angle=0;duration=26e3;start=0;rafId;lastAngle=0;currentSection="studies";running=!0;sections=[{angle:0,name:"studies"},{angle:90,name:"contact"},{angle:180,name:"experience"},{angle:270,name:"about"}];get visibleSection(){return this.activeTab??this.currentSection}ngOnInit(){this.start=performance.now(),this.loop()}ngOnDestroy(){cancelAnimationFrame(this.rafId)}loop=()=>{if(!this.running)return;let t=(performance.now()-this.start)%this.duration;this.angle=t/this.duration*360,this.checkMilestones(),this.rafId=requestAnimationFrame(this.loop)};checkMilestones(){for(let e of this.sections)this.checkCross(e);this.lastAngle=this.angle}checkCross(e){let t=e.angle;(this.lastAngle<t&&this.angle>=t||t===0&&this.lastAngle>this.angle)&&this.activateSection(e)}activateSection(e){this.currentSection=e.name,console.log("Section:",e.name)}openTab(e){this.clockText=e.charAt(0).toUpperCase().concat(e.substring(1)),this.activeTab=e,this.stopClock()}closeTab(){this.activeTab=null,this.resumeClock(),this.clockText="Sigamos"}stopClock(){this.running=!1,cancelAnimationFrame(this.rafId)}resumeClock(){this.start=performance.now(),this.lastAngle=this.angle,this.running=!0,this.loop()}focusTab(e){this.focusedTab=e}getImagePath(){switch(this.activeTab){case"about":return"assets/SobreMi.jpg";case"experience":return"assets/Experiencia.jpg";case"studies":return"assets/Estudios.jpg";case"contact":return"assets/Contacto.png";case null:return"";default:return""}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-radial-tabs"]],decls:24,vars:24,consts:[[1,"stage",3,"ngClass"],[1,"cluster"],[1,"clock"],[1,"inner-clock"],[1,"clock-text"],[1,"trail"],[1,"rotator"],[1,"hand"],[1,"item"],[1,"cell","c1",3,"click"],[1,"cell-title"],[1,"cell","c2",3,"click"],[1,"cell","c3",3,"click"],[1,"cell","c4",3,"click"],[3,"close","visible","activeTab","pathImg"]],template:function(t,r){t&1&&(k(0,"div",0)(1,"div",1)(2,"div",2),K(3,"div",3),k(4,"div",4),U(5),O(),K(6,"div",5),k(7,"div",6),K(8,"div",7),O()(),k(9,"div",8)(10,"div",9),_e("click",function(){return r.openTab("about")}),k(11,"span",10),U(12,"ABOUT"),O()(),k(13,"div",11),_e("click",function(){return r.openTab("studies")}),k(14,"span",10),U(15,"STUDIES"),O()(),k(16,"div",12),_e("click",function(){return r.openTab("experience")}),k(17,"span",10),U(18,"EXPERIENCE"),O()(),k(19,"div",13),_e("click",function(){return r.openTab("contact")}),k(20,"span",10),U(21,"CONTACT"),O()()()(),k(22,"app-left-panel",14),_e("close",function(){return r.closeTab()}),O(),k(23,"app-right-panel",14),_e("close",function(){return r.closeTab()}),O()()),t&2&&(W("ngClass",r.currentSection),j(),Ne("shift-left",r.activeTab==="about"||r.activeTab==="experience")("shift-right",r.activeTab==="contact"||r.activeTab==="studies"),j(),xi("--angle",r.angle+"deg"),Ne("hidden",r.activeTab!==null),j(3),kt(r.clockText),j(5),Ne("current-section",r.visibleSection==="about"),j(3),Ne("current-section",r.visibleSection==="studies"),j(3),Ne("current-section",r.visibleSection==="experience"),j(3),Ne("current-section",r.visibleSection==="contact"),j(3),W("visible",r.activeTab==="about"||r.activeTab==="experience")("activeTab",r.activeTab==null?null:r.activeTab.valueOf())("pathImg",r.getImagePath()),j(),W("visible",r.activeTab==="studies"||r.activeTab==="contact")("activeTab",r.activeTab==null?null:r.activeTab.valueOf())("pathImg",r.getImagePath()))},dependencies:[ze,ey,Lf,Kf],styles:['.stage[_ngcontent-%COMP%]{position:fixed;inset:0;display:grid;place-items:center;transition:background .8s ease;background-size:cover;background-position:center}.stage.about[_ngcontent-%COMP%]{background-image:url("./media/SobreMi-5D6ISES6.jpg")}.stage.studies[_ngcontent-%COMP%]{background-image:url("./media/Estudios-FSLODNUG.jpg")}.stage.experience[_ngcontent-%COMP%]{background-image:url("./media/Experiencia-MNYEGCAQ.jpg")}.stage.contact[_ngcontent-%COMP%]{background-image:url("./media/Contacto-CLP3TUUS.png")}.cluster[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;--shift-x: 0px;--shift-y: 0px;--cluster-scale: 1;transform:translate(calc(-50% + var(--shift-x)),calc(-50% + var(--shift-y))) scale(var(--cluster-scale));z-index:10;transition:transform 1.5s cubic-bezier(.22,1,.36,1)}.cluster.shift-right[_ngcontent-%COMP%]{--shift-x: calc(var(--radial-shift-x) * -1);--shift-y: 0px;--cluster-scale: var(--radial-scale)}.cluster.shift-left[_ngcontent-%COMP%]{--shift-x: var(--radial-shift-x);--shift-y: 0px;--cluster-scale: var(--radial-scale)}.item[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:95vmin;height:95vmin;border-radius:60px;background:#2674b8;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;background:transparent;padding:30px;transform:translate(-50%,-50%) scale(.7) translateZ(0);transition:transform .4s ease;will-change:transform}.cluster[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.cell[_ngcontent-%COMP%]{position:relative;font-family:var(--font-title);font-weight:700;background-size:100% 100%;text-align:center;overflow:hidden;cursor:pointer;border-style:solid;border-color:#252525ef}.cell[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#000000a6;transition:background .3s ease;z-index:1}.cell[_ngcontent-%COMP%]:hover:before{background:#0000001a}.cell.current-section[_ngcontent-%COMP%]:before{background:#0000001a}.cell-title[_ngcontent-%COMP%]{position:absolute;z-index:2;left:0;right:0;-webkit-text-stroke:1px black;text-shadow:2px 2px 4px #000000;color:#fff;font-size:7vmin;pointer-events:none}.c3[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%], .c4[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%]{top:auto;bottom:40px;transform:none}.c1[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%], .c2[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%]{top:40px;bottom:auto;transform:none}.c1[_ngcontent-%COMP%]{background-image:url("./media/SobreMi-5D6ISES6.jpg");border-radius:20px 0;border-width:5px 1px 1px 5px}.c2[_ngcontent-%COMP%]{background-image:url("./media/Estudios-FSLODNUG.jpg");border-radius:0 20px;border-width:5px 5px 1px 1px}.c3[_ngcontent-%COMP%]{background-image:url("./media/Experiencia-MNYEGCAQ.jpg");border-radius:0 20px;border-width:1px 1px 5px 5px}.c4[_ngcontent-%COMP%]{background-image:url("./media/Contacto-CLP3TUUS.png");border-radius:20px 0;border-width:1px 5px 5px 1px}.clock[_ngcontent-%COMP%]{z-index:2;position:relative;width:200px;height:200px;border-radius:100px;background:#222;overflow:hidden;justify-items:center}.inner-clock[_ngcontent-%COMP%]{z-index:2;position:relative;width:180px;height:180px;border-radius:100px;background:#494949;overflow:hidden;justify-items:center;transform:translateY(10px)}.clock.hidden[_ngcontent-%COMP%]   .trail[_ngcontent-%COMP%], .clock.hidden[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]{opacity:0}.trail[_ngcontent-%COMP%]{position:absolute;inset:-50%;border-radius:50%;background:conic-gradient(from 0deg,#000,#373737 360deg);transform:rotate(var(--angle))}.clock-text[_ngcontent-%COMP%]{position:absolute;color:#fff;z-index:4;top:38%;text-align:center;font-family:var(--font-title);font-size:25px}.rotator[_ngcontent-%COMP%]{position:absolute;inset:0;transform:rotate(var(--angle))}.hand[_ngcontent-%COMP%]{position:absolute;width:2px;height:150%;background:#fff;left:50%;bottom:50%;transform:translate(-50%)}']})};var Yf={production:!1,firebaseConfig:{apiKey:"AIzaSyBF38aXP_jKP6WBKJp78cZGjGmpwvLt_j8",authDomain:"cv-web-angular.firebaseapp.com",projectId:"cv-web-angular",storageBucket:"cv-web-angular.firebasestorage.app",messagingSenderId:"119785680877",appId:"1:119785680877:web:27a7c5644fddd90876c1e4",measurementId:"G-0QL3DQG5NC"}};var Jf=class n{environment=Yf;fireBaseService=x(qs);personalData=this.fireBaseService.getPersonalData();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(t,r){t&1&&(k(0,"div"),K(1,"app-radial-tabs"),O())},dependencies:[ze,Qf],encapsulation:2})};var Zf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=De({type:n,selectors:[["app-notfound"]],decls:2,vars:0,template:function(t,r){t&1&&(k(0,"p"),U(1,"notfound works!"),O())},encapsulation:2})};var TN=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Jf},{path:"**",component:Zf}];var SN="@firebase/installations",SI="0.6.18";var AN=1e4,RN=`w:${SI}`,MN="FIS_v2",Tz="https://firebaseinstallations.googleapis.com/v1",Dz=60*60*1e3,Cz="installations",Sz="Installations";var Az={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},uo=new At(Cz,Sz,Az);function NN(n){return n instanceof ft&&n.code.includes("request-failed")}function PN({projectId:n}){return`${Tz}/projects/${n}/installations`}function xN(n){return{token:n.token,requestStatus:2,expiresIn:Mz(n.expiresIn),creationTime:Date.now()}}function kN(n,e){return v(this,null,function*(){let r=(yield e.json()).error;return uo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function ON({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Rz(n,{refreshToken:e}){let t=ON(n);return t.append("Authorization",Nz(e)),t}function FN(n){return v(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function Mz(n){return Number(n.replace("s","000"))}function Nz(n){return`${MN} ${n}`}function Pz(r,i){return v(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=PN(n),s=ON(n),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={fid:t,authVersion:MN,appId:n.appId,sdkVersion:RN},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield FN(()=>fetch(o,l));if(h.ok){let p=yield h.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:xN(p.authToken)}}else throw yield kN("Create Installation",h)})}function LN(n){return new Promise(e=>{setTimeout(e,n)})}function xz(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var kz=/^[cdef][\w-]{21}$/,CI="";function Oz(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=Fz(n);return kz.test(t)?t:CI}catch{return CI}}function Fz(n){return xz(n).substr(0,22)}function ep(n){return`${n.appName}!${n.appId}`}var VN=new Map;function jN(n,e){let t=ep(n);UN(t,e),Lz(t,e)}function UN(n,e){let t=VN.get(n);if(t)for(let r of t)r(e)}function Lz(n,e){let t=Vz();t&&t.postMessage({key:n,fid:e}),jz()}var co=null;function Vz(){return!co&&"BroadcastChannel"in self&&(co=new BroadcastChannel("[Firebase] FID Change"),co.onmessage=n=>{UN(n.data.key,n.data.fid)}),co}function jz(){VN.size===0&&co&&(co.close(),co=null)}var Uz="firebase-installations-database",Bz=1,lo="firebase-installations-store",TI=null;function AI(){return TI||(TI=ch(Uz,Bz,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(lo)}}})),TI}function Xf(n,e){return v(this,null,function*(){let t=ep(n),i=(yield AI()).transaction(lo,"readwrite"),o=i.objectStore(lo),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&jN(n,e.fid),e})}function BN(n){return v(this,null,function*(){let e=ep(n),r=(yield AI()).transaction(lo,"readwrite");yield r.objectStore(lo).delete(e),yield r.done})}function tp(n,e){return v(this,null,function*(){let t=ep(n),i=(yield AI()).transaction(lo,"readwrite"),o=i.objectStore(lo),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&jN(n,a.fid),a})}function RI(n){return v(this,null,function*(){let e,t=yield tp(n.appConfig,r=>{let i=$z(r),o=Hz(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===CI?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function $z(n){let e=n||{fid:Oz(),registrationStatus:0};return $N(e)}function Hz(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(uo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=zz(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:qz(n)}:{installationEntry:e}}function zz(n,e){return v(this,null,function*(){try{let t=yield Pz(n,e);return Xf(n.appConfig,t)}catch(t){throw NN(t)&&t.customData.serverCode===409?yield BN(n.appConfig):yield Xf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function qz(n){return v(this,null,function*(){let e=yield DN(n.appConfig);for(;e.registrationStatus===1;)yield LN(100),e=yield DN(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield RI(n);return r||t}return e})}function DN(n){return tp(n,e=>{if(!e)throw uo.create("installation-not-found");return $N(e)})}function $N(n){return Gz(n)?{fid:n.fid,registrationStatus:0}:n}function Gz(n){return n.registrationStatus===1&&n.registrationTime+AN<Date.now()}function Wz(r,i){return v(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=Kz(n,t),s=Rz(n,t),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={installation:{sdkVersion:RN,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield FN(()=>fetch(o,l));if(h.ok){let p=yield h.json();return xN(p)}else throw yield kN("Generate Auth Token",h)})}function Kz(n,{fid:e}){return`${PN(n)}/${e}/authTokens:generate`}function MI(n,e=!1){return v(this,null,function*(){let t,r=yield tp(n.appConfig,o=>{if(!HN(o))throw uo.create("not-registered");let s=o.authToken;if(!e&&Jz(s))return o;if(s.requestStatus===1)return t=Qz(n,e),o;{if(!navigator.onLine)throw uo.create("app-offline");let a=Xz(o);return t=Yz(n,a),a}});return t?yield t:r.authToken})}function Qz(n,e){return v(this,null,function*(){let t=yield CN(n.appConfig);for(;t.authToken.requestStatus===1;)yield LN(100),t=yield CN(n.appConfig);let r=t.authToken;return r.requestStatus===0?MI(n,e):r})}function CN(n){return tp(n,e=>{if(!HN(e))throw uo.create("not-registered");let t=e.authToken;return eq(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Yz(n,e){return v(this,null,function*(){try{let t=yield Wz(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Xf(n.appConfig,r),t}catch(t){if(NN(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield BN(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Xf(n.appConfig,r)}throw t}})}function HN(n){return n!==void 0&&n.registrationStatus===2}function Jz(n){return n.requestStatus===2&&!Zz(n)}function Zz(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Dz}function Xz(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function eq(n){return n.requestStatus===1&&n.requestTime+AN<Date.now()}function tq(n){return v(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield RI(e);return r?r.catch(console.error):MI(e).catch(console.error),t.fid})}function nq(n,e=!1){return v(this,null,function*(){let t=n;return yield rq(t),(yield MI(t,e)).token})}function rq(n){return v(this,null,function*(){let{registrationPromise:e}=yield RI(n);e&&(yield e)})}function iq(n){if(!n||!n.options)throw DI("App Configuration");if(!n.name)throw DI("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw DI(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function DI(n){return uo.create("missing-app-config-values",{valueName:n})}var zN="installations",oq="installations-internal",sq=n=>{let e=n.getProvider("app").getImmediate(),t=iq(e),r=nn(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},aq=n=>{let e=n.getProvider("app").getImmediate(),t=nn(e,zN).getImmediate();return{getId:()=>tq(t),getToken:i=>nq(t,i)}};function cq(){pt(new Be(zN,sq,"PUBLIC")),pt(new Be(oq,aq,"PRIVATE"))}cq();Ce(SN,SI);Ce(SN,SI,"esm2017");var np="analytics",uq="firebase_id",lq="origin",dq=60*1e3,hq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",LI="https://www.googletagmanager.com/gtag/js";var Lt=new tn("@firebase/analytics");var fq={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Wt=new At("analytics","Analytics",fq);function pq(n){if(!n.startsWith(LI)){let e=Wt.create("invalid-gtag-resource",{gtagURL:n});return Lt.warn(e.message),""}return n}function JN(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function gq(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function mq(n,e){let t=gq("firebase-js-sdk-policy",{createScriptURL:pq}),r=document.createElement("script"),i=`${LI}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function yq(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}function vq(n,e,t,r,i,o){return v(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let u=(yield JN(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Lt.error(a)}n("config",i,o)})}function _q(n,e,t,r,i){return v(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield JN(t);for(let u of s){let l=a.find(p=>p.measurementId===u),h=l&&e[l.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){Lt.error(o)}})}function Eq(n,e,t,r){function i(o,...s){return v(this,null,function*(){try{if(o==="event"){let[a,u]=s;yield _q(n,e,t,a,u)}else if(o==="config"){let[a,u]=s;yield vq(n,e,t,r,a,u)}else if(o==="consent"){let[a,u]=s;n("consent",a,u)}else if(o==="get"){let[a,u,l]=s;n("get",a,u,l)}else if(o==="set"){let[a]=s;n("set",a)}else n(o,...s)}catch(a){Lt.error(a)}})}return i}function Iq(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=Eq(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function wq(n){let e=window.document.getElementsByTagName("script");for(let t of Object.values(e))if(t.src&&t.src.includes(LI)&&t.src.includes(n))return t;return null}var bq=30,Tq=1e3,PI=class{constructor(e={},t=Tq){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},ZN=new PI;function Dq(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Cq(n){return v(this,null,function*(){var e;let{appId:t,apiKey:r}=n,i={method:"GET",headers:Dq(r)},o=hq.replace("{app-id}",t),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let u=yield s.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw Wt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function Sq(r){return v(this,arguments,function*(n,e=ZN,t){let{appId:i,apiKey:o,measurementId:s}=n.options;if(!i)throw Wt.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw Wt.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new xI;return setTimeout(()=>v(null,null,function*(){u.abort()}),t!==void 0?t:dq),XN({appId:i,apiKey:o,measurementId:s},a,u,e)})}function XN(o,s,a){return v(this,arguments,function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=ZN){var u;let{appId:l,measurementId:h}=n;try{yield Aq(r,e)}catch(p){if(h)return Lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:h};throw p}try{let p=yield Cq(n);return i.deleteThrottleMetadata(l),p}catch(p){let m=p;if(!Rq(m)){if(i.deleteThrottleMetadata(l),h)return Lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:h};throw p}let y=Number((u=m?.customData)===null||u===void 0?void 0:u.httpStatus)===503?oh(t,i.intervalMillis,bq):oh(t,i.intervalMillis),T={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return i.setThrottleMetadata(l,T),Lt.debug(`Calling attemptFetch again in ${y} millis`),XN(n,T,r,i)}})}function Aq(n,e){return new Promise((t,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Wt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Rq(n){if(!(n instanceof ft)||!n.customData)return!1;let e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var xI=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var kI;function Mq(n,e,t,r,i){return v(this,null,function*(){if(i&&i.global){n("event",t,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});n("event",t,s)}})}var OI;function Nq(n){OI=n}function Pq(n){kI=n}function xq(){return v(this,null,function*(){if($i())try{yield ih()}catch(n){return Lt.warn(Wt.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Lt.warn(Wt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function kq(n,e,t,r,i,o,s){return v(this,null,function*(){var a;let u=Sq(n);u.then(y=>{t[y.measurementId]=y.appId,n.options.measurementId&&y.measurementId!==n.options.measurementId&&Lt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Lt.error(y)),e.push(u);let l=xq().then(y=>{if(y)return r.getId()}),[h,p]=yield Promise.all([u,l]);wq(o)||mq(o,h.measurementId),OI&&(i("consent","default",OI),Nq(void 0)),i("js",new Date);let m=(a=s?.config)!==null&&a!==void 0?a:{};return m[lq]="firebase",m.update=!0,p!=null&&(m[uq]=p),i("config",h.measurementId,m),kI&&(i("set",kI),Pq(void 0)),h.measurementId})}var FI=class{constructor(e){this.app=e}_delete(){return delete eu[this.app.options.appId],Promise.resolve()}},eu={},qN=[],GN={},NI="dataLayer",Oq="gtag",WN,eP,KN=!1;function Fq(){let n=[];if(rh()&&n.push("This is a browser extension environment."),eS()||n.push("Cookies are not available."),n.length>0){let e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Wt.create("invalid-analytics-context",{errorInfo:e});Lt.warn(t.message)}}function Lq(n,e,t){Fq();let r=n.options.appId;if(!r)throw Wt.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Wt.create("no-api-key");if(eu[r]!=null)throw Wt.create("already-exists",{id:r});if(!KN){yq(NI);let{wrappedGtag:o,gtagCore:s}=Iq(eu,qN,GN,NI,Oq);eP=o,WN=s,KN=!0}return eu[r]=kq(n,qN,GN,e,WN,NI,t),new FI(n)}function tP(n=kn()){n=qe(n);let e=nn(n,np);return e.isInitialized()?e.getImmediate():nP(n)}function nP(n,e={}){let t=nn(n,np);if(t.isInitialized()){let i=t.getImmediate();if(en(e,t.getOptions()))return i;throw Wt.create("already-initialized")}return t.initialize({options:e})}function rP(n,e,t,r){n=qe(n),Mq(eP,eu[n.app.options.appId],e,t,r).catch(i=>Lt.error(i))}var QN="@firebase/analytics",YN="0.10.17";function Vq(){pt(new Be(np,(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Lq(r,i,t)},"PUBLIC")),pt(new Be("analytics-internal",n,"PRIVATE")),Ce(QN,YN),Ce(QN,YN,"esm2017");function n(e){try{let t=e.getProvider(np).getImmediate();return{logEvent:(r,i,o)=>rP(t,r,i,o)}}catch(t){throw Wt.create("interop-component-reg-failed",{reason:t})}}}Vq();var tu=class{constructor(e){return e}},iP="analytics",VI=class{constructor(){return Qr(iP)}};var oP=Ft(tP,!0);var oie=Math.floor(Math.random()*(2**32-1))-2**31;var jI=new $("angularfire2.analytics-instances");function jq(n,e,t){if(!dd(t))return null;let r=qi(iP,n,e);return r&&new tu(r)}function Uq(n){return(e,t,r)=>{if(!dd(r))return null;let i=e.runOutsideAngular(()=>n(t));return new tu(i)}}var Bq={provide:VI,deps:[[new It,jI]]},$q={provide:tu,useFactory:jq,deps:[[new It,jI],mn,Cn]};function sP(n,...e){return Ce("angularfire",On.full,"analytics"),Bt([$q,Bq,{provide:jI,useFactory:Uq(n),multi:!0,deps:[be,Xe,Cn,Fn,fr,...e]}])}cy(Jd,{providers:[Oy(TN),yD({eventCoalescing:!0}),vS(()=>_S(Yf.firebaseConfig)),KM(()=>YM()),vA(()=>_A()),sP(()=>oP()),dy()]}).catch(n=>console.error(n));
