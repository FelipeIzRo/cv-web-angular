var LN=Object.defineProperty,VN=Object.defineProperties;var jN=Object.getOwnPropertyDescriptors;var fw=Object.getOwnPropertySymbols,UN=Object.getPrototypeOf,BN=Object.prototype.hasOwnProperty,$N=Object.prototype.propertyIsEnumerable,HN=Reflect.get;var pw=(t,e,n)=>e in t?LN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})BN.call(e,n)&&pw(t,n,e[n]);if(fw)for(var n of fw(e))$N.call(e,n)&&pw(t,n,e[n]);return t},we=(t,e)=>VN(t,jN(e));var yr=(t,e,n)=>HN(UN(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function gw(t,e){return Object.is(t,e)}var $e=null,Hc=!1,Tf=1,dn=Symbol("SIGNAL");function fe(t){let e=$e;return $e=t,e}function bf(){return $e}var zc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qc(t){if(Hc)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(t);let e=$e.nextProducerIndex++;if(Gc($e),e<$e.producerNode.length&&$e.producerNode[e]!==t&&Hs($e)){let n=$e.producerNode[e];Wc(n,$e.producerIndexOfThis[e])}$e.producerNode[e]!==t&&($e.producerNode[e]=t,$e.producerIndexOfThis[e]=Hs($e)?_w(t,$e,e):0),$e.producerLastReadVersion[e]=t.version}function mw(){Tf++}function yw(t){if(!(Hs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Tf)){if(!t.producerMustRecompute(t)&&!Af(t)){Ef(t);return}t.producerRecomputeValue(t),Ef(t)}}function Df(t){if(t.liveConsumerNode===void 0)return;let e=Hc;Hc=!0;try{for(let n of t.liveConsumerNode)n.dirty||zN(n)}finally{Hc=e}}function Cf(){return $e?.consumerAllowSignalWrites!==!1}function zN(t){t.dirty=!0,Df(t),t.consumerMarkedDirty?.(t)}function Ef(t){t.dirty=!1,t.lastCleanEpoch=Tf}function Sf(t){return t&&(t.nextProducerIndex=0),fe(t)}function vw(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Hs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Wc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Af(t){Gc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(yw(n),r!==n.version))return!0}return!1}function Rf(t){if(Gc(t),Hs(t))for(let e=0;e<t.producerNode.length;e++)Wc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _w(t,e,n){if(Iw(t),t.liveConsumerNode.length===0&&ww(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=_w(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Wc(t,e){if(Iw(t),t.liveConsumerNode.length===1&&ww(t))for(let r=0;r<t.producerNode.length;r++)Wc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Gc(i),i.producerIndexOfThis[r]=e}}function Hs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Gc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Iw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ww(t){return t.producerNode!==void 0}function qN(){throw new Error}var Ew=qN;function Tw(t){Ew(t)}function Nf(t){Ew=t}var WN=null;function Mf(t,e){let n=Object.create(Kc);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(qc(n),n.value);return r[dn]=n,r}function zs(t,e){Cf()||Tw(t),t.equal(t.value,e)||(t.value=e,GN(t))}function Pf(t,e){Cf()||Tw(t),zs(t,e(t.value))}var Kc=we(F({},zc),{equal:gw,value:void 0,kind:"signal"});function GN(t){t.version++,mw(),Df(t),WN?.()}var xf;function qs(){return xf}function Un(t){let e=xf;return xf=t,e}var Qc=Symbol("NotFound");function Z(t){return typeof t=="function"}function Ji(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Yc=Ji(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ei(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Me=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof Yc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{bw(o)}catch(s){e=e??[],s instanceof Yc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Yc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)bw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ei(n,e)}remove(e){let{_finalizers:n}=this;n&&ei(n,e),e instanceof t&&e._removeParent(this)}};Me.EMPTY=(()=>{let t=new Me;return t.closed=!0,t})();var kf=Me.EMPTY;function Zc(t){return t instanceof Me||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function bw(t){Z(t)?t():t.unsubscribe()}var Jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xi={setTimeout(t,e,...n){let{delegate:r}=Xi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Xi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Jc(t){Xi.setTimeout(()=>{let{onUnhandledError:e}=Jt;if(e)e(t);else throw t})}function Ws(){}var Dw=Of("C",void 0,void 0);function Cw(t){return Of("E",void 0,t)}function Sw(t){return Of("N",t,void 0)}function Of(t,e,n){return{kind:t,value:e,error:n}}var ti=null;function eo(t){if(Jt.useDeprecatedSynchronousErrorHandling){let e=!ti;if(e&&(ti={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ti;if(ti=null,n)throw r}}else t()}function Aw(t){Jt.useDeprecatedSynchronousErrorHandling&&ti&&(ti.errorThrown=!0,ti.error=t)}var ni=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Zc(e)&&e.add(this)):this.destination=tM}static create(e,n,r){return new to(e,n,r)}next(e){this.isStopped?Lf(Sw(e),this):this._next(e)}error(e){this.isStopped?Lf(Cw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lf(Dw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},XN=Function.prototype.bind;function Ff(t,e){return XN.call(t,e)}var Vf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Xc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Xc(r)}else Xc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Xc(n)}}},to=class extends ni{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Jt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ff(e.next,o),error:e.error&&Ff(e.error,o),complete:e.complete&&Ff(e.complete,o)}):i=e}this.destination=new Vf(i)}};function Xc(t){Jt.useDeprecatedSynchronousErrorHandling?Aw(t):Jc(t)}function eM(t){throw t}function Lf(t,e){let{onStoppedNotification:n}=Jt;n&&Xi.setTimeout(()=>n(t,e))}var tM={closed:!0,next:Ws,error:eM,complete:Ws};var no=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kt(t){return t}function eu(...t){return jf(t)}function jf(t){return t.length===0?kt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=rM(n)?n:new to(n,r,i);return eo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Rw(r),new r((i,o)=>{let s=new to({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[no](){return this}pipe(...n){return jf(n)(this)}toPromise(n){return n=Rw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Rw(t){var e;return(e=t??Jt.Promise)!==null&&e!==void 0?e:Promise}function nM(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function rM(t){return t&&t instanceof ni||nM(t)&&Zc(t)}function Uf(t){return Z(t?.lift)}function le(t){return e=>{if(Uf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function de(t,e,n,r,i){return new Bf(t,e,n,r,i)}var Bf=class extends ni{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ro(){return le((t,e)=>{let n=null;t._refCount++;let r=de(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var io=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Uf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let n=this.getSubject();e.add(this.source.subscribe(de(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return ro()(this)}};var Nw=Ji(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tt=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new tu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Nw}next(n){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?kf:(this.currentObservers=null,o.push(n),new Me(()=>{this.currentObservers=null,ei(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new tu(e,n),t})(),tu=class extends tt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:kf}};var nt=class extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var $f={now(){return($f.delegate||Date).now()},delegate:void 0};var nu=class extends Me{constructor(e,n){super()}schedule(e,n=0){return this}};var Gs={setInterval(t,e,...n){let{delegate:r}=Gs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Gs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var oo=class extends nu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Gs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Gs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ei(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var so=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};so.now=$f.now;var ao=class extends so{constructor(e,n=so.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Hf=new ao(oo);var ru=class extends oo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var iu=class extends ao{};var zf=new iu(ru);var Dt=new se(t=>t.complete());function Mw(t){return t&&Z(t.schedule)}function Pw(t){return t[t.length-1]}function xw(t){return Z(Pw(t))?t.pop():void 0}function vr(t){return Mw(Pw(t))?t.pop():void 0}function qf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ow(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function kw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ri(t){return this instanceof ri?(this.v=t,this):new ri(t)}function Fw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(N){return new Promise(function(R,L){o.push([y,N,R,L])>1||u(y,N)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof ri?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Lw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof kw=="function"?kw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var ou=t=>t&&typeof t.length=="number"&&typeof t!="function";function su(t){return Z(t?.then)}function au(t){return Z(t[no])}function cu(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function uu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function iM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lu=iM();function du(t){return Z(t?.[lu])}function hu(t){return Fw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ri(n.read());if(i)return yield ri(void 0);yield yield ri(r)}}finally{n.releaseLock()}})}function fu(t){return Z(t?.getReader)}function We(t){if(t instanceof se)return t;if(t!=null){if(au(t))return oM(t);if(ou(t))return sM(t);if(su(t))return aM(t);if(cu(t))return Vw(t);if(du(t))return cM(t);if(fu(t))return uM(t)}throw uu(t)}function oM(t){return new se(e=>{let n=t[no]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function sM(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function aM(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Jc)})}function cM(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Vw(t){return new se(e=>{lM(t,e).catch(n=>e.error(n))})}function uM(t){return Vw(hu(t))}function lM(t,e){var n,r,i,o;return Ow(this,void 0,void 0,function*(){try{for(n=Lw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ct(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function _r(t,e=0){return le((n,r)=>{n.subscribe(de(r,i=>Ct(r,t,()=>r.next(i),e),()=>Ct(r,t,()=>r.complete(),e),i=>Ct(r,t,()=>r.error(i),e)))})}function Ir(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function jw(t,e){return We(t).pipe(Ir(e),_r(e))}function Uw(t,e){return We(t).pipe(Ir(e),_r(e))}function Bw(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function $w(t,e){return new se(n=>{let r;return Ct(n,e,()=>{r=t[lu](),Ct(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function pu(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{Ct(n,e,()=>{let r=t[Symbol.asyncIterator]();Ct(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Hw(t,e){return pu(hu(t),e)}function zw(t,e){if(t!=null){if(au(t))return jw(t,e);if(ou(t))return Bw(t,e);if(su(t))return Uw(t,e);if(cu(t))return pu(t,e);if(du(t))return $w(t,e);if(fu(t))return Hw(t,e)}throw uu(t)}function ke(t,e){return e?zw(t,e):We(t)}function K(...t){let e=vr(t);return ke(t,e)}function co(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function Wf(t){return!!t&&(t instanceof se||Z(t.lift)&&Z(t.subscribe))}var Bn=Ji(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(t,e){return le((n,r)=>{let i=0;n.subscribe(de(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:dM}=Array;function hM(t,e){return dM(e)?t(...e):t(e)}function qw(t){return ce(e=>hM(t,e))}var{isArray:fM}=Array,{getPrototypeOf:pM,prototype:gM,keys:mM}=Object;function Ww(t){if(t.length===1){let e=t[0];if(fM(e))return{args:e,keys:null};if(yM(e)){let n=mM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function yM(t){return t&&typeof t=="object"&&pM(t)===gM}function Gw(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function gu(...t){let e=vr(t),n=xw(t),{args:r,keys:i}=Ww(t);if(r.length===0)return ke([],e);let o=new se(vM(r,e,i?s=>Gw(i,s):kt));return n?o.pipe(qw(n)):o}function vM(t,e,n=kt){return r=>{Kw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Kw(e,()=>{let l=ke(t[u],e),h=!1;l.subscribe(de(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Kw(t,e,n){t?Ct(n,t,e):e()}function Qw(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?C(N):u.push(N),C=N=>{o&&e.next(N),l++;let R=!1;We(n(N,h++)).subscribe(de(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let L=u.shift();s?Ct(e,s,()=>C(L)):C(L)}m()}catch(L){e.error(L)}}))};return t.subscribe(de(e,y,()=>{p=!0,m()})),()=>{a?.()}}function He(t,e,n=1/0){return Z(e)?He((r,i)=>ce((o,s)=>e(r,o,i,s))(We(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>Qw(r,i,t,n)))}function Yw(t=1/0){return He(kt,t)}function Zw(){return Yw(1)}function uo(...t){return Zw()(ke(t,vr(t)))}function mu(t){return new se(e=>{We(t()).subscribe(e)})}function Ut(t,e){return le((n,r)=>{let i=0;n.subscribe(de(r,o=>t.call(e,o,i++)&&r.next(o)))})}function wr(t){return le((e,n)=>{let r=null,i=!1,o;r=e.subscribe(de(n,void 0,void 0,s=>{o=We(t(s,wr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Jw(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(de(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function lo(t,e){return Z(e)?He(t,e,1):He(t,1)}function Er(t){return le((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function $n(t){return t<=0?()=>Dt:le((e,n)=>{let r=0;e.subscribe(de(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function yu(t=_M){return le((e,n)=>{let r=!1;e.subscribe(de(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function _M(){return new Bn}function Ks(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Hn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ut((i,o)=>t(i,o,r)):kt,$n(1),n?Er(e):yu(()=>new Bn))}function ho(t){return t<=0?()=>Dt:le((e,n)=>{let r=[];e.subscribe(de(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Gf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ut((i,o)=>t(i,o,r)):kt,ho(1),n?Er(e):yu(()=>new Bn))}function vu(t,e){return le(Jw(t,e,arguments.length>=2,!0))}function _u(...t){let e=vr(t);return le((n,r)=>{(e?uo(t,n,e):uo(t,n)).subscribe(r)})}function Xt(t,e){return le((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(de(r,u=>{i?.unsubscribe();let l=0,h=o++;We(t(u,h)).subscribe(i=de(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Kf(t){return le((e,n)=>{We(t).subscribe(de(n,()=>n.complete(),Ws)),!n.closed&&e.subscribe(n)})}function rt(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(de(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):kt}var IM="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,n){super(EM(e,n)),this.code=e}};function wM(t){return`NG0${Math.abs(t)}`}function EM(t,e){return`${wM(t)}${e?": "+e:""}`}var UE=Symbol("InputSignalNode#UNSET"),TM=we(F({},Kc),{transformFn:void 0,applyValueToInputSignal(t,e){zs(t,e)}});function BE(t,e){let n=Object.create(TM);n.value=t,n.transformFn=e?.transform;function r(){if(qc(n),n.value===UE){let i=null;throw new j(-950,i)}return n.value}return r[dn]=n,r}function ca(t){return{toString:t}.toString()}var Iu="__parameters__";function bM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function $E(t,e,n){return ca(()=>{let r=bM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Iu)?u[Iu]:Object.defineProperty(u,Iu,{value:[]})[Iu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function St(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(St).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Xw(t,e){return t?e?`${t} ${e}`:t:e||""}var DM=be({__forward_ref__:be});function HE(t){return t.__forward_ref__=HE,t.toString=function(){return St(this())},t}function $t(t){return zE(t)?t():t}function zE(t){return typeof t=="function"&&t.hasOwnProperty(DM)&&t.__forward_ref__===HE}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yu(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zu(t){return eE(t,WE)||eE(t,GE)}function qE(t){return Zu(t)!==null}function eE(t,e){return t.hasOwnProperty(e)?t[e]:null}function CM(t){let e=t&&(t[WE]||t[GE]);return e||null}function tE(t){return t&&(t.hasOwnProperty(nE)||t.hasOwnProperty(SM))?t[nE]:null}var WE=be({\u0275prov:be}),nE=be({\u0275inj:be}),GE=be({ngInjectableDef:be}),SM=be({ngInjectorDef:be}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function KE(t){return t&&!!t.\u0275providers}var AM=be({\u0275cmp:be}),RM=be({\u0275dir:be}),NM=be({\u0275pipe:be}),MM=be({\u0275mod:be}),Su=be({\u0275fac:be}),Js=be({__NG_ELEMENT_ID__:be}),rE=be({__NG_ENV_ID__:be});function Au(t){return typeof t=="string"?t:t==null?"":String(t)}function PM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Au(t)}function QE(t,e){throw new j(-200,t)}function Kp(t,e){throw new j(-201,!1)}var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{}),sp;function YE(){return sp}function Bt(t){let e=sp;return sp=t,e}function ZE(t,e,n){let r=Zu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&te.Optional)return null;if(e!==void 0)return e;Kp(t,"Injector")}var xM={},ii=xM,ap="__NG_DI_FLAG__",Ru=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?Qc:ii,r)}},Nu="ngTempTokenPath",kM="ngTokenPath",OM=/\n/gm,FM="\u0275",iE="__source";function LM(t,e=te.Default){if(qs()===void 0)throw new j(-203,!1);if(qs()===null)return ZE(t,void 0,e);{let n=qs(),r;return n instanceof Ru?r=n.injector:r=n,r.get(t,e&te.Optional?null:void 0,e)}}function ne(t,e=te.Default){return(YE()||LM)($t(t),e)}function x(t,e=te.Default){return ne(t,Ju(e))}function Ju(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function cp(t){let e=[];for(let n=0;n<t.length;n++){let r=$t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=te.Default;for(let s=0;s<r.length;s++){let a=r[s],u=VM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ne(i,o))}else e.push(ne(r))}return e}function JE(t,e){return t[ap]=e,t.prototype[ap]=e,t}function VM(t){return t[ap]}function jM(t,e,n,r){let i=t[Nu];throw e[iE]&&i.unshift(e[iE]),t.message=UM(`
`+t.message,i,n,r),t[kM]=i,t[Nu]=null,t}function UM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==FM?t.slice(2):t;let i=St(e);if(Array.isArray(e))i=e.map(St).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):St(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(OM,`
  `)}`}var ft=JE($E("Optional"),8);var BM=JE($E("SkipSelf"),4);function yo(t,e){let n=t.hasOwnProperty(Su);return n?t[Su]:null}function Qp(t,e){t.forEach(n=>Array.isArray(n)?Qp(n,e):e(n))}function XE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Mu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function $M(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function HM(t,e,n){let r=ua(t,e);return r>=0?t[r|1]=n:(r=~r,$M(t,r,e,n)),r}function Qf(t,e){let n=ua(t,e);if(n>=0)return t[n|1]}function ua(t,e){return zM(t,e,1)}function zM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var vo={},tn=[],Xs=new U(""),eT=new U("",-1),tT=new U(""),Pu=class{get(e,n=ii){if(n===ii){let r=new Error(`NullInjectorError: No provider for ${St(e)}!`);throw r.name="NullInjectorError",r}return n}};function nT(t,e){let n=t[MM]||null;if(!n&&e===!0)throw new Error(`Type ${St(t)} does not have '\u0275mod' property.`);return n}function _o(t){return t[AM]||null}function qM(t){return t[RM]||null}function WM(t){return t[NM]||null}function rn(t){return{\u0275providers:t}}function GM(...t){return{\u0275providers:rT(!0,t),\u0275fromNgModule:!0}}function rT(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Qp(e,s=>{let a=s;up(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&iT(i,o),n}function iT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Yp(i,o=>{e(o,r)})}}function up(t,e,n,r){if(t=$t(t),!t)return!1;let i=null,o=tE(t),s=!o&&_o(t);if(!o&&!s){let u=t.ngModule;if(o=tE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)up(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Qp(o.imports,h=>{up(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&iT(l,e)}if(!a){let l=yo(i)||(()=>new i);e({provide:i,useFactory:l,deps:tn},i),e({provide:tT,useValue:i,multi:!0},i),e({provide:Xs,useValue:()=>ne(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Yp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Yp(t,e){for(let n of t)KE(n)&&(n=n.\u0275providers),Array.isArray(n)?Yp(n,e):e(n)}var KM=be({provide:String,useValue:be});function oT(t){return t!==null&&typeof t=="object"&&KM in t}function QM(t){return!!(t&&t.useExisting)}function YM(t){return!!(t&&t.useFactory)}function lp(t){return typeof t=="function"}var Xu=new U(""),Eu={},oE={},Yf;function Zp(){return Yf===void 0&&(Yf=new Pu),Yf}var At=class{},ea=class extends At{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,hp(e,s=>this.processProvider(s)),this.records.set(eT,fo(void 0,this)),i.has("environment")&&this.records.set(At,fo(void 0,this));let o=this.records.get(Xu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tT,tn,te.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?Qc:ii,r)}destroy(){Ys(this),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return Ys(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ys(this);let n=Un(this),r=Bt(void 0),i;try{return e()}finally{Un(n),Bt(r)}}get(e,n=ii,r=te.Default){if(Ys(this),e.hasOwnProperty(rE))return e[rE](this);r=Ju(r);let i,o=Un(this),s=Bt(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=nP(e)&&Zu(e);l&&this.injectableDefInScope(l)?u=fo(dp(e),Eu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&te.Self?Zp():this.parent;return n=r&te.Optional&&n===ii?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Nu]=a[Nu]||[]).unshift(St(e)),o)throw a;return jM(a,e,"R3InjectorError",this.source)}else throw a}finally{Bt(s),Un(o)}}resolveInjectorInitializers(){let e=fe(null),n=Un(this),r=Bt(void 0),i;try{let o=this.get(Xs,tn,te.Self);for(let s of o)s()}finally{Un(n),Bt(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(St(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=$t(e);let n=lp(e)?e:$t(e&&e.provide),r=JM(e);if(!lp(e)&&e.multi===!0){let i=this.records.get(n);i||(i=fo(void 0,Eu,!0),i.factory=()=>cp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=fe(null);try{return n.value===oE?QE(St(e)):n.value===Eu&&(n.value=oE,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&tP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=$t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function dp(t){let e=Zu(t),n=e!==null?e.factory:yo(t);if(n!==null)return n;if(t instanceof U)throw new j(204,!1);if(t instanceof Function)return ZM(t);throw new j(204,!1)}function ZM(t){if(t.length>0)throw new j(204,!1);let n=CM(t);return n!==null?()=>n.factory(t):()=>new t}function JM(t){if(oT(t))return fo(void 0,t.useValue);{let e=XM(t);return fo(e,Eu)}}function XM(t,e,n){let r;if(lp(t)){let i=$t(t);return yo(i)||dp(i)}else if(oT(t))r=()=>$t(t.useValue);else if(YM(t))r=()=>t.useFactory(...cp(t.deps||[]));else if(QM(t))r=(i,o)=>ne($t(t.useExisting),o!==void 0&&o&te.Optional?te.Optional:void 0);else{let i=$t(t&&(t.useClass||t.provide));if(eP(t))r=()=>new i(...cp(t.deps));else return yo(i)||dp(i)}return r}function Ys(t){if(t.destroyed)throw new j(205,!1)}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function eP(t){return!!t.deps}function tP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function nP(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function hp(t,e){for(let n of t)Array.isArray(n)?hp(n,e):n&&KE(n)?hp(n.\u0275providers,e):e(n)}function Tt(t,e){let n;t instanceof ea?(Ys(t),n=t):n=new Ru(t);let r,i=Un(n),o=Bt(void 0);try{return e()}finally{Un(i),Bt(o)}}function sT(){return YE()!==void 0||qs()!=null}function aT(t){if(!sT())throw new j(-203,!1)}function rP(t){return typeof t=="function"}var Wn=0,pe=1,X=2,Et=3,nn=4,on=5,xu=6,ku=7,Rt=8,Io=9,Dr=10,it=11,ta=12,sE=13,Ao=14,fn=15,wo=16,po=17,Eo=18,el=19,cT=20,Tr=21,Zf=22,Ou=23,Ht=24,Jf=25,pn=26,uT=1;var si=7,Fu=8,Lu=9,zt=10;function br(t){return Array.isArray(t)&&typeof t[uT]=="object"}function Gn(t){return Array.isArray(t)&&t[uT]===!0}function Jp(t){return(t.flags&4)!==0}function Ro(t){return t.componentOffset>-1}function tl(t){return(t.flags&1)===1}function di(t){return!!t.template}function Vu(t){return(t[X]&512)!==0}function No(t){return(t[X]&256)===256}var fp=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function lT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Xp=(()=>{let t=()=>dT;return t.ngInherit=!0,t})();function dT(t){return t.type.prototype.ngOnChanges&&(t.setInput=oP),iP}function iP(){let t=fT(this),e=t?.current;if(e){let n=t.previous;if(n===vo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function oP(t,e,n,r,i){let o=this.declaredInputs[r],s=fT(t)||sP(t,{previous:vo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new fp(l&&l.currentValue,n,u===vo),lT(t,e,i,n)}var hT="__ngSimpleChanges__";function fT(t){return t[hT]||null}function sP(t,e){return t[hT]=e}var aE=null;var De=function(t,e=null,n){aE?.(t,e,n)},aP="svg",cP="math";function gn(t){for(;Array.isArray(t);)t=t[Wn];return t}function pT(t,e){return gn(e[t])}function Kn(t,e){return gn(e[t.index])}function gT(t,e){return t.data[e]}function mn(t,e){let n=e[t];return br(n)?n:n[Wn]}function eg(t){return(t[X]&128)===128}function uP(t){return Gn(t[Et])}function To(t,e){return e==null?null:t[e]}function mT(t){t[po]=0}function yT(t){t[X]&1024||(t[X]|=1024,eg(t)&&rl(t))}function lP(t,e){for(;t>0;)e=e[Ao],t--;return e}function nl(t){return!!(t[X]&9216||t[Ht]?.dirty)}function pp(t){t[Dr].changeDetectionScheduler?.notify(8),t[X]&64&&(t[X]|=1024),nl(t)&&rl(t)}function rl(t){t[Dr].changeDetectionScheduler?.notify(0);let e=ai(t);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!eg(e)));)e=ai(e)}function vT(t,e){if(No(t))throw new j(911,!1);t[Tr]===null&&(t[Tr]=[]),t[Tr].push(e)}function dP(t,e){if(t[Tr]===null)return;let n=t[Tr].indexOf(e);n!==-1&&t[Tr].splice(n,1)}function ai(t){let e=t[Et];return Gn(e)?e[Et]:e}function _T(t){return t[ku]??=[]}function IT(t){return t.cleanup??=[]}var ie={lFrame:RT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var gp=!1;function hP(){return ie.lFrame.elementDepthCount}function fP(){ie.lFrame.elementDepthCount++}function pP(){ie.lFrame.elementDepthCount--}function tg(){return ie.bindingsEnabled}function gP(){return ie.skipHydrationRootTNode!==null}function mP(t){return ie.skipHydrationRootTNode===t}function yP(){ie.skipHydrationRootTNode=null}function Pe(){return ie.lFrame.lView}function vn(){return ie.lFrame.tView}function hi(t){return ie.lFrame.contextLView=t,t[Rt]}function fi(t){return ie.lFrame.contextLView=null,t}function sn(){let t=wT();for(;t!==null&&t.type===64;)t=t.parent;return t}function wT(){return ie.lFrame.currentTNode}function vP(){let t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function pi(t,e){let n=ie.lFrame;n.currentTNode=t,n.isParent=e}function ng(){return ie.lFrame.isParent}function ET(){ie.lFrame.isParent=!1}function TT(){return gp}function cE(t){let e=gp;return gp=t,e}function _P(){let t=ie.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function IP(){return ie.lFrame.bindingIndex}function wP(t){return ie.lFrame.bindingIndex=t}function bT(){return ie.lFrame.bindingIndex++}function DT(t){let e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function EP(){return ie.lFrame.inI18n}function TP(t,e){let n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,mp(e)}function bP(){return ie.lFrame.currentDirectiveIndex}function mp(t){ie.lFrame.currentDirectiveIndex=t}function DP(t){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function CT(t){ie.lFrame.currentQueryIndex=t}function CP(t){let e=t[pe];return e.type===2?e.declTNode:e.type===1?t[on]:null}function ST(t,e,n){if(n&te.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&te.Host);)if(i=CP(o),i===null||(o=o[Ao],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ie.lFrame=AT();return r.currentTNode=e,r.lView=t,!0}function rg(t){let e=AT(),n=t[pe];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function AT(){let t=ie.lFrame,e=t===null?null:t.child;return e===null?RT(t):e}function RT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function NT(){let t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var MT=NT;function ig(){let t=NT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function SP(t){return(ie.lFrame.contextLView=lP(t,ie.lFrame.contextLView))[Rt]}function gi(){return ie.lFrame.selectedIndex}function ci(t){ie.lFrame.selectedIndex=t}function AP(){let t=ie.lFrame;return gT(t.tView,t.selectedIndex)}function RP(){return ie.lFrame.currentNamespace}var PT=!0;function il(){return PT}function ol(t){PT=t}function NP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=dT(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function og(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Tu(t,e,n){xT(t,e,3,n)}function bu(t,e,n,r){(t[X]&3)===n&&xT(t,e,n,r)}function Xf(t,e){let n=t[X];(n&3)===e&&(n&=16383,n+=1,t[X]=n)}function xT(t,e,n,r){let i=r!==void 0?t[po]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[po]+=65536),(a<o||o==-1)&&(MP(t,n,e,u),t[po]=(t[po]&4294901760)+u+2),u++}function uE(t,e){De(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),De(5,t,e)}}function MP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[X]>>14<t[po]>>16&&(t[X]&3)===e&&(t[X]+=16384,uE(a,o)):uE(a,o)}var mo=-1,na=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function PP(t){return(t.flags&8)!==0}function xP(t){return(t.flags&16)!==0}function kP(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];FP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function OP(t){return t===3||t===4||t===6}function FP(t){return t.charCodeAt(0)===64}function sl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?lE(t,n,i,null,e[++r]):lE(t,n,i,null,null))}}return t}function lE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function kT(t){return t!==mo}function ju(t){return t&32767}function LP(t){return t>>16}function Uu(t,e){let n=LP(t),r=e;for(;n>0;)r=r[Ao],n--;return r}var yp=!0;function dE(t){let e=yp;return yp=t,e}var VP=256,OT=VP-1,FT=5,jP=0,hn={};function UP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Js)&&(r=n[Js]),r==null&&(r=n[Js]=jP++);let i=r&OT,o=1<<i;e.data[t+(i>>FT)]|=o}function LT(t,e){let n=VT(t,e);if(n!==-1)return n;let r=e[pe];r.firstCreatePass&&(t.injectorIndex=e.length,ep(r.data,t),ep(e,null),ep(r.blueprint,null));let i=sg(t,e),o=t.injectorIndex;if(kT(i)){let s=ju(i),a=Uu(i,e),u=a[pe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function ep(t,e){t.push(0,0,0,0,0,0,0,0,e)}function VT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function sg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=HT(i),r===null)return mo;if(n++,i=i[Ao],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return mo}function BP(t,e,n){UP(t,e,n)}function jT(t,e,n){if(n&te.Optional||t!==void 0)return t;Kp(e,"NodeInjector")}function UT(t,e,n,r){if(n&te.Optional&&r===void 0&&(r=null),(n&(te.Self|te.Host))===0){let i=t[Io],o=Bt(void 0);try{return i?i.get(e,r,n&te.Optional):ZE(e,r,n&te.Optional)}finally{Bt(o)}}return jT(r,e,n)}function BT(t,e,n,r=te.Default,i){if(t!==null){if(e[X]&2048&&!(r&te.Self)){let s=WP(t,e,n,r,hn);if(s!==hn)return s}let o=$T(t,e,n,r,hn);if(o!==hn)return o}return UT(e,n,r,i)}function $T(t,e,n,r,i){let o=zP(n);if(typeof o=="function"){if(!ST(e,t,r))return r&te.Host?jT(i,n,r):UT(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&te.Optional))Kp(n);else return s}finally{MT()}}else if(typeof o=="number"){let s=null,a=VT(t,e),u=mo,l=r&te.Host?e[fn][on]:null;for((a===-1||r&te.SkipSelf)&&(u=a===-1?sg(t,e):e[a+8],u===mo||!fE(r,!1)?a=-1:(s=e[pe],a=ju(u),e=Uu(u,e)));a!==-1;){let h=e[pe];if(hE(o,a,h.data)){let p=$P(a,e,n,s,r,l);if(p!==hn)return p}u=e[a+8],u!==mo&&fE(r,e[pe].data[a+8]===l)&&hE(o,a,e)?(s=h,a=ju(u),e=Uu(u,e)):a=-1}}return i}function $P(t,e,n,r,i,o){let s=e[pe],a=s.data[t+8],u=r==null?Ro(a)&&yp:r!=s&&(a.type&3)!==0,l=i&te.Host&&o===a,h=HP(a,s,n,u,l);return h!==null?vp(e,s,h,a,i):hn}function HP(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=s[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=s[u];if(y&&di(y)&&y.type===n)return u}return null}function vp(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof na){let a=o;a.resolving&&QE(PM(s[n]));let u=dE(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Bt(a.injectImpl):null,p=ST(t,r,te.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&NP(n,s[n],e)}finally{h!==null&&Bt(h),dE(u),a.resolving=!1,MT()}}return o}function zP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Js)?t[Js]:void 0;return typeof e=="number"?e>=0?e&OT:qP:e}function hE(t,e,n){let r=1<<t;return!!(n[e+(t>>FT)]&r)}function fE(t,e){return!(t&te.Self)&&!(t&te.Host&&e)}var oi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return BT(this._tNode,this._lView,e,Ju(r),n)}};function qP(){return new oi(sn(),Pe())}function ag(t){return ca(()=>{let e=t.prototype.constructor,n=e[Su]||_p(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Su]||_p(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function _p(t){return zE(t)?()=>{let e=_p($t(t));return e&&e()}:yo(t)}function WP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[X]&2048&&!Vu(s);){let a=$T(o,s,n,r|te.Self,hn);if(a!==hn)return a;let u=o.parent;if(!u){let l=s[cT];if(l){let h=l.get(n,hn,r);if(h!==hn)return h}u=HT(s),s=s[Ao]}o=u}return i}function HT(t){let e=t[pe],n=e.type;return n===2?e.declTNode:n===1?t[on]:null}function pE(t,e=null,n=null,r){let i=zT(t,e,n,r);return i.resolveInjectorInitializers(),i}function zT(t,e=null,n=null,r,i=new Set){let o=[n||tn,GM(t)];return r=r||(typeof t=="object"?void 0:St(t)),new ea(o,e||Zp(),r||null,i)}var Ke=class t{static THROW_IF_NOT_FOUND=ii;static NULL=new Pu;static create(e,n){if(Array.isArray(e))return pE({name:""},n,e,"");{let r=e.name??"";return pE({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:t,providedIn:"any",factory:()=>ne(eT)});static __NG_ELEMENT_ID__=-1};var GP=new U("");GP.__NG_ELEMENT_ID__=t=>{let e=sn();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&te.Optional)return null;throw new j(204,!1)};var qT=!1,la=(()=>{class t{static __NG_ELEMENT_ID__=KP;static __NG_ENV_ID__=n=>n}return t})(),Ip=class extends la{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return No(n)?(e(),()=>{}):(vT(n,e),()=>dP(n,e))}};function KP(){return new Ip(Pe())}var bo=class{},cg=new U("",{providedIn:"root",factory:()=>!1});var WT=new U(""),GT=new U(""),mi=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new nt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),al=(()=>{class t{internalPendingTasks=x(mi);scheduler=x(bo);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return v(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})(),wp=class extends tt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,sT()&&(this.destroyRef=x(la,{optional:!0})??void 0,this.pendingTasks=x(mi,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Me&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ge=wp;function Bu(...t){}function KT(t){let e,n;function r(){t=Bu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function gE(t){return queueMicrotask(()=>t()),()=>{t=Bu}}var ug="isAngularZone",$u=ug+"_ID",QP=0,ye=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ge(!1);onMicrotaskEmpty=new Ge(!1);onStable=new Ge(!1);onError=new Ge(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=qT}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,JP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ug)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,YP,Bu,Bu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},YP={};function lg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ZP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){KT(()=>{t.callbackScheduled=!1,Ep(t),t.isCheckStableRunning=!0,lg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ep(t)}function JP(t){let e=()=>{ZP(t)},n=QP++;t._inner=t._inner.fork({name:"angular",properties:{[ug]:!0,[$u]:n,[$u+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(XP(u))return r.invokeTask(o,s,a,u);try{return mE(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),yE(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return mE(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!ex(u)&&e(),yE(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ep(t),lg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ep(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function mE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yE(t){t._nesting--,lg(t)}var Tp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ge;onMicrotaskEmpty=new Ge;onStable=new Ge;onError=new Ge;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function XP(t){return QT(t,"__ignore_ng_zone__")}function ex(t){return QT(t,"__scheduler_tick__")}function QT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var zn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},tx=new U("",{providedIn:"root",factory:()=>{let t=x(ye),e=x(zn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function vE(t,e){return BE(t,e)}function nx(t){return BE(UE,t)}var YT=(vE.required=nx,vE);function rx(){return cl(sn(),Pe())}function cl(t,e){return new dg(Kn(t,e))}var dg=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=rx}return t})();function ul(t,e){let n=Mf(t,e?.equal),r=n[dn];return n.set=i=>zs(r,i),n.update=i=>Pf(r,i),n.asReadonly=ix.bind(n),n}function ix(){let t=this[dn];if(t.readonlyFn===void 0){let e=()=>this();e[dn]=t,t.readonlyFn=e}return t.readonlyFn}function ZT(t){return(t.flags&128)===128}var JT=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(JT||{}),XT=new Map,ox=0;function sx(){return ox++}function ax(t){XT.set(t[el],t)}function bp(t){XT.delete(t[el])}var _E="__ngContext__";function Mo(t,e){br(e)?(t[_E]=e[el],ax(e)):t[_E]=e}function eb(t){return nb(t[ta])}function tb(t){return nb(t[nn])}function nb(t){for(;t!==null&&!Gn(t);)t=t[nn];return t}var Dp;function rb(t){Dp=t}function cx(){if(Dp!==void 0)return Dp;if(typeof document<"u")return document;throw new j(210,!1)}var hg=new U("",{providedIn:"root",factory:()=>ux}),ux="ng",fg=new U(""),_n=new U("",{providedIn:"platform",factory:()=>"unknown"});var pg=new U("",{providedIn:"root",factory:()=>cx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var lx="h",dx="b";var ib=!1,hx=new U("",{providedIn:"root",factory:()=>ib});var ob=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(ob||{}),ll=new U(""),IE=new Set;function gg(t){IE.has(t)||(IE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var fx=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}return t})();var px=(t,e,n,r)=>{};function gx(t,e,n,r){px(t,e,n,r)}var mx=()=>null;function sb(t,e,n=!1){return mx(t,e,n)}function ab(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];CT(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function Cp(t,e,n){CT(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function mg(t,e,n){if(Jp(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{fe(r)}}}var yn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yn||{});var Sp=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${IM})`}};function yx(t){return t instanceof Sp?t.changingThisBreaksApplicationSecurity:t}var vx=/^>|^->|<!--|-->|--!>|<!-$/g,_x=/(<|>)/g,Ix="\u200B$1\u200B";function wx(t){return t.replace(vx,e=>e.replace(_x,Ix))}function cb(t){return t instanceof Function?t():t}function Ex(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var ub="ng-template";function Tx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Ex(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(yg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function yg(t){return t.type===4&&t.value!==ub}function bx(t,e,n){let r=t.type===4&&!n?ub:t.value;return e===r}function Dx(t,e,n){let r=4,i=t.attrs,o=i!==null?Ax(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!en(r)&&!en(u))return!1;if(s&&en(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!bx(t,u,n)||u===""&&e.length===1){if(en(r))return!1;s=!0}}else if(r&8){if(i===null||!Tx(t,i,u,n)){if(en(r))return!1;s=!0}}else{let l=e[++a],h=Cx(u,i,yg(t),n);if(h===-1){if(en(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(en(r))return!1;s=!0}}}}return en(r)||s}function en(t){return(t&1)===0}function Cx(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Rx(e,t)}function Sx(t,e,n=!1){for(let r=0;r<e.length;r++)if(Dx(t,e[r],n))return!0;return!1}function Ax(t){for(let e=0;e<t.length;e++){let n=t[e];if(OP(n))return e}return t.length}function Rx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function wE(t,e){return t?":not("+e.trim()+")":e}function Nx(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!en(s)&&(e+=wE(o,i),i=""),r=s,o=o||!en(r);n++}return i!==""&&(e+=wE(o,i)),e}function Mx(t){return t.map(Nx).join(",")}function Px(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!en(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Qn={};function xx(t,e){return t.createText(e)}function kx(t,e,n){t.setValue(e,n)}function Ox(t,e){return t.createComment(wx(e))}function lb(t,e,n){return t.createElement(e,n)}function Hu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function db(t,e,n){t.appendChild(e,n)}function EE(t,e,n,r,i){r!==null?Hu(t,e,n,r,i):db(t,e,n)}function Fx(t,e,n){t.removeChild(null,e,n)}function Lx(t,e,n){t.setAttribute(e,"style",n)}function Vx(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function hb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&kP(t,e,r),i!==null&&Vx(t,e,i),o!==null&&Lx(t,e,o)}function vg(t,e,n,r,i,o,s,a,u,l,h){let p=pn+r,m=p+i,y=jx(p,m),C=typeof l=="function"?l():l;return y[pe]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function jx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Qn);return n}function Ux(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=vg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function _g(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Wn]=i,p[X]=r|4|128|8|64|1024,(l!==null||t&&t[X]&2048)&&(p[X]|=2048),mT(p),p[Et]=p[Ao]=t,p[Rt]=n,p[Dr]=s||t&&t[Dr],p[it]=a||t&&t[it],p[Io]=u||t&&t[Io]||null,p[on]=o,p[el]=sx(),p[xu]=h,p[cT]=l,p[fn]=e.type==2?t[fn]:p,p}function Bx(t,e,n){let r=Kn(e,t),i=Ux(n),o=t[Dr].rendererFactory,s=Ig(t,_g(t,i,null,fb(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function fb(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function pb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ig(t,e){return t[ta]?t[sE][nn]=e:t[ta]=e,t[sE]=e,e}function Se(t=1){gb(vn(),Pe(),gi()+t,!1)}function gb(t,e,n,r){if(!r)if((e[X]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Tu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&bu(e,o,0,n)}ci(n)}var dl=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(dl||{});function Ap(t,e,n,r){let i=fe(null);try{let[o,s,a]=t.inputs[n],u=null;(s&dl.SignalBased)!==0&&(u=e[o][dn]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):lT(e,u,o,r)}finally{fe(i)}}function mb(t,e,n,r,i){let o=gi(),s=r&2;try{ci(-1),s&&e.length>pn&&gb(t,e,pn,!1),De(s?2:0,i),n(r,i)}finally{ci(o),De(s?3:1,i)}}function hl(t,e,n){Kx(t,e,n),(n.flags&64)===64&&Qx(t,e,n)}function wg(t,e,n=Kn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function $x(t,e,n,r){let o=r.get(hx,ib)||n===yn.ShadowDom,s=t.selectRootElement(e,o);return Hx(s),s}function Hx(t){zx(t)}var zx=()=>null;function qx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Wx(t,e,n,r,i,o,s,a){if(!a&&Tg(e,t,n,r,i)){Ro(e)&&Gx(n,e.index);return}if(e.type&3){let u=Kn(e,n);r=qx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function Gx(t,e){let n=mn(e,t);n[X]&16||(n[X]|=64)}function Kx(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Ro(n)&&Bx(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||LT(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=vp(e,t,s,n);if(Mo(u,e),o!==null&&Zx(e,s-r,u,a,n,o),di(a)){let l=mn(n.index,e);l[Rt]=vp(e,t,s,n)}}}function Qx(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=bP();try{ci(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];mp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Yx(u,l)}}finally{ci(-1),mp(s)}}function Yx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Eg(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Sx(e,o.selectors,!1)&&(r??=[],di(o)?r.unshift(o):r.push(o))}return r}function Zx(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Ap(r,n,u,l)}}function Jx(t,e){let n=t[Io],r=n?n.get(zn,null):null;r&&r.handleError(e)}function Tg(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Ap(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Ap(h,l,r,i),a=!0}return a}function Xx(t,e){let n=mn(e,t),r=n[pe];ek(r,n);let i=n[Wn];i!==null&&n[xu]===null&&(n[xu]=sb(i,n[Io])),De(18),bg(r,n,n[Rt]),De(19,n[Rt])}function ek(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function bg(t,e,n){rg(e);try{let r=t.viewQuery;r!==null&&Cp(1,r,n);let i=t.template;i!==null&&mb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Eo]?.finishViewCreation(t),t.staticContentQueries&&ab(t,e),t.staticViewQueries&&Cp(2,t.viewQuery,n);let o=t.components;o!==null&&tk(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[X]&=-5,ig()}}function tk(t,e){for(let n=0;n<e.length;n++)Xx(t,e[n])}function nk(t,e,n,r){let i=fe(null);try{let o=e.tView,a=t[X]&4096?4096:16,u=_g(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[wo]=l;let h=t[Eo];return h!==null&&(u[Eo]=h.createEmbeddedView(o)),bg(o,u,n),u}finally{fe(i)}}function TE(t,e){return!e||e.firstChild===null||ZT(t)}var rk;function Dg(t,e){return rk(t,e)}var qn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qn||{});function yb(t){return(t.flags&32)===32}function go(t,e,n,r,i){if(r!=null){let o,s=!1;Gn(r)?o=r:br(r)&&(s=!0,r=r[Wn]);let a=gn(r);t===0&&n!==null?i==null?db(e,n,a):Hu(e,n,a,i||null,!0):t===1&&n!==null?Hu(e,n,a,i||null,!0):t===2?Fx(e,a,s):t===3&&e.destroyNode(a),o!=null&&gk(e,t,o,n,i)}}function ik(t,e){vb(t,e),e[Wn]=null,e[on]=null}function ok(t,e,n,r,i,o){r[Wn]=i,r[on]=e,pl(t,r,n,1,i,o)}function vb(t,e){e[Dr].changeDetectionScheduler?.notify(9),pl(t,e,e[it],2,null,null)}function sk(t){let e=t[ta];if(!e)return tp(t[pe],t);for(;e;){let n=null;if(br(e))n=e[ta];else{let r=e[zt];r&&(n=r)}if(!n){for(;e&&!e[nn]&&e!==t;)br(e)&&tp(e[pe],e),e=e[Et];e===null&&(e=t),br(e)&&tp(e[pe],e),n=e&&e[nn]}e=n}}function Cg(t,e){let n=t[Lu],r=n.indexOf(e);n.splice(r,1)}function _b(t,e){if(No(e))return;let n=e[it];n.destroyNode&&pl(t,e,n,3,null,null),sk(e)}function tp(t,e){if(No(e))return;let n=fe(null);try{e[X]&=-129,e[X]|=256,e[Ht]&&Rf(e[Ht]),ck(t,e),ak(t,e),e[pe].type===1&&e[it].destroy();let r=e[wo];if(r!==null&&Gn(e[Et])){r!==e[Et]&&Cg(r,e);let i=e[Eo];i!==null&&i.detachView(t)}bp(e)}finally{fe(n)}}function ak(t,e){let n=t.cleanup,r=e[ku];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[ku]=null);let i=e[Tr];if(i!==null){e[Tr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ou];if(o!==null){e[Ou]=null;for(let s of o)s.destroy()}}function ck(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof na)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];De(4,a,u);try{u.call(a)}finally{De(5,a,u)}}else{De(4,i,o);try{o.call(i)}finally{De(5,i,o)}}}}}function uk(t,e,n){return lk(t,e.parent,n)}function lk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Wn];if(Ro(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===yn.None||i===yn.Emulated)return null}return Kn(r,n)}function dk(t,e,n){return fk(t,e,n)}function hk(t,e,n){return t.type&40?Kn(t,n):null}var fk=hk,bE;function fl(t,e,n,r){let i=uk(t,r,e),o=e[it],s=r.parent||e[on],a=dk(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)EE(o,i,n[u],a,!1);else EE(o,i,n,a,!1);bE!==void 0&&bE(o,r,e,n,i)}function Zs(t,e){if(e!==null){let n=e.type;if(n&3)return Kn(e,t);if(n&4)return Rp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Zs(t,r);{let i=t[e.index];return Gn(i)?Rp(-1,i):gn(i)}}else{if(n&128)return Zs(t,e.next);if(n&32)return Dg(e,t)()||gn(t[e.index]);{let r=Ib(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ai(t[fn]);return Zs(i,r)}else return Zs(t,e.next)}}}return null}function Ib(t,e){if(e!==null){let r=t[fn][on],i=e.projection;return r.projection[i]}return null}function Rp(t,e){let n=zt+t+1;if(n<e.length){let r=e[n],i=r[pe].firstChild;if(i!==null)return Zs(r,i)}return e[si]}function Sg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Mo(gn(a),r),n.flags|=2),!yb(n))if(u&8)Sg(t,e,n.child,r,i,o,!1),go(e,t,i,a,o);else if(u&32){let l=Dg(n,r),h;for(;h=l();)go(e,t,i,h,o);go(e,t,i,a,o)}else u&16?pk(t,e,r,n,i,o):go(e,t,i,a,o);n=s?n.projectionNext:n.next}}function pl(t,e,n,r,i,o){Sg(n,r,t.firstChild,e,i,o,!1)}function pk(t,e,n,r,i,o){let s=n[fn],u=s[on].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];go(e,t,i,h,o)}else{let l=u,h=s[Et];ZT(r)&&(l.flags|=128),Sg(t,e,l,h,i,o,!0)}}function gk(t,e,n,r,i){let o=n[si],s=gn(n);o!==s&&go(e,t,r,o,i);for(let a=zt;a<n.length;a++){let u=n[a];pl(u[pe],u,t,e,r,o)}}function mk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:qn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=qn.Important),t.setStyle(n,r,i,o))}}function zu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(gn(o)),Gn(o)&&yk(o,r);let s=n.type;if(s&8)zu(t,e,n.child,r);else if(s&32){let a=Dg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Ib(e,n);if(Array.isArray(a))r.push(...a);else{let u=ai(e[fn]);zu(u[pe],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function yk(t,e){for(let n=zt;n<t.length;n++){let r=t[n],i=r[pe].firstChild;i!==null&&zu(r[pe],r,i,e)}t[si]!==t[Wn]&&e.push(t[si])}function wb(t){if(t[Jf]!==null){for(let e of t[Jf])e.impl.addSequence(e);t[Jf].length=0}}var Eb=[];function vk(t){return t[Ht]??_k(t)}function _k(t){let e=Eb.pop()??Object.create(wk);return e.lView=t,e}function Ik(t){t.lView[Ht]!==t&&(t.lView=null,Eb.push(t))}var wk=we(F({},zc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{rl(t.lView)},consumerOnSignalRead(){this.lView[Ht]=this}});function Ek(t){let e=t[Ht]??Object.create(Tk);return e.lView=t,e}var Tk=we(F({},zc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ai(t.lView);for(;e&&!Tb(e[pe]);)e=ai(e);e&&yT(e)},consumerOnSignalRead(){this.lView[Ht]=this}});function Tb(t){return t.type!==2}function bb(t){if(t[Ou]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Ou])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[X]&8192)}}var bk=100;function Db(t,e=!0,n=0){let i=t[Dr].rendererFactory,o=!1;o||i.begin?.();try{Dk(t,n)}catch(s){throw e&&Jx(t,s),s}finally{o||i.end?.()}}function Dk(t,e){let n=TT();try{cE(!0),Np(t,e);let r=0;for(;nl(t);){if(r===bk)throw new j(103,!1);r++,Np(t,1)}}finally{cE(n)}}function Ck(t,e,n,r){if(No(e))return;let i=e[X],o=!1,s=!1;rg(e);let a=!0,u=null,l=null;o||(Tb(t)?(l=vk(e),u=Sf(l)):bf()===null?(a=!1,l=Ek(e),u=Sf(l)):e[Ht]&&(Rf(e[Ht]),e[Ht]=null));try{mT(e),wP(t.bindingStartIndex),n!==null&&mb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Tu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&bu(e,y,0,null),Xf(e,0)}if(s||Sk(e),bb(e),Cb(e,0),t.contentQueries!==null&&ab(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Tu(e,y)}else{let y=t.contentHooks;y!==null&&bu(e,y,1),Xf(e,1)}Rk(t,e);let p=t.components;p!==null&&Ab(e,p,0);let m=t.viewQuery;if(m!==null&&Cp(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Tu(e,y)}else{let y=t.viewHooks;y!==null&&bu(e,y,2),Xf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Zf]){for(let y of e[Zf])y();e[Zf]=null}o||(wb(e),e[X]&=-73)}catch(h){throw o||rl(e),h}finally{l!==null&&(vw(l,u),a&&Ik(l)),ig()}}function Cb(t,e){for(let n=eb(t);n!==null;n=tb(n))for(let r=zt;r<n.length;r++){let i=n[r];Sb(i,e)}}function Sk(t){for(let e=eb(t);e!==null;e=tb(e)){if(!(e[X]&2))continue;let n=e[Lu];for(let r=0;r<n.length;r++){let i=n[r];yT(i)}}}function Ak(t,e,n){De(18);let r=mn(e,t);Sb(r,n),De(19,r[Rt])}function Sb(t,e){eg(t)&&Np(t,e)}function Np(t,e){let r=t[pe],i=t[X],o=t[Ht],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Af(o)),s||=!1,o&&(o.dirty=!1),t[X]&=-9217,s)Ck(r,t,r.template,t[Rt]);else if(i&8192){bb(t),Cb(t,1);let a=r.components;a!==null&&Ab(t,a,1),wb(t)}}function Ab(t,e,n){for(let r=0;r<e.length;r++)Ak(t,e[r],n)}function Rk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ci(~i);else{let o=i,s=n[++r],a=n[++r];TP(s,o);let u=e[o];De(24,u),a(2,u),De(25,u)}}}finally{ci(-1)}}function Ag(t,e){let n=TT()?64:1088;for(t[Dr].changeDetectionScheduler?.notify(e);t;){t[X]|=n;let r=ai(t);if(Vu(t)&&!r)return t;t=r}return null}function Rb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Nk(t,e,n,r=!0){let i=e[pe];if(Mk(i,e,t,n),r){let s=Rp(n,t),a=e[it],u=a.parentNode(t[si]);u!==null&&ok(i,t[on],a,e,u,s)}let o=e[xu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Mp(t,e){if(t.length<=zt)return;let n=zt+e,r=t[n];if(r){let i=r[wo];i!==null&&i!==t&&Cg(i,r),e>0&&(t[n-1][nn]=r[nn]);let o=Mu(t,zt+e);ik(r[pe],r);let s=o[Eo];s!==null&&s.detachView(o[pe]),r[Et]=null,r[nn]=null,r[X]&=-129}return r}function Mk(t,e,n,r){let i=zt+r,o=n.length;r>0&&(n[i-1][nn]=e),r<o-zt?(e[nn]=n[i],XE(n,zt+r,e)):(n.push(e),e[nn]=null),e[Et]=n;let s=e[wo];s!==null&&n!==s&&Nb(s,e);let a=e[Eo];a!==null&&a.insertView(t),pp(e),e[X]|=128}function Nb(t,e){let n=t[Lu],r=e[Et];if(br(r))t[X]|=2;else{let i=r[Et][fn];e[fn]!==i&&(t[X]|=2)}n===null?t[Lu]=[e]:n.push(e)}var ra=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[pe];return zu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Rt]}set context(e){this._lView[Rt]=e}get destroyed(){return No(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Et];if(Gn(e)){let n=e[Fu],r=n?n.indexOf(this):-1;r>-1&&(Mp(e,r),Mu(n,r))}this._attachedToViewContainer=!1}_b(this._lView[pe],this._lView)}onDestroy(e){vT(this._lView,e)}markForCheck(){Ag(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[X]&=-129}reattach(){pp(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,Db(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Vu(this._lView),n=this._lView[wo];n!==null&&!e&&Cg(n,this._lView),vb(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=Vu(this._lView),r=this._lView[wo];r!==null&&!n&&Nb(r,this._lView),pp(this._lView)}};var gl=(()=>{class t{static __NG_ELEMENT_ID__=kk}return t})(),Pk=gl,xk=class extends Pk{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=nk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ra(i)}};function kk(){return Ok(sn(),Pe())}function Ok(t,e){return t.type&4?new xk(e,t,cl(t,e)):null}function ml(t,e,n,r,i){let o=t.data[e];if(o===null)o=Fk(t,e,n,r,i),EP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=vP();o.injectorIndex=s===null?-1:s.injectorIndex}return pi(o,!0),o}function Fk(t,e,n,r,i){let o=wT(),s=ng(),a=s?o:o&&o.parent,u=t.data[e]=Vk(t,a,n,e,r,i);return Lk(t,u,o,s),u}function Lk(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Vk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return gP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var r8=new RegExp(`^(\\d+)*(${dx}|${lx})*(.*)`);var jk=()=>null;function DE(t,e){return jk(t,e)}var Uk=class{},Mb=class{},Pp=class{resolveComponentFactory(e){throw Error(`No component factory found for ${St(e)}.`)}},yl=class{static NULL=new Pp},Do=class{},Pb=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Bk()}return t})();function Bk(){let t=Pe(),e=sn(),n=mn(e.index,t);return(br(n)?n:t)[it]}var $k=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>null})}return t})();var np={},xp=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ju(r);let i=this.injector.get(e,np,r);return i!==np||n===np?i:this.parentInjector.get(e,n,r)}};function kp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Xw(i,a);else if(o==2){let u=a,l=e[++s];r=Xw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Yn(t,e=te.Default){let n=Pe();if(n===null)return ne(t,e);let r=sn();return BT(r,n,$t(t),e)}function Rg(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,u=null,l=null,h=zk(s);h===null?a=s:[a,u,l]=h,Gk(t,e,n,a,o,u,l)}o!==null&&r!==null&&Hk(n,r,o)}function Hk(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function zk(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&di(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,qk(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function qk(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function Wk(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Gk(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&di(y)&&(u=!0,Wk(t,n,m)),BP(LT(n,e),t,y.type)}Xk(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=pb(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=sl(n.mergedAttrs,y.hostAttrs),Qk(t,n,e,p,y),Jk(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);n.directiveToIndex.set(y.type,[p,N+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let C=y.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}Kk(t,n,o)}function Kk(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))CE(0,e,i,r),CE(1,e,i,r),AE(e,r,!1);else{let o=n.get(i);SE(0,e,o,r),SE(1,e,o,r),AE(e,r,!0)}}}function CE(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),xb(e,o)}}function SE(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),xb(e,s)}}function xb(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function AE(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||yg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Qk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=yo(i.type,!0)),s=new na(o,di(i),Yn);t.blueprint[r]=s,n[r]=s,Yk(t,e,r,pb(t,n,i.hostVars,Qn),i)}function Yk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Zk(s)!=a&&s.push(a),s.push(n,r,o)}}function Zk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Jk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;di(e)&&(n[""]=t)}}function Xk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function kb(t,e,n,r,i,o,s,a){let u=e.consts,l=To(u,s),h=ml(e,t,2,r,l);return o&&Rg(e,n,h,To(u,a),i),h.mergedAttrs=sl(h.mergedAttrs,h.attrs),h.attrs!==null&&kp(h,h.attrs,!1),h.mergedAttrs!==null&&kp(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function Ob(t,e){og(t,e),Jp(e)&&t.queries.elementEnd(e)}var qu=class extends yl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=_o(e);return new ia(n,this.ngModule)}};function eO(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&dl.SignalBased)!==0};return i&&(o.transform=i),o})}function tO(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function nO(t,e,n){let r=e instanceof At?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new xp(n,r):n}function rO(t){let e=t.get(Do,null);if(e===null)throw new j(407,!1);let n=t.get($k,null),r=t.get(bo,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function iO(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return lb(e,n,n==="svg"?aP:n==="math"?cP:null)}var ia=class extends Mb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=eO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=tO(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Mx(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){De(22);let o=fe(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:Px(this.componentDef.selectors[0]),u=vg(0,null,null,1,0,null,null,null,null,[a],null),l=nO(s,i||this.ngModule,e),h=rO(l),p=h.rendererFactory.createRenderer(null,s),m=r?$x(p,r,s.encapsulation,l):iO(s,p),y=_g(null,u,null,512|fb(s),null,null,h,p,l,null,sb(m,l,!0));y[pn]=m,rg(y);let C=null;try{let N=kb(pn,u,y,"#host",()=>[this.componentDef],!0,0);m&&(hb(p,m,N),Mo(m,y)),hl(u,y,N),mg(u,N,y),Ob(u,N),n!==void 0&&oO(N,this.ngContentSelectors,n),C=mn(N.index,y),y[Rt]=C[Rt],bg(u,y,null)}catch(N){throw C!==null&&bp(C),bp(y),N}finally{De(23),ig()}return new Op(this.componentType,y)}finally{fe(o)}}},Op=class extends Uk{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=gT(n[pe],pn),this.location=cl(this._tNode,n),this.instance=mn(this._tNode.index,n)[Rt],this.hostView=this.changeDetectorRef=new ra(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Tg(r,i[pe],i,e,n);this.previousInputValues.set(e,n);let s=mn(r.index,i);Ag(s,1)}get injector(){return new oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function oO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Po=(()=>{class t{static __NG_ELEMENT_ID__=sO}return t})();function sO(){let t=sn();return cO(t,Pe())}var aO=Po,Fb=class extends aO{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return cl(this._hostTNode,this._hostLView)}get injector(){return new oi(this._hostTNode,this._hostLView)}get parentInjector(){let e=sg(this._hostTNode,this._hostLView);if(kT(e)){let n=Uu(e,this._hostLView),r=ju(e),i=n[pe].data[r+8];return new oi(i,n)}else return new oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=RE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-zt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=DE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,TE(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!rP(e),a;if(s)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new ia(_o(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(At,null);N&&(o=N)}let h=_o(u.componentType??{}),p=DE(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,TE(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(uP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Et],l=new Fb(u,u[on],u[Et]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Nk(s,i,o,r),e.attachToViewContainerRef(),XE(rp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=RE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Mp(this._lContainer,n);r&&(Mu(rp(this._lContainer),n),_b(r[pe],r))}detach(e){let n=this._adjustIndex(e,-1),r=Mp(this._lContainer,n);return r&&Mu(rp(this._lContainer),n)!=null?new ra(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function RE(t){return t[Fu]}function rp(t){return t[Fu]||(t[Fu]=[])}function cO(t,e){let n,r=e[t.index];return Gn(r)?n=r:(n=Rb(r,e,null,t),e[t.index]=n,Ig(e,n)),lO(n,e,t,r),new Fb(n,t,e)}function uO(t,e){let n=t[it],r=n.createComment(""),i=Kn(e,t),o=n.parentNode(i);return Hu(n,o,r,n.nextSibling(i),!1),r}var lO=fO,dO=()=>!1;function hO(t,e,n){return dO(t,e,n)}function fO(t,e,n,r){if(t[si])return;let i;n.type&8?i=gn(r):i=uO(e,n),t[si]=i}var Co=class{},Ng=class{};var Fp=class extends Co{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new qu(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=nT(e);this._bootstrapComponents=cb(o.bootstrap),this._r3Injector=zT(e,n,[{provide:Co,useValue:this},{provide:yl,useValue:this.componentFactoryResolver},...r],St(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Lp=class extends Ng{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Fp(this.moduleType,e,[])}};var Wu=class extends Co{injector;componentFactoryResolver=new qu(this);instance=null;constructor(e){super();let n=new ea([...e.providers,{provide:Co,useValue:this},{provide:yl,useValue:this.componentFactoryResolver}],e.parent||Zp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function vl(t,e,n=null){return new Wu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var pO=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=rT(!1,n.type),i=r.length>0?vl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(ne(At))})}return t})();function Qe(t){return ca(()=>{let e=Lb(t),n=we(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===JT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(pO).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yn.Emulated,styles:t.styles||tn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&gg("NgStandalone"),Vb(n);let r=t.dependencies;return n.directiveDefs=NE(r,!1),n.pipeDefs=NE(r,!0),n.id=_O(n),n})}function gO(t){return _o(t)||qM(t)}function mO(t){return t!==null}function _l(t){return ca(()=>({type:t.type,bootstrap:t.bootstrap||tn,declarations:t.declarations||tn,imports:t.imports||tn,exports:t.exports||tn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function yO(t,e){if(t==null)return vo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=dl.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function vO(t){if(t==null)return vo;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function xo(t){return ca(()=>{let e=Lb(t);return Vb(e),e})}function Lb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||vo,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||tn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yO(t.inputs,e),outputs:vO(t.outputs),debugInfo:null}}function Vb(t){t.features?.forEach(e=>e(t))}function NE(t,e){if(!t)return null;let n=e?WM:gO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(mO)}function _O(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function jb(t){return wO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function IO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function wO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function EO(t,e,n){return t[e]=n}function oa(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Vp(t,e,n,r){let i=oa(t,e,n);return oa(t,e+1,r)||i}function TO(t,e,n,r,i,o){let s=Vp(t,e,n,r);return Vp(t,e+2,i,o)||s}function bO(t,e,n,r,i,o,s,a,u){let l=e.consts,h=ml(e,t,4,s||null,a||null);tg()&&Rg(e,n,h,To(l,u),Eg),h.mergedAttrs=sl(h.mergedAttrs,h.attrs),og(e,h);let p=h.tView=vg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function DO(t,e,n,r,i,o,s,a,u,l){let h=n+pn,p=e.firstCreatePass?bO(h,e,t,r,i,o,s,a,u):e.data[h];pi(p,!1);let m=CO(e,t,p,n);il()&&fl(e,t,m,p),Mo(m,t);let y=Rb(m,t,m,p);return t[h]=y,Ig(t,y),hO(y,p,t),tl(p)&&hl(e,t,p),u!=null&&wg(t,p,l),p}function Zn(t,e,n,r,i,o,s,a){let u=Pe(),l=vn(),h=To(l.consts,o);return DO(u,l,t,e,n,r,i,h,s,a),Zn}var CO=SO;function SO(t,e,n,r){return ol(!0),e[it].createComment("")}var Ub=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Bb=new U("");var AO=(()=>{class t{static \u0275prov=B({token:t,providedIn:"root",factory:()=>new jp})}return t})(),jp=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function da(t){return!!t&&typeof t.then=="function"}function $b(t){return!!t&&typeof t.subscribe=="function"}var RO=new U("");var Hb=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(RO,{optional:!0})??[];injector=x(Ke);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Tt(this.injector,i);if(da(o))n.push(o);else if($b(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Mg=new U("");function NO(){Nf(()=>{throw new j(600,!1)})}function MO(t){return t.isBoundToModule}var PO=10;var ui=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(tx);afterRenderManager=x(fx);zonelessEnabled=x(cg);rootEffectScheduler=x(AO);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new tt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(mi).hasPendingTasks.pipe(ce(n=>!n));constructor(){x(ll,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(At);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ke.NULL){De(10);let o=n instanceof Mb;if(!this._injector.get(Hb).done){let y="";throw new j(405,y)}let a;o?a=n:a=this._injector.get(yl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let u=MO(a)?void 0:this._injector.get(Co),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,m=h.injector.get(Bb,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Du(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),De(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ob.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let n=fe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,fe(n),this.afterTick.next(),De(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Do,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<PO;)De(14),this.synchronizeOnce(),De(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)xO(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>nl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Du(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Mg,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Du(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Du(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xO(t,e,n,r){if(!n&&!nl(t))return;Db(t,e,n&&!r?0:1)}function kO(t,e,n,r){return oa(t,bT(),n)?e+Au(n)+r:Qn}function OO(t,e,n,r,i,o){let s=IP(),a=Vp(t,s,n,i);return DT(2),a?e+Au(n)+r+Au(i)+o:Qn}function wu(t,e){return t<<17|e<<2}function li(t){return t>>17&32767}function FO(t){return(t&2)==2}function LO(t,e){return t&131071|e<<17}function Up(t){return t|2}function So(t){return(t&131068)>>2}function ip(t,e){return t&-131069|e<<2}function VO(t){return(t&1)===1}function Bp(t){return t|1}function jO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=li(s),u=So(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ua(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=li(t[a+1]);t[r+1]=wu(m,a),m!==0&&(t[m+1]=ip(t[m+1],r)),t[a+1]=LO(t[a+1],r)}else t[r+1]=wu(a,0),a!==0&&(t[a+1]=ip(t[a+1],r)),a=r;else t[r+1]=wu(u,0),a===0?a=r:t[u+1]=ip(t[u+1],r),u=r;l&&(t[r+1]=Up(t[r+1])),ME(t,h,r,!0),ME(t,h,r,!1),UO(e,h,t,r,o),s=wu(a,u),o?e.classBindings=s:e.styleBindings=s}function UO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ua(o,e)>=0&&(n[r+1]=Bp(n[r+1]))}function ME(t,e,n,r){let i=t[n+1],o=e===null,s=r?li(i):So(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];BO(u,e)&&(a=!0,t[s+1]=r?Bp(l):Up(l)),s=r?li(l):So(l)}a&&(t[n+1]=r?Up(i):Bp(i))}function BO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ua(t,e)>=0:!1}function ot(t,e,n){let r=Pe(),i=bT();if(oa(r,i,e)){let o=vn(),s=AP();Wx(o,s,r,t,e,r[it],n,!1)}return ot}function PE(t,e,n,r,i){Tg(e,t,n,i?"class":"style",r)}function In(t,e,n){return zb(t,e,n,!1),In}function Jn(t,e){return zb(t,e,null,!0),Jn}function zb(t,e,n,r){let i=Pe(),o=vn(),s=DT(2);if(o.firstUpdatePass&&HO(o,t,s,r),e!==Qn&&oa(i,s,e)){let a=o.data[gi()];KO(o,a,i,i[it],t,i[s+1]=QO(e,n),r,s)}}function $O(t,e){return e>=t.expandoStartIndex}function HO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[gi()],s=$O(t,n);YO(o,r)&&e===null&&!s&&(e=!1),e=zO(i,o,e,r),jO(i,o,e,n,s,r)}}function zO(t,e,n,r){let i=DP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=op(null,t,e,n,r),n=sa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=op(i,t,e,n,r),o===null){let u=qO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=op(null,t,e,u[1],r),u=sa(u,e.attrs,r),WO(t,e,r,u))}else o=GO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function qO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(So(r)!==0)return t[li(r)]}function WO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[li(i)]=r}function GO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=sa(r,s,n)}return sa(r,e.attrs,n)}function op(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=sa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function sa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),HM(t,s,n?!0:e[++o]))}return t===void 0?null:t}function KO(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=VO(l)?xE(u,e,n,i,So(l),s):void 0;if(!Gu(h)){Gu(o)||FO(l)&&(o=xE(u,null,n,i,a,s));let p=pT(gi(),n);mk(r,s,p,i,o)}}function xE(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Qn&&(m=p?tn:void 0);let y=p?Qf(m,r):h===r?m:void 0;if(l&&!Gu(y)&&(y=Qf(u,r)),Gu(y)&&(a=y,s))return a;let C=t[i+1];i=s?li(C):So(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Qf(u,r))}return a}function Gu(t){return t!==void 0}function QO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=St(yx(t)))),t}function YO(t,e){return(t.flags&(e?8:16))!==0}function z(t,e,n,r){let i=Pe(),o=vn(),s=pn+t,a=i[it],u=o.firstCreatePass?kb(s,o,i,e,Eg,tg(),n,r):o.data[s],l=ZO(o,i,u,a,e,t);i[s]=l;let h=tl(u);return pi(u,!0),hb(a,l,u),!yb(u)&&il()&&fl(o,i,l,u),(hP()===0||h)&&Mo(l,i),fP(),h&&(hl(o,i,u),mg(o,u,i)),r!==null&&wg(i,u),z}function Q(){let t=sn();ng()?ET():(t=t.parent,pi(t,!1));let e=t;mP(e)&&yP(),pP();let n=vn();return n.firstCreatePass&&Ob(n,e),e.classesWithoutHost!=null&&PP(e)&&PE(n,e,Pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xP(e)&&PE(n,e,Pe(),e.stylesWithoutHost,!1),Q}function Ae(t,e,n,r){return z(t,e,n,r),Q(),Ae}var ZO=(t,e,n,r,i,o)=>(ol(!0),lb(r,i,RP()));function JO(t,e,n,r,i){let o=e.consts,s=To(o,r),a=ml(e,t,8,"ng-container",s);s!==null&&kp(a,s,!0);let u=To(o,i);return tg()&&Rg(e,n,a,u,Eg),a.mergedAttrs=sl(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function ha(t,e,n){let r=Pe(),i=vn(),o=t+pn,s=i.firstCreatePass?JO(o,i,r,e,n):i.data[o];pi(s,!0);let a=XO(i,r,s,t);return r[o]=a,il()&&fl(i,r,a,s),Mo(a,r),tl(s)&&(hl(i,r,s),mg(i,s,r)),n!=null&&wg(r,s),ha}function fa(){let t=sn(),e=vn();return ng()?ET():(t=t.parent,pi(t,!1)),e.firstCreatePass&&(og(e,t),Jp(t)&&e.queries.elementEnd(t)),fa}var XO=(t,e,n,r)=>(ol(!0),Ox(e[it],""));function ko(){return Pe()}var Ku="en-US";var e1=Ku;function t1(t){typeof t=="string"&&(e1=t.toLowerCase().replace(/_/g,"-"))}function kE(t,e,n){return function r(i){if(i===Function)return n;let o=Ro(t)?mn(t.index,e):e;Ag(o,5);let s=e[Rt],a=OE(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=OE(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function OE(t,e,n,r){let i=fe(null);try{return De(6,e,n),n(r)!==!1}catch(o){return n1(t,o),!1}finally{De(7,e,n),fe(i)}}function n1(t,e){let n=t[Io],r=n?n.get(zn,null):null;r&&r.handleError(e)}function FE(t,e,n,r,i,o){let s=e[n],a=e[pe],l=a.data[n].outputs[r],h=s[l],p=a.firstCreatePass?IT(a):null,m=_T(e),y=h.subscribe(o),C=m.length;m.push(o,y),p&&p.push(i,t.index,C,-(C+1))}function ze(t,e,n,r){let i=Pe(),o=vn(),s=sn();return i1(o,i,i[it],s,t,e,r),ze}function r1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ku],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function i1(t,e,n,r,i,o,s){let a=tl(r),l=t.firstCreatePass?IT(t):null,h=_T(e),p=!0;if(r.type&3||s){let m=Kn(r,e),y=s?s(m):m,C=h.length,N=s?L=>s(gn(L[r.index])):r.index,R=null;if(!s&&a&&(R=r1(t,e,i,r.index)),R!==null){let L=R.__ngLastListenerFn__||R;L.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=kE(r,e,o),gx(e,y,i,o);let L=n.listen(y,i,o);h.push(o,L),l&&l.push(i,N,C,C+1)}}else o=kE(r,e,o);if(p){let m=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let C=0;C<y.length;C+=2){let N=y[C],R=y[C+1];FE(r,e,N,R,i,o)}if(m&&m.length)for(let C of m)FE(r,e,C,i,i,o)}}function Cr(t=1){return SP(t)}function ue(t,e=""){let n=Pe(),r=vn(),i=t+pn,o=r.firstCreatePass?ml(r,i,1,e,null):r.data[i],s=o1(r,n,o,e,t);n[i]=s,il()&&fl(r,n,s,o),pi(o,!1)}var o1=(t,e,n,r,i)=>(ol(!0),xx(e[it],r));function pa(t){return qb("",t,""),pa}function qb(t,e,n){let r=Pe(),i=kO(r,t,e,n);return i!==Qn&&Wb(r,gi(),i),qb}function Pg(t,e,n,r,i){let o=Pe(),s=OO(o,t,e,n,r,i);return s!==Qn&&Wb(o,gi(),s),Pg}function Wb(t,e,n){let r=pT(e,t);kx(t[it],r,n)}function Gb(t,e,n,r,i,o,s){return a1(Pe(),_P(),t,e,n,r,i,o,s)}function s1(t,e){let n=t[e];return n===Qn?void 0:n}function a1(t,e,n,r,i,o,s,a,u){let l=e+n;return TO(t,l,i,o,s,a)?EO(t,l+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):s1(t,l+4)}var aa=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Kb=new aa("19.2.15"),$p=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Qb=(()=>{class t{compileModuleSync(n){return new Lp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=nT(n),o=cb(i.declarations).reduce((s,a)=>{let u=_o(a);return u&&s.push(new ia(u)),s},[]);return new $p(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var c1=(()=>{class t{zone=x(ye);changeDetectionScheduler=x(bo);applicationRef=x(ui);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),u1=new U("",{factory:()=>!1});function Yb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ye(we(F({},Jb()),{scheduleInRootZone:n})),[{provide:ye,useFactory:t},{provide:Xs,multi:!0,useFactory:()=>{let r=x(c1,{optional:!0});return()=>r.initialize()}},{provide:Xs,multi:!0,useFactory:()=>{let r=x(l1);return()=>{r.initialize()}}},e===!0?{provide:WT,useValue:!0}:[],{provide:GT,useValue:n??qT}]}function Zb(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Yb({ngZoneFactory:()=>{let i=Jb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&gg("NgZone_CoalesceEvent"),new ye(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return rn([{provide:u1,useValue:!0},{provide:cg,useValue:!1},r])}function Jb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var l1=(()=>{class t{subscription=new Me;initialized=!1;zone=x(ye);pendingTasks=x(mi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var d1=(()=>{class t{appRef=x(ui);taskService=x(mi);ngZone=x(ye);zonelessEnabled=x(cg);tracing=x(ll,{optional:!0});disableScheduling=x(WT,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Me;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($u):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(GT,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Tp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?gE:KT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($u+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function h1(){return typeof $localize<"u"&&$localize.locale||Ku}var xg=new U("",{providedIn:"root",factory:()=>x(xg,te.Optional|te.SkipSelf)||h1()});var Hp=new U(""),f1=new U("");function Qs(t){return!t.moduleRef}function p1(t){let e=Qs(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ye);return n.run(()=>{Qs(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(zn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Qs(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Hp);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Hp);s.add(o),t.moduleRef.onDestroy(()=>{Du(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return m1(r,n,()=>{let o=e.get(Hb);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(xg,Ku);if(t1(s||Ku),!e.get(f1,!0))return Qs(t)?e.get(ui):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Qs(t)){let u=e.get(ui);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return g1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function g1(t,e){let n=t.injector.get(ui);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new j(-403,!1);e.push(t)}function m1(t,e,n){try{let r=n();return da(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Cu=null;function y1(t=[],e){return Ke.create({name:e,providers:[{provide:Xu,useValue:"platform"},{provide:Hp,useValue:new Set([()=>Cu=null])},...t]})}function v1(t=[]){if(Cu)return Cu;let e=y1(t);return Cu=e,NO(),_1(e),e}function _1(t){let e=t.get(fg,null);Tt(t,()=>{e?.forEach(n=>n())})}function kg(){return!1}var Og=(()=>{class t{static __NG_ELEMENT_ID__=I1}return t})();function I1(t){return w1(sn(),Pe(),(t&16)===16)}function w1(t,e,n){if(Ro(t)&&!n){let r=mn(t.index,e);return new ra(r,r)}else if(t.type&175){let r=e[fn];return new ra(r,e)}return null}var zp=class{constructor(){}supports(e){return jb(e)}create(e){return new qp(e)}},E1=(t,e)=>e,qp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||E1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<LE(r,i,o)?n:r,a=LE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,C=y+m;h<=C&&C<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!jb(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,IO(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Wp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Qu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Qu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Wp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Gp=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Qu=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Gp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function LE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function VE(){return new Fg([new zp])}var Fg=(()=>{class t{factories;static \u0275prov=B({token:t,providedIn:"root",factory:VE});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||VE()),deps:[[t,new BM,new ft]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new j(901,!1)}}return t})();function Xb(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;De(8);try{let o=i?.injector??v1(r),s=[Yb({}),{provide:bo,useExisting:d1},...n||[]],a=new Wu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return p1({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{De(9)}}var jE=class{[dn];constructor(e){this[dn]=e}destroy(){this[dn].destroy()}};var gt=new U("");var nD=null;function Xn(){return nD}function Lg(t){nD??=t}var ga=class{},Vg=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(rD),providedIn:"platform"})}return t})();var rD=(()=>{class t extends Vg{_location;_history;_doc=x(gt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xn().getBaseHref(this._doc)}onPopState(n){let r=Xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function iD(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function eD(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Sr(t){return t&&t[0]!=="?"?`?${t}`:t}var Il=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(sD),providedIn:"root"})}return t})(),oD=new U(""),sD=(()=>{class t extends Il{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return iD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Sr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Sr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Sr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ne(Vg),ne(oD,8))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Oo=(()=>{class t{_subject=new tt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=D1(eD(tD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Sr(r))}normalize(n){return t.stripTrailingSlash(b1(this._basePath,tD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Sr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Sr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Sr;static joinWithSlash=iD;static stripTrailingSlash=eD;static \u0275fac=function(r){return new(r||t)(ne(Il))};static \u0275prov=B({token:t,factory:()=>T1(),providedIn:"root"})}return t})();function T1(){return new Oo(ne(Il))}function b1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function tD(t){return t.replace(/\/index.html$/,"")}function D1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var jg=/\s+/,aD=[],Ug=(()=>{class t{_ngEl;_renderer;initialClasses=aD;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(jg):aD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(jg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(jg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(Yn(dg),Yn(Pb))};static \u0275dir=xo({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var wl=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Tl=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new wl(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),cD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);cD(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Yn(Po),Yn(gl),Yn(Fg))};static \u0275dir=xo({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function cD(t,e){t.context.$implicit=e.item}var yi=(()=>{class t{_viewContainer;_context=new El;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){uD(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){uD(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Yn(Po),Yn(gl))};static \u0275dir=xo({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),El=class{$implicit=null;ngIf=null};function uD(t,e){if(t&&!t.createEmbeddedView)throw new j(2020,!1)}var mt=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=_l({type:t});static \u0275inj=Yu({})}return t})();function Bg(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var bl="browser",lD="server";function Dl(t){return t===bl}function Cl(t){return t===lD}var ma=class{};var Rl=new U(""),qg=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ne(Rl),ne(ye))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),va=class{_doc;constructor(e){this._doc=e}manager},Sl="ng-app-id";function dD(t){for(let e of t)e.remove()}function hD(t,e){let n=e.createElement("style");return n.textContent=t,n}function S1(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Sl}="${e}"],link[${Sl}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Sl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Hg(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Wg=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Cl(o),S1(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,hD);r?.forEach(i=>this.addUsage(i,this.external,Hg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(dD(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])dD(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,hD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Hg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Sl,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ne(gt),ne(hg),ne(pg,8),ne(_n))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),$g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gg=/%COMP%/g;var pD="%COMP%",A1=`_nghost-${pD}`,R1=`_ngcontent-${pD}`,N1=!0,M1=new U("",{providedIn:"root",factory:()=>N1});function P1(t){return R1.replace(Gg,t)}function x1(t){return A1.replace(Gg,t)}function gD(t,e){return e.map(n=>n.replace(Gg,t))}var Kg=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Cl(a),this.defaultRenderer=new _a(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===yn.ShadowDom&&(r=we(F({},r),{encapsulation:yn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Al?i.applyToHost(n):i instanceof Ia&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case yn.Emulated:o=new Al(u,l,r,this.appId,h,s,a,p,m);break;case yn.ShadowDom:return new zg(u,l,n,r,s,a,this.nonce,p,m);default:o=new Ia(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ne(qg),ne(Wg),ne(hg),ne(M1),ne(gt),ne(_n),ne(ye),ne(pg),ne(ll,8))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),_a=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS($g[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(fD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=$g[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=$g[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(qn.DashCase|qn.Important)?e.style.setProperty(n,r,i&qn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&qn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Xn().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function fD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var zg=class extends _a{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=gD(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Hg(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ia=class extends _a{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?gD(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Al=class extends Ia{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=P1(h),this.hostAttr=x1(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Nl=class t extends ga{supportsDOMEvents=!0;static makeCurrent(){Lg(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=k1();return n==null?null:O1(n)}resetBaseElement(){wa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Bg(document.cookie,e)}},wa=null;function k1(){return wa=wa||document.head.querySelector("base"),wa?wa.getAttribute("href"):null}function O1(t){return new URL(t,document.baseURI).pathname}var F1=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),yD=(()=>{class t extends va{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ne(gt))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})(),mD=["alt","control","meta","shift"],L1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},V1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},vD=(()=>{class t extends va{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),mD.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=L1[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),mD.forEach(s=>{if(s!==i){let a=V1[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ne(gt))};static \u0275prov=B({token:t,factory:t.\u0275fac})}return t})();function Qg(t,e,n){return Xb(F({rootComponent:t,platformRef:n?.platformRef},j1(e)))}function j1(t){return{appProviders:[...z1,...t?.providers??[]],platformProviders:H1}}function U1(){Nl.makeCurrent()}function B1(){return new zn}function $1(){return rb(document),document}var H1=[{provide:_n,useValue:bl},{provide:fg,useValue:U1,multi:!0},{provide:gt,useFactory:$1}];var z1=[{provide:Xu,useValue:"root"},{provide:zn,useFactory:B1},{provide:Rl,useClass:yD,multi:!0,deps:[gt]},{provide:Rl,useClass:vD,multi:!0,deps:[gt]},Kg,Wg,qg,{provide:Do,useExisting:Kg},{provide:ma,useClass:F1},[]];var _D=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ne(gt))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ee="primary",Oa=Symbol("RouteTitle"),em=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ii(t){return new em(t)}function SD(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function W1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!wn(t[n],e[n]))return!1;return!0}function wn(t,e){let n=t?tm(t):void 0,r=e?tm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!AD(t[i],e[i]))return!1;return!0}function tm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function AD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function RD(t){return t.length>0?t[t.length-1]:null}function Nr(t){return Wf(t)?t:da(t)?ke(Promise.resolve(t)):K(t)}var G1={exact:MD,subset:PD},ND={exact:K1,subset:Q1,ignored:()=>!0};function ID(t,e,n){return G1[n.paths](t.root,e.root,n.matrixParams)&&ND[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function K1(t,e){return wn(t,e)}function MD(t,e,n){if(!vi(t.segments,e.segments)||!xl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!MD(t.children[r],e.children[r],n))return!1;return!0}function Q1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>AD(t[n],e[n]))}function PD(t,e,n){return xD(t,e,e.segments,n)}function xD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!vi(i,n)||e.hasChildren()||!xl(i,n,r))}else if(t.segments.length===n.length){if(!vi(t.segments,n)||!xl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!PD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!vi(t.segments,i)||!xl(t.segments,i,r)||!t.children[ee]?!1:xD(t.children[ee],e,o,r)}}function xl(t,e,n){return e.every((r,i)=>ND[n](t[i].parameters,r.parameters))}var Tn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ii(this.queryParams),this._queryParamMap}toString(){return J1.serialize(this)}},me=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kl(this)}},Ar=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ii(this.parameters),this._parameterMap}toString(){return OD(this)}};function Y1(t,e){return vi(t,e)&&t.every((n,r)=>wn(n.parameters,e[r].parameters))}function vi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Z1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ee&&(n=n.concat(e(i,r)))}),n}var Fa=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>new wi,providedIn:"root"})}return t})(),wi=class{parse(e){let n=new rm(e);return new Tn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ea(e.root,!0)}`,r=tF(e.queryParams),i=typeof e.fragment=="string"?`#${X1(e.fragment)}`:"";return`${n}${r}${i}`}},J1=new wi;function kl(t){return t.segments.map(e=>OD(e)).join("/")}function Ea(t,e){if(!t.hasChildren())return kl(t);if(e){let n=t.children[ee]?Ea(t.children[ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ee&&r.push(`${i}:${Ea(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Z1(t,(r,i)=>i===ee?[Ea(t.children[ee],!1)]:[`${i}:${Ea(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${kl(t)}/${n[0]}`:`${kl(t)}/(${n.join("//")})`}}function kD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ml(t){return kD(t).replace(/%3B/gi,";")}function X1(t){return encodeURI(t)}function nm(t){return kD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ol(t){return decodeURIComponent(t)}function wD(t){return Ol(t.replace(/\+/g,"%20"))}function OD(t){return`${nm(t.path)}${eF(t.parameters)}`}function eF(t){return Object.entries(t).map(([e,n])=>`;${nm(e)}=${nm(n)}`).join("")}function tF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ml(n)}=${Ml(i)}`).join("&"):`${Ml(n)}=${Ml(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var nF=/^[^\/()?;#]+/;function Yg(t){let e=t.match(nF);return e?e[0]:""}var rF=/^[^\/()?;=#]+/;function iF(t){let e=t.match(rF);return e?e[0]:""}var oF=/^[^=?&#]+/;function sF(t){let e=t.match(oF);return e?e[0]:""}var aF=/^[^&#]+/;function cF(t){let e=t.match(aF);return e?e[0]:""}var rm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ee]=new me(e,n)),r}parseSegment(){let e=Yg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Ar(Ol(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=iF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Yg(this.remaining);i&&(r=i,this.capture(r))}e[Ol(n)]=Ol(r)}parseQueryParam(e){let n=sF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=cF(this.remaining);s&&(r=s,this.capture(r))}let i=wD(n),o=wD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Yg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ee);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ee]:new me([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function FD(t){return t.segments.length>0?new me([],{[ee]:t}):t}function LD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=LD(i);if(r===ee&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new me(t.segments,e);return uF(n)}function uF(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new me(t.segments.concat(e.segments),e.children)}return t}function Uo(t){return t instanceof Tn}function VD(t,e,n=null,r=null){let i=jD(t);return UD(i,e,n,r)}function jD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new me(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=FD(r);return e??i}function UD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Zg(i,i,i,n,r);let o=lF(e);if(o.toRoot())return Zg(i,i,new me([],{}),n,r);let s=dF(o,i,t),a=s.processChildren?ba(s.segmentGroup,s.index,o.commands):$D(s.segmentGroup,s.index,o.commands);return Zg(i,s.segmentGroup,a,n,r)}function Ll(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ca(t){return typeof t=="object"&&t!=null&&t.outlets}function Zg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=BD(t,e,n);let a=FD(LD(s));return new Tn(a,o,i)}function BD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=BD(o,e,n)}),new me(t.segments,r)}var Vl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ll(r[0]))throw new j(4003,!1);let i=r.find(Ca);if(i&&i!==RD(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Vl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Vl(n,e,r)}var Vo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function dF(t,e,n){if(t.isAbsolute)return new Vo(e,!0,0);if(!n)return new Vo(e,!1,NaN);if(n.parent===null)return new Vo(n,!0,0);let r=Ll(t.commands[0])?0:1,i=n.segments.length-1+r;return hF(n,i,t.numberOfDoubleDots)}function hF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new Vo(r,!1,i-o)}function fF(t){return Ca(t[0])?t[0].outlets:{[ee]:t}}function $D(t,e,n){if(t??=new me([],{}),t.segments.length===0&&t.hasChildren())return ba(t,e,n);let r=pF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new me(t.segments.slice(0,r.pathIndex),{});return o.children[ee]=new me(t.segments.slice(r.pathIndex),t.children),ba(o,0,i)}else return r.match&&i.length===0?new me(t.segments,{}):r.match&&!t.hasChildren()?im(t,e,n):r.match?ba(t,0,i):im(t,e,n)}function ba(t,e,n){if(n.length===0)return new me(t.segments,{});{let r=fF(n),i={};if(Object.keys(r).some(o=>o!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let o=ba(t.children[ee],e,n);return new me(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=$D(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new me(t.segments,i)}}function pF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Ca(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!TD(u,l,s))return o;r+=2}else{if(!TD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function im(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Ca(o)){let u=gF(o.outlets);return new me(r,u)}if(i===0&&Ll(n[0])){let u=t.segments[e];r.push(new Ar(u.path,ED(n[0]))),i++;continue}let s=Ca(o)?o.outlets[ee]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ll(a)?(r.push(new Ar(s,ED(a))),i+=2):(r.push(new Ar(s,{})),i++)}return new me(r,{})}function gF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=im(new me([],{}),0,r))}),e}function ED(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function TD(t,e,n){return t==n.path&&wn(e,n.parameters)}var Fl="imperative",Ye=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ye||{}),Ft=class{id;url;constructor(e,n){this.id=e,this.url=n}},Ei=class extends Ft{type=Ye.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},er=class extends Ft{urlAfterRedirects;type=Ye.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Nt||{}),Sa=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Sa||{}),En=class extends Ft{reason;code;type=Ye.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},tr=class extends Ft{reason;code;type=Ye.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Bo=class extends Ft{error;target;type=Ye.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Aa=class extends Ft{urlAfterRedirects;state;type=Ye.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jl=class extends Ft{urlAfterRedirects;state;type=Ye.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ul=class extends Ft{urlAfterRedirects;state;shouldActivate;type=Ye.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Bl=class extends Ft{urlAfterRedirects;state;type=Ye.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$l=class extends Ft{urlAfterRedirects;state;type=Ye.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hl=class{route;type=Ye.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zl=class{route;type=Ye.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ql=class{snapshot;type=Ye.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wl=class{snapshot;type=Ye.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gl=class{snapshot;type=Ye.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kl=class{snapshot;type=Ye.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ra=class{},$o=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function mF(t,e){return t.providers&&!t._injector&&(t._injector=vl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function an(t){return t.outlet||ee}function yF(t,e){let n=t.filter(r=>an(r)===e);return n.push(...t.filter(r=>an(r)!==e)),n}function La(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ql=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return La(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new qo(this.rootInjector)}},qo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Ql(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ne(At))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=om(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=om(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=sm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sm(e,this._root).map(n=>n.value)}};function om(t,e){if(t===e.value)return e;for(let n of e.children){let r=om(t,n);if(r)return r}return null}function sm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=sm(t,n);if(r.length)return r.unshift(e),r}return[]}var Ot=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Lo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Na=class extends Yl{snapshot;constructor(e,n){super(e),this.snapshot=n,pm(this,e)}toString(){return this.snapshot.toString()}};function HD(t){let e=vF(t),n=new nt([new Ar("",{})]),r=new nt({}),i=new nt({}),o=new nt({}),s=new nt(""),a=new Rr(n,r,o,s,i,ee,t,e.root);return a.snapshot=e.root,new Na(new Ot(a,[]),e)}function vF(t){let e={},n={},r={},i="",o=new _i([],e,r,i,n,ee,t,null,{});return new Ma("",new Ot(o,[]))}var Rr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ce(l=>l[Oa]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>Ii(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>Ii(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&qD(i)&&(r.resolve[Oa]=i.title),r}var _i=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Oa]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ii(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ii(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ma=class extends Yl{url;constructor(e,n){super(n),this.url=e,pm(this,n)}toString(){return zD(this._root)}};function pm(t,e){e.value._routerState=t,e.children.forEach(n=>pm(t,n))}function zD(t){let e=t.children.length>0?` { ${t.children.map(zD).join(", ")} } `:"";return`${t.value}${e}`}function Jg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),wn(e.params,n.params)||t.paramsSubject.next(n.params),W1(e.url,n.url)||t.urlSubject.next(n.url),wn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function am(t,e){let n=wn(t.params,e.params)&&Y1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||am(t.parent,e.parent))}function qD(t){return typeof t.title=="string"||t.title===null}var WD=new U(""),Va=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ee;activateEvents=new Ge;deactivateEvents=new Ge;attachEvents=new Ge;detachEvents=new Ge;routerOutletData=YT(void 0);parentContexts=x(qo);location=x(Po);changeDetector=x(Og);inputBinder=x(td,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new cm(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=xo({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Xp]})}return t})(),cm=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Rr?this.route:e===qo?this.childContexts:e===WD?this.outletData:this.parent.get(e,n)}},td=new U("");var gm=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Qe({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ae(0,"router-outlet")},dependencies:[Va],encapsulation:2})}return t})();function mm(t){let e=t.children&&t.children.map(mm),n=e?we(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=gm),n}function _F(t,e,n){let r=Pa(t,e._root,n?n._root:void 0);return new Na(r,e)}function Pa(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=IF(t,e,n);return new Ot(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pa(t,a)),s}}let r=wF(e.value),i=e.children.map(o=>Pa(t,o));return new Ot(r,i)}}function IF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Pa(t,r,i);return Pa(t,r)})}function wF(t){return new Rr(new nt(t.url),new nt(t.params),new nt(t.queryParams),new nt(t.fragment),new nt(t.data),t.outlet,t.component,t)}var Ho=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},GD="ngNavigationCancelingError";function Jl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Uo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=KD(!1,Nt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function KD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[GD]=!0,n.cancellationCode=e,n}function EF(t){return QD(t)&&Uo(t.url)}function QD(t){return!!t&&t[GD]}var TF=(t,e,n,r)=>ce(i=>(new um(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),um=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Jg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Lo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Lo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Lo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Lo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Kl(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Wl(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Jg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Xl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},jo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function bF(t,e,n){let r=t._root,i=e?e._root:null;return Ta(r,i,n,[r.value])}function DF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Wo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!qE(t)?t:e.get(t):r}function Ta(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Lo(e);return t.children.forEach(s=>{CF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Da(a,n.getContext(s),i)),i}function CF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=SF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Xl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ta(t,e,a?a.children:null,r,i):Ta(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jo(a.outlet.component,s))}else s&&Da(e,a,i),i.canActivateChecks.push(new Xl(r)),o.component?Ta(t,null,a?a.children:null,r,i):Ta(t,null,n,r,i);return i}function SF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!vi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!vi(t.url,e.url)||!wn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!am(t,e)||!wn(t.queryParams,e.queryParams);case"paramsChange":default:return!am(t,e)}}function Da(t,e,n){let r=Lo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Da(s,e.children.getContext(o),n):Da(s,null,n):Da(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new jo(e.outlet.component,i)):n.canDeactivateChecks.push(new jo(null,i)):n.canDeactivateChecks.push(new jo(null,i))}function ja(t){return typeof t=="function"}function AF(t){return typeof t=="boolean"}function RF(t){return t&&ja(t.canLoad)}function NF(t){return t&&ja(t.canActivate)}function MF(t){return t&&ja(t.canActivateChild)}function PF(t){return t&&ja(t.canDeactivate)}function xF(t){return t&&ja(t.canMatch)}function YD(t){return t instanceof Bn||t?.name==="EmptyError"}var Pl=Symbol("INITIAL_VALUE");function zo(){return Xt(t=>gu(t.map(e=>e.pipe($n(1),_u(Pl)))).pipe(ce(e=>{for(let n of e)if(n!==!0){if(n===Pl)return Pl;if(n===!1||kF(n))return n}return!0}),Ut(e=>e!==Pl),$n(1)))}function kF(t){return Uo(t)||t instanceof Ho}function OF(t,e){return He(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?K(we(F({},n),{guardsResult:!0})):FF(s,r,i,t).pipe(He(a=>a&&AF(a)?LF(r,o,t,e):K(a)),ce(a=>we(F({},n),{guardsResult:a})))})}function FF(t,e,n,r){return ke(t).pipe(He(i=>$F(i.component,i.route,n,e,r)),Hn(i=>i!==!0,!0))}function LF(t,e,n,r){return ke(e).pipe(lo(i=>uo(jF(i.route.parent,r),VF(i.route,r),BF(t,i.path,n),UF(t,i.route,n))),Hn(i=>i!==!0,!0))}function VF(t,e){return t!==null&&e&&e(new Gl(t)),K(!0)}function jF(t,e){return t!==null&&e&&e(new ql(t)),K(!0)}function UF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>mu(()=>{let s=La(e)??n,a=Wo(o,s),u=NF(a)?a.canActivate(e,t):Tt(s,()=>a(e,t));return Nr(u).pipe(Hn())}));return K(i).pipe(zo())}function BF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>DF(s)).filter(s=>s!==null).map(s=>mu(()=>{let a=s.guards.map(u=>{let l=La(s.node)??n,h=Wo(u,l),p=MF(h)?h.canActivateChild(r,t):Tt(l,()=>h(r,t));return Nr(p).pipe(Hn())});return K(a).pipe(zo())}));return K(o).pipe(zo())}function $F(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(a=>{let u=La(e)??i,l=Wo(a,u),h=PF(l)?l.canDeactivate(t,e,n,r):Tt(u,()=>l(t,e,n,r));return Nr(h).pipe(Hn())});return K(s).pipe(zo())}function HF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let a=Wo(s,t),u=RF(a)?a.canLoad(e,n):Tt(t,()=>a(e,n));return Nr(u)});return K(o).pipe(zo(),ZD(r))}function ZD(t){return eu(rt(e=>{if(typeof e!="boolean")throw Jl(t,e)}),ce(e=>e===!0))}function zF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let a=Wo(s,t),u=xF(a)?a.canMatch(e,n):Tt(t,()=>a(e,n));return Nr(u)});return K(o).pipe(zo(),ZD(r))}var xa=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ka=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Fo(t){return co(new xa(t))}function qF(t){return co(new j(4e3,!1))}function WF(t){return co(KD(!1,Nt.GuardRejected))}var lm=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[ee])return qF(`${e.redirectTo}`);i=i.children[ee]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:N}=i,R=Tt(o,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(R instanceof Tn)throw new ka(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ka(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Tn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new me(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},dm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GF(t,e,n,r,i){let o=JD(t,e,n);return o.matched?(r=mF(e,r),zF(r,e,n,i).pipe(ce(s=>s===!0?o:F({},dm)))):K(o)}function JD(t,e,n){if(e.path==="**")return KF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},dm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||SD)(n,t,e);if(!i)return F({},dm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function KF(t){return{matched:!0,parameters:t.length>0?RD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function bD(t,e,n,r){return n.length>0&&ZF(t,n,r)?{segmentGroup:new me(e,YF(r,new me(n,t.children))),slicedSegments:[]}:n.length===0&&JF(t,n,r)?{segmentGroup:new me(t.segments,QF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new me(t.segments,t.children),slicedSegments:n}}function QF(t,e,n,r){let i={};for(let o of n)if(nd(t,e,o)&&!r[an(o)]){let s=new me([],{});i[an(o)]=s}return F(F({},r),i)}function YF(t,e){let n={};n[ee]=e;for(let r of t)if(r.path===""&&an(r)!==ee){let i=new me([],{});n[an(r)]=i}return n}function ZF(t,e,n){return n.some(r=>nd(t,e,r)&&an(r)!==ee)}function JF(t,e,n){return n.some(r=>nd(t,e,r))}function nd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function XF(t,e,n){return e.length===0&&!t.children[n]}var hm=class{};function eL(t,e,n,r,i,o,s="emptyOnly"){return new fm(t,e,n,r,i,s,o).recognize()}var tL=31,fm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new lm(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=bD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(({children:n,rootSnapshot:r})=>{let i=new Ot(r,n),o=new Ma("",i),s=VD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new _i([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ee,n).pipe(ce(r=>({children:r,rootSnapshot:n})),wr(r=>{if(r instanceof ka)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ce(s=>s instanceof Ot?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ke(o).pipe(lo(s=>{let a=r.children[s],u=yF(n,s);return this.processSegmentGroup(e,u,a,s,i)}),vu((s,a)=>(s.push(...a),s)),Er(null),Gf(),He(s=>{if(s===null)return Fo(r);let a=XD(s);return nL(a),K(a)}))}processSegment(e,n,r,i,o,s,a){return ke(n).pipe(lo(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(wr(l=>{if(l instanceof xa)return K(null);throw l}))),Hn(u=>!!u),wr(u=>{if(YD(u))return XF(r,i,o)?K(new hm):Fo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return an(r)!==s&&(s===ee||!nd(i,o,r))?Fo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Fo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=JD(n,i,o);if(!u)return Fo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tL&&(this.allowRedirects=!1));let y=new _i(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,DD(i),an(i),i.component??i._loadedComponent??null,i,CD(i)),C=Zl(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(He(R=>this.processSegment(e,r,n,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=GF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Xt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Xt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new _i(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,DD(r),an(r),r.component??r._loadedComponent??null,r,CD(r)),N=Zl(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:L}=bD(n,m,y,l);if(L.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(ce(G=>new Ot(C,G)));if(l.length===0&&L.length===0)return K(new Ot(C,[]));let q=an(r)===o;return this.processSegment(h,l,R,L,q?ee:o,!0,C).pipe(ce(G=>new Ot(C,G instanceof Ot?[G]:[])))}))):Fo(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):HF(e,n,r,this.urlSerializer).pipe(He(i=>i?this.configLoader.loadChildren(e,n).pipe(rt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):WF(n))):K({routes:[],injector:e})}};function nL(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}function rL(t){let e=t.value.routeConfig;return e&&e.path===""}function XD(t){let e=[],n=new Set;for(let r of t){if(!rL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=XD(r.children);e.push(new Ot(r.value,i))}return e.filter(r=>!n.has(r))}function DD(t){return t.data||{}}function CD(t){return t.resolve||{}}function iL(t,e,n,r,i,o){return He(s=>eL(t,e,n,r,s.extractedUrl,i,o).pipe(ce(({state:a,tree:u})=>we(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function oL(t,e){return He(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of eC(u))s.add(l);let a=0;return ke(s).pipe(lo(u=>o.has(u)?sL(u,r,t,e):(u.data=Zl(u,u.parent,t).resolve,K(void 0))),rt(()=>a++),ho(1),He(u=>a===s.size?K(n):Dt))})}function eC(t){let e=t.children.map(n=>eC(n)).flat();return[t,...e]}function sL(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!qD(i)&&(o[Oa]=i.title),aL(o,t,e,r).pipe(ce(s=>(t._resolvedData=s,t.data=Zl(t,t.parent,n).resolve,null)))}function aL(t,e,n,r){let i=tm(t);if(i.length===0)return K({});let o={};return ke(i).pipe(He(s=>cL(t[s],e,n,r).pipe(Hn(),rt(a=>{if(a instanceof Ho)throw Jl(new wi,a);o[s]=a}))),ho(1),ce(()=>o),wr(s=>YD(s)?Dt:co(s)))}function cL(t,e,n,r){let i=La(e)??r,o=Wo(t,i),s=o.resolve?o.resolve(e,n):Tt(i,()=>o(e,n));return Nr(s)}function Xg(t){return Xt(e=>{let n=t(e);return n?ke(n).pipe(ce(()=>e)):K(e)})}var ym=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ee);return r}getResolvedTitleForRoute(n){return n.data[Oa]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(tC),providedIn:"root"})}return t})(),tC=(()=>{class t extends ym{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ne(_D))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ua=new U("",{providedIn:"root",factory:()=>({})}),Ba=new U(""),nC=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(Qb);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return K(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Nr(n.loadComponent()).pipe(ce(iC),rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ks(()=>{this.componentLoaders.delete(n)})),i=new io(r,()=>new tt).pipe(ro());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=rC(r,this.compiler,n,this.onLoadEndListener).pipe(Ks(()=>{this.childrenLoaders.delete(r)})),s=new io(o,()=>new tt).pipe(ro());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rC(t,e,n,r){return Nr(t.loadChildren()).pipe(ce(iC),He(i=>i instanceof Ng||Array.isArray(i)?K(i):ke(e.compileModuleAsync(i))),ce(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ba,[],{optional:!0,self:!0}).flat()),{routes:s.map(mm),injector:o}}))}function uL(t){return t&&typeof t=="object"&&"default"in t}function iC(t){return uL(t)?t.default:t}var rd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(lL),providedIn:"root"})}return t})(),lL=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oC=new U("");var sC=new U(""),aC=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new tt;transitionAbortSubject=new tt;configLoader=x(nC);environmentInjector=x(At);destroyRef=x(la);urlSerializer=x(Fa);rootContexts=x(qo);location=x(Oo);inputBindingEnabled=x(td,{optional:!0})!==null;titleStrategy=x(ym);options=x(Ua,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(rd);createViewTransition=x(oC,{optional:!0});navigationErrorHandler=x(sC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Hl(i)),r=i=>this.events.next(new zl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(we(F({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new nt(null),this.transitions.pipe(Ut(r=>r!==null),Xt(r=>{let i=!1,o=!1;return K(r).pipe(Xt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Nt.SupersededByNewNavigation),Dt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?we(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new tr(s.id,this.urlSerializer.serialize(s.rawUrl),l,Sa.IgnoredSameUrlNavigation)),s.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return K(s).pipe(Xt(l=>(this.events.next(new Ei(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Dt:Promise.resolve(l))),iL(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),rt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=we(F({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Aa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:m,extras:y}=s,C=new Ei(l,this.urlSerializer.serialize(h),p,m);this.events.next(C);let N=HD(this.rootComponentType).snapshot;return this.currentTransition=r=we(F({},s),{targetSnapshot:N,urlAfterRedirects:h,extras:we(F({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,K(r)}else{let l="";return this.events.next(new tr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Sa.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Dt}}),rt(s=>{let a=new jl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ce(s=>(this.currentTransition=r=we(F({},s),{guards:bF(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),OF(this.environmentInjector,s=>this.events.next(s)),rt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Jl(this.urlSerializer,s.guardsResult);let a=new Ul(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ut(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Nt.GuardRejected),!1)),Xg(s=>{if(s.guards.canActivateChecks.length!==0)return K(s).pipe(rt(a=>{let u=new Bl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Xt(a=>{let u=!1;return K(a).pipe(oL(this.paramsInheritanceStrategy,this.environmentInjector),rt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Nt.NoDataFromResolver)}}))}),rt(a=>{let u=new $l(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Xg(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(rt(h=>{u.component=h}),ce(()=>{})));for(let h of u.children)l.push(...a(h));return l};return gu(a(s.targetSnapshot.root)).pipe(Er(null),$n(1))}),Xg(()=>this.afterPreactivation()),Xt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?ke(u).pipe(ce(()=>r)):K(r)}),ce(s=>{let a=_F(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=we(F({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),rt(()=>{this.events.next(new Ra)}),TF(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),$n(1),rt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new er(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Kf(this.transitionAbortSubject.pipe(rt(s=>{throw s}))),Ks(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),wr(s=>{if(this.destroyed)return r.resolve(!1),Dt;if(o=!0,QD(s))this.events.next(new En(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),EF(s)?this.events.next(new $o(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Bo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=Tt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Ho){let{message:l,cancellationCode:h}=Jl(this.urlSerializer,u);this.events.next(new En(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new $o(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Dt}))}))}cancelNavigationTransition(n,r,i){let o=new En(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dL(t){return t!==Fl}var cC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(hL),providedIn:"root"})}return t})(),ed=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},hL=(()=>{class t extends ed{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ag(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uC=(()=>{class t{urlSerializer=x(Fa);options=x(Ua,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(Oo);urlHandlingStrategy=x(rd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Tn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Tn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=HD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:()=>x(fL),providedIn:"root"})}return t})(),fL=(()=>{class t extends uC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Ei?this.updateStateMemento():n instanceof tr?this.commitTransition(r):n instanceof Aa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ra?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof En&&(n.code===Nt.GuardRejected||n.code===Nt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Bo?this.restoreHistory(r,!0):n instanceof er&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ag(t)))(i||t)}})();static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vm(t,e){t.events.pipe(Ut(n=>n instanceof er||n instanceof En||n instanceof Bo||n instanceof tr),ce(n=>n instanceof er||n instanceof tr?0:(n instanceof En?n.code===Nt.Redirect||n.code===Nt.SupersededByNewNavigation:!1)?2:1),Ut(n=>n!==2),$n(1)).subscribe(()=>{e()})}var pL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},id=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(Ub);stateManager=x(uC);options=x(Ua,{optional:!0})||{};pendingTasks=x(mi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(aC);urlSerializer=x(Fa);location=x(Oo);urlHandlingStrategy=x(rd);_events=new tt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(cC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(Ba,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(td,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Me;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof En&&r.code!==Nt.Redirect&&r.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof er)this.navigated=!0;else if(r instanceof $o){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||dL(i.source)},s);this.scheduleNavigation(a,Fl,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}yL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(mm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=jD(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return UD(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Uo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Fl,null,r)}navigate(n,r={skipLocationChange:!1}){return mL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},pL):r===!1?i=F({},gL):i=r,Uo(n))return ID(this.currentUrlTree,n,i);let o=this.parseUrl(n);return ID(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return vm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function yL(t){return!(t instanceof Ra)&&!(t instanceof $o)}var _L=new U("");function _m(t,...e){return rn([{provide:Ba,multi:!0,useValue:t},[],{provide:Rr,useFactory:IL,deps:[id]},{provide:Mg,multi:!0,useFactory:wL},e.map(n=>n.\u0275providers)])}function IL(t){return t.routerState.root}function wL(){let t=x(Ke);return e=>{let n=t.get(ui);if(e!==n.components[0])return;let r=t.get(id),i=t.get(EL);t.get(TL)===1&&r.initialNavigation(),t.get(bL,null,te.Optional)?.setUpPreloading(),t.get(_L,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var EL=new U("",{factory:()=>new tt}),TL=new U("",{providedIn:"root",factory:()=>1});var bL=new U("");var od=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Qe({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&Ae(0,"router-outlet")},dependencies:[mt,Va],encapsulation:2})};var lC=()=>{};var fC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},CL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},sd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new wm;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},wm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},SL=function(t){let e=fC(t);return sd.encodeByteArray(e,!0)},Ha=function(t){return SL(t).replace(/\./g,"")},ad=function(t){try{return sd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var AL=()=>Tm().__FIREBASE_DEFAULTS__,RL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ad(t[1]);return e&&JSON.parse(e)},cd=()=>{try{return lC()||AL()||RL()||NL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bm=t=>{var e,n;return(n=(e=cd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pC=t=>{let e=bm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Dm=()=>{var t;return(t=cd())===null||t===void 0?void 0:t.config},Cm=t=>{var e;return(e=cd())===null||e===void 0?void 0:e[`_${t}`]};var bi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Mr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function ud(t){return v(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function gC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ha(JSON.stringify(n)),Ha(JSON.stringify(s)),""].join(".")}var $a={};function ML(){let t={prod:[],emulator:[]};for(let e of Object.keys($a))$a[e]?t.emulator.push(e):t.prod.push(e);return t}function PL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var dC=!1;function ld(t,e){if(typeof window>"u"||typeof document>"u"||!Mr(window.location.host)||$a[t]===e||$a[t]||dC)return;$a[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=ML().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{dC=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=PL(r),y=n("text"),C=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),R=document.getElementById(N)||document.createElement("a"),L=n("preprendIcon"),q=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let G=m.element;a(G),h(R,N);let Ee=l();u(q,L),G.append(q,C,R,Ee),document.body.appendChild(G)}o?(C.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function xL(){var t;let e=(t=cd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dd(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _C(){let t=Ze();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IC(){return!xL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Di(){try{return typeof indexedDB=="object"}catch{return!1}}function hd(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function wC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var kL="FirebaseError",st=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}},bt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?OL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new st(i,a,r)}};function OL(t,e){return t.replace(FL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var FL=/\{\$([^}]+)}/g;function EC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(hC(o)&&hC(s)){if(!qt(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function hC(t){return t!==null&&typeof t=="object"}function za(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function TC(t,e){let n=new Em(t,e);return n.subscribe.bind(n)}var Em=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Im),i.error===void 0&&(i.error=Im),i.complete===void 0&&(i.complete=Im);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function LL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Im(){}var VL=1e3,jL=2,UL=4*60*60*1e3,BL=.5;function fd(t,e=VL,n=jL){let r=e*Math.pow(n,t),i=Math.round(BL*r*(Math.random()-.5)*2);return Math.min(UL,r+i)}function Le(t){return t&&t._delegate?t._delegate:t}var Oe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ci="[DEFAULT]";var Sm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new bi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HL(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$L(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $L(t){return t===Ci?void 0:t}function HL(t){return t.instantiationMode==="EAGER"}var pd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Sm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var zL=[],oe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(oe||{}),qL={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},WL=oe.INFO,GL={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},KL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=GL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Wt=class{constructor(e){this.name=e,this._logLevel=WL,this._logHandler=KL,this._userLogHandler=null,zL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}};var QL=(t,e)=>e.some(n=>t instanceof n),bC,DC;function YL(){return bC||(bC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZL(){return DC||(DC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var CC=new WeakMap,Rm=new WeakMap,SC=new WeakMap,Am=new WeakMap,Mm=new WeakMap;function JL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(bn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&CC.set(n,t)}).catch(()=>{}),Mm.set(e,t),e}function XL(t){if(Rm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Rm.set(t,e)}var Nm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AC(t){Nm=t(Nm)}function eV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(gd(this),e,...n);return SC.set(r,e.sort?e.sort():[e]),bn(r)}:ZL().includes(t)?function(...e){return t.apply(gd(this),e),bn(CC.get(this))}:function(...e){return bn(t.apply(gd(this),e))}}function tV(t){return typeof t=="function"?eV(t):(t instanceof IDBTransaction&&XL(t),QL(t,YL())?new Proxy(t,Nm):t)}function bn(t){if(t instanceof IDBRequest)return JL(t);if(Am.has(t))return Am.get(t);let e=tV(t);return e!==t&&(Am.set(t,e),Mm.set(e,t)),e}var gd=t=>Mm.get(t);function md(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=bn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(bn(s.result),u.oldVersion,u.newVersion,bn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var nV=["get","getKey","getAll","getAllKeys","count"],rV=["put","add","delete","clear"],Pm=new Map;function RC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=rV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nV.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Pm.set(e,o),o}AC(t=>we(F({},t),{get:(e,n,r)=>RC(e,n)||t.get(e,n,r),has:(e,n)=>!!RC(e,n)||t.has(e,n)}));var km=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function iV(t){let e=t.getComponent();return e?.type==="VERSION"}var Om="@firebase/app",NC="0.13.2";var nr=new Wt("@firebase/app"),oV="@firebase/app-compat",sV="@firebase/analytics-compat",aV="@firebase/analytics",cV="@firebase/app-check-compat",uV="@firebase/app-check",lV="@firebase/auth",dV="@firebase/auth-compat",hV="@firebase/database",fV="@firebase/data-connect",pV="@firebase/database-compat",gV="@firebase/functions",mV="@firebase/functions-compat",yV="@firebase/installations",vV="@firebase/installations-compat",_V="@firebase/messaging",IV="@firebase/messaging-compat",wV="@firebase/performance",EV="@firebase/performance-compat",TV="@firebase/remote-config",bV="@firebase/remote-config-compat",DV="@firebase/storage",CV="@firebase/storage-compat",SV="@firebase/firestore",AV="@firebase/ai",RV="@firebase/firestore-compat",NV="firebase",MV="11.10.0";var Fm="[DEFAULT]",PV={[Om]:"fire-core",[oV]:"fire-core-compat",[aV]:"fire-analytics",[sV]:"fire-analytics-compat",[uV]:"fire-app-check",[cV]:"fire-app-check-compat",[lV]:"fire-auth",[dV]:"fire-auth-compat",[hV]:"fire-rtdb",[fV]:"fire-data-connect",[pV]:"fire-rtdb-compat",[gV]:"fire-fn",[mV]:"fire-fn-compat",[yV]:"fire-iid",[vV]:"fire-iid-compat",[_V]:"fire-fcm",[IV]:"fire-fcm-compat",[wV]:"fire-perf",[EV]:"fire-perf-compat",[TV]:"fire-rc",[bV]:"fire-rc-compat",[DV]:"fire-gcs",[CV]:"fire-gcs-compat",[SV]:"fire-fst",[RV]:"fire-fst-compat",[AV]:"fire-vertex","fire-js":"fire-js",[NV]:"fire-js-all"};var qa=new Map,xV=new Map,Lm=new Map;function MC(t,e){try{t.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function at(t){let e=t.name;if(Lm.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,t);for(let n of qa.values())MC(n,t);for(let n of xV.values())MC(n,t);return!0}function Gt(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kt(t){return t==null?!1:t.settings!==void 0}var kV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new bt("app","Firebase",kV);var Vm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}};var xr=MV;function Bm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Fm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Pr.create("bad-app-name",{appName:String(i)});if(n||(n=Dm()),!n)throw Pr.create("no-options");let o=qa.get(i);if(o){if(qt(n,o.options)&&qt(r,o.config))return o;throw Pr.create("duplicate-app",{appName:i})}let s=new pd(i);for(let u of Lm.values())s.addComponent(u);let a=new Vm(n,r,s);return qa.set(i,a),a}function Dn(t=Fm){let e=qa.get(t);if(!e&&t===Fm&&Dm())return Bm();if(!e)throw Pr.create("no-app",{appName:t});return e}function yd(){return Array.from(qa.values())}function ve(t,e,n){var r;let i=(r=PV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(a.join(" "));return}at(new Oe(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var OV="firebase-heartbeat-database",FV=1,Wa="firebase-heartbeat-store",xm=null;function OC(){return xm||(xm=md(OV,FV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pr.create("idb-open",{originalErrorMessage:t.message})})),xm}function LV(t){return v(this,null,function*(){try{let n=(yield OC()).transaction(Wa),r=yield n.objectStore(Wa).get(FC(t));return yield n.done,r}catch(e){if(e instanceof st)nr.warn(e.message);else{let n=Pr.create("idb-get",{originalErrorMessage:e?.message});nr.warn(n.message)}}})}function PC(t,e){return v(this,null,function*(){try{let r=(yield OC()).transaction(Wa,"readwrite");yield r.objectStore(Wa).put(e,FC(t)),yield r.done}catch(n){if(n instanceof st)nr.warn(n.message);else{let r=Pr.create("idb-set",{originalErrorMessage:n?.message});nr.warn(r.message)}}})}function FC(t){return`${t.name}!${t.options.appId}`}var VV=1024,jV=30,jm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Um(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>jV){let s=BV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){nr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=xC(),{heartbeatsToSend:r,unsentEntries:i}=UV(this._heartbeatsCache.heartbeats),o=Ha(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return nr.warn(n),""}})}};function xC(){return new Date().toISOString().substring(0,10)}function UV(t,e=VV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Um=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Di()?hd().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield LV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return PC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kC(t){return Ha(JSON.stringify({version:2,heartbeats:t})).length}function BV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function $V(t){at(new Oe("platform-logger",e=>new km(e),"PRIVATE")),at(new Oe("heartbeat",e=>new jm(e),"PRIVATE")),ve(Om,NC,t),ve(Om,NC,"esm2017"),ve("fire-js","")}$V("");var HV="firebase",zV="11.10.0";ve(HV,zV,"app");function $m(t){t===void 0&&(aT($m),t=x(Ke));let e=t.get(al);return n=>new se(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Cn=new aa("ANGULARFIRE2_VERSION");function Ai(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var kr=(t,e)=>{let n=e?[e]:yd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Go=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Go||{}),LC=kg()&&typeof Zone<"u"?Go.WARN:Go.SILENT;var vd=class{zone;delegate;constructor(e,n=zf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Sn=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=x(ye);this.outsideAngular=n.runOutsideAngular(()=>new vd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new vd(typeof Zone>"u"?void 0:Zone.current,Hf))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),VC=!1;function qV(t,e){!VC&&(LC>Go.SILENT||kg())&&(VC=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),LC>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function WV(t){let e=x(ye,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Si(t){let e=x(ye,{optional:!0});return e?e.run(()=>t()):t()}var GV=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Tt(n,()=>Si(()=>t.apply(void 0,r)))),Mt=(t,e,n)=>(n||=e?Go.WARN:Go.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(Sn),s=x(al),a=x(At)}catch{return qV(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Si(()=>s.add())),i[l]=GV(i[l],r,a));let u=WV(()=>t.apply(this,i));return e?u instanceof se?u.pipe(Ir(o.outsideAngular),_r(o.insideAngular),$m(a)):u instanceof Promise?Si(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>Tt(a,()=>Si(()=>l(p))),p=>Tt(a,()=>Si(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Si(()=>u):u instanceof se?u.pipe(Ir(o.outsideAngular),_r(o.insideAngular)):Si(()=>u)});var cn=class{constructor(e){return e}},rr=class{constructor(){return yd()}};function KV(t){return t&&t.length===1?t[0]:new cn(Dn())}var Hm=new U("angularfire2._apps"),QV={provide:cn,useFactory:KV,deps:[[new ft,Hm]]},YV={provide:rr,deps:[[new ft,Hm]]};function ZV(t){return(e,n)=>{let r=n.get(_n);ve("angularfire",Cn.full,"core"),ve("angularfire",Cn.full,"app"),ve("angular",Kb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new cn(i)}}function jC(t,...e){return rn([QV,YV,{provide:Hm,useFactory:ZV(t),multi:!0,deps:[ye,Ke,Sn,...e]}])}var UC=Mt(Bm,!0);var JV=new Map,XV={activated:!1,tokenObservers:[]},e2={initialized:!1,enabled:!1};function un(t){return JV.get(t)||Object.assign({},XV)}function zC(){return e2}var t2="https://content-firebaseappcheck.googleapis.com/v1";var n2="exchangeDebugToken",BC={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},qK=24*60*60*1e3;var Wm=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new bi,this.pending.promise.catch(n=>{}),yield r2(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new bi,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function r2(t){return new Promise(e=>{setTimeout(e,t)})}var i2={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Or=new bt("appCheck","AppCheck",i2);function qC(t){if(!un(t).activated)throw Or.create("use-before-activation",{appName:t.name})}function WC(r,i){return v(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw Or.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Or.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Or.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Or.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function GC(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${t2}/projects/${n}/apps/${r}:${n2}?key=${i}`,body:{debug_token:e}}}var o2="firebase-app-check-database",s2=1,Gm="firebase-app-check-store";var _d=null;function a2(){return _d||(_d=new Promise((t,e)=>{try{let n=indexedDB.open(o2,s2);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Or.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Gm,{keyPath:"compositeKey"})}}}catch(n){e(Or.create("storage-open",{originalErrorMessage:n?.message}))}}),_d)}function c2(t,e){return u2(l2(t),e)}function u2(t,e){return v(this,null,function*(){let r=(yield a2()).transaction(Gm,"readwrite"),o=r.objectStore(Gm).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Or.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function l2(t){return`${t.options.appId}-${t.name}`}var Ga=new Wt("@firebase/app-check");function zm(t,e){return Di()?c2(t,e).catch(n=>{Ga.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function KC(){return zC().enabled}function QC(){return v(this,null,function*(){let t=zC();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var d2={error:"UNKNOWN_ERROR"};function h2(t){return sd.encodeString(JSON.stringify(t),!1)}function Km(t,e=!1,n=!1){return v(this,null,function*(){let r=t.app;qC(r);let i=un(r),o=i.token,s;if(o&&!Ka(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Ka(l)?o=l:yield zm(r,void 0))}if(!e&&o&&Ka(o))return{token:o.token};let a=!1;if(KC())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=WC(GC(r,yield QC()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield zm(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ga.warn(l.message):n&&Ga.error(l),qm(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield un(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ga.warn(l.message):n&&Ga.error(l),s=l}let u;return o?s?Ka(o)?u={token:o.token,internalError:s}:u=qm(s):(u={token:o.token},i.token=o,yield zm(r,o)):u=qm(s),a&&m2(r,u),u})}function f2(t){return v(this,null,function*(){let e=t.app;qC(e);let{provider:n}=un(e);if(KC()){let r=yield QC(),{token:i}=yield WC(GC(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function p2(t,e,n,r){let{app:i}=t,o=un(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ka(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),$C(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>$C(t))}function YC(t,e){let n=un(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function $C(t){let{app:e}=t,n=un(e),r=n.tokenRefresher;r||(r=g2(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function g2(t){let{app:e}=t;return new Wm(()=>v(null,null,function*(){let n=un(e),r;if(n.token?r=yield Km(t,!0):r=yield Km(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=un(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},BC.RETRIAL_MIN_WAIT,BC.RETRIAL_MAX_WAIT)}function m2(t,e){let n=un(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ka(t){return t.expireTimeMillis-Date.now()>0}function qm(t){return{token:h2(d2),error:t}}var Qm=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=un(this.app);for(let n of e)YC(this.app,n.next);return Promise.resolve()}};function y2(t,e){return new Qm(t,e)}function v2(t){return{getToken:e=>Km(t,e),getLimitedUseToken:()=>f2(t),addTokenListener:e=>p2(t,"INTERNAL",e),removeTokenListener:e=>YC(t.app,e)}}var _2="@firebase/app-check",I2="0.10.1";var w2="app-check",HC="app-check-internal";function E2(){at(new Oe(w2,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return y2(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(HC).initialize()})),at(new Oe(HC,t=>{let e=t.getProvider("app-check").getImmediate();return v2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ve(_2,I2)}E2();var T2="app-check";var Ko=class{constructor(){return kr(T2)}};var b2=["localhost","0.0.0.0","127.0.0.1"],iQ=typeof window<"u"&&b2.includes(window.location.hostname);function d0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var h0=d0,f0=new bt("auth","Firebase",d0());var Dd=new Wt("@firebase/auth");function D2(t,...e){Dd.logLevel<=oe.WARN&&Dd.warn(`Auth (${xr}): ${t}`,...e)}function wd(t,...e){Dd.logLevel<=oe.ERROR&&Dd.error(`Auth (${xr}): ${t}`,...e)}function Vr(t,...e){throw gy(t,...e)}function Ni(t,...e){return gy(t,...e)}function p0(t,e,n){let r=Object.assign(Object.assign({},h0()),{[e]:n});return new bt("auth","Firebase",r).create(e,{appName:t.name})}function Ri(t){return p0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f0.create(t,...e)}function W(t,e,...n){if(!t)throw gy(e,...n)}function ir(t){let e="INTERNAL ASSERTION FAILED: "+t;throw wd(e),new Error(e)}function jr(t,e){t||ir(e)}function Xm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function C2(){return ZC()==="http:"||ZC()==="https:"}function ZC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function S2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C2()||dd()||"connection"in navigator)?navigator.onLine:!0}function A2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Mi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=mC()||vC()}get(){return S2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function my(t,e){jr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Cd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var R2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var N2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M2=new Mi(3e4,6e4);function yy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Qo(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){return g0(t,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=za(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return yC()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Mr(t.emulatorConfig.host)&&(y.credentials="include"),Cd.fetch()(yield m0(t,t.config.apiHost,n,p),y)}))})}function g0(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},R2),e);try{let i=new ey(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Id(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Id(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Id(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Id(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw p0(t,h,l);Vr(t,h)}}catch(i){if(i instanceof st)throw i;Vr(t,"network-request-failed",{message:String(i)})}})}function P2(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield Qo(t,e,n,r,i);return"mfaPendingCredential"in l&&Vr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function m0(t,e,n,r){return v(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?my(t.config,i):`${t.config.apiScheme}://${i}`;return N2.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var ey=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ni(this.auth,"network-request-failed")),M2.get())})}};function Id(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ni(t,e,r);return i.customData._tokenResponse=n,i}function x2(t,e){return v(this,null,function*(){return Qo(t,"POST","/v1/accounts:delete",e)})}function Sd(t,e){return v(this,null,function*(){return Qo(t,"POST","/v1/accounts:lookup",e)})}function Qa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function vy(t,e=!1){return v(this,null,function*(){let n=Le(t),r=yield n.getIdToken(e),i=_y(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Qa(Ym(i.auth_time)),issuedAtTime:Qa(Ym(i.iat)),expirationTime:Qa(Ym(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Ym(t){return Number(t)*1e3}function _y(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wd("JWT malformed, contained fewer than 3 sections"),null;try{let i=ad(n);return i?JSON.parse(i):(wd("Failed to decode base64 JWT payload"),null)}catch(i){return wd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function JC(t){let e=_y(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Za(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof st&&k2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function k2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ty=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ja=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qa(this.lastLoginAt),this.creationTime=Qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ad(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Za(t,Sd(n,{idToken:r}));W(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?y0(o.providerUserInfo):[],a=O2(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ja(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Iy(t){return v(this,null,function*(){let e=Le(t);yield Ad(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function O2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function y0(t){return t.map(e=>{var{providerId:n}=e,r=qf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function F2(t,e){return v(this,null,function*(){let n=yield g0(t,{},()=>v(null,null,function*(){let r=za({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield m0(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&Mr(t.emulatorConfig.host)&&(u.credentials="include"),Cd.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function L2(t,e){return v(this,null,function*(){return Qo(t,"POST","/v2/accounts:revokeToken",yy(t,e))})}var Ya=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");let n=JC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield F2(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(W(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ir("not implemented")}};function Fr(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Lr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=qf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ty(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ja(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield Za(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return vy(this,e)}reload(){return Iy(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ad(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Kt(this.auth.app))return Promise.reject(Ri(this.auth));let e=yield this.getIdToken();return yield Za(this,x2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=n.createdAt)!==null&&l!==void 0?l:void 0,q=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:G,emailVerified:Ee,isAnonymous:_t,providerData:Ie,stsTokenManager:T}=n;W(G&&T,e,"internal-error");let _=Ya.fromJSON(this.name,T);W(typeof G=="string",e,"internal-error"),Fr(p,e.name),Fr(m,e.name),W(typeof Ee=="boolean",e,"internal-error"),W(typeof _t=="boolean",e,"internal-error"),Fr(y,e.name),Fr(C,e.name),Fr(N,e.name),Fr(R,e.name),Fr(L,e.name),Fr(q,e.name);let w=new t({uid:G,auth:e,email:m,emailVerified:Ee,displayName:p,isAnonymous:_t,photoURL:C,phoneNumber:y,tenantId:N,stsTokenManager:_,createdAt:L,lastLoginAt:q});return Ie&&Array.isArray(Ie)&&(w.providerData=Ie.map(E=>Object.assign({},E))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new Ya;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ad(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];W(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?y0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ya;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ja(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var XC=new Map;function or(t){jr(t instanceof Function,"Expected a class definition");let e=XC.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XC.set(t,e),e)}var V2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ny=V2;function Ed(t,e,n){return`firebase:${t}:${e}:${n}`}var Rd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ed(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ed("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Sd(this.auth,{idToken:e}).catch(()=>{});return n?Lr._fromGetAccountInfoResponse(this.auth,n,e):null}return Lr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(or(ny),e,r);let i=(yield Promise.all(n.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||or(ny),s=Ed(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Sd(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Lr._fromGetAccountInfoResponse(e,m,h)}else p=Lr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function e0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T0(e))return"Blackberry";if(b0(e))return"Webos";if(_0(e))return"Safari";if((e.includes("chrome/")||I0(e))&&!e.includes("edge/"))return"Chrome";if(E0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function v0(t=Ze()){return/firefox\//i.test(t)}function _0(t=Ze()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I0(t=Ze()){return/crios\//i.test(t)}function w0(t=Ze()){return/iemobile/i.test(t)}function E0(t=Ze()){return/android/i.test(t)}function T0(t=Ze()){return/blackberry/i.test(t)}function b0(t=Ze()){return/webos/i.test(t)}function wy(t=Ze()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function j2(t=Ze()){var e;return wy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U2(){return _C()&&document.documentMode===10}function D0(t=Ze()){return wy(t)||E0(t)||b0(t)||T0(t)||/windows phone/i.test(t)||w0(t)}function C0(t,e=[]){let n;switch(t){case"Browser":n=e0(Ze());break;case"Worker":n=`${e0(Ze())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xr}/${r}`}var ry=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function B2(n){return v(this,arguments,function*(t,e={}){return Qo(t,"GET","/v2/passwordPolicy",yy(t,e))})}var $2=6,iy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:$2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var oy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nd(this),this.idTokenSubscription=new Nd(this),this.beforeStateQueue=new ry(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Rd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield Sd(this,{idToken:e}),r=yield Lr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(Kt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Ad(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=A2()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Kt(this.app))return Promise.reject(Ri(this));let n=e?Le(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Kt(this.app)?Promise.reject(Ri(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Kt(this.app)?Promise.reject(Ri(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(or(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield B2(this),n=new iy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield L2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&or(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=yield Rd.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&D2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ey(t){return Le(t)}var Nd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=TC(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ty={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H2(t){Ty=t}function z2(t){return Ty.loadJS(t)}function q2(){return Ty.gapiScript}function S0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function by(t,e){let n=Gt(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(qt(o,e??{}))return i;Vr(i,"already-initialized")}return n.initialize({options:e})}function W2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(or);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Dy(t,e,n){let r=Ey(t);W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=A0(e),{host:s,port:a}=G2(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){W(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),W(qt(l,r.config.emulator)&&qt(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Mr(s)?(ud(`${o}//${s}${u}`),ld("Auth",!0)):i||K2()}function A0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function G2(t){let e=A0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:t0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:t0(s)}}}function t0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function K2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Md=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}};function Zm(t,e){return v(this,null,function*(){return P2(t,"POST","/v1/accounts:signInWithIdp",yy(t,e))})}var Pd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var sy=class extends Pd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Xa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield Lr._fromIdTokenResponse(e,r,i),s=n0(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=n0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function n0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ay=class t extends st{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function R0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ay._fromErrorAndOperation(t,o,e,r):o})}function Q2(t,e,n=!1){return v(this,null,function*(){let r=yield Za(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Xa._forOperation(t,"link",r)})}function Y2(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(Kt(r.app))return Promise.reject(Ri(r));let i="reauthenticate";try{let o=yield Za(t,R0(r,i,e,t),n);W(o.idToken,r,"internal-error");let s=_y(o.idToken);W(s,r,"internal-error");let{sub:a}=s;return W(t.uid===a,r,"user-mismatch"),Xa._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Vr(r,"user-mismatch"),o}})}function Z2(t,e,n=!1){return v(this,null,function*(){if(Kt(t.app))return Promise.reject(Ri(t));let r="signIn",i=yield R0(t,r,e),o=yield Xa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Cy(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function Sy(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}var xd="__sak";var kd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xd,"1"),this.storage.removeItem(xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var J2=1e3,X2=10,ej=(()=>{class t extends kd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);U2()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,X2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},J2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield yr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield yr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield yr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),N0=ej;var tj=(()=>{class t extends kd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ay=tj;function nj(t){return Promise.all(t.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var rj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield nj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function M0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var cy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=M0("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function An(){return window}function ij(t){An().location.href=t}function P0(){return typeof An().WorkerGlobalScope<"u"&&typeof An().importScripts=="function"}function oj(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function sj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aj(){return P0()?self:null}var x0="firebaseLocalStorageDb",cj=1,Od="firebaseLocalStorage",k0="fbase_key",Pi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Ld(t,e){return t.transaction([Od],e?"readwrite":"readonly").objectStore(Od)}function uj(){let t=indexedDB.deleteDatabase(x0);return new Pi(t).toPromise()}function uy(){let t=indexedDB.open(x0,cj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Od,{keyPath:k0})}catch(i){n(i)}}),t.addEventListener("success",()=>v(null,null,function*(){let r=t.result;r.objectStoreNames.contains(Od)?e(r):(r.close(),yield uj(),e(yield uy()))}))})}function r0(t,e,n){return v(this,null,function*(){let r=Ld(t,!0).put({[k0]:e,value:n});return new Pi(r).toPromise()})}function lj(t,e){return v(this,null,function*(){let n=Ld(t,!1).get(e),r=yield new Pi(n).toPromise();return r===void 0?null:r.value})}function i0(t,e){let n=Ld(t,!0).delete(e);return new Pi(n).toPromise()}var dj=800,hj=3,fj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield uy(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>hj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return P0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=rj._getInstance(aj()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield oj(),!this.activeServiceWorker)return;this.sender=new cy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||sj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield uy();return yield r0(n,xd,"1"),yield i0(n,xd),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>r0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>lj(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>i0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=Ld(o,!1).getAll();return new Pi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),dj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),O0=fj;var pQ=S0("rcb"),gQ=new Mi(3e4,6e4);function pj(t,e){return e?or(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ec=class extends Md{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function gj(t){return Z2(t.auth,new ec(t),t.bypassAuthState)}function mj(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),Y2(n,new ec(t),t.bypassAuthState)}function yj(t){return v(this,null,function*(){let{auth:e,user:n}=t;return W(n,e,"internal-error"),Q2(n,new ec(t),t.bypassAuthState)})}var ly=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gj;case"linkViaPopup":case"linkViaRedirect":return yj;case"reauthViaPopup":case"reauthViaRedirect":return mj;default:Vr(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var mQ=new Mi(2e3,1e4);var vj="pendingRedirect",Td=new Map,dy=class t extends ly{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Td.get(this.auth._key());if(!e){try{let r=(yield _j(this.resolver,this.auth))?yield yr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Td.set(this.auth._key(),e)}return this.bypassAuthState||Td.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return yr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,yr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function _j(t,e){return v(this,null,function*(){let n=Ej(e),r=wj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Ij(t,e){Td.set(t._key(),e)}function wj(t){return or(t._redirectPersistence)}function Ej(t){return Ed(vj,t.config.apiKey,t.name)}function Tj(t,e,n=!1){return v(this,null,function*(){if(Kt(t.app))return Promise.reject(Ri(t));let r=Ey(t),i=pj(r,e),s=yield new dy(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var bj=10*60*1e3,hy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!F0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ni(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bj&&this.cachedEventUids.clear(),this.cachedEventUids.has(o0(e))}saveEventToCache(e){this.cachedEventUids.add(o0(e)),this.lastProcessedEventTime=Date.now()}};function o0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function F0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Dj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F0(t);default:return!1}}function Cj(n){return v(this,arguments,function*(t,e={}){return Qo(t,"GET","/v1/projects",e)})}var Sj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aj=/^https?/;function Rj(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Cj(t);for(let n of e)try{if(Nj(n))return}catch{}Vr(t,"unauthorized-domain")})}function Nj(t){let e=Xm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Aj.test(n))return!1;if(Sj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Mj=new Mi(3e4,6e4);function s0(){let t=An().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Pj(t){return new Promise((e,n)=>{var r,i,o;function s(){s0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s0(),n(Ni(t,"network-request-failed"))},timeout:Mj.get()})}if(!((i=(r=An().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=An().gapi)===null||o===void 0)&&o.load)s();else{let a=S0("iframefcb");return An()[a]=()=>{gapi.load?s():n(Ni(t,"network-request-failed"))},z2(`${q2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw bd=null,e})}var bd=null;function xj(t){return bd=bd||Pj(t),bd}var kj=new Mi(5e3,15e3),Oj="__/auth/iframe",Fj="emulator/auth/iframe",Lj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jj(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?my(e,Fj):`https://${t.config.authDomain}/${Oj}`,r={apiKey:e.apiKey,appName:t.name,v:xr},i=Vj.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${za(r).slice(1)}`}function Uj(t){return v(this,null,function*(){let e=yield xj(t),n=An().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:jj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lj,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ni(t,"network-request-failed"),a=An().setTimeout(()=>{o(s)},kj.get());function u(){An().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var Bj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$j=500,Hj=600,zj="_blank",qj="http://localhost",Fd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Wj(t,e,n,r=$j,i=Hj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Bj),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ze().toLowerCase();n&&(a=I0(l)?zj:n),v0(l)&&(e=e||qj,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(j2(l)&&a!=="_self")return Gj(e||"",a),new Fd(null);let p=window.open(e||"",a,h);W(p,t,"popup-blocked");try{p.focus()}catch{}return new Fd(p)}function Gj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Kj="__/auth/handler",Qj="emulator/auth/handler",Yj=encodeURIComponent("fac");function a0(t,e,n,r,i,o){return v(this,null,function*(){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xr,eventId:i};if(e instanceof Pd){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",EC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof sy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${Yj}=${encodeURIComponent(u)}`:"";return`${Zj(t)}?${za(a).slice(1)}${l}`})}function Zj({config:t}){return t.emulator?my(t,Qj):`https://${t.authDomain}/${Kj}`}var Jm="webStorageSupport",fy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ay,this._completeRedirectFn=Tj,this._overrideRedirectResult=Ij}_openPopup(e,n,r,i){return v(this,null,function*(){var o;jr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield a0(e,n,r,Xm(),i);return Wj(e,s,M0())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield a0(e,n,r,Xm(),i);return ij(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(jr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield Uj(e),r=new hy(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jm,{type:Jm},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Jm];s!==void 0&&n(!!s),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Rj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return D0()||_0()||wy()}},L0=fy;var c0="@firebase/auth",u0="1.10.8";var py=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Jj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xj(t){at(new Oe("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;W(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C0(t)},l=new oy(r,i,o,u);return W2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),at(new Oe("auth-internal",e=>{let n=Ey(e.getProvider("auth").getImmediate());return(r=>new py(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ve(c0,u0,Jj(t)),ve(c0,u0,"esm2017")}var eU=5*60,tU=Cm("authIdTokenMaxAge")||eU,l0=null,nU=t=>e=>v(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tU)return;let i=n?.token;l0!==i&&(l0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ry(t=Dn()){let e=Gt(t,"auth");if(e.isInitialized())return e.getImmediate();let n=by(t,{popupRedirectResolver:L0,persistence:[O0,N0,Ay]}),r=Cm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=nU(o.toString());Sy(n,s,()=>s(n.currentUser)),Cy(n,a=>s(a))}}let i=bm("auth");return i&&Dy(n,`http://${i}`),n}function rU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}H2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ni("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",rU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xj("Browser");var V0="auth",tc=class{constructor(e){return e}},nc=class{constructor(){return kr(V0)}};var Ny=new U("angularfire2.auth-instances");function YU(t,e){let n=Ai(V0,t,e);return n&&new tc(n)}function ZU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new tc(r)}}var JU={provide:nc,deps:[[new ft,Ny]]},XU={provide:tc,useFactory:YU,deps:[[new ft,Ny],cn]};function j0(t,...e){return ve("angularfire",Cn.full,"auth"),rn([XU,JU,{provide:Ny,useFactory:ZU(t),multi:!0,deps:[ye,Ke,Sn,rr,[new ft,Ko],...e]}])}var U0=Mt(Ry,!0);var B0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$0={};var sr,My;(function(){var t;function e(T,_){function w(){}w.prototype=_.prototype,T.D=_.prototype,T.prototype=new w,T.prototype.constructor=T,T.C=function(E,b,S){for(var I=Array(arguments.length-2),Ln=2;Ln<arguments.length;Ln++)I[Ln-2]=arguments[Ln];return _.prototype[b].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,w){w||(w=0);var E=Array(16);if(typeof _=="string")for(var b=0;16>b;++b)E[b]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(b=0;16>b;++b)E[b]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=T.g[0],w=T.g[1],b=T.g[2];var S=T.g[3],I=_+(S^w&(b^S))+E[0]+3614090360&4294967295;_=w+(I<<7&4294967295|I>>>25),I=S+(b^_&(w^b))+E[1]+3905402710&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(w^S&(_^w))+E[2]+606105819&4294967295,b=S+(I<<17&4294967295|I>>>15),I=w+(_^b&(S^_))+E[3]+3250441966&4294967295,w=b+(I<<22&4294967295|I>>>10),I=_+(S^w&(b^S))+E[4]+4118548399&4294967295,_=w+(I<<7&4294967295|I>>>25),I=S+(b^_&(w^b))+E[5]+1200080426&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(w^S&(_^w))+E[6]+2821735955&4294967295,b=S+(I<<17&4294967295|I>>>15),I=w+(_^b&(S^_))+E[7]+4249261313&4294967295,w=b+(I<<22&4294967295|I>>>10),I=_+(S^w&(b^S))+E[8]+1770035416&4294967295,_=w+(I<<7&4294967295|I>>>25),I=S+(b^_&(w^b))+E[9]+2336552879&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(w^S&(_^w))+E[10]+4294925233&4294967295,b=S+(I<<17&4294967295|I>>>15),I=w+(_^b&(S^_))+E[11]+2304563134&4294967295,w=b+(I<<22&4294967295|I>>>10),I=_+(S^w&(b^S))+E[12]+1804603682&4294967295,_=w+(I<<7&4294967295|I>>>25),I=S+(b^_&(w^b))+E[13]+4254626195&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(w^S&(_^w))+E[14]+2792965006&4294967295,b=S+(I<<17&4294967295|I>>>15),I=w+(_^b&(S^_))+E[15]+1236535329&4294967295,w=b+(I<<22&4294967295|I>>>10),I=_+(b^S&(w^b))+E[1]+4129170786&4294967295,_=w+(I<<5&4294967295|I>>>27),I=S+(w^b&(_^w))+E[6]+3225465664&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^w&(S^_))+E[11]+643717713&4294967295,b=S+(I<<14&4294967295|I>>>18),I=w+(S^_&(b^S))+E[0]+3921069994&4294967295,w=b+(I<<20&4294967295|I>>>12),I=_+(b^S&(w^b))+E[5]+3593408605&4294967295,_=w+(I<<5&4294967295|I>>>27),I=S+(w^b&(_^w))+E[10]+38016083&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^w&(S^_))+E[15]+3634488961&4294967295,b=S+(I<<14&4294967295|I>>>18),I=w+(S^_&(b^S))+E[4]+3889429448&4294967295,w=b+(I<<20&4294967295|I>>>12),I=_+(b^S&(w^b))+E[9]+568446438&4294967295,_=w+(I<<5&4294967295|I>>>27),I=S+(w^b&(_^w))+E[14]+3275163606&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^w&(S^_))+E[3]+4107603335&4294967295,b=S+(I<<14&4294967295|I>>>18),I=w+(S^_&(b^S))+E[8]+1163531501&4294967295,w=b+(I<<20&4294967295|I>>>12),I=_+(b^S&(w^b))+E[13]+2850285829&4294967295,_=w+(I<<5&4294967295|I>>>27),I=S+(w^b&(_^w))+E[2]+4243563512&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^w&(S^_))+E[7]+1735328473&4294967295,b=S+(I<<14&4294967295|I>>>18),I=w+(S^_&(b^S))+E[12]+2368359562&4294967295,w=b+(I<<20&4294967295|I>>>12),I=_+(w^b^S)+E[5]+4294588738&4294967295,_=w+(I<<4&4294967295|I>>>28),I=S+(_^w^b)+E[8]+2272392833&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^w)+E[11]+1839030562&4294967295,b=S+(I<<16&4294967295|I>>>16),I=w+(b^S^_)+E[14]+4259657740&4294967295,w=b+(I<<23&4294967295|I>>>9),I=_+(w^b^S)+E[1]+2763975236&4294967295,_=w+(I<<4&4294967295|I>>>28),I=S+(_^w^b)+E[4]+1272893353&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^w)+E[7]+4139469664&4294967295,b=S+(I<<16&4294967295|I>>>16),I=w+(b^S^_)+E[10]+3200236656&4294967295,w=b+(I<<23&4294967295|I>>>9),I=_+(w^b^S)+E[13]+681279174&4294967295,_=w+(I<<4&4294967295|I>>>28),I=S+(_^w^b)+E[0]+3936430074&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^w)+E[3]+3572445317&4294967295,b=S+(I<<16&4294967295|I>>>16),I=w+(b^S^_)+E[6]+76029189&4294967295,w=b+(I<<23&4294967295|I>>>9),I=_+(w^b^S)+E[9]+3654602809&4294967295,_=w+(I<<4&4294967295|I>>>28),I=S+(_^w^b)+E[12]+3873151461&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^w)+E[15]+530742520&4294967295,b=S+(I<<16&4294967295|I>>>16),I=w+(b^S^_)+E[2]+3299628645&4294967295,w=b+(I<<23&4294967295|I>>>9),I=_+(b^(w|~S))+E[0]+4096336452&4294967295,_=w+(I<<6&4294967295|I>>>26),I=S+(w^(_|~b))+E[7]+1126891415&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~w))+E[14]+2878612391&4294967295,b=S+(I<<15&4294967295|I>>>17),I=w+(S^(b|~_))+E[5]+4237533241&4294967295,w=b+(I<<21&4294967295|I>>>11),I=_+(b^(w|~S))+E[12]+1700485571&4294967295,_=w+(I<<6&4294967295|I>>>26),I=S+(w^(_|~b))+E[3]+2399980690&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~w))+E[10]+4293915773&4294967295,b=S+(I<<15&4294967295|I>>>17),I=w+(S^(b|~_))+E[1]+2240044497&4294967295,w=b+(I<<21&4294967295|I>>>11),I=_+(b^(w|~S))+E[8]+1873313359&4294967295,_=w+(I<<6&4294967295|I>>>26),I=S+(w^(_|~b))+E[15]+4264355552&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~w))+E[6]+2734768916&4294967295,b=S+(I<<15&4294967295|I>>>17),I=w+(S^(b|~_))+E[13]+1309151649&4294967295,w=b+(I<<21&4294967295|I>>>11),I=_+(b^(w|~S))+E[4]+4149444226&4294967295,_=w+(I<<6&4294967295|I>>>26),I=S+(w^(_|~b))+E[11]+3174756917&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~w))+E[2]+718787259&4294967295,b=S+(I<<15&4294967295|I>>>17),I=w+(S^(b|~_))+E[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var w=_-this.blockSize,E=this.B,b=this.h,S=0;S<_;){if(b==0)for(;S<=w;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<_;)if(E[b++]=T.charCodeAt(S++),b==this.blockSize){i(this,E),b=0;break}}else for(;S<_;)if(E[b++]=T[S++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var w=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=w&255,w/=256;for(this.u(T),T=Array(16),_=w=0;4>_;++_)for(var E=0;32>E;E+=8)T[w++]=this.g[_]>>>E&255;return T};function o(T,_){var w=a;return Object.prototype.hasOwnProperty.call(w,T)?w[T]:w[T]=_(T)}function s(T,_){this.h=_;for(var w=[],E=!0,b=T.length-1;0<=b;b--){var S=T[b]|0;E&&S==_||(w[b]=S,E=!1)}this.g=w}var a={};function u(T){return-128<=T&&128>T?o(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var _=[],w=1,E=0;T>=w;E++)_[E]=T/w|0,w*=4294967296;return new s(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return R(h(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(_,8)),E=p,b=0;b<T.length;b+=8){var S=Math.min(8,T.length-b),I=parseInt(T.substring(b,b+S),_);8>S?(S=l(Math.pow(_,S)),E=E.j(S).add(l(I))):(E=E.j(w),E=E.add(l(I)))}return E}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var T=0,_=1,w=0;w<this.g.length;w++){var E=this.i(w);T+=(0<=E?E:4294967296+E)*_,_*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(N(this))return"-"+R(this).toString(T);for(var _=l(Math.pow(T,6)),w=this,E="";;){var b=Ee(w,_).g;w=L(w,b.j(_));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(T);if(w=b,C(w))return S+E;for(;6>S.length;)S="0"+S;E=S+E}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function N(T){return T.h==-1}t.l=function(T){return T=L(this,T),N(T)?-1:C(T)?0:1};function R(T){for(var _=T.g.length,w=[],E=0;E<_;E++)w[E]=~T.g[E];return new s(w,~T.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0,b=0;b<=_;b++){var S=E+(this.i(b)&65535)+(T.i(b)&65535),I=(S>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);E=I>>>16,S&=65535,I&=65535,w[b]=I<<16|S}return new s(w,w[w.length-1]&-2147483648?-1:0)};function L(T,_){return T.add(R(_))}t.j=function(T){if(C(this)||C(T))return p;if(N(this))return N(T)?R(this).j(R(T)):R(R(this).j(T));if(N(T))return R(this.j(R(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var _=this.g.length+T.g.length,w=[],E=0;E<2*_;E++)w[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<T.g.length;b++){var S=this.i(E)>>>16,I=this.i(E)&65535,Ln=T.i(b)>>>16,bs=T.i(b)&65535;w[2*E+2*b]+=I*bs,q(w,2*E+2*b),w[2*E+2*b+1]+=S*bs,q(w,2*E+2*b+1),w[2*E+2*b+1]+=I*Ln,q(w,2*E+2*b+1),w[2*E+2*b+2]+=S*Ln,q(w,2*E+2*b+2)}for(E=0;E<_;E++)w[E]=w[2*E+1]<<16|w[2*E];for(E=_;E<2*_;E++)w[E]=0;return new s(w,0)};function q(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function G(T,_){this.g=T,this.h=_}function Ee(T,_){if(C(_))throw Error("division by zero");if(C(T))return new G(p,p);if(N(T))return _=Ee(R(T),_),new G(R(_.g),R(_.h));if(N(_))return _=Ee(T,R(_)),new G(R(_.g),_.h);if(30<T.g.length){if(N(T)||N(_))throw Error("slowDivide_ only works with positive integers.");for(var w=m,E=_;0>=E.l(T);)w=_t(w),E=_t(E);var b=Ie(w,1),S=Ie(E,1);for(E=Ie(E,2),w=Ie(w,2);!C(E);){var I=S.add(E);0>=I.l(T)&&(b=b.add(w),S=I),E=Ie(E,1),w=Ie(w,1)}return _=L(T,b.j(_)),new G(b,_)}for(b=p;0<=T.l(_);){for(w=Math.max(1,Math.floor(T.m()/_.m())),E=Math.ceil(Math.log(w)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),S=l(w),I=S.j(_);N(I)||0<I.l(T);)w-=E,S=l(w),I=S.j(_);C(S)&&(S=m),b=b.add(S),T=L(T,I)}return new G(b,T)}t.A=function(T){return Ee(this,T).h},t.and=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)&T.i(E);return new s(w,this.h&T.h)},t.or=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)|T.i(E);return new s(w,this.h|T.h)},t.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)^T.i(E);return new s(w,this.h^T.h)};function _t(T){for(var _=T.g.length+1,w=[],E=0;E<_;E++)w[E]=T.i(E)<<1|T.i(E-1)>>>31;return new s(w,T.h)}function Ie(T,_){var w=_>>5;_%=32;for(var E=T.g.length-w,b=[],S=0;S<E;S++)b[S]=0<_?T.i(S+w)>>>_|T.i(S+w+1)<<32-_:T.i(S+w);return new s(b,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,My=$0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,sr=$0.Integer=s}).apply(typeof B0<"u"?B0:typeof self<"u"?self:typeof window<"u"?window:{});var Vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ar={};var Py,eB,Yo,xy,rc,jd,ky,Oy,Fy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vd=="object"&&Vd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,A){for(var k=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)k[Te-2]=arguments[Te];return d.prototype[D].apply(g,k)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,A=g.length||0;c.length=D+A;for(let k=0;k<A;k++)c[D+k]=g[k]}else c.push(g)}}class L{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ee(c){return Ee[" "](c),c}Ee[" "]=function(){};var _t=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function Ie(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let A=0;A<w.length;A++)f=w[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Yh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Ln{constructor(){this.h=this.g=null}add(d,f){let g=bs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var bs=new L(()=>new rN,c=>c.reset());class rN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ds,Cs=!1,Yh=new Ln,hI=()=>{let c=a.Promise.resolve(void 0);Ds=()=>{c.then(iN)}};var iN=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=bs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Cs=!1};function fr(){this.s=this.s,this.C=this.C}fr.prototype.s=!1,fr.prototype.ma=function(){this.s||(this.s=!0,this.N())},fr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var oN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ss(c,d){if(ut.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(_t){e:{try{Ee(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:sN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ss.aa.h.call(this)}}C(Ss,ut);var sN={2:"touch",3:"pen",4:"mouse"};Ss.prototype.h=function(){Ss.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var As="closure_listenable_"+(1e6*Math.random()|0),aN=0;function cN(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++aN,this.da=this.fa=!1}function Cc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sc(c){this.src=c,this.g={},this.h=0}Sc.prototype.add=function(c,d,f,g,D){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var k=Jh(c,d,g,D);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new cN(d,this.src,A,!!g,D),d.fa=f,c.push(d)),d};function Zh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=D)&&Array.prototype.splice.call(g,D,1),A&&(Cc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Jh(c,d,f,g){for(var D=0;D<c.length;++D){var A=c[D];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return D}return-1}var Xh="closure_lm_"+(1e6*Math.random()|0),ef={};function fI(c,d,f,g,D){if(g&&g.once)return gI(c,d,f,g,D);if(Array.isArray(d)){for(var A=0;A<d.length;A++)fI(c,d[A],f,g,D);return null}return f=of(f),c&&c[As]?c.K(d,f,l(g)?!!g.capture:!!g,D):pI(c,d,f,!1,g,D)}function pI(c,d,f,g,D,A){if(!d)throw Error("Invalid event type");var k=l(D)?!!D.capture:!!D,Te=nf(c);if(Te||(c[Xh]=Te=new Sc(c)),f=Te.add(d,f,g,k,A),f.proxy)return f;if(g=uN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)oN||(D=k),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(yI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function uN(){function c(f){return d.call(c.src,c.listener,f)}let d=lN;return c}function gI(c,d,f,g,D){if(Array.isArray(d)){for(var A=0;A<d.length;A++)gI(c,d[A],f,g,D);return null}return f=of(f),c&&c[As]?c.L(d,f,l(g)?!!g.capture:!!g,D):pI(c,d,f,!0,g,D)}function mI(c,d,f,g,D){if(Array.isArray(d))for(var A=0;A<d.length;A++)mI(c,d[A],f,g,D);else g=l(g)?!!g.capture:!!g,f=of(f),c&&c[As]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Jh(A,f,g,D),-1<f&&(Cc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=nf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Jh(d,f,g,D)),(f=-1<c?d[c]:null)&&tf(f))}function tf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[As])Zh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(yI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=nf(d))?(Zh(f,c),f.h==0&&(f.src=null,d[Xh]=null)):Cc(c)}}}function yI(c){return c in ef?ef[c]:ef[c]="on"+c}function lN(c,d){if(c.da)c=!0;else{d=new Ss(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&tf(c),c=f.call(g,d)}return c}function nf(c){return c=c[Xh],c instanceof Sc?c:null}var rf="__closure_events_fn_"+(1e9*Math.random()>>>0);function of(c){return typeof c=="function"?c:(c[rf]||(c[rf]=function(d){return c.handleEvent(d)}),c[rf])}function lt(){fr.call(this),this.i=new Sc(this),this.M=this,this.F=null}C(lt,fr),lt.prototype[As]=!0,lt.prototype.removeEventListener=function(c,d,f,g){mI(this,c,d,f,g)};function It(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ut(d,c);else if(d instanceof ut)d.target=d.target||c;else{var D=d;d=new ut(g,c),E(d,D)}if(D=!0,f)for(var A=f.length-1;0<=A;A--){var k=d.g=f[A];D=Ac(k,g,!0,d)&&D}if(k=d.g=c,D=Ac(k,g,!0,d)&&D,D=Ac(k,g,!1,d)&&D,f)for(A=0;A<f.length;A++)k=d.g=f[A],D=Ac(k,g,!1,d)&&D}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Cc(f[g]);delete c.g[d],c.h--}}this.F=null},lt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},lt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Ac(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==f){var Te=k.listener,et=k.ha||k.src;k.fa&&Zh(c.i,k),D=Te.call(et,g)!==!1&&D}}return D&&!g.defaultPrevented}function vI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function _I(c){c.g=vI(()=>{c.g=null,c.i&&(c.i=!1,_I(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class dN extends fr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:_I(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){fr.call(this),this.h=c,this.g={}}C(Rs,fr);var II=[];function wI(c){Ie(c.g,function(d,f){this.g.hasOwnProperty(f)&&tf(d)},c),c.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),wI(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sf=a.JSON.stringify,hN=a.JSON.parse,fN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function af(){}af.prototype.h=null;function EI(c){return c.h||(c.h=c.i())}function TI(){}var Ns={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cf(){ut.call(this,"d")}C(cf,ut);function uf(){ut.call(this,"c")}C(uf,ut);var Yr={},bI=null;function Rc(){return bI=bI||new lt}Yr.La="serverreachability";function DI(c){ut.call(this,Yr.La,c)}C(DI,ut);function Ms(c){let d=Rc();It(d,new DI(d))}Yr.STAT_EVENT="statevent";function CI(c,d){ut.call(this,Yr.STAT_EVENT,c),this.stat=d}C(CI,ut);function wt(c){let d=Rc();It(d,new CI(d,c))}Yr.Ma="timingevent";function SI(c,d){ut.call(this,Yr.Ma,c),this.size=d}C(SI,ut);function Ps(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function xs(){this.g=!0}xs.prototype.xa=function(){this.g=!1};function pN(c,d,f,g,D,A){c.info(function(){if(c.g)if(A)for(var k="",Te=A.split("&"),et=0;et<Te.length;et++){var ge=Te[et].split("=");if(1<ge.length){var dt=ge[0];ge=ge[1];var ht=dt.split("_");k=2<=ht.length&&ht[1]=="type"?k+(dt+"="+ge+"&"):k+(dt+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+k})}function gN(c,d,f,g,D,A,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+A+" "+k})}function Ki(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+yN(c,f)+(g?" "+g:"")})}function mN(c,d){c.info(function(){return"TIMEOUT: "+d})}xs.prototype.info=function(){};function yN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<D.length;k++)D[k]=""}}}}return sf(f)}catch{return d}}var Nc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},AI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lf;function Mc(){}C(Mc,af),Mc.prototype.g=function(){return new XMLHttpRequest},Mc.prototype.i=function(){return{}},lf=new Mc;function pr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new RI}function RI(){this.i=null,this.g="",this.h=!1}var NI={},df={};function hf(c,d,f){c.L=1,c.v=Oc(Vn(d)),c.m=f,c.P=!0,MI(c,null)}function MI(c,d){c.F=Date.now(),Pc(c),c.A=Vn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),qI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new RI,c.g=uw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new dN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(II[0]=D.toString()),D=II);for(var A=0;A<D.length;A++){var k=fI(f,D[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ms(),pN(c.i,c.u,c.A,c.l,c.R,c.m)}pr.prototype.ca=function(c){c=c.target;let d=this.M;d&&jn(c)==3?d.j():this.Y(c)},pr.prototype.Y=function(c){try{if(c==this.g)e:{let ht=jn(this.g);var d=this.g.Ba();let Zi=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||JI(this.g)))){this.J||ht!=4||d==7||(d==8||0>=Zi?Ms(3):Ms(2)),ff(this);var f=this.g.Z();this.X=f;t:if(PI(this)){var g=JI(this.g);c="";var D=g.length,A=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),ks(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,gN(this.i,this.u,this.A,this.l,this.R,ht,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,et=this.g;if((Te=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Te)){var ge=Te;break t}}ge=null}if(f=ge)Ki(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pf(this,f);else{this.o=!1,this.s=3,wt(12),Zr(this),ks(this);break e}}if(this.P){f=!0;let Zt;for(;!this.J&&this.C<k.length;)if(Zt=vN(this,k),Zt==df){ht==4&&(this.s=4,wt(14),f=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==NI){this.s=4,wt(15),Ki(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else Ki(this.i,this.l,Zt,null),pf(this,Zt);if(PI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||k.length!=0||this.h.h||(this.s=1,wt(16),f=!1),this.o=this.o&&f,!f)Ki(this.i,this.l,k,"[Invalid Chunked Response]"),Zr(this),ks(this);else if(0<k.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),If(dt),dt.M=!0,wt(11))}}else Ki(this.i,this.l,k,null),pf(this,k);ht==4&&Zr(this),this.o&&!this.J&&(ht==4?ow(this.j,this):(this.o=!1,Pc(this)))}else ON(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Zr(this),ks(this)}}}catch{}finally{}};function PI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?df:(f=Number(d.substring(f,g)),isNaN(f)?NI:(g+=1,g+f>d.length?df:(d=d.slice(g,g+f),c.C=g+f,d)))}pr.prototype.cancel=function(){this.J=!0,Zr(this)};function Pc(c){c.S=Date.now()+c.I,xI(c,c.I)}function xI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ps(m(c.ba,c),d)}function ff(c){c.B&&(a.clearTimeout(c.B),c.B=null)}pr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(mN(this.i,this.A),this.L!=2&&(Ms(),wt(17)),Zr(this),this.s=2,ks(this)):xI(this,this.S-c)};function ks(c){c.j.G==0||c.J||ow(c.j,c)}function Zr(c){ff(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,wI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function pf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||gf(f.h,c))){if(!c.K&&gf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Uc(f),Vc(f);else break e;_f(f),wt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ps(m(f.Za,f),6e3));if(1>=FI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Xr(f,11)}else if((c.K||f.g==c)&&Uc(f),!q(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let ge=D[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let dt=ge[3];dt!=null&&(f.la=dt,f.j.info("VER="+f.la));let ht=ge[4];ht!=null&&(f.Aa=ht,f.j.info("SVER="+f.Aa));let Zi=ge[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(g=1.5*Zi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Zt=c.g;if(Zt){let $c=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($c){var A=g.h;A.g||$c.indexOf("spdy")==-1&&$c.indexOf("quic")==-1&&$c.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(mf(A,A.h),A.h=null))}if(g.D){let wf=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;wf&&(g.ya=wf,Ce(g.I,g.D,wf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=cw(g,g.J?g.ia:null,g.W),k.K){LI(g.h,k);var Te=k,et=g.L;et&&(Te.I=et),Te.B&&(ff(Te),Pc(Te)),g.g=k}else rw(g);0<f.i.length&&jc(f)}else ge[0]!="stop"&&ge[0]!="close"||Xr(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Xr(f,7):vf(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}Ms(4)}catch{}}var _N=class{constructor(c,d){this.g=c,this.map=d}};function kI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function OI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function FI(c){return c.h?1:c.g?c.g.size:0}function gf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function mf(c,d){c.g?c.g.add(d):c.h=d}function LI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}kI.prototype.cancel=function(){if(this.i=VI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function VI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function IN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function wN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function jI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=wN(c),g=IN(c),D=g.length,A=0;A<D;A++)d.call(void 0,g[A],f&&f[A],c)}var UI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var A=c[f].substring(0,g);D=c[f].substring(g+1)}else A=c[f];d(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Jr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Jr){this.h=c.h,xc(this,c.j),this.o=c.o,this.g=c.g,kc(this,c.s),this.l=c.l;var d=c.i,f=new Ls;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),BI(this,f),this.m=c.m}else c&&(d=String(c).match(UI))?(this.h=!1,xc(this,d[1]||"",!0),this.o=Os(d[2]||""),this.g=Os(d[3]||"",!0),kc(this,d[4]),this.l=Os(d[5]||"",!0),BI(this,d[6]||"",!0),this.m=Os(d[7]||"")):(this.h=!1,this.i=new Ls(null,this.h))}Jr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Fs(d,$I,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Fs(d,$I,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Fs(f,f.charAt(0)=="/"?DN:bN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Fs(f,SN)),c.join("")};function Vn(c){return new Jr(c)}function xc(c,d,f){c.j=f?Os(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function kc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function BI(c,d,f){d instanceof Ls?(c.i=d,AN(c.i,c.h)):(f||(d=Fs(d,CN)),c.i=new Ls(d,c.h))}function Ce(c,d,f){c.i.set(d,f)}function Oc(c){return Ce(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Os(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Fs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,TN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function TN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $I=/[#\/\?@]/g,bN=/[#\?:]/g,DN=/[#\?]/g,CN=/[#\?@]/g,SN=/#/g;function Ls(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function gr(c){c.g||(c.g=new Map,c.h=0,c.i&&EN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ls.prototype,t.add=function(c,d){gr(this),this.i=null,c=Qi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function HI(c,d){gr(c),d=Qi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function zI(c,d){return gr(c),d=Qi(c,d),c.g.has(d)}t.forEach=function(c,d){gr(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},t.na=function(){gr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let A=0;A<D.length;A++)f.push(d[g])}return f},t.V=function(c){gr(this);let d=[];if(typeof c=="string")zI(this,c)&&(d=d.concat(this.g.get(Qi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return gr(this),this.i=null,c=Qi(this,c),zI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function qI(c,d,f){HI(c,d),0<f.length&&(c.i=null,c.g.set(Qi(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var D=A;k[g]!==""&&(D+="="+encodeURIComponent(String(k[g]))),c.push(D)}}return this.i=c.join("&")};function Qi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function AN(c,d){d&&!c.j&&(gr(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(HI(this,g),qI(this,D,f))},c)),c.j=d}function RN(c,d){let f=new xs;if(a.Image){let g=new Image;g.onload=y(mr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(mr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(mr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(mr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function NN(c,d){let f=new xs,g=new AbortController,D=setTimeout(()=>{g.abort(),mr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(D),A.ok?mr(f,"TestPingServer: ok",!0,d):mr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),mr(f,"TestPingServer: error",!1,d)})}function mr(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function MN(){this.g=new fN}function PN(c,d,f){let g=f||"";try{jI(c,function(D,A){let k=D;l(D)&&(k=sf(D)),d.push(g+A+"="+encodeURIComponent(k))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Vs(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Vs,af),Vs.prototype.g=function(){return new Fc(this.l,this.j)},Vs.prototype.i=function(c){return function(){return c}}({});function Fc(c,d){lt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Fc,lt),t=Fc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Us(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;WI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function WI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?js(this):Us(this),this.readyState==3&&WI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,js(this))},t.Qa=function(c){this.g&&(this.response=c,js(this))},t.ga=function(){this.g&&js(this)};function js(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Us(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Us(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function GI(c){let d="";return Ie(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function yf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=GI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ce(c,d,f))}function Ne(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ne,lt);var xN=/^https?$/i,kN=["POST","PUT"];t=Ne.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lf.g(),this.v=this.o?EI(this.o):EI(lf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){KI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kN,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of f)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ZI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){KI(this,A)}};function KI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,QI(c),Lc(c)}function QI(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),Lc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lc(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?YI(this):this.bb())},t.bb=function(){YI(this)};function YI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||jn(c)!=4||c.Z()!=2)){if(c.u&&jn(c)==4)vI(c.Ea,0,c);else if(It(c,"readystatechange"),jn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var D=String(c.D).match(UI)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!xN.test(D?D.toLowerCase():"")}f=g}if(f)It(c,"complete"),It(c,"success");else{c.m=6;try{var A=2<jn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",QI(c)}}finally{Lc(c)}}}}function Lc(c,d){if(c.g){ZI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||It(c,"ready");try{f.onreadystatechange=g}catch{}}}function ZI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function jn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),hN(d)}};function JI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ON(c){let d={};c=(c.g&&2<=jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(q(c[g]))continue;var f=b(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[D]||[];d[D]=A,A.push(f)}T(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function XI(c){this.Aa=0,this.i=[],this.j=new xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,c),this.cb=Bs("retryDelaySeedMs",1e4,c),this.Wa=Bs("forwardChannelMaxRetries",2,c),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new kI(c&&c.concurrentRequestLimit),this.Da=new MN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=XI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){wt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=cw(this,null,this.W),jc(this)};function vf(c){if(ew(c),c.G==3){var d=c.U++,f=Vn(c.I);if(Ce(f,"SID",c.K),Ce(f,"RID",d),Ce(f,"TYPE","terminate"),$s(c,f),d=new pr(c,c.j,d),d.L=2,d.v=Oc(Vn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=uw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Pc(d)}aw(c)}function Vc(c){c.g&&(If(c),c.g.cancel(),c.g=null)}function ew(c){Vc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Uc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function jc(c){if(!OI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ds||hI(),Cs||(Ds(),Cs=!0),Yh.add(d,c),c.B=0}}function FN(c,d){return FI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ps(m(c.Ga,c,d),sw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new pr(this,this.j,c),A=this.o;if(this.S&&(A?(A=_(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=nw(this,D,d),f=Vn(this.I),Ce(f,"RID",c),Ce(f,"CVER",22),this.D&&Ce(f,"X-HTTP-Session-Id",this.D),$s(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(GI(A)))+"&"+d:this.m&&yf(f,this.m,A)),mf(this.h,D),this.Ua&&Ce(f,"TYPE","init"),this.P?(Ce(f,"$req",d),Ce(f,"SID","null"),D.T=!0,hf(D,f,null)):hf(D,f,d),this.G=2}}else this.G==3&&(c?tw(this,c):this.i.length==0||OI(this.h)||tw(this))};function tw(c,d){var f;d?f=d.l:f=c.U++;let g=Vn(c.I);Ce(g,"SID",c.K),Ce(g,"RID",f),Ce(g,"AID",c.T),$s(c,g),c.m&&c.o&&yf(g,c.m,c.o),f=new pr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=nw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),mf(c.h,f),hf(f,g,d)}function $s(c,d){c.H&&Ie(c.H,function(f,g){Ce(d,g,f)}),c.l&&jI({},function(f,g){Ce(d,g,f)})}function nw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let A=-1;for(;;){let k=["count="+f];A==-1?0<f?(A=D[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let Te=!0;for(let et=0;et<f;et++){let ge=D[et].g,dt=D[et].map;if(ge-=A,0>ge)A=Math.max(0,D[et].g-100),Te=!1;else try{PN(dt,k,"req"+ge+"_")}catch{g&&g(dt)}}if(Te){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function rw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ds||hI(),Cs||(Ds(),Cs=!0),Yh.add(d,c),c.v=0}}function _f(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ps(m(c.Fa,c),sw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,iw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ps(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Vc(this),iw(this))};function If(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function iw(c){c.g=new pr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Vn(c.qa);Ce(d,"RID","rpc"),Ce(d,"SID",c.K),Ce(d,"AID",c.T),Ce(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ce(d,"TO",c.ja),Ce(d,"TYPE","xmlhttp"),$s(c,d),c.m&&c.o&&yf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Oc(Vn(d)),f.m=null,f.P=!0,MI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Vc(this),_f(this),wt(19))};function Uc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ow(c,d){var f=null;if(c.g==d){Uc(c),If(c),c.g=null;var g=2}else if(gf(c.h,d))f=d.D,LI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=Rc(),It(g,new SI(g,f)),jc(c)}else rw(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&FN(c,d)||g==2&&_f(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:Xr(c,5);break;case 4:Xr(c,10);break;case 3:Xr(c,6);break;default:Xr(c,2)}}}function sw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Xr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new Jr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xc(g,"https"),Oc(g),D?RN(g.toString(),f):NN(g.toString(),f)}else wt(2);c.G=0,c.l&&c.l.sa(d),aw(c),ew(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function aw(c){if(c.G=0,c.ka=[],c.l){let d=VI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function cw(c,d,f){var g=f instanceof Jr?Vn(f):new Jr(f);if(g.g!="")d&&(g.g=d+"."+g.g),kc(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var A=new Jr(null);g&&xc(A,g),d&&(A.g=d),D&&kc(A,D),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Ce(g,f,d),Ce(g,"VER",c.la),$s(c,g),g}function uw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ne(new Vs({eb:f})):new Ne(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lw(){}t=lw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bc(){}Bc.prototype.g=function(c,d){return new xt(c,d)};function xt(c,d){lt.call(this),this.g=new XI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Yi(this)}C(xt,lt),xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){vf(this.g)},xt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=sf(c),c=f);d.i.push(new _N(d.Ya++,c)),d.G==3&&jc(d)},xt.prototype.N=function(){this.g.l=null,delete this.j,vf(this.g),delete this.g,xt.aa.N.call(this)};function dw(c){cf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(dw,cf);function hw(){uf.call(this),this.status=1}C(hw,uf);function Yi(c){this.g=c}C(Yi,lw),Yi.prototype.ua=function(){It(this.g,"a")},Yi.prototype.ta=function(c){It(this.g,new dw(c))},Yi.prototype.sa=function(c){It(this.g,new hw)},Yi.prototype.ra=function(){It(this.g,"b")},Bc.prototype.createWebChannel=Bc.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,Fy=ar.createWebChannelTransport=function(){return new Bc},Oy=ar.getStatEventTarget=function(){return Rc()},ky=ar.Event=Yr,jd=ar.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nc.NO_ERROR=0,Nc.TIMEOUT=8,Nc.HTTP_ERROR=6,rc=ar.ErrorCode=Nc,AI.COMPLETE="complete",xy=ar.EventType=AI,TI.EventType=Ns,Ns.OPEN="a",Ns.CLOSE="b",Ns.ERROR="c",Ns.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Yo=ar.WebChannel=TI,eB=ar.FetchXmlHttpFactory=Vs,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,Py=ar.XhrIo=Ne}).apply(typeof Vd<"u"?Vd:typeof self<"u"?self:typeof window<"u"?window:{});var H0="@firebase/firestore",z0="4.8.0";var Je=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");var vs="11.10.0";var Li=new Wt("@firebase/firestore");function Zo(){return Li.logLevel}function O(t,...e){if(Li.logLevel<=oe.DEBUG){let n=e.map(E_);Li.debug(`Firestore (${vs}): ${t}`,...n)}}function cr(t,...e){if(Li.logLevel<=oe.ERROR){let n=e.map(E_);Li.error(`Firestore (${vs}): ${t}`,...n)}}function zr(t,...e){if(Li.logLevel<=oe.WARN){let n=e.map(E_);Li.warn(`Firestore (${vs}): ${t}`,...n)}}function E_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function $(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,PS(t,r,n)}function PS(t,e,n){let r=`FIRESTORE (${vs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cr(r),new Error(r)}function _e(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||PS(e,i,r)}function Y(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends st{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Rn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Wd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},By=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Je.UNAUTHENTICATED))}shutdown(){}},$y=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Hy=class{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new Wd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new Je(e)}},zy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},qy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new zy(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Gd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Wy=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);let r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Gd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function tB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function xS(){return new TextEncoder}var uc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=tB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function re(t,e){return t<e?-1:t>e?1:0}function Gy(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return re(r,i);{let o=xS(),s=nB(o.encode(q0(t,n)),o.encode(q0(e,n)));return s!==0?s:re(r,i)}}n+=r>65535?2:1}return re(t.length,e.length)}function q0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function nB(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return re(t[n],e[n]);return re(t.length,e.length)}function os(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var W0="__name__",Kd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&$(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&$(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return re(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Gy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sr.fromString(e.substring(4,e.length-2))}},Fe=class t extends Kd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},rB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vt=class t extends Kd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return rB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W0}static keyField(){return new t([W0])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var H=class t{constructor(e){this.path=e}static fromPath(e){return new t(Fe.fromString(e))}static fromName(e){return new t(Fe.fromString(e).popFirst(5))}static empty(){return new t(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Fe(e.slice()))}};function iB(t,e,n){if(!n)throw new V(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oB(t,e,n,r){if(e===!0&&r===!0)throw new V(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function G0(t){if(!H.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function T_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$(12329,{type:typeof t})}function Nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=T_(t);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ue(t,e){let n={typeString:t};return e&&(n.value=e),n}function wc(t,e){if(!kS(t))throw new V(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new V(M.INVALID_ARGUMENT,n);return!0}var K0=-62135596800,Q0=1e6,Be=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Q0);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<K0)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q0}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wc(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-K0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:Ue("string",Be._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};var J=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Be(0,0))}static max(){return new t(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var lc=-1,Ky=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Ky.UNKNOWN_ID=-1;function sB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new Vi(i,H.empty(),e)}function aB(t){return new Vi(t.readTime,t.key,lc)}var Vi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(J.min(),H.empty(),lc)}static max(){return new t(J.max(),H.empty(),lc)}};function cB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}var uB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function _s(t){return v(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==uB)throw t;O("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function lB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Is(t){return t.name==="IndexedDbTransactionError"}var b_=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),D_=-1;function Ah(t){return t==null}function dc(t){return t===0&&1/t==-1/0}function dB(t){return typeof t=="number"&&Number.isInteger(t)&&!dc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var OS="";function hB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Y0(e)),e=fB(t.get(n),e);return Y0(e)}function fB(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case OS:n+="";break;default:n+=o}}return n}function Y0(t){return t+OS+""}var pB="remoteDocuments",FS="owner";var LS="mutationQueues";var VS="mutations";var jS="documentMutations",gB="remoteDocumentsV14";var US="remoteDocumentGlobal";var BS="targets";var $S="targetDocuments";var HS="targetGlobal",zS="collectionParents";var qS="clientMetadata";var WS="bundles";var GS="namedQueries";var mB="indexConfiguration";var yB="indexState";var vB="indexEntries";var KS="documentOverlays";var _B="globals";var IB=[LS,VS,jS,pB,BS,FS,HS,$S,qS,US,zS,WS,GS],_Y=[...IB,KS],wB=[LS,VS,jS,gB,BS,FS,HS,$S,qS,US,zS,WS,GS,KS],EB=wB,TB=[...EB,mB,yB,vB];var IY=[...TB,_B];function Z0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var xe=class t{constructor(e,n){this.comparator=e,this.root=n||Mn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ts(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ts(this.root,e,this.comparator,!1)}getReverseIterator(){return new ts(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ts(this.root,e,this.comparator,!0)}},ts=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Mn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw $(27949);return e+(this.isRed()?0:1)}};Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw $(57766)}get value(){throw $(16141)}get color(){throw $(16727)}get left(){throw $(29726)}get right(){throw $(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xe=class t{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qd(this.data.getIterator())}getIteratorFrom(e){return new Qd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Qd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Yt=class t{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Xe(Vt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return os(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Yd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Yd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vt.EMPTY_BYTE_STRING=new vt("");var bB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(t){if(_e(!!t,39018),typeof t=="string"){let e=0,n=bB.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lr(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}var YS="server_timestamp",ZS="__type__",JS="__previous_value__",XS="__local_write_time__";function C_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZS])===null||n===void 0?void 0:n.stringValue)===YS}function Rh(t){let e=t.mapValue.fields[JS];return C_(e)?Rh(e):e}function hc(t){let e=ur(t.mapValue.fields[XS].timestampValue);return new Be(e.seconds,e.nanos)}var Yy=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Zd="(default)",Jd=class t{constructor(e,n){this.projectId=e,this.database=n||Zd}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Zd}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var S_="__type__",eA="__max__",Ud={mapValue:{fields:{__type__:{stringValue:eA}}}},A_="__vector__",ss="value";function qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?C_(t)?4:nA(t)?9007199254740991:tA(t)?10:11:$(28295,{value:t})}function kn(t,e){if(t===e)return!0;let n=qr(t);if(n!==qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hc(t).isEqual(hc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ur(i.timestampValue),a=ur(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return lr(i.bytesValue).isEqual(lr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Re(i.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Re(i.integerValue)===Re(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Re(i.doubleValue),a=Re(o.doubleValue);return s===a?dc(s)===dc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return os(t.arrayValue.values||[],e.arrayValue.values||[],kn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Z0(s)!==Z0(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!kn(s[u],a[u])))return!1;return!0}(t,e);default:return $(52216,{left:t})}}function fc(t,e){return(t.values||[]).find(n=>kn(n,e))!==void 0}function as(t,e){if(t===e)return 0;let n=qr(t),r=qr(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Re(o.integerValue||o.doubleValue),u=Re(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return J0(t.timestampValue,e.timestampValue);case 4:return J0(hc(t),hc(e));case 5:return Gy(t.stringValue,e.stringValue);case 6:return function(o,s){let a=lr(o),u=lr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=re(a[l],u[l]);if(h!==0)return h}return re(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=re(Re(o.latitude),Re(s.latitude));return a!==0?a:re(Re(o.longitude),Re(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return X0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[ss])===null||a===void 0?void 0:a.arrayValue,C=(u=m[ss])===null||u===void 0?void 0:u.arrayValue,N=re(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:X0(y,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ud.mapValue&&s===Ud.mapValue)return 0;if(o===Ud.mapValue)return 1;if(s===Ud.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Gy(u[p],h[p]);if(m!==0)return m;let y=as(a[u[p]],l[h[p]]);if(y!==0)return y}return re(u.length,h.length)}(t.mapValue,e.mapValue);default:throw $(23264,{le:n})}}function J0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);let n=ur(t),r=ur(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function X0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=as(n[i],r[i]);if(o)return o}return re(n.length,r.length)}function cs(t){return Zy(t)}function Zy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Zy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Zy(n.fields[s])}`;return i+"}"}(t.mapValue):$(61005,{value:t})}function Hd(t){switch(qr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Rh(t);return e?16+Hd(e):16;case 5:return 2*t.stringValue.length;case 6:return lr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Hd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Qr(r.fields,(o,s)=>{i+=o.length+Hd(s)}),i}(t.mapValue);default:throw $(13486,{value:t})}}function Jy(t){return!!t&&"integerValue"in t}function R_(t){return!!t&&"arrayValue"in t}function eS(t){return!!t&&"nullValue"in t}function tS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function tA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[S_])===null||n===void 0?void 0:n.stringValue)===A_}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Qr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=oc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===eA}var EY={mapValue:{fields:{[S_]:{stringValue:A_},[ss]:{arrayValue:{}}}}};var Lt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=oc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(oc(this.value))}};function rA(t){let e=[];return Qr(t.fields,(n,r)=>{let i=new Vt([n]);if(zd(r)){let o=rA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Yt(e)}var ln=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var us=class{constructor(e,n){this.position=e,this.inclusive=n}};function nS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=H.comparator(H.fromName(s.referenceValue),n.key):r=as(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function rS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kn(t.position[n],e.position[n]))return!1;return!0}var ls=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function DB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Xd=class{},qe=class t extends Xd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ev(e,n,r):n==="array-contains"?new rv(e,r):n==="in"?new iv(e,r):n==="not-in"?new ov(e,r):n==="array-contains-any"?new sv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tv(e,r):new nv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(as(n,this.value)):n!==null&&qr(this.value)===qr(n)&&this.matchesComparison(as(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},On=class t extends Xd{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return iA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function iA(t){return t.op==="and"}function oA(t){return CB(t)&&iA(t)}function CB(t){for(let e of t.filters)if(e instanceof On)return!1;return!0}function Xy(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+cs(t.value);if(oA(t))return t.filters.map(e=>Xy(e)).join(",");{let e=t.filters.map(n=>Xy(n)).join(",");return`${t.op}(${e})`}}function sA(t,e){return t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&kn(r.value,i.value)}(t,e):t instanceof On?function(r,i){return i instanceof On&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&sA(s,i.filters[a]),!0):!1}(t,e):void $(19439)}function aA(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${cs(n.value)}`}(t):t instanceof On?function(n){return n.op.toString()+" {"+n.getFilters().map(aA).join(" ,")+"}"}(t):"Filter"}var ev=class extends qe{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){let n=H.comparator(e.key,this.key);return this.matchesComparison(n)}},tv=class extends qe{constructor(e,n){super(e,"in",n),this.keys=cA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},nv=class extends qe{constructor(e,n){super(e,"not-in",n),this.keys=cA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function cA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}var rv=class extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return R_(n)&&fc(n.arrayValue,this.value)}},iv=class extends qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}},ov=class extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fc(this.value.arrayValue,n)}},sv=class extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!R_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fc(this.value.arrayValue,r))}};var av=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function iS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new av(t,e,n,r,i,o,s)}function N_(t){let e=Y(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>cs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>cs(r)).join(",")),e.Pe=n}return e.Pe}function M_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rS(t.startAt,e.startAt)&&rS(t.endAt,e.endAt)}function cv(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ds=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function SB(t,e,n,r,i,o,s,a){return new ds(t,e,n,r,i,o,s,a)}function Nh(t){return new ds(t)}function oS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AB(t){return t.collectionGroup!==null}function sc(t){let e=Y(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Xe(Vt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ls(o,r))}),n.has(Vt.keyField().canonicalString())||e.Te.push(new ls(Vt.keyField(),r))}return e.Te}function Pn(t){let e=Y(t);return e.Ie||(e.Ie=RB(e,sc(t))),e.Ie}function RB(t,e){if(t.limitType==="F")return iS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ls(i.field,o)});let n=t.endAt?new us(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new us(t.startAt.position,t.startAt.inclusive):null;return iS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function uv(t,e,n){return new ds(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mh(t,e){return M_(Pn(t),Pn(e))&&t.limitType===e.limitType}function uA(t){return`${N_(Pn(t))}|lt:${t.limitType}`}function Jo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aA(i)).join(", ")}]`),Ah(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>cs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>cs(i)).join(",")),`Target(${r})`}(Pn(t))}; limitType=${t.limitType})`}function Ph(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):H.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of sc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=nS(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,sc(r),i)||r.endAt&&!function(s,a,u){let l=nS(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,sc(r),i))}(t,e)}function NB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lA(t){return(e,n)=>{let r=!1;for(let i of sc(t)){let o=MB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function MB(t,e,n){let r=t.field.isKeyField()?H.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?as(u,l):$(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $(19790,{direction:t.dir})}}var dr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return QS(this.inner)}size(){return this.innerSize}};var PB=new xe(H.comparator);function hr(){return PB}var dA=new xe(H.comparator);function ic(...t){let e=dA;for(let n of t)e=e.insert(n.key,n);return e}function hA(t){let e=dA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xi(){return ac()}function fA(){return ac()}function ac(){return new dr(t=>t.toString(),(t,e)=>t.isEqual(e))}var xB=new xe(H.comparator),kB=new Xe(H.comparator);function ae(...t){let e=kB;for(let n of t)e=e.add(n);return e}var OB=new Xe(re);function FB(){return OB}function P_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function pA(t){return{integerValue:""+t}}function LB(t,e){return dB(e)?pA(e):P_(t,e)}var hs=class{constructor(){this._=void 0}};function VB(t,e,n){return t instanceof fs?function(i,o){let s={fields:{[ZS]:{stringValue:YS},[XS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&C_(o)&&(o=Rh(o)),o&&(s.fields[JS]=o),{mapValue:s}}(n,e):t instanceof ji?mA(t,e):t instanceof Ui?yA(t,e):function(i,o){let s=gA(i,o),a=sS(s)+sS(i.Ee);return Jy(s)&&Jy(i.Ee)?pA(a):P_(i.serializer,a)}(t,e)}function jB(t,e,n){return t instanceof ji?mA(t,e):t instanceof Ui?yA(t,e):n}function gA(t,e){return t instanceof ps?function(r){return Jy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var fs=class extends hs{},ji=class extends hs{constructor(e){super(),this.elements=e}};function mA(t,e){let n=vA(e);for(let r of t.elements)n.some(i=>kn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ui=class extends hs{constructor(e){super(),this.elements=e}};function yA(t,e){let n=vA(e);for(let r of t.elements)n=n.filter(i=>!kn(i,r));return{arrayValue:{values:n}}}var ps=class extends hs{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function sS(t){return Re(t.integerValue||t.doubleValue)}function vA(t){return R_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ji&&i instanceof ji||r instanceof Ui&&i instanceof Ui?os(r.elements,i.elements,kn):r instanceof ps&&i instanceof ps?kn(r.Ee,i.Ee):r instanceof fs&&i instanceof fs}(t.transform,e.transform)}var lv=class{constructor(e,n){this.version=e,this.transformResults=n}},Ur=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function qd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var gs=class{};function _A(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new eh(t.key,Ur.none()):new Bi(t.key,t.data,Ur.none());{let n=t.data,r=Lt.empty(),i=new Xe(Vt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Fn(t.key,r,new Yt(i.toArray()),Ur.none())}}function BB(t,e,n){t instanceof Bi?function(i,o,s){let a=i.value.clone(),u=cS(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fn?function(i,o,s){if(!qd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=cS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(IA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function cc(t,e,n,r){return t instanceof Bi?function(o,s,a,u){if(!qd(o.precondition,s))return a;let l=o.value.clone(),h=uS(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fn?function(o,s,a,u){if(!qd(o.precondition,s))return a;let l=uS(o.fieldTransforms,u,s),h=s.data;return h.setAll(IA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return qd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function $B(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=gA(r.transform,i||null);o!=null&&(n===null&&(n=Lt.empty()),n.set(r.field,o))}return n||null}function aS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&os(r,i,(o,s)=>UB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Bi=class extends gs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Fn=class extends gs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function IA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function cS(t,e,n){let r=new Map;_e(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,jB(s,a,n[i]))}return r}function uS(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,VB(o,s,e))}return r}var eh=class extends gs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},dv=class extends gs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var hv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&BB(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=cc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=fA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=_A(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&os(this.mutations,e.mutations,(n,r)=>aS(n,r))&&os(this.baseMutations,e.baseMutations,(n,r)=>aS(n,r))}},fv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return xB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var pv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var gv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ve,he;function HB(t){switch(t){case M.OK:return $(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return $(15467,{code:t})}}function wA(t){if(t===void 0)return cr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ve.OK:return M.OK;case Ve.CANCELLED:return M.CANCELLED;case Ve.UNKNOWN:return M.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return M.INTERNAL;case Ve.UNAVAILABLE:return M.UNAVAILABLE;case Ve.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ve.NOT_FOUND:return M.NOT_FOUND;case Ve.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ve.ABORTED:return M.ABORTED;case Ve.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ve.DATA_LOSS:return M.DATA_LOSS;default:return $(39323,{code:t})}}(he=Ve||(Ve={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var lS=null;var zB=new sr([4294967295,4294967295],0);function dS(t){let e=xS().encode(t),n=new My;return n.update(e),new Uint8Array(n.digest())}function hS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new sr([n,r],0),new sr([i,o],0)]}var mv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ki(`Invalid padding: ${n}`);if(r<0)throw new ki(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ki(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ki(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=sr.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(sr.fromNumber(r)));return i.compare(zB)===1&&(i=new sr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=dS(e),[r,i]=hS(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=dS(e),[r,i]=hS(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ki=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var th=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(J.min(),i,new xe(re),hr(),ae())}},pc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ae(),ae(),ae())}};var ns=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},nh=class{constructor(e,n){this.targetId=e,this.De=n}},rh=class{constructor(e,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},ih=class{constructor(){this.ve=0,this.Ce=fS(),this.Fe=vt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ae(),n=ae(),r=ae();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$(38017,{changeType:o})}}),new pc(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=fS()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},yv=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=hr(),this.je=Bd(),this.Je=Bd(),this.He=new xe(re)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:$(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(cv(o))if(r===0){let s=new H(o.path);this.Xe(n,s,ln.newNoDocument(s,J.min()))}else _e(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}lS?.ct(function(h,p,m,y,C){var N,R,L,q,G,Ee;let _t={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Ie=p.unchangedNames;return Ie&&(_t.bloomFilter={applied:C===0,hashCount:(N=Ie?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(q=(L=(R=Ie?.bits)===null||R===void 0?void 0:R.bitmap)===null||L===void 0?void 0:L.length)!==null&&q!==void 0?q:0,padding:(Ee=(G=Ie?.bits)===null||G===void 0?void 0:G.padding)!==null&&Ee!==void 0?Ee:0,mightContain:T=>{var _;return(_=y?.mightContain(T))!==null&&_!==void 0&&_}}),_t}(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=lr(r).toUint8Array()}catch(u){if(u instanceof Yd)return zr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new mv(s,i,o)}catch(u){return zr(u instanceof ki?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&cv(a.target)){let u=new H(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,ln.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ae();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new th(e,n,this.He,this.ze,r);return this.ze=hr(),this.je=Bd(),this.Je=Bd(),this.He=new xe(re),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new ih,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Xe(re),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Xe(re),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new ih),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function Bd(){return new xe(H.comparator)}function fS(){return new xe(H.comparator)}var qB={asc:"ASCENDING",desc:"DESCENDING"},WB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GB={and:"AND",or:"OR"},vv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function _v(t,e){return t.useProto3Json||Ah(e)?e:{value:e}}function oh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KB(t,e){return oh(t,e.toTimestamp())}function xn(t){return _e(!!t,49232),J.fromTimestamp(function(n){let r=ur(n);return new Be(r.seconds,r.nanos)}(t))}function x_(t,e){return Iv(t,e).canonicalString()}function Iv(t,e){let n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TA(t){let e=Fe.fromString(t);return _e(AA(e),10190,{key:e.toString()}),e}function wv(t,e){return x_(t.databaseId,e.path)}function Ly(t,e){let n=TA(e);if(n.get(1)!==t.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(DA(n))}function bA(t,e){return x_(t.databaseId,e)}function QB(t){let e=TA(t);return e.length===4?Fe.emptyPath():DA(e)}function Ev(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DA(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pS(t,e,n){return{name:wv(t,e),fields:n.value.mapValue.fields}}function YB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:$(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(_e(h===void 0||typeof h=="string",58123),vt.fromBase64String(h||"")):(_e(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:wA(l.code);return new V(h,l.message||"")}(s);n=new rh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ly(t,r.document.name),o=xn(r.document.updateTime),s=r.document.createTime?xn(r.document.createTime):J.min(),a=new Lt({mapValue:{fields:r.document.fields}}),u=ln.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ns(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ly(t,r.document),o=r.readTime?xn(r.readTime):J.min(),s=ln.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ns([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ly(t,r.document),o=r.removedTargetIds||[];n=new ns([],o,i,null)}else{if(!("filter"in e))return $(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new gv(i,o),a=r.targetId;n=new nh(a,s)}}return n}function ZB(t,e){let n;if(e instanceof Bi)n={update:pS(t,e.key,e.value)};else if(e instanceof eh)n={delete:wv(t,e.key)};else if(e instanceof Fn)n={update:pS(t,e.key,e.data),updateMask:s$(e.fieldMask)};else{if(!(e instanceof dv))return $(16599,{Rt:e.type});n={verify:wv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof fs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ji)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ui)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ps)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw $(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:KB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$(27497)}(t,e.precondition)),n}function JB(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?xn(i.updateTime):xn(o);return s.isEqual(J.min())&&(s=xn(o)),new lv(s,i.transformResults||[])}(n,e))):[]}function XB(t,e){return{documents:[bA(t,e.path)]}}function e$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bA(t,i);let o=function(l){if(l.length!==0)return SA(On.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Xo(m.field),direction:r$(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=_v(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:n,parent:i}}function t$(t){let e=QB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_e(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=CA(p);return m instanceof On&&oA(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(C){return new ls(es(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Ah(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new us(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new us(y,m)}(n.endAt)),SB(e,i,s,o,a,"F",u,l)}function n$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=es(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=es(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=es(n.unaryFilter.field);return qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=es(n.unaryFilter.field);return qe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $(61313);default:return $(60726)}}(t):t.fieldFilter!==void 0?function(n){return qe.create(es(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $(58110);default:return $(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return On.create(n.compositeFilter.filters.map(r=>CA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $(1026)}}(n.compositeFilter.op))}(t):$(30097,{filter:t})}function r$(t){return qB[t]}function i$(t){return WB[t]}function o$(t){return GB[t]}function Xo(t){return{fieldPath:t.canonicalString()}}function es(t){return Vt.fromServerFormat(t.fieldPath)}function SA(t){return t instanceof qe?function(n){if(n.op==="=="){if(tS(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NAN"}};if(eS(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tS(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NAN"}};if(eS(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(n.field),op:i$(n.op),value:n.value}}}(t):t instanceof On?function(n){let r=n.getFilters().map(i=>SA(i));return r.length===1?r[0]:{compositeFilter:{op:o$(n.op),filters:r}}}(t):$(54877,{filter:t})}function s$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var gc=class t{constructor(e,n,r,i,o=J.min(),s=J.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Tv=class{constructor(e){this.gt=e}};function a$(t){let e=t$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uv(e,e.limit,"L"):e}var sh=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),dc(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=ur(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(lr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?nA(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):tA(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):$(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=ss,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Re(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),H.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};sh.Ut=new sh;var bv=class{constructor(){this.Dn=new Dv}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Vi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},Dv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(Fe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(Fe.comparator)).toArray()}};var TY=new Uint8Array(0);var gS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RA=41943040,Qt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(RA,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);var mc=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var mS="LruGarbageCollector",c$=1048576;function yS([t,e],[n,r]){let i=re(t,n);return i===0?re(e,r):i}var Cv=class{constructor(e){this.Tr=e,this.buffer=new Xe(yS),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();yS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},Sv=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){O(mS,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Is(n)?O(mS,"Ignoring IndexedDB error during garbage collection: ",n):yield _s(n)}yield this.Rr(3e5)}))}},Av=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(b_.ue);let r=new Cv(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(gS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gS):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Zo()<=oe.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function u$(t,e){return new Av(t,e)}var Rv=class{constructor(){this.changes=new dr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Nv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Mv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&cc(r.mutation,i,Yt.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){let i=xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ic();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=hr(),s=ac(),a=function(){return ac()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Fn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),cc(h.mutation,l,h.mutation.getFieldMask(),Be.now())):s.set(l.key,Yt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Nv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ac(),i=new xe((s,a)=>s-a),o=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Yt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ae()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=fA();h.forEach(m=>{if(!o.has(m)){let y=_A(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return H.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(xi()),a=lc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ae())).next(h=>({batchId:a,changes:hA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=ic();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ic();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,m){return new ds(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,ln.newInvalidDocument(h)))});let a=ic();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&cc(h.mutation,l,Yt.empty(),Be.now()),Ph(n,l)&&(a=a.insert(u,l))}),a})}};var Pv=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:a$(i.bundledQuery),readTime:xn(i.readTime)}}(n)),P.resolve()}};var xv=class{constructor(){this.overlays=new xe(H.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=xi();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=xi(),o=n.length+1,s=new H(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new xe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=xi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=xi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new pv(n,r));let o=this.kr.get(n);o===void 0&&(o=ae(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var kv=class{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var yc=class{constructor(){this.qr=new Xe(je.Qr),this.$r=new Xe(je.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new je(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new je(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new H(new Fe([])),r=new je(n,e),i=new je(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new H(new Fe([])),r=new je(n,e),i=new je(n,e+1),o=ae();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new je(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},je=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return H.comparator(e.key,n.key)||re(e.Hr,n.Hr)}static Ur(e,n){return re(e.Hr,n.Hr)||H.comparator(e.key,n.key)}};var Ov=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Xe(je.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new hv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new je(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?D_:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(re);return n.forEach(i=>{let o=new je(i,0),s=new je(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;H.isDocumentKey(o)||(o=o.child(""));let s=new je(new H(o),0),a=new Xe(re);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new je(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new je(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Fv=class{constructor(e){this.ni=e,this.docs=function(){return new xe(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=hr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=hr(),s=n.path,a=new H(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||cB(aB(h),r)<=0||(i.has(h.key)||Ph(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){$(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Lv(this)}getSize(e){return P.resolve(this.size)}},Lv=class extends Rv{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var Vv=class{constructor(e){this.persistence=e,this.ii=new dr(n=>N_(n),M_),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.si=0,this.oi=new yc,this.targetCount=0,this._i=mc.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new mc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var ah=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new b_(0),this.ci=!1,this.ci=!0,this.li=new kv,this.referenceDelegate=e(this),this.hi=new Vv(this),this.indexManager=new bv,this.remoteDocumentCache=function(i){return new Fv(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new Tv(n),this.Ti=new Pv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new Ov(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);let i=new jv(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},jv=class extends Qy{constructor(e){super(),this.currentSequenceNumber=e}},Uv=class t{constructor(e){this.persistence=e,this.Ai=new yc,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw $(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=H.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,J.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},ch=class t{constructor(e,n){this.persistence=e,this.gi=new dr(r=>hB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=u$(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,J.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hd(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Bv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ae(),i=ae();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var $v=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Hv=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return IC()?8:lB(Ze())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new $v;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Zo()<=oe.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",Jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Zo()<=oe.DEBUG&&O("QueryEngine","Query:",Jo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Zo()<=oe.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",Jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pn(n))):P.resolve())}ps(e,n){if(oS(n))return P.resolve(null);let r=Pn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=uv(n,null,"F"),r=Pn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ae(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,uv(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return oS(n)||i.isEqual(J.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(Zo()<=oe.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jo(n)),this.vs(e,s,n,sB(i,lc)).next(a=>a))})}bs(e,n){let r=new Xe(lA(e));return n.forEach((i,o)=>{Ph(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Zo()<=oe.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Jo(n)),this.gs.getDocumentsMatchingQuery(e,n,Vi.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var k_="LocalStore",l$=3e8,zv=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new xe(re),this.Ms=new dr(o=>N_(o),M_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mv(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function d$(t,e,n,r){return new zv(t,e,n,r)}function NA(t,e){return v(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ae();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function h$(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(N=>{let R=l.docVersions.get(C);_e(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ae();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function MA(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function f$(t,e){let n=Y(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(vt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,L){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=l$?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(m,y,h)&&a.push(n.hi.updateTargetData(o,y))});let u=hr(),l=ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(p$(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(J.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function p$(t,e,n){let r=ae(),i=ae();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=hr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):O(k_,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function g$(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=D_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function m$(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new gc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function qv(t,e,n){return v(this,null,function*(){let r=Y(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Is(s))throw s;O(k_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function vS(t,e,n){let r=Y(t),i=J.min(),o=ae();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Y(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)}(r,s,Pn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:J.min(),n?o:ae())).next(a=>(y$(r,NB(e),a),{documents:a,qs:o})))}function y$(t,e,n){let r=t.xs.get(e)||J.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var uh=class{constructor(){this.activeTargetIds=FB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Wv=class{constructor(){this.Fo=new uh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new uh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Gv=class{xo(e){}shutdown(){}};var _S="ConnectivityMonitor",lh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){O(_S,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){O(_S,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var $d=null;function Kv(){return $d===null?$d=function(){return 268435456+Math.round(2147483648*Math.random())}():$d++,"0x"+$d.toString(16)}var Vy="RestConnection",v$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Qv=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Zd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=Kv(),a=this.Go(e,n.toUriEncodedString());O(Vy,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Mr(l);return this.jo(e,a,u,r,h).then(p=>(O(Vy,`Received RPC '${e}' ${s}: `,p),p),p=>{throw zr(Vy,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=v$[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var Yv=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var yt="WebChannelConnection",Zv=class extends Qv{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=Kv();return new Promise((a,u)=>{let l=new Py;l.setWithCredentials(!0),l.listenOnce(xy.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rc.NO_ERROR:let p=l.getResponseJson();O(yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case rc.TIMEOUT:O(yt,`RPC '${e}' ${s} timed out`),u(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:let m=l.getStatus();if(O(yt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let C=y?.error;if(C&&C.status&&C.message){let N=function(L){let q=L.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(q)>=0?q:M.UNKNOWN}(C.status);u(new V(N,C.message))}else u(new V(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new V(M.UNAVAILABLE,"Connection failed."));break;default:$(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{O(yt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);O(yt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=Kv(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Fy(),a=Oy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");O(yt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,C=new Yv({Ho:R=>{y?O(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(O(yt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),O(yt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),N=(R,L,q)=>{R.listen(L,G=>{try{q(G)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return N(p,Yo.EventType.OPEN,()=>{y||(O(yt,`RPC '${e}' stream ${i} transport opened.`),C.s_())}),N(p,Yo.EventType.CLOSE,()=>{y||(y=!0,O(yt,`RPC '${e}' stream ${i} transport closed`),C.__(),this.I_(p))}),N(p,Yo.EventType.ERROR,R=>{y||(y=!0,zr(yt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),C.__(new V(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,Yo.EventType.MESSAGE,R=>{var L;if(!y){let q=R.data[0];_e(!!q,16349);let G=q,Ee=G?.error||((L=G[0])===null||L===void 0?void 0:L.error);if(Ee){O(yt,`RPC '${e}' stream ${i} received error:`,Ee);let _t=Ee.status,Ie=function(w){let E=Ve[w];if(E!==void 0)return wA(E)}(_t),T=Ee.message;Ie===void 0&&(Ie=M.INTERNAL,T="Unknown error status: "+_t+" with message "+Ee.message),y=!0,C.__(new V(Ie,T)),p.close()}else O(yt,`RPC '${e}' stream ${i} received:`,q),C.a_(q)}}),N(a,ky.STAT_EVENT,R=>{R.stat===jd.PROXY?O(yt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===jd.NOPROXY&&O(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function jy(){return typeof document<"u"?document:null}function xh(t){return new vv(t,!0)}var dh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var IS="PersistentStream",hh=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new dh(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new V(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return O(IS,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(O(IS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Jv=class extends hh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=YB(this.serializer,e),r=function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?xn(s.readTime):J.min()}(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=Ev(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=cv(u)?{documents:XB(o,u)}:{query:e$(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=EA(o,s.resumeToken);let l=_v(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){a.readTime=oh(o,s.snapshotVersion.toTimestamp());let l=_v(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=n$(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=Ev(this.serializer),n.removeTarget=e,this.k_(n)}},Xv=class extends hh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=JB(e.writeResults,e.commitTime),r=xn(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=Ev(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>ZB(this.serializer,r))};this.k_(n)}};var e_=class{},t_=class extends e_{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Iv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(M.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,Iv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(M.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},n_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(cr(n),this._a=!1):O("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var $i="RemoteStore",r_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){Hi(this)&&(O($i,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=Y(u);l.Ia.add(4),yield Ec(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield kh(l)})}(this))}))}),this.Aa=new n_(r,i)}};function kh(t){return v(this,null,function*(){if(Hi(t))for(let e of t.da)yield e(!0)})}function Ec(t){return v(this,null,function*(){for(let e of t.da)yield e(!1)})}function PA(t,e){let n=Y(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),V_(n)?L_(n):ws(n).x_()&&F_(n,e))}function O_(t,e){let n=Y(t),r=ws(n);n.Ta.delete(e),r.x_()&&xA(n,e),n.Ta.size===0&&(r.x_()?r.B_():Hi(n)&&n.Aa.set("Unknown"))}function F_(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ws(t).H_(e)}function xA(t,e){t.Ra.$e(e),ws(t).Y_(e)}function L_(t){t.Ra=new yv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ws(t).start(),t.Aa.aa()}function V_(t){return Hi(t)&&!ws(t).M_()&&t.Ta.size>0}function Hi(t){return Y(t).Ia.size===0}function kA(t){t.Ra=void 0}function _$(t){return v(this,null,function*(){t.Aa.set("Online")})}function I$(t){return v(this,null,function*(){t.Ta.forEach((e,n)=>{F_(t,e)})})}function w$(t,e){return v(this,null,function*(){kA(t),V_(t)?(t.Aa.la(e),L_(t)):t.Aa.set("Unknown")})}function E$(t,e,n){return v(this,null,function*(){if(t.Aa.set("Online"),e instanceof rh&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(t,e)}catch(r){O($i,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield fh(t,r)}else if(e instanceof ns?t.Ra.Ye(e):e instanceof nh?t.Ra.it(e):t.Ra.et(e),!n.isEqual(J.min()))try{let r=yield MA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),xA(o,u);let p=new gc(h.target,u,l,h.sequenceNumber);F_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){O($i,"Failed to raise snapshot:",r),yield fh(t,r)}})}function fh(t,e,n){return v(this,null,function*(){if(!Is(e))throw e;t.Ia.add(1),yield Ec(t),t.Aa.set("Offline"),n||(n=()=>MA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){O($i,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield kh(t)}))})}function OA(t,e){return e().catch(n=>fh(t,n,e))}function Oh(t){return v(this,null,function*(){let e=Y(t),n=Wr(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:D_;for(;T$(e);)try{let i=yield g$(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,b$(e,i)}catch(i){yield fh(e,i)}FA(e)&&LA(e)})}function T$(t){return Hi(t)&&t.Pa.length<10}function b$(t,e){t.Pa.push(e);let n=Wr(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function FA(t){return Hi(t)&&!Wr(t).M_()&&t.Pa.length>0}function LA(t){Wr(t).start()}function D$(t){return v(this,null,function*(){Wr(t).na()})}function C$(t){return v(this,null,function*(){let e=Wr(t);for(let n of t.Pa)e.X_(n.mutations)})}function S$(t,e,n){return v(this,null,function*(){let r=t.Pa.shift(),i=fv.from(r,e,n);yield OA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Oh(t)})}function A$(t,e){return v(this,null,function*(){e&&Wr(t).Z_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return HB(s)&&s!==M.ABORTED}(i.code)){let o=r.Pa.shift();Wr(r).N_(),yield OA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Oh(r)}})}(t,e)),FA(t)&&LA(t)})}function wS(t,e){return v(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),O($i,"RemoteStore received new credentials");let r=Hi(n);n.Ia.add(3),yield Ec(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield kh(n)})}function R$(t,e){return v(this,null,function*(){let n=Y(t);e?(n.Ia.delete(2),yield kh(n)):e||(n.Ia.add(2),yield Ec(n),n.Aa.set("Unknown"))})}function ws(t){return t.Va||(t.Va=function(n,r,i){let o=Y(n);return o.ia(),new Jv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:_$.bind(null,t),e_:I$.bind(null,t),n_:w$.bind(null,t),J_:E$.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.Va.N_(),V_(t)?L_(t):t.Aa.set("Unknown")):(yield t.Va.stop(),kA(t))}))),t.Va}function Wr(t){return t.ma||(t.ma=function(n,r,i){let o=Y(n);return o.ia(),new Xv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:D$.bind(null,t),n_:A$.bind(null,t),ea:C$.bind(null,t),ta:S$.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.ma.N_(),yield Oh(t)):(yield t.ma.stop(),t.Pa.length>0&&(O($i,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var i_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function j_(t,e){if(cr("AsyncQueue",`${e}: ${t}`),Is(t))return new V(M.UNAVAILABLE,`${e}: ${t}`);throw t}var ph=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=ic(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var gh=class{constructor(){this.fa=new xe(H.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):$(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},ms=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,ph.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var o_=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},s_=class{constructor(){this.queries=ES(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=Y(n),o=i.queries;i.queries=ES(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new V(M.ABORTED,"Firestore shutting down"))}};function ES(){return new dr(t=>uA(t),Mh)}function VA(t,e){return v(this,null,function*(){let n=Y(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new o_,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=j_(s,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&U_(n)})}function jA(t,e){return v(this,null,function*(){let n=Y(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function N$(t,e){let n=Y(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&U_(n)}function M$(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function U_(t){t.Da.forEach(e=>{e.next()})}var a_,TS;(TS=a_||(a_={})).Fa="default",TS.Cache="cache";var mh=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ms(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==a_.Cache}};var yh=class{constructor(e){this.key=e}},vh=class{constructor(e){this.key=e}},c_=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ae(),this.mutatedKeys=ae(),this.Xa=lA(e),this.eu=new ph(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new gh,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Ph(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?C!==N&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(y,C){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $(20277,{At:R})}};return N(y)-N(C)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new ms(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new gh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ae(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new vh(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new yh(r))}),n}uu(e){this.Ha=e.qs,this.Za=ae();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ms.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},B_="SyncEngine",u_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},l_=class{constructor(e){this.key=e,this.lu=!1}},d_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new dr(a=>uA(a),Mh),this.Tu=new Map,this.Iu=new Set,this.du=new xe(H.comparator),this.Eu=new Map,this.Au=new yc,this.Ru={},this.Vu=new Map,this.mu=mc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function P$(t,e,n=!0){return v(this,null,function*(){let r=qA(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield UA(r,e,n,!0),i})}function x$(t,e){return v(this,null,function*(){let n=qA(t);yield UA(n,e,!0,!1)})}function UA(t,e,n,r){return v(this,null,function*(){let i=yield m$(t.localStore,Pn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield k$(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&PA(t.remoteStore,i),a})}function k$(t,e,n,r,i){return v(this,null,function*(){t.gu=(p,m,y)=>function(N,R,L,q){return v(this,null,function*(){let G=R.view.nu(L);G.Ds&&(G=yield vS(N.localStore,R.query,!1).then(({documents:T})=>R.view.nu(T,G)));let Ee=q&&q.targetChanges.get(R.targetId),_t=q&&q.targetMismatches.get(R.targetId)!=null,Ie=R.view.applyChanges(G,N.isPrimaryClient,Ee,_t);return DS(N,R.targetId,Ie._u),Ie.snapshot})}(t,p,m,y);let o=yield vS(t.localStore,e,!0),s=new c_(e,o.qs),a=s.nu(o.documents),u=pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);DS(t,n,l._u);let h=new u_(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function O$(t,e,n){return v(this,null,function*(){let r=Y(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Mh(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield qv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&O_(r.remoteStore,i.targetId),h_(r,i.targetId)}).catch(_s))):(h_(r,i.targetId),yield qv(r.localStore,i.targetId,!0))})}function F$(t,e){return v(this,null,function*(){let n=Y(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),O_(n.remoteStore,r.targetId))})}function L$(t,e,n){return v(this,null,function*(){let r=z$(t);try{let i=yield function(s,a){let u=Y(s),l=Be.now(),h=a.reduce((y,C)=>y.add(C.key),ae()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=hr(),N=ae();return u.Os.getEntries(y,h).next(R=>{C=R,C.forEach((L,q)=>{q.isValidDocument()||(N=N.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let L=[];for(let q of a){let G=$B(q,p.get(q.key).overlayedDocument);G!=null&&L.push(new Fn(q.key,G,rA(G.value.mapValue),Ur.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,L,a)}).next(R=>{m=R;let L=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,L)})}).then(()=>({batchId:m.batchId,changes:hA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new xe(re)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Tc(r,i.changes),yield Oh(r.remoteStore)}catch(i){let o=j_(i,"Failed to persist write");n.reject(o)}})}function BA(t,e){return v(this,null,function*(){let n=Y(t);try{let r=yield f$(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?_e(s.lu,14607):i.removedDocuments.size>0&&(_e(s.lu,42227),s.lu=!1))}),yield Tc(n,r,e)}catch(r){yield _s(r)}})}function bS(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Y(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&U_(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function V$(t,e,n){return v(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new xe(H.comparator);s=s.insert(o,ln.newNoDocument(o,J.min()));let a=ae().add(o),u=new th(J.min(),new Map,new xe(re),s,a);yield BA(r,u),r.du=r.du.remove(o),r.Eu.delete(e),$_(r)}else yield qv(r.localStore,e,!1).then(()=>h_(r,e,n)).catch(_s)})}function j$(t,e){return v(this,null,function*(){let n=Y(t),r=e.batch.batchId;try{let i=yield h$(n.localStore,e);HA(n,r,null),$A(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Tc(n,i)}catch(i){yield _s(i)}})}function U$(t,e,n){return v(this,null,function*(){let r=Y(t);try{let i=yield function(s,a){let u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(_e(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);HA(r,e,n),$A(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Tc(r,i)}catch(i){yield _s(i)}})}function $A(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function HA(t,e,n){let r=Y(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function h_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||zA(t,r)})}function zA(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(O_(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),$_(t))}function DS(t,e,n){for(let r of n)r instanceof yh?(t.Au.addReference(r.key,e),B$(t,r)):r instanceof vh?(O(B_,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||zA(t,r.key)):$(19791,{yu:r})}function B$(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(O(B_,"New document in limbo: "+n),t.Iu.add(r),$_(t))}function $_(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new H(Fe.fromString(e)),r=t.mu.next();t.Eu.set(r,new l_(n)),t.du=t.du.insert(n,r),PA(t.remoteStore,new gc(Pn(Nh(n.path)),r,"TargetPurposeLimboResolution",b_.ue))}}function Tc(t,e,n){return v(this,null,function*(){let r=Y(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Bv.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(u,l){return v(this,null,function*(){let h=Y(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Is(p))throw p;O(k_,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);h.Fs=h.Fs.insert(m,N)}}})}(r.localStore,o))})}function $$(t,e){return v(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){O(B_,"User change. New user:",e.toKey());let r=yield NA(n.localStore,e);n.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new V(M.CANCELLED,s))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Tc(n,r.Bs)}})}function H$(t,e){let n=Y(t),r=n.Eu.get(e);if(r&&r.lu)return ae().add(r.key);{let i=ae(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function qA(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V$.bind(null,e),e.hu.J_=N$.bind(null,e.eventManager),e.hu.pu=M$.bind(null,e.eventManager),e}function z$(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U$.bind(null,e),e}var WA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=xh(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return d$(this.persistence,new Hv,n.initialUser,this.serializer)}Du(n){return new ah(Uv.Vi,this.serializer)}bu(n){return new Wv}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),f_=class extends WA{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){_e(this.persistence.referenceDelegate instanceof ch,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Sv(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new ah(r=>ch.Vi(r,n),this.serializer)}};var q$=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>bS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$$.bind(null,this.syncEngine),yield R$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new s_}()}createDatastore(n){let r=xh(n.databaseInfo.databaseId),i=function(s){return new Zv(s)}(n.databaseInfo);return function(s,a,u,l){return new t_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new r_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>bS(this.syncEngine,r,0),function(){return lh.C()?new lh:new Gv}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new d_(o,s,a,u,l,h);return p&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(o){return v(this,null,function*(){let s=Y(o);O($i,"RemoteStore shutting down."),s.Ia.add(5),yield Ec(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var _h=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Gr="FirestoreClient",p_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Je.UNAUTHENTICATED,this.clientId=uc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){O(Gr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(O(Gr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=j_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Uy(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),O(Gr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield NA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{zr("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{O("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{zr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function CS(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield W$(t);O(Gr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>wS(e.remoteStore,i)),t._onlineComponents=e})}function W$(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O(Gr,"Using user provided OfflineComponentProvider");try{yield Uy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;zr("Error using user provided cache. Falling back to memory cache: "+n),yield Uy(t,new WA)}}else O(Gr,"Using default OfflineComponentProvider"),yield Uy(t,new f_(void 0));return t._offlineComponents})}function GA(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(O(Gr,"Using user provided OnlineComponentProvider"),yield CS(t,t._uninitializedComponentsProvider._online)):(O(Gr,"Using default OnlineComponentProvider"),yield CS(t,new q$))),t._onlineComponents})}function G$(t){return GA(t).then(e=>e.syncEngine)}function g_(t){return v(this,null,function*(){let e=yield GA(t),n=e.eventManager;return n.onListen=P$.bind(null,e.syncEngine),n.onUnlisten=O$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=x$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F$.bind(null,e.syncEngine),n})}function K$(t,e,n={}){let r=new Rn;return t.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,u,l){let h=new _h({next:m=>{h.Ou(),s.enqueueAndForget(()=>jA(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new V(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new V(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new mh(Nh(a.path),h,{includeMetadataChanges:!0,ka:!0});return VA(o,p)}(yield g_(t),t.asyncQueue,e,n,r)})),r.promise}function KA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var SS=new Map;var QA="firestore.googleapis.com",AS=!0,Ih=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QA,this.ssl=AS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:AS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c$)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},vc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ih({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ih(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new By;switch(r.type){case"firstParty":return new qy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=SS.get(n);r&&(O("ComponentProvider","Removing Datastore"),SS.delete(n),r.terminate())}(this),Promise.resolve()}};function YA(t,e,n,r={}){var i;t=Nn(t,vc);let o=Mr(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(ud(`https://${u}`),ld("Firestore",!0)),s.host!==QA&&s.host!==u&&zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!qt(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Je.MOCK_USER;else{h=gC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Je(m)}t._authCredentials=new $y(new Wd(h,p))}}var wh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ct=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _c(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(wc(n,t._jsonSchema))return new t(e,r||null,new H(Fe.fromString(n.referencePath)))}};ct._jsonSchemaVersion="firestore/documentReference/1.0",ct._jsonSchema={type:Ue("string",ct._jsonSchemaVersion),referencePath:Ue("string")};var _c=class t extends wh{constructor(e,n,r){super(e,n,Nh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new H(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ZA(t,e,...n){if(t=Le(t),arguments.length===1&&(e=uc.newId()),iB("doc","path",e),t instanceof vc){let r=Fe.fromString(e,...n);return G0(r),new ct(t,null,new H(r))}{if(!(t instanceof ct||t instanceof _c))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return G0(r),new ct(t.firestore,t instanceof _c?t.converter:null,new H(r))}}var RS="AsyncQueue",Eh=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new dh(this,"async_queue_retry"),this.oc=()=>{let r=jy();r&&O(RS,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=jy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=jy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Rn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Is(e))throw e;O(RS,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,cr("INTERNAL UNHANDLED ERROR: ",NS(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=i_.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&$(47125,{hc:NS(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function NS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function MS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Kr=class extends vc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Eh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Eh(e),this._firestoreClient=void 0,yield e}})}};function JA(t,e){let n=typeof t=="object"?t:Dn(),r=typeof t=="string"?t:e||Zd,i=Gt(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=pC("firestore");o&&YA(i,...o)}return i}function H_(t){if(t._terminated)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Q$(t),t._firestoreClient}function Q$(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Yy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,KA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new p_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Br=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(vt.fromBase64String(e))}catch(n){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wc(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Br._jsonSchemaVersion="firestore/bytes/1.0",Br._jsonSchema={type:Ue("string",Br._jsonSchemaVersion),bytes:Ue("string")};var ys=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ic=class{constructor(e){this._methodName=e}};var $r=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(wc(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};$r._jsonSchemaVersion="firestore/geoPoint/1.0",$r._jsonSchema={type:Ue("string",$r._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};var Hr=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wc(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new V(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Hr._jsonSchemaVersion="firestore/vectorValue/1.0",Hr._jsonSchema={type:Ue("string",Hr._jsonSchemaVersion),vectorValues:Ue("object")};var Y$=/^__.*__$/,m_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bi(e,this.data,n,this.fieldTransforms)}},Th=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function XA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $(40011,{Ec:t})}}var y_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Dh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(XA(this.Ec)&&Y$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},v_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xh(e)}Dc(e,n,r,i=!1){return new y_({Ec:e,methodName:n,bc:r,path:Vt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function eR(t){let e=t._freezeSettings(),n=xh(t._databaseId);return new v_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Z$(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);z_("Data must be an object, but it was:",s,r);let a=tR(r,s),u,l;if(o.merge)u=new Yt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=__(e,p,n);if(!s.contains(m))throw new V(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);rR(h,m)||h.push(m)}u=new Yt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new m_(new Lt(a),u,l)}var bh=class t extends Ic{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function J$(t,e,n,r){let i=t.Dc(1,e,n);z_("Data must be an object, but it was:",i,r);let o=[],s=Lt.empty();Qr(r,(u,l)=>{let h=q_(e,u,n);l=Le(l);let p=i.gc(h);if(l instanceof bh)o.push(h);else{let m=Fh(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Yt(o);return new Th(s,a,i.fieldTransforms)}function X$(t,e,n,r,i,o){let s=t.Dc(1,e,n),a=[__(e,r,n)],u=[i];if(o.length%2!=0)throw new V(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(__(e,o[m])),u.push(o[m+1]);let l=[],h=Lt.empty();for(let m=a.length-1;m>=0;--m)if(!rR(l,a[m])){let y=a[m],C=u[m];C=Le(C);let N=s.gc(y);if(C instanceof bh)l.push(y);else{let R=Fh(C,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new Yt(l);return new Th(h,p,s.fieldTransforms)}function Fh(t,e){if(nR(t=Le(t)))return z_("Unsupported field value:",e,t),tR(t,e);if(t instanceof Ic)return function(r,i){if(!XA(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Fh(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Be.fromDate(r);return{timestampValue:oh(i.serializer,o)}}if(r instanceof Be){let o=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oh(i.serializer,o)}}if(r instanceof $r)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Br)return{bytesValue:EA(i.serializer,r._byteString)};if(r instanceof ct){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:x_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Hr)return function(s,a){return{mapValue:{fields:{[S_]:{stringValue:A_},[ss]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return P_(a.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${T_(r)}`)}(t,e)}function tR(t,e){let n={};return QS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qr(t,(r,i)=>{let o=Fh(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function nR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof $r||t instanceof Br||t instanceof ct||t instanceof Ic||t instanceof Hr)}function z_(t,e,n){if(!nR(n)||!kS(n)){let r=T_(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function __(t,e,n){if((e=Le(e))instanceof ys)return e._internalPath;if(typeof e=="string")return q_(t,e);throw Dh("Field path arguments must be of type string or ",t,!1,void 0,n)}var eH=new RegExp("[~\\*/\\[\\]]");function q_(t,e,n){if(e.search(eH)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ys(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(M.INVALID_ARGUMENT,a+t+u)}function rR(t,e){return t.some(n=>n.isEqual(e))}var Ch=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new I_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(iR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},I_=class extends Ch{data(){return super.data()}};function iR(t,e){return typeof e=="string"?q_(t,e):e instanceof ys?e._internalPath:e._delegate._internalPath}function tH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var w_=class{convertValue(e,n="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Qr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ss].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Re(s.doubleValue));return new Hr(o)}convertGeoPoint(e){return new $r(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Rh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){let n=ur(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Fe.fromString(e);_e(AA(r),9688,{name:e});let i=new Jd(r.get(1),r.get(3)),o=new H(r.popFirst(5));return i.isEqual(n)||cr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function nH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Oi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Fi=class t extends Ch{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new rs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(iR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Fi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fi._jsonSchema={type:Ue("string",Fi._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};var rs=class extends Fi{data(e={}){return super.data(e)}},is=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Oi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rs(this._firestore,this._userDataWriter,r.key,r,new Oi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new rs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new rs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:rH(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function rH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $(61501,{type:t})}}function oR(t){t=Nn(t,ct);let e=Nn(t.firestore,Kr);return K$(H_(e),t._key).then(n=>uR(e,t,n))}is._jsonSchemaVersion="firestore/querySnapshot/1.0",is._jsonSchema={type:Ue("string",is._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};var Sh=class extends w_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Br(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,n)}};function sR(t,e,n){t=Nn(t,ct);let r=Nn(t.firestore,Kr),i=nH(t.converter,e,n);return cR(r,[Z$(eR(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ur.none())])}function aR(t,e,n,...r){t=Nn(t,ct);let i=Nn(t.firestore,Kr),o=eR(i),s;return s=typeof(e=Le(e))=="string"||e instanceof ys?X$(o,"updateDoc",t._key,e,n,r):J$(o,"updateDoc",t._key,e),cR(i,[s.toMutation(t._key,Ur.exists(!0))])}function W_(t,...e){var n,r,i;t=Le(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||MS(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(MS(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof ct)l=Nn(t.firestore,Kr),h=Nh(t._key.path),u={next:p=>{e[s]&&e[s](uR(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Nn(t,wh);l=Nn(p.firestore,Kr),h=p._query;let m=new Sh(l);u={next:y=>{e[s]&&e[s](new is(l,m,p,y))},error:e[s+1],complete:e[s+2]},tH(t._query)}return function(m,y,C,N){let R=new _h(N),L=new mh(y,R,C);return m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return VA(yield g_(m),L)})),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return jA(yield g_(m),L)}))}}(H_(l),h,a,u)}function cR(t,e){return function(r,i){let o=new Rn;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return L$(yield G$(r),i,o)})),o.promise}(H_(t),e)}function uR(t,e,n){let r=n.docs.get(e._key),i=new Sh(t);return new Fi(t,i,e._key,r,new Oi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){vs=i})(xr),at(new Oe("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Kr(new Hy(r.getProvider("auth-internal")),new Wy(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ve(H0,z0,e),ve(H0,z0,"esm2017")})();var Lh=function(){return Lh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Lh.apply(this,arguments)};var sH={includeMetadataChanges:!1};function lR(t,e){return e===void 0&&(e=sH),new se(function(n){var r=W_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function dR(t){return lR(t,{includeMetadataChanges:!0})}function hR(t,e){return e===void 0&&(e={}),dR(t).pipe(ce(function(n){return fR(n,e)}))}function fR(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Lh(Lh({},r),(n={},n[e.idField]=t.id,n))}var zi=class{constructor(e){return e}},pR="firestore",G_=class{constructor(){return kr(pR)}};var K_=new U("angularfire2.firestore-instances");function aH(t,e){let n=Ai(pR,t,e);return n&&new zi(n)}function cH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new zi(r)}}var uH={provide:G_,deps:[[new ft,K_]]},lH={provide:zi,useFactory:aH,deps:[[new ft,K_],cn]};function gR(t,...e){return ve("angularfire",Cn.full,"fst"),rn([lH,uH,{provide:K_,useFactory:cH(t),multi:!0,deps:[ye,Ke,Sn,rr,[new ft,nc],[new ft,Ko],...e]}])}var Q_=Mt(hR,!0);var Es=Mt(ZA,!0,2);var mR=Mt(oR,!0);var yR=Mt(JA,!0);var vR=Mt(sR,!0,2);var _R=Mt(aR,!0,2);var Ts=class t{constructor(){}firestore=x(zi);getPersonalData(){let e=Es(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return Q_(e)}getPersonalDataOnce(){return v(this,null,function*(){let e=Es(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q"),n=yield mR(e);return n.exists()?n.data():void 0})}getDocument(e){if(!this.firestore)return console.warn("Firestore no est\xE1 inicializado. Retornando array vac\xEDo."),K([]);let n=Es(this.firestore,e);return Q_(n)}updateDocument(e,n,r){let i=Es(this.firestore,e,n);return _R(i,r)}updatePersonalData(e){let n=Es(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return vR(n,e,{merge:!0})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})};function dH(t,e){if(t&1){let n=ko();ha(0),z(1,"div",2),ze("click",function(){hi(n);let i=Cr();return fi(i.selectView("experience"))}),z(2,"h2"),ue(3,"Experiencia laboral"),Q(),z(4,"p"),ue(5,"Trayectoria profesional y proyectos destacados."),Q()(),z(6,"div",3),ze("click",function(){hi(n);let i=Cr();return fi(i.selectView("technologies"))}),z(7,"h2"),ue(8,"Tecnolog\xEDas especializadas"),Q(),z(9,"p"),ue(10,"Stack t\xE9cnico y herramientas utilizadas."),Q()(),fa()}}function hH(t,e){if(t&1){let n=ko();ha(0),z(1,"div",4)(2,"button",5),ze("click",function(){hi(n);let i=Cr();return fi(i.selectView("menu"))}),ue(3,"\u2190 Volver"),Q(),z(4,"div",6)(5,"div",7)(6,"h3"),ue(7,"Desarrollador Full-Stack"),Q(),z(8,"h3"),ue(9,"Indra Sistemas"),Q(),z(10,"h4"),ue(11,"Octubre 2024 - ACTUALMENTE"),Q()(),z(12,"div",8)(13,"p"),ue(14," El proyecto en el que actualmente trabajo es un sistema de mando y control, encargado de gestionar recursos, publicar instrucciones y llevar un seguimiento de las acciones. Ademas de comunicarse con otras plataformas con objetivos similares a nuestro sistema. Los desarrollos principales en los que he trabajado han sido: La migracion de la aplicaci\xF3n de Windows a Linux y Android. Integraci\xF3n en el nuevas tecnolog\xEDas y desarrollado un nuevo frontal m\xE1s din\xE1mico y con apariencia mas moderna usando Angular. Implementar nuevas funcionalidades en un sistema programado en Java con mas de 15 a\xF1os y consolidado. Sin quebrar el funcionamiento de los sistemas ya existentes y otros que estan en desarrollo y comparten servicios en com\xFAn. "),Q()()(),z(15,"div",6)(16,"div",7)(17,"h3"),ue(18,"Desarrollador Full-Stack"),Q(),z(19,"h3"),ue(20,"Mercanza"),Q(),z(21,"h4"),ue(22,"Septiembre 2023 - Diciembre 2023"),Q()(),z(23,"div",8)(24,"p"),ue(25," Los proyectos en los que trabaj\xE9 eran encargados de llevar el tratamiento de datos personales y de negocio de diversas empresas con sus empleados o clientes. Estos proyectos usaban diferentes tecnolog\xEDas pero en los que mas desarroll\xE9 usaban Angular y .NET con C#. En estas aplicaciones web realic\xE9 sobre todo tareas de resoluci\xF3n de incidencias, correci\xF3n de componentes de interfaz gr\xE1fica y optimizaci\xF3n de consultas a APIs y Bases de datos relaccionales. "),Q()()()(),fa()}}function fH(t,e){if(t&1){let n=ko();ha(0),z(1,"div",4)(2,"button",5),ze("click",function(){hi(n);let i=Cr();return fi(i.selectView("menu"))}),ue(3,"\u2190 Volver"),Q(),z(4,"h2"),ue(5,"Tecnolog\xEDas especializadas"),Q(),z(6,"div",9)(7,"p"),ue(8," Especializado en Java con gran conocimiento de gestion multihilo "),Ae(9,"br")(10,"br"),ue(11," Conocimientos en typescript y angular "),Q()()(),fa()}}var Vh=class t{view="menu";selectView(e){this.view=e}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Qe({type:t,selectors:[["app-experience-panel"]],decls:4,vars:3,consts:[[1,"experience-wrapper"],[4,"ngIf"],[1,"experience-card","experience",3,"click"],[1,"experience-card","technologies",3,"click"],[1,"experience-detail"],[1,"back-btn",3,"click"],[1,"detail-panel"],[1,"detail-header"],[1,"detail-content"],[1,"detail-scroll"]],template:function(n,r){n&1&&(z(0,"div",0),Zn(1,dH,11,0,"ng-container",1)(2,hH,26,0,"ng-container",1)(3,fH,12,0,"ng-container",1),Q()),n&2&&(Se(),ot("ngIf",r.view==="menu"),Se(),ot("ngIf",r.view==="experience"),Se(),ot("ngIf",r.view==="technologies"))},dependencies:[mt,yi],styles:[".experience-wrapper[_ngcontent-%COMP%]{display:flex;gap:2rem;width:100%;height:100%;max-width:900px;margin:0 auto;align-items:anchor-center}.experience-card[_ngcontent-%COMP%]{flex:1;padding:2.5rem;background:#ffffff0a;border:1px solid rgba(255,255,255,.08);cursor:pointer;transition:all .35s ease;position:relative}.experience-card[_ngcontent-%COMP%]:hover{background:#ffffff14;transform:translateY(-6px)}.experience-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem;letter-spacing:.08em;margin-bottom:1rem;text-transform:uppercase}.experience-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;opacity:.85}.experience-card.experience[_ngcontent-%COMP%]{border-left:4px solid #6aa9ff}.experience-card.technologies[_ngcontent-%COMP%]{border-left:4px solid #7dffb3}.experience-detail[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:0 auto}.back-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6aa9ff;font-size:1rem;cursor:pointer;margin-bottom:1.5rem}.detail-scroll[_ngcontent-%COMP%]{max-height:320px;overflow-y:auto;padding-right:.75rem}.detail-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.detail-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff40;border-radius:3px}.detail-panel[_ngcontent-%COMP%]{background-color:var(--color-subpanel-dark)}.detail-header[_ngcontent-%COMP%]{background-color:var(--color-subpanel-child-dark)}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0}"]})};function pH(t,e){t&1&&Ae(0,"div")}function gH(t,e){t&1&&Ae(0,"app-experience-panel")}var jh=class t{visible=!1;activeTab=void 0;close=new Ge;pathImg="";onClose(){this.close.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Qe({type:t,selectors:[["app-left-panel"]],inputs:{visible:"visible",activeTab:"activeTab",pathImg:"pathImg"},outputs:{close:"close"},decls:7,vars:8,consts:[[1,"tab-panel"],[1,"tab-panel-inner"],[1,"close-btn",3,"click"],[4,"ngIf"],[1,"tab-image"]],template:function(n,r){n&1&&(z(0,"div",0)(1,"div",1)(2,"button",2),ze("click",function(){return r.onClose()}),ue(3,"\u2715"),Q(),Zn(4,pH,1,0,"div",3)(5,gH,1,0,"app-experience-panel",3),Q()(),Ae(6,"div",4)),n&2&&(Jn("is-visible",r.visible),Se(4),ot("ngIf",r.activeTab==="about"),Se(),ot("ngIf",r.activeTab==="experience"),Se(),In("background-image","url("+r.pathImg+")"),Jn("is-visible",r.visible))},dependencies:[mt,yi,Vh],styles:[".tab-panel[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:70vw;background:var(--color-panel-dark);color:#f5f5f5;box-shadow:8px 0 30px #00000073;transform:translate(-100%);transition:transform 1s ease;z-index:5;display:flex;align-items:center}.tab-image[_ngcontent-%COMP%]{visibility:hidden;position:fixed;top:0;right:0;left:auto;height:100vh;width:30vw;color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(-500%);transition:transform 1s ease;z-index:5;display:flex;align-items:center;background-size:cover;background-position:center;background-repeat:no-repeat;z-index:0}.tab-image.is-visible[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.tab-panel.is-visible[_ngcontent-%COMP%]{transform:translate(0)}.tab-panel-inner[_ngcontent-%COMP%]{padding:3rem;width:100%;height:100%;box-sizing:border-box;align-content:center}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;border:none;background:transparent;color:#f5f5f5;font-size:1.8rem;cursor:pointer}.tab-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.4rem;margin-bottom:1.5rem;letter-spacing:.08em;text-transform:uppercase}.tab-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.6;max-width:32rem}"]})};function mH(t,e){if(t&1){let n=ko();z(0,"div",1),ze("click",function(){let i=hi(n).index,o=Cr();return fi(o.toggleExpand(i))}),z(1,"div",2)(2,"h2"),ue(3),Q(),z(4,"h4"),ue(5),Q(),z(6,"h5"),ue(7),Q(),z(8,"p"),ue(9),Q()(),z(10,"div",3)(11,"p"),ue(12,"Otro texto que aparece al pulsar"),Q()()()}if(t&2){let n=e.$implicit,r=e.index,i=Cr();Jn("expanded",i.expandedIndex()===r),Se(3),pa(n.nombre),Se(2),pa(n.entity),Se(2),Pg("",n.start," ",n.end,""),Se(2),pa(n.description)}}var Uh=class t{fireBaseService=x(Ts);studiesSignal=ul([]);dataSubscription;expandedIndex=ul(null);toggleExpand(e){this.expandedIndex.set(this.expandedIndex()===e?null:e)}ngOnInit(){this.setDocumentData()}ngOnDestroy(){this.dataSubscription?.unsubscribe()}setDocumentData(){this.dataSubscription=this.fireBaseService.getDocument("ESTUDIOS/JsQdBul7oM8HeoebALwJ").subscribe({next:e=>{console.log("VALUE: ",e?.LISTA_DE_ESTUDIOS),this.studiesSignal.set(e?.LISTA_DE_ESTUDIOS??[])},error:e=>{console.error("Error en get document")}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Qe({type:t,selectors:[["app-studies-panel"]],decls:1,vars:1,consts:[[3,"expanded","click",4,"ngFor","ngForOf"],[3,"click"],[1,"text","text-primary"],[1,"text","text-secondary"]],template:function(n,r){n&1&&Zn(0,mH,13,7,"div",0),n&2&&ot("ngForOf",r.studiesSignal())},dependencies:[mt,Tl],styles:["[_nghost-%COMP%]{display:block;width:100%}div[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1rem;background:var(--color-subpanel-child-dark);border-radius:8px;flex:1;overflow:hidden;position:relative}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:6px 0}.text[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;transition:all .35s ease}.text-secondary[_ngcontent-%COMP%]{transform:translate(100%);opacity:0}div.expanded[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{transform:translate(-100%);opacity:0}div.expanded[_ngcontent-%COMP%]   .text-secondary[_ngcontent-%COMP%]{transform:translate(0);opacity:1}"]})};function yH(t,e){t&1&&Ae(0,"app-studies-panel",6)}function vH(t,e){t&1&&Ae(0,"div")}var Bh=class t{visible=!1;title="default-text";contents="default-text";activeTab=void 0;close=new Ge;pathImg="";onClose(){this.close.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Qe({type:t,selectors:[["app-right-panel"]],inputs:{visible:"visible",title:"title",contents:"contents",activeTab:"activeTab",pathImg:"pathImg"},outputs:{close:"close"},decls:7,vars:8,consts:[[1,"tab-panel"],[1,"tab-panel-inner"],[1,"close-btn",3,"click"],["class","studies-wrapper",4,"ngIf"],[4,"ngIf"],[1,"tab-image"],[1,"studies-wrapper"]],template:function(n,r){n&1&&(z(0,"div",0)(1,"div",1)(2,"button",2),ze("click",function(){return r.onClose()}),ue(3,"\u2715"),Q(),Zn(4,yH,1,0,"app-studies-panel",3)(5,vH,1,0,"div",4),Q()(),Ae(6,"div",5)),n&2&&(Jn("is-visible",r.visible),Se(4),ot("ngIf",r.activeTab==="studies"),Se(),ot("ngIf",r.activeTab==="contact"),Se(),In("background-image","url("+r.pathImg+")"),Jn("is-visible",r.visible))},dependencies:[mt,yi,Uh],styles:[".tab-panel[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:auto;height:100vh;width:70vw;background:var(--color-panel-dark);color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(100%);transition:transform 1s ease;z-index:5;display:flex;flex-direction:column;align-items:stretch}.tab-image[_ngcontent-%COMP%]{visibility:hidden;position:fixed;top:0;left:0;right:auto;height:100vh;width:30vw;color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(500%);transition:transform 1s ease;z-index:5;display:flex;align-items:center;background-size:cover;background-position:center;background-repeat:no-repeat;z-index:0}.tab-image.is-visible[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.tab-panel.is-visible[_ngcontent-%COMP%]{transform:translate(0)}.tab-panel-inner[_ngcontent-%COMP%]{padding:3rem;width:100%;box-sizing:border-box;height:100%}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;border:none;background:transparent;color:#f5f5f5;font-size:1.8rem;cursor:pointer}.tab-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.4rem;margin-bottom:1.5rem;letter-spacing:.08em;text-transform:uppercase}.tab-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.6;max-width:32rem}.studies-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--color-subpanel-dark);padding:1.5rem;border-radius:12px;box-sizing:border-box;display:flex;flex-direction:column;min-height:min-content;overflow:hidden}"]})};var _H=(t,e,n,r)=>({"is-open-about":t,"is-open-studies":e,"is-open-experience":n,"is-open-contact":r}),$h=class t{activeTab=null;focusedTab=null;openTab(e){this.activeTab=e}closeTab(){this.activeTab=null}focusTab(e){this.focusedTab=e}getImagePath(){switch(this.activeTab){case"about":return"/assets/SobreMi.jpg";case"experience":return"/assets/Experiencia.jpg";case"studies":return"/assets/Estudios.jpg";case"contact":return"/assets/Contacto.jpg";case null:return"";default:return""}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Qe({type:t,selectors:[["app-radial-tabs"]],decls:23,vars:20,consts:[[1,"grid"],[1,"wrap",3,"ngClass"],[1,"top-span",3,"click","mouseover","mouseout"],[1,"down-span",3,"click","mouseover","mouseout"],[1,"avatar"],[3,"close","visible","activeTab","pathImg"]],template:function(n,r){n&1&&(z(0,"div",0)(1,"div",1)(2,"a",2),ze("click",function(){return r.openTab("about")})("mouseover",function(){return r.focusTab("about")})("mouseout",function(){return r.focusTab(null)}),Ae(3,"div"),z(4,"span"),ue(5,"About"),Q()(),z(6,"a",2),ze("click",function(){return r.openTab("studies")})("mouseover",function(){return r.focusTab("studies")})("mouseout",function(){return r.focusTab(null)}),Ae(7,"div"),z(8,"span"),ue(9,"Studies"),Q()(),z(10,"a",3),ze("click",function(){return r.openTab("experience")})("mouseover",function(){return r.focusTab("experience")})("mouseout",function(){return r.focusTab(null)}),Ae(11,"div"),z(12,"span"),ue(13,"Experience"),Q()(),z(14,"a",3),ze("click",function(){return r.openTab("contact")})("mouseover",function(){return r.focusTab("contact")})("mouseout",function(){return r.focusTab(null)}),Ae(15,"div"),z(16,"span"),ue(17,"Contact"),Q()(),z(18,"a"),Ae(19,"div"),Q(),Ae(20,"span",4),Q(),z(21,"app-left-panel",5),ze("close",function(){return r.closeTab()}),Q(),z(22,"app-right-panel",5),ze("close",function(){return r.closeTab()}),Q()()),n&2&&(Se(),ot("ngClass",Gb(15,_H,r.activeTab==="about",r.activeTab==="studies",r.activeTab==="experience",r.activeTab==="contact")),Se(),In("--halo-opacity",r.focusedTab==="about"?.35:.65),Se(4),In("--halo-opacity",r.focusedTab==="studies"?.35:.65),Se(4),In("--halo-opacity",r.focusedTab==="experience"?.35:.65),Se(4),In("--halo-opacity",r.focusedTab==="contact"?.35:.65),Se(7),ot("visible",r.activeTab==="about"||r.activeTab==="experience")("activeTab",r.activeTab==null?null:r.activeTab.valueOf())("pathImg",r.getImagePath()),Se(),ot("visible",r.activeTab==="studies"||r.activeTab==="contact")("activeTab",r.activeTab==null?null:r.activeTab.valueOf())("pathImg",r.getImagePath()))},dependencies:[mt,Ug,jh,Bh],styles:['.grid[_ngcontent-%COMP%]{position:fixed;inset:0;background:#e3dfd2;box-shadow:inset 0 0 20vmin #585247;display:flex;align-items:center;justify-content:center;overflow:hidden}.wrap[_ngcontent-%COMP%]{--size-with: 240vmin;--size-height: 240vmin;position:absolute;left:50%;top:50%;width:var(--size-with);height:var(--size-height);background:transparent;transform-origin:center center;transform:translate(-50%,-50%) scale(.2);opacity:1;z-index:1;transition:transform .9s ease,opacity 1s ease,left 1s ease,top 1s ease}a[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:47.5%;height:47.5%;overflow:hidden;transform:scale(.5) translateZ(0);background:#585247;background-size:cover;background-position:center;background-repeat:no-repeat;display:flex;justify-content:center;align-items:center}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1;color:#fff}a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:50%;width:250vmin;height:165vmin;transform:translate(-50%,-50%);border-radius:50%;background:radial-gradient(ellipse,rgb(3 3 3 / var(--halo-opacity)),rgb(3 3 3 / var(--halo-opacity-scnd)),#0000);filter:blur(10px);z-index:-1;pointer-events:none}a[_ngcontent-%COMP%]:nth-child(1){border-radius:40vmin 0 0;transform-origin:110% 110%;transition:transform .4s .15s;background-image:url(/assets/SobreMi.jpg)}a[_ngcontent-%COMP%]:nth-child(2){border-radius:0 40vmin 0 0;left:52.5%;transform-origin:-10% 110%;transition:transform .4s .2s;background-image:url(/assets/Estudios.jpg)}a[_ngcontent-%COMP%]:nth-child(3){border-radius:0 0 0 40vmin;top:52.5%;transform-origin:110% -10%;transition:transform .4s .25s;background-image:url(/assets/Experiencia.jpg)}a[_ngcontent-%COMP%]:nth-child(4){border-radius:0 0 40vmin;top:52.5%;left:52.5%;transform-origin:-10% -10%;transition:transform .4s .3s;background-image:url(/assets/Contacto.jpg)}a[_ngcontent-%COMP%]:nth-child(5){width:55%;height:55%;left:22.5%;top:22.5%;border-radius:50vmin;box-shadow:0 0 0 5vmin #e3dfd2;transform:scale(1)}.top-span[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;--halo-opacity: .65;--halo-opacity-scnd: .1}.down-span[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-end;--halo-opacity: .65;--halo-opacity-scnd: .1}.wrap[_ngcontent-%COMP%] > .avatar[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;width:80vmin;height:80vmin;border-radius:50%;transform-origin:center center;transform:translate(-50%,-50%) scale(1);transition:transform .5s;z-index:2;pointer-events:none}.wrap[_ngcontent-%COMP%]:hover{transform:translate(-50%,-50%) scale(.4);opacity:1}.wrap[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{transform:scale(1) translateZ(0)}a[_ngcontent-%COMP%]:hover   div[_ngcontent-%COMP%]{opacity:1;transform:translateZ(0)}span[_ngcontent-%COMP%]{color:#fff;-webkit-text-stroke:5px black;font-size:30vmin;margin:20vmin 0}.wrap.is-open-about[_ngcontent-%COMP%]{left:80%;top:50%;transform:translate(-46%,-50%) scale(.2)}.wrap.is-open-studies[_ngcontent-%COMP%]{left:20%;top:50%;transform:translate(-54%,-50%) scale(.2)}.wrap.is-open-experience[_ngcontent-%COMP%]{left:80%;top:50%;transform:translate(-46%,-50%) scale(.2)}.wrap.is-open-contact[_ngcontent-%COMP%]{left:20%;top:50%;transform:translate(-54%,-50%) scale(.2)}']})};var Hh={production:!1,firebaseConfig:{apiKey:"AIzaSyBF38aXP_jKP6WBKJp78cZGjGmpwvLt_j8",authDomain:"cv-web-angular.firebaseapp.com",projectId:"cv-web-angular",storageBucket:"cv-web-angular.firebasestorage.app",messagingSenderId:"119785680877",appId:"1:119785680877:web:27a7c5644fddd90876c1e4",measurementId:"G-0QL3DQG5NC"}};var zh=class t{environment=Hh;fireBaseService=x(Ts);personalData=this.fireBaseService.getPersonalData();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Qe({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(n,r){n&1&&(z(0,"div"),Ae(1,"app-radial-tabs"),Q())},dependencies:[mt,$h],encapsulation:2})};var qh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Qe({type:t,selectors:[["app-notfound"]],decls:2,vars:0,template:function(n,r){n&1&&(z(0,"p"),ue(1,"notfound works!"),Q())},encapsulation:2})};var IR=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:zh},{path:"**",component:qh}];var TR="@firebase/installations",X_="0.6.18";var bR=1e4,DR=`w:${X_}`,CR="FIS_v2",IH="https://firebaseinstallations.googleapis.com/v1",wH=60*60*1e3,EH="installations",TH="Installations";var bH={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wi=new bt(EH,TH,bH);function SR(t){return t instanceof st&&t.code.includes("request-failed")}function AR({projectId:t}){return`${IH}/projects/${t}/installations`}function RR(t){return{token:t.token,requestStatus:2,expiresIn:CH(t.expiresIn),creationTime:Date.now()}}function NR(t,e){return v(this,null,function*(){let r=(yield e.json()).error;return Wi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function MR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function DH(t,{refreshToken:e}){let n=MR(t);return n.append("Authorization",SH(e)),n}function PR(t){return v(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function CH(t){return Number(t.replace("s","000"))}function SH(t){return`${CR} ${t}`}function AH(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let o=AR(t),s=MR(t),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={fid:n,authVersion:CR,appId:t.appId,sdkVersion:DR},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield PR(()=>fetch(o,l));if(h.ok){let p=yield h.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:RR(p.authToken)}}else throw yield NR("Create Installation",h)})}function xR(t){return new Promise(e=>{setTimeout(e,t)})}function RH(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var NH=/^[cdef][\w-]{21}$/,J_="";function MH(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=PH(t);return NH.test(n)?n:J_}catch{return J_}}function PH(t){return RH(t).substr(0,22)}function Gh(t){return`${t.appName}!${t.appId}`}var kR=new Map;function OR(t,e){let n=Gh(t);FR(n,e),xH(n,e)}function FR(t,e){let n=kR.get(t);if(n)for(let r of n)r(e)}function xH(t,e){let n=kH();n&&n.postMessage({key:t,fid:e}),OH()}var qi=null;function kH(){return!qi&&"BroadcastChannel"in self&&(qi=new BroadcastChannel("[Firebase] FID Change"),qi.onmessage=t=>{FR(t.data.key,t.data.fid)}),qi}function OH(){kR.size===0&&qi&&(qi.close(),qi=null)}var FH="firebase-installations-database",LH=1,Gi="firebase-installations-store",Y_=null;function eI(){return Y_||(Y_=md(FH,LH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gi)}}})),Y_}function Wh(t,e){return v(this,null,function*(){let n=Gh(t),i=(yield eI()).transaction(Gi,"readwrite"),o=i.objectStore(Gi),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&OR(t,e.fid),e})}function LR(t){return v(this,null,function*(){let e=Gh(t),r=(yield eI()).transaction(Gi,"readwrite");yield r.objectStore(Gi).delete(e),yield r.done})}function Kh(t,e){return v(this,null,function*(){let n=Gh(t),i=(yield eI()).transaction(Gi,"readwrite"),o=i.objectStore(Gi),s=yield o.get(n),a=e(s);return a===void 0?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&OR(t,a.fid),a})}function tI(t){return v(this,null,function*(){let e,n=yield Kh(t.appConfig,r=>{let i=VH(r),o=jH(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===J_?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function VH(t){let e=t||{fid:MH(),registrationStatus:0};return VR(e)}function jH(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Wi.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=UH(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:BH(t)}:{installationEntry:e}}function UH(t,e){return v(this,null,function*(){try{let n=yield AH(t,e);return Wh(t.appConfig,n)}catch(n){throw SR(n)&&n.customData.serverCode===409?yield LR(t.appConfig):yield Wh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function BH(t){return v(this,null,function*(){let e=yield wR(t.appConfig);for(;e.registrationStatus===1;)yield xR(100),e=yield wR(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield tI(t);return r||n}return e})}function wR(t){return Kh(t,e=>{if(!e)throw Wi.create("installation-not-found");return VR(e)})}function VR(t){return $H(t)?{fid:t.fid,registrationStatus:0}:t}function $H(t){return t.registrationStatus===1&&t.registrationTime+bR<Date.now()}function HH(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let o=zH(t,n),s=DH(t,n),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={installation:{sdkVersion:DR,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield PR(()=>fetch(o,l));if(h.ok){let p=yield h.json();return RR(p)}else throw yield NR("Generate Auth Token",h)})}function zH(t,{fid:e}){return`${AR(t)}/${e}/authTokens:generate`}function nI(t,e=!1){return v(this,null,function*(){let n,r=yield Kh(t.appConfig,o=>{if(!jR(o))throw Wi.create("not-registered");let s=o.authToken;if(!e&&GH(s))return o;if(s.requestStatus===1)return n=qH(t,e),o;{if(!navigator.onLine)throw Wi.create("app-offline");let a=QH(o);return n=WH(t,a),a}});return n?yield n:r.authToken})}function qH(t,e){return v(this,null,function*(){let n=yield ER(t.appConfig);for(;n.authToken.requestStatus===1;)yield xR(100),n=yield ER(t.appConfig);let r=n.authToken;return r.requestStatus===0?nI(t,e):r})}function ER(t){return Kh(t,e=>{if(!jR(e))throw Wi.create("not-registered");let n=e.authToken;return YH(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function WH(t,e){return v(this,null,function*(){try{let n=yield HH(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Wh(t.appConfig,r),n}catch(n){if(SR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield LR(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Wh(t.appConfig,r)}throw n}})}function jR(t){return t!==void 0&&t.registrationStatus===2}function GH(t){return t.requestStatus===2&&!KH(t)}function KH(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+wH}function QH(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function YH(t){return t.requestStatus===1&&t.requestTime+bR<Date.now()}function ZH(t){return v(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield tI(e);return r?r.catch(console.error):nI(e).catch(console.error),n.fid})}function JH(t,e=!1){return v(this,null,function*(){let n=t;return yield XH(n),(yield nI(n,e)).token})}function XH(t){return v(this,null,function*(){let{registrationPromise:e}=yield tI(t);e&&(yield e)})}function e4(t){if(!t||!t.options)throw Z_("App Configuration");if(!t.name)throw Z_("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Z_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Z_(t){return Wi.create("missing-app-config-values",{valueName:t})}var UR="installations",t4="installations-internal",n4=t=>{let e=t.getProvider("app").getImmediate(),n=e4(e),r=Gt(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},r4=t=>{let e=t.getProvider("app").getImmediate(),n=Gt(e,UR).getImmediate();return{getId:()=>ZH(n),getToken:i=>JH(n,i)}};function i4(){at(new Oe(UR,n4,"PUBLIC")),at(new Oe(t4,r4,"PRIVATE"))}i4();ve(TR,X_);ve(TR,X_,"esm2017");var Qh="analytics",o4="firebase_id",s4="origin",a4=60*1e3,c4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uI="https://www.googletagmanager.com/gtag/js";var Pt=new Wt("@firebase/analytics");var u4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jt=new bt("analytics","Analytics",u4);function l4(t){if(!t.startsWith(uI)){let e=jt.create("invalid-gtag-resource",{gtagURL:t});return Pt.warn(e.message),""}return t}function GR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function d4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function h4(t,e){let n=d4("firebase-js-sdk-policy",{createScriptURL:l4}),r=document.createElement("script"),i=`${uI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function f4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function p4(t,e,n,r,i,o){return v(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let u=(yield GR(n)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){Pt.error(a)}t("config",i,o)})}function g4(t,e,n,r,i){return v(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield GR(n);for(let u of s){let l=a.find(p=>p.measurementId===u),h=l&&e[l.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Pt.error(o)}})}function m4(t,e,n,r){function i(o,...s){return v(this,null,function*(){try{if(o==="event"){let[a,u]=s;yield g4(t,e,n,a,u)}else if(o==="config"){let[a,u]=s;yield p4(t,e,n,r,a,u)}else if(o==="consent"){let[a,u]=s;t("consent",a,u)}else if(o==="get"){let[a,u,l]=s;t("get",a,u,l)}else if(o==="set"){let[a]=s;t("set",a)}else t(o,...s)}catch(a){Pt.error(a)}})}return i}function y4(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=m4(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function v4(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(uI)&&n.src.includes(t))return n;return null}var _4=30,I4=1e3,iI=class{constructor(e={},n=I4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},KR=new iI;function w4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function E4(t){return v(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:w4(r)},o=c4.replace("{app-id}",n),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let u=yield s.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw jt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function T4(r){return v(this,arguments,function*(t,e=KR,n){let{appId:i,apiKey:o,measurementId:s}=t.options;if(!i)throw jt.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw jt.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new oI;return setTimeout(()=>v(null,null,function*(){u.abort()}),n!==void 0?n:a4),QR({appId:i,apiKey:o,measurementId:s},a,u,e)})}function QR(o,s,a){return v(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=KR){var u;let{appId:l,measurementId:h}=t;try{yield b4(r,e)}catch(p){if(h)return Pt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:h};throw p}try{let p=yield E4(t);return i.deleteThrottleMetadata(l),p}catch(p){let m=p;if(!D4(m)){if(i.deleteThrottleMetadata(l),h)return Pt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:h};throw p}let y=Number((u=m?.customData)===null||u===void 0?void 0:u.httpStatus)===503?fd(n,i.intervalMillis,_4):fd(n,i.intervalMillis),C={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return i.setThrottleMetadata(l,C),Pt.debug(`Calling attemptFetch again in ${y} millis`),QR(t,C,r,i)}})}function b4(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(jt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function D4(t){if(!(t instanceof st)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var oI=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var sI;function C4(t,e,n,r,i){return v(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}})}var aI;function S4(t){aI=t}function A4(t){sI=t}function R4(){return v(this,null,function*(){if(Di())try{yield hd()}catch(t){return Pt.warn(jt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Pt.warn(jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function N4(t,e,n,r,i,o,s){return v(this,null,function*(){var a;let u=T4(t);u.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Pt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Pt.error(y)),e.push(u);let l=R4().then(y=>{if(y)return r.getId()}),[h,p]=yield Promise.all([u,l]);v4(o)||h4(o,h.measurementId),aI&&(i("consent","default",aI),S4(void 0)),i("js",new Date);let m=(a=s?.config)!==null&&a!==void 0?a:{};return m[s4]="firebase",m.update=!0,p!=null&&(m[o4]=p),i("config",h.measurementId,m),sI&&(i("set",sI),A4(void 0)),h.measurementId})}var cI=class{constructor(e){this.app=e}_delete(){return delete bc[this.app.options.appId],Promise.resolve()}},bc={},BR=[],$R={},rI="dataLayer",M4="gtag",HR,YR,zR=!1;function P4(){let t=[];if(dd()&&t.push("This is a browser extension environment."),wC()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=jt.create("invalid-analytics-context",{errorInfo:e});Pt.warn(n.message)}}function x4(t,e,n){P4();let r=t.options.appId;if(!r)throw jt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Pt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jt.create("no-api-key");if(bc[r]!=null)throw jt.create("already-exists",{id:r});if(!zR){f4(rI);let{wrappedGtag:o,gtagCore:s}=y4(bc,BR,$R,rI,M4);YR=o,HR=s,zR=!0}return bc[r]=N4(t,BR,$R,e,HR,rI,n),new cI(t)}function ZR(t=Dn()){t=Le(t);let e=Gt(t,Qh);return e.isInitialized()?e.getImmediate():JR(t)}function JR(t,e={}){let n=Gt(t,Qh);if(n.isInitialized()){let i=n.getImmediate();if(qt(e,n.getOptions()))return i;throw jt.create("already-initialized")}return n.initialize({options:e})}function XR(t,e,n,r){t=Le(t),C4(YR,bc[t.app.options.appId],e,n,r).catch(i=>Pt.error(i))}var qR="@firebase/analytics",WR="0.10.17";function k4(){at(new Oe(Qh,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return x4(r,i,n)},"PUBLIC")),at(new Oe("analytics-internal",t,"PRIVATE")),ve(qR,WR),ve(qR,WR,"esm2017");function t(e){try{let n=e.getProvider(Qh).getImmediate();return{logEvent:(r,i,o)=>XR(n,r,i,o)}}catch(n){throw jt.create("interop-component-reg-failed",{reason:n})}}}k4();var Dc=class{constructor(e){return e}},eN="analytics",lI=class{constructor(){return kr(eN)}};var tN=Mt(ZR,!0);var PX=Math.floor(Math.random()*(2**32-1))-2**31;var dI=new U("angularfire2.analytics-instances");function O4(t,e,n){if(!Dl(n))return null;let r=Ai(eN,t,e);return r&&new Dc(r)}function F4(t){return(e,n,r)=>{if(!Dl(r))return null;let i=e.runOutsideAngular(()=>t(n));return new Dc(i)}}var L4={provide:lI,deps:[[new ft,dI]]},V4={provide:Dc,useFactory:O4,deps:[[new ft,dI],cn,_n]};function nN(t,...e){return ve("angularfire",Cn.full,"analytics"),rn([V4,L4,{provide:dI,useFactory:F4(t),multi:!0,deps:[ye,Ke,_n,Sn,rr,...e]}])}Qg(od,{providers:[_m(IR),Zb({eventCoalescing:!0}),jC(()=>UC(Hh.firebaseConfig)),gR(()=>yR()),j0(()=>U0()),nN(()=>tN())]}).catch(t=>console.error(t));
