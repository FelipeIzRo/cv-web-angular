var xN=Object.defineProperty,kN=Object.defineProperties;var ON=Object.getOwnPropertyDescriptors;var hE=Object.getOwnPropertySymbols,FN=Object.getPrototypeOf,LN=Object.prototype.hasOwnProperty,VN=Object.prototype.propertyIsEnumerable,jN=Reflect.get;var fE=(t,e,n)=>e in t?xN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L=(t,e)=>{for(var n in e||={})LN.call(e,n)&&fE(t,n,e[n]);if(hE)for(var n of hE(e))VN.call(e,n)&&fE(t,n,e[n]);return t},Te=(t,e)=>kN(t,ON(e));var mr=(t,e,n)=>jN(FN(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function pE(t,e){return Object.is(t,e)}var qe=null,$c=!1,Cf=1,dn=Symbol("SIGNAL");function ge(t){let e=qe;return qe=t,e}function Sf(){return qe}var Hc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function zc(t){if($c)throw new Error("");if(qe===null)return;qe.consumerOnSignalRead(t);let e=qe.nextProducerIndex++;if(Wc(qe),e<qe.producerNode.length&&qe.producerNode[e]!==t&&$s(qe)){let n=qe.producerNode[e];qc(n,qe.producerIndexOfThis[e])}qe.producerNode[e]!==t&&(qe.producerNode[e]=t,qe.producerIndexOfThis[e]=$s(qe)?vE(t,qe,e):0),qe.producerLastReadVersion[e]=t.version}function gE(){Cf++}function mE(t){if(!($s(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Cf)){if(!t.producerMustRecompute(t)&&!Mf(t)){Df(t);return}t.producerRecomputeValue(t),Df(t)}}function Af(t){if(t.liveConsumerNode===void 0)return;let e=$c;$c=!0;try{for(let n of t.liveConsumerNode)n.dirty||UN(n)}finally{$c=e}}function Rf(){return qe?.consumerAllowSignalWrites!==!1}function UN(t){t.dirty=!0,Af(t),t.consumerMarkedDirty?.(t)}function Df(t){t.dirty=!1,t.lastCleanEpoch=Cf}function Nf(t){return t&&(t.nextProducerIndex=0),ge(t)}function yE(t,e){if(ge(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if($s(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)qc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Mf(t){Wc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(mE(n),r!==n.version))return!0}return!1}function Pf(t){if(Wc(t),$s(t))for(let e=0;e<t.producerNode.length;e++)qc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function vE(t,e,n){if(_E(t),t.liveConsumerNode.length===0&&IE(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=vE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function qc(t,e){if(_E(t),t.liveConsumerNode.length===1&&IE(t))for(let r=0;r<t.producerNode.length;r++)qc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Wc(i),i.producerIndexOfThis[r]=e}}function $s(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function _E(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function IE(t){return t.producerNode!==void 0}function BN(){throw new Error}var EE=BN;function wE(t){EE(t)}function xf(t){EE=t}var $N=null;function kf(t,e){let n=Object.create(Gc);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(zc(n),n.value);return r[dn]=n,r}function Hs(t,e){Rf()||wE(t),t.equal(t.value,e)||(t.value=e,HN(t))}function Of(t,e){Rf()||wE(t),Hs(t,e(t.value))}var Gc=Te(L({},Hc),{equal:pE,value:void 0,kind:"signal"});function HN(t){t.version++,gE(),Af(t),$N?.()}var Ff;function zs(){return Ff}function jn(t){let e=Ff;return Ff=t,e}var Kc=Symbol("NotFound");function X(t){return typeof t=="function"}function Ji(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Qc=Ji(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Xr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var xe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(o){e=o instanceof Qc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{TE(o)}catch(s){e=e??[],s instanceof Qc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Qc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)TE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Xr(n,e)}remove(e){let{_finalizers:n}=this;n&&Xr(n,e),e instanceof t&&e._removeParent(this)}};xe.EMPTY=(()=>{let t=new xe;return t.closed=!0,t})();var Lf=xe.EMPTY;function Yc(t){return t instanceof xe||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function TE(t){X(t)?t():t.unsubscribe()}var Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xi={setTimeout(t,e,...n){let{delegate:r}=Xi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Xi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Zc(t){Xi.setTimeout(()=>{let{onUnhandledError:e}=Xt;if(e)e(t);else throw t})}function qs(){}var bE=Vf("C",void 0,void 0);function DE(t){return Vf("E",void 0,t)}function CE(t){return Vf("N",t,void 0)}function Vf(t,e,n){return{kind:t,value:e,error:n}}var ei=null;function eo(t){if(Xt.useDeprecatedSynchronousErrorHandling){let e=!ei;if(e&&(ei={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ei;if(ei=null,n)throw r}}else t()}function SE(t){Xt.useDeprecatedSynchronousErrorHandling&&ei&&(ei.errorThrown=!0,ei.error=t)}var ti=class extends xe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Yc(e)&&e.add(this)):this.destination=ZN}static create(e,n,r){return new to(e,n,r)}next(e){this.isStopped?Uf(CE(e),this):this._next(e)}error(e){this.isStopped?Uf(DE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Uf(bE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},QN=Function.prototype.bind;function jf(t,e){return QN.call(t,e)}var Bf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Jc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Jc(r)}else Jc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Jc(n)}}},to=class extends ti{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Xt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&jf(e.next,o),error:e.error&&jf(e.error,o),complete:e.complete&&jf(e.complete,o)}):i=e}this.destination=new Bf(i)}};function Jc(t){Xt.useDeprecatedSynchronousErrorHandling?SE(t):Zc(t)}function YN(t){throw t}function Uf(t,e){let{onStoppedNotification:n}=Xt;n&&Xi.setTimeout(()=>n(t,e))}var ZN={closed:!0,next:qs,error:YN,complete:qs};var no=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(t){return t}function Xc(...t){return $f(t)}function $f(t){return t.length===0?Ot:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=XN(n)?n:new to(n,r,i);return eo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=AE(r),new r((i,o)=>{let s=new to({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[no](){return this}pipe(...n){return $f(n)(this)}toPromise(n){return n=AE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function AE(t){var e;return(e=t??Xt.Promise)!==null&&e!==void 0?e:Promise}function JN(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function XN(t){return t&&t instanceof ti||JN(t)&&Yc(t)}function Hf(t){return X(t?.lift)}function he(t){return e=>{if(Hf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(t,e,n,r,i){return new zf(t,e,n,r,i)}var zf=class extends ti{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ro(){return he((t,e)=>{let n=null;t._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var io=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Hf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xe;let n=this.getSubject();e.add(this.source.subscribe(fe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xe.EMPTY)}return e}refCount(){return ro()(this)}};var RE=Ji(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var it=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new eu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new RE}next(n){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Lf:(this.currentObservers=null,o.push(n),new xe(()=>{this.currentObservers=null,Xr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new eu(e,n),t})(),eu=class extends it{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Lf}};var ot=class extends it{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var qf={now(){return(qf.delegate||Date).now()},delegate:void 0};var tu=class extends xe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ws={setInterval(t,e,...n){let{delegate:r}=Ws;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ws;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var oo=class extends tu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ws.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ws.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Xr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var so=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};so.now=qf.now;var ao=class extends so{constructor(e,n=so.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Wf=new ao(oo);var nu=class extends oo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ru=class extends ao{};var Gf=new ru(nu);var Ct=new ue(t=>t.complete());function NE(t){return t&&X(t.schedule)}function ME(t){return t[t.length-1]}function PE(t){return X(ME(t))?t.pop():void 0}function yr(t){return NE(ME(t))?t.pop():void 0}function Kf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function xE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ni(t){return this instanceof ni?(this.v=t,this):new ni(t)}function OE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(N){return new Promise(function(R,V){o.push([y,N,R,V])>1||u(y,N)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof ni?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function FE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof xE=="function"?xE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var iu=t=>t&&typeof t.length=="number"&&typeof t!="function";function ou(t){return X(t?.then)}function su(t){return X(t[no])}function au(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function cu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function eM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var uu=eM();function lu(t){return X(t?.[uu])}function du(t){return OE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ni(n.read());if(i)return yield ni(void 0);yield yield ni(r)}}finally{n.releaseLock()}})}function hu(t){return X(t?.getReader)}function Ke(t){if(t instanceof ue)return t;if(t!=null){if(su(t))return tM(t);if(iu(t))return nM(t);if(ou(t))return rM(t);if(au(t))return LE(t);if(lu(t))return iM(t);if(hu(t))return oM(t)}throw cu(t)}function tM(t){return new ue(e=>{let n=t[no]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nM(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function rM(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Zc)})}function iM(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function LE(t){return new ue(e=>{sM(t,e).catch(n=>e.error(n))})}function oM(t){return LE(du(t))}function sM(t,e){var n,r,i,o;return kE(this,void 0,void 0,function*(){try{for(n=FE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function St(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function vr(t,e=0){return he((n,r)=>{n.subscribe(fe(r,i=>St(r,t,()=>r.next(i),e),()=>St(r,t,()=>r.complete(),e),i=>St(r,t,()=>r.error(i),e)))})}function _r(t,e=0){return he((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function VE(t,e){return Ke(t).pipe(_r(e),vr(e))}function jE(t,e){return Ke(t).pipe(_r(e),vr(e))}function UE(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function BE(t,e){return new ue(n=>{let r;return St(n,e,()=>{r=t[uu](),St(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function fu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{St(n,e,()=>{let r=t[Symbol.asyncIterator]();St(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $E(t,e){return fu(du(t),e)}function HE(t,e){if(t!=null){if(su(t))return VE(t,e);if(iu(t))return UE(t,e);if(ou(t))return jE(t,e);if(au(t))return fu(t,e);if(lu(t))return BE(t,e);if(hu(t))return $E(t,e)}throw cu(t)}function Fe(t,e){return e?HE(t,e):Ke(t)}function Z(...t){let e=yr(t);return Fe(t,e)}function co(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function Qf(t){return!!t&&(t instanceof ue||X(t.lift)&&X(t.subscribe))}var Un=Ji(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function de(t,e){return he((n,r)=>{let i=0;n.subscribe(fe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:aM}=Array;function cM(t,e){return aM(e)?t(...e):t(e)}function zE(t){return de(e=>cM(t,e))}var{isArray:uM}=Array,{getPrototypeOf:lM,prototype:dM,keys:hM}=Object;function qE(t){if(t.length===1){let e=t[0];if(uM(e))return{args:e,keys:null};if(fM(e)){let n=hM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function fM(t){return t&&typeof t=="object"&&lM(t)===dM}function WE(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function pu(...t){let e=yr(t),n=PE(t),{args:r,keys:i}=qE(t);if(r.length===0)return Fe([],e);let o=new ue(pM(r,e,i?s=>WE(i,s):Ot));return n?o.pipe(zE(n)):o}function pM(t,e,n=Ot){return r=>{GE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)GE(e,()=>{let l=Fe(t[u],e),h=!1;l.subscribe(fe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function GE(t,e,n){t?St(n,t,e):e()}function KE(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?C(N):u.push(N),C=N=>{o&&e.next(N),l++;let R=!1;Ke(n(N,h++)).subscribe(fe(e,V=>{i?.(V),o?y(V):e.next(V)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let V=u.shift();s?St(e,s,()=>C(V)):C(V)}m()}catch(V){e.error(V)}}))};return t.subscribe(fe(e,y,()=>{p=!0,m()})),()=>{a?.()}}function We(t,e,n=1/0){return X(e)?We((r,i)=>de((o,s)=>e(r,o,i,s))(Ke(t(r,i))),n):(typeof e=="number"&&(n=e),he((r,i)=>KE(r,i,t,n)))}function QE(t=1/0){return We(Ot,t)}function YE(){return QE(1)}function uo(...t){return YE()(Fe(t,yr(t)))}function gu(t){return new ue(e=>{Ke(t()).subscribe(e)})}function Bt(t,e){return he((n,r)=>{let i=0;n.subscribe(fe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ir(t){return he((e,n)=>{let r=null,i=!1,o;r=e.subscribe(fe(n,void 0,void 0,s=>{o=Ke(t(s,Ir(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function ZE(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(fe(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function lo(t,e){return X(e)?We(t,e,1):We(t,1)}function Er(t){return he((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Bn(t){return t<=0?()=>Ct:he((e,n)=>{let r=0;e.subscribe(fe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function mu(t=gM){return he((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function gM(){return new Un}function Gs(t){return he((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function $n(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,o)=>t(i,o,r)):Ot,Bn(1),n?Er(e):mu(()=>new Un))}function ho(t){return t<=0?()=>Ct:he((e,n)=>{let r=[];e.subscribe(fe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Yf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,o)=>t(i,o,r)):Ot,ho(1),n?Er(e):mu(()=>new Un))}function yu(t,e){return he(ZE(t,e,arguments.length>=2,!0))}function vu(...t){let e=yr(t);return he((n,r)=>{(e?uo(t,n,e):uo(t,n)).subscribe(r)})}function en(t,e){return he((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(fe(r,u=>{i?.unsubscribe();let l=0,h=o++;Ke(t(u,h)).subscribe(i=fe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Zf(t){return he((e,n)=>{Ke(t).subscribe(fe(n,()=>n.complete(),qs)),!n.closed&&e.subscribe(n)})}function st(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?he((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(fe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ot}var mM="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(e,n){super(vM(e,n)),this.code=e}};function yM(t){return`NG0${Math.abs(t)}`}function vM(t,e){return`${yM(t)}${e?": "+e:""}`}var jw=Symbol("InputSignalNode#UNSET"),_M=Te(L({},Gc),{transformFn:void 0,applyValueToInputSignal(t,e){Hs(t,e)}});function Uw(t,e){let n=Object.create(_M);n.value=t,n.transformFn=e?.transform;function r(){if(zc(n),n.value===jw){let i=null;throw new B(-950,i)}return n.value}return r[dn]=n,r}function aa(t){return{toString:t}.toString()}var _u="__parameters__";function IM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Bw(t,e,n){return aa(()=>{let r=IM(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(_u)?u[_u]:Object.defineProperty(u,_u,{value:[]})[_u];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function At(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(At).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function JE(t,e){return t?e?`${t} ${e}`:t:e||""}var EM=Ce({__forward_ref__:Ce});function $w(t){return t.__forward_ref__=$w,t.toString=function(){return At(this())},t}function Ht(t){return Hw(t)?t():t}function Hw(t){return typeof t=="function"&&t.hasOwnProperty(EM)&&t.__forward_ref__===$w}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qu(t){return{providers:t.providers||[],imports:t.imports||[]}}function Yu(t){return XE(t,qw)||XE(t,Ww)}function zw(t){return Yu(t)!==null}function XE(t,e){return t.hasOwnProperty(e)?t[e]:null}function wM(t){let e=t&&(t[qw]||t[Ww]);return e||null}function ew(t){return t&&(t.hasOwnProperty(tw)||t.hasOwnProperty(TM))?t[tw]:null}var qw=Ce({\u0275prov:Ce}),tw=Ce({\u0275inj:Ce}),Ww=Ce({ngInjectableDef:Ce}),TM=Ce({ngInjectorDef:Ce}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Gw(t){return t&&!!t.\u0275providers}var bM=Ce({\u0275cmp:Ce}),DM=Ce({\u0275dir:Ce}),CM=Ce({\u0275pipe:Ce}),SM=Ce({\u0275mod:Ce}),Cu=Ce({\u0275fac:Ce}),Zs=Ce({__NG_ELEMENT_ID__:Ce}),nw=Ce({__NG_ENV_ID__:Ce});function Su(t){return typeof t=="string"?t:t==null?"":String(t)}function AM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Su(t)}function Kw(t,e){throw new B(-200,t)}function Yp(t,e){throw new B(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),up;function Qw(){return up}function $t(t){let e=up;return up=t,e}function Yw(t,e,n){let r=Yu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ie.Optional)return null;if(e!==void 0)return e;Yp(t,"Injector")}var RM={},ri=RM,lp="__NG_DI_FLAG__",Au=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?Kc:ri,r)}},Ru="ngTempTokenPath",NM="ngTokenPath",MM=/\n/gm,PM="\u0275",rw="__source";function xM(t,e=ie.Default){if(zs()===void 0)throw new B(-203,!1);if(zs()===null)return Yw(t,void 0,e);{let n=zs(),r;return n instanceof Au?r=n.injector:r=n,r.get(t,e&ie.Optional?null:void 0,e)}}function oe(t,e=ie.Default){return(Qw()||xM)(Ht(t),e)}function x(t,e=ie.Default){return oe(t,Zu(e))}function Zu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function dp(t){let e=[];for(let n=0;n<t.length;n++){let r=Ht(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=ie.Default;for(let s=0;s<r.length;s++){let a=r[s],u=kM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(oe(i,o))}else e.push(oe(r))}return e}function Zw(t,e){return t[lp]=e,t.prototype[lp]=e,t}function kM(t){return t[lp]}function OM(t,e,n,r){let i=t[Ru];throw e[rw]&&i.unshift(e[rw]),t.message=FM(`
`+t.message,i,n,r),t[NM]=i,t[Ru]=null,t}function FM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==PM?t.slice(2):t;let i=At(e);if(Array.isArray(e))i=e.map(At).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):At(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(MM,`
  `)}`}var gt=Zw(Bw("Optional"),8);var LM=Zw(Bw("SkipSelf"),4);function yo(t,e){let n=t.hasOwnProperty(Cu);return n?t[Cu]:null}function Zp(t,e){t.forEach(n=>Array.isArray(n)?Zp(n,e):e(n))}function Jw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Nu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function VM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function jM(t,e,n){let r=ca(t,e);return r>=0?t[r|1]=n:(r=~r,VM(t,r,e,n)),r}function Jf(t,e){let n=ca(t,e);if(n>=0)return t[n|1]}function ca(t,e){return UM(t,e,1)}function UM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var vo={},nn=[],Js=new $(""),Xw=new $("",-1),eT=new $(""),Mu=class{get(e,n=ri){if(n===ri){let r=new Error(`NullInjectorError: No provider for ${At(e)}!`);throw r.name="NullInjectorError",r}return n}};function tT(t,e){let n=t[SM]||null;if(!n&&e===!0)throw new Error(`Type ${At(t)} does not have '\u0275mod' property.`);return n}function _o(t){return t[bM]||null}function BM(t){return t[DM]||null}function $M(t){return t[CM]||null}function on(t){return{\u0275providers:t}}function HM(...t){return{\u0275providers:nT(!0,t),\u0275fromNgModule:!0}}function nT(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Zp(e,s=>{let a=s;hp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&rT(i,o),n}function rT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Jp(i,o=>{e(o,r)})}}function hp(t,e,n,r){if(t=Ht(t),!t)return!1;let i=null,o=ew(t),s=!o&&_o(t);if(!o&&!s){let u=t.ngModule;if(o=ew(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)hp(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Zp(o.imports,h=>{hp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&rT(l,e)}if(!a){let l=yo(i)||(()=>new i);e({provide:i,useFactory:l,deps:nn},i),e({provide:eT,useValue:i,multi:!0},i),e({provide:Js,useValue:()=>oe(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Jp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Jp(t,e){for(let n of t)Gw(n)&&(n=n.\u0275providers),Array.isArray(n)?Jp(n,e):e(n)}var zM=Ce({provide:String,useValue:Ce});function iT(t){return t!==null&&typeof t=="object"&&zM in t}function qM(t){return!!(t&&t.useExisting)}function WM(t){return!!(t&&t.useFactory)}function fp(t){return typeof t=="function"}var Ju=new $(""),Eu={},iw={},Xf;function Xp(){return Xf===void 0&&(Xf=new Mu),Xf}var Rt=class{},Xs=class extends Rt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,gp(e,s=>this.processProvider(s)),this.records.set(Xw,fo(void 0,this)),i.has("environment")&&this.records.set(Rt,fo(void 0,this));let o=this.records.get(Ju);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(eT,nn,ie.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?Kc:ri,r)}destroy(){Qs(this),this._destroyed=!0;let e=ge(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(e)}}onDestroy(e){return Qs(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Qs(this);let n=jn(this),r=$t(void 0),i;try{return e()}finally{jn(n),$t(r)}}get(e,n=ri,r=ie.Default){if(Qs(this),e.hasOwnProperty(nw))return e[nw](this);r=Zu(r);let i,o=jn(this),s=$t(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=JM(e)&&Yu(e);l&&this.injectableDefInScope(l)?u=fo(pp(e),Eu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&ie.Self?Xp():this.parent;return n=r&ie.Optional&&n===ri?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ru]=a[Ru]||[]).unshift(At(e)),o)throw a;return OM(a,e,"R3InjectorError",this.source)}else throw a}finally{$t(s),jn(o)}}resolveInjectorInitializers(){let e=ge(null),n=jn(this),r=$t(void 0),i;try{let o=this.get(Js,nn,ie.Self);for(let s of o)s()}finally{jn(n),$t(r),ge(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(At(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ht(e);let n=fp(e)?e:Ht(e&&e.provide),r=KM(e);if(!fp(e)&&e.multi===!0){let i=this.records.get(n);i||(i=fo(void 0,Eu,!0),i.factory=()=>dp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ge(null);try{return n.value===iw?Kw(At(e)):n.value===Eu&&(n.value=iw,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&ZM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ge(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ht(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function pp(t){let e=Yu(t),n=e!==null?e.factory:yo(t);if(n!==null)return n;if(t instanceof $)throw new B(204,!1);if(t instanceof Function)return GM(t);throw new B(204,!1)}function GM(t){if(t.length>0)throw new B(204,!1);let n=wM(t);return n!==null?()=>n.factory(t):()=>new t}function KM(t){if(iT(t))return fo(void 0,t.useValue);{let e=QM(t);return fo(e,Eu)}}function QM(t,e,n){let r;if(fp(t)){let i=Ht(t);return yo(i)||pp(i)}else if(iT(t))r=()=>Ht(t.useValue);else if(WM(t))r=()=>t.useFactory(...dp(t.deps||[]));else if(qM(t))r=(i,o)=>oe(Ht(t.useExisting),o!==void 0&&o&ie.Optional?ie.Optional:void 0);else{let i=Ht(t&&(t.useClass||t.provide));if(YM(t))r=()=>new i(...dp(t.deps));else return yo(i)||pp(i)}return r}function Qs(t){if(t.destroyed)throw new B(205,!1)}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function YM(t){return!!t.deps}function ZM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function JM(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function gp(t,e){for(let n of t)Array.isArray(n)?gp(n,e):n&&Gw(n)?gp(n.\u0275providers,e):e(n)}function bt(t,e){let n;t instanceof Xs?(Qs(t),n=t):n=new Au(t);let r,i=jn(n),o=$t(void 0);try{return e()}finally{jn(i),$t(o)}}function oT(){return Qw()!==void 0||zs()!=null}function sT(t){if(!oT())throw new B(-203,!1)}function XM(t){return typeof t=="function"}var Wn=0,me=1,ne=2,Tt=3,rn=4,sn=5,Pu=6,xu=7,Nt=8,Io=9,Tr=10,pt=11,ea=12,ow=13,Ao=14,fn=15,Eo=16,po=17,wo=18,Xu=19,aT=20,wr=21,ep=22,ku=23,zt=24,tp=25,pn=26,cT=1;var si=7,Ou=8,Fu=9,qt=10;function ii(t){return Array.isArray(t)&&typeof t[cT]=="object"}function Gn(t){return Array.isArray(t)&&t[cT]===!0}function eg(t){return(t.flags&4)!==0}function Ro(t){return t.componentOffset>-1}function el(t){return(t.flags&1)===1}function di(t){return!!t.template}function Lu(t){return(t[ne]&512)!==0}function No(t){return(t[ne]&256)===256}var mp=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function uT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var tg=(()=>{let t=()=>lT;return t.ngInherit=!0,t})();function lT(t){return t.type.prototype.ngOnChanges&&(t.setInput=tP),eP}function eP(){let t=hT(this),e=t?.current;if(e){let n=t.previous;if(n===vo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function tP(t,e,n,r,i){let o=this.declaredInputs[r],s=hT(t)||nP(t,{previous:vo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new mp(l&&l.currentValue,n,u===vo),uT(t,e,i,n)}var dT="__ngSimpleChanges__";function hT(t){return t[dT]||null}function nP(t,e){return t[dT]=e}var sw=null;var Se=function(t,e=null,n){sw?.(t,e,n)},rP="svg",iP="math";function gn(t){for(;Array.isArray(t);)t=t[Wn];return t}function fT(t,e){return gn(e[t])}function Kn(t,e){return gn(e[t.index])}function pT(t,e){return t.data[e]}function Hn(t,e){let n=e[t];return ii(n)?n:n[Wn]}function ng(t){return(t[ne]&128)===128}function oP(t){return Gn(t[Tt])}function To(t,e){return e==null?null:t[e]}function gT(t){t[po]=0}function mT(t){t[ne]&1024||(t[ne]|=1024,ng(t)&&nl(t))}function sP(t,e){for(;t>0;)e=e[Ao],t--;return e}function tl(t){return!!(t[ne]&9216||t[zt]?.dirty)}function yp(t){t[Tr].changeDetectionScheduler?.notify(8),t[ne]&64&&(t[ne]|=1024),tl(t)&&nl(t)}function nl(t){t[Tr].changeDetectionScheduler?.notify(0);let e=ai(t);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!ng(e)));)e=ai(e)}function yT(t,e){if(No(t))throw new B(911,!1);t[wr]===null&&(t[wr]=[]),t[wr].push(e)}function aP(t,e){if(t[wr]===null)return;let n=t[wr].indexOf(e);n!==-1&&t[wr].splice(n,1)}function ai(t){let e=t[Tt];return Gn(e)?e[Tt]:e}function vT(t){return t[xu]??=[]}function _T(t){return t.cleanup??=[]}var ae={lFrame:AT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var vp=!1;function cP(){return ae.lFrame.elementDepthCount}function uP(){ae.lFrame.elementDepthCount++}function lP(){ae.lFrame.elementDepthCount--}function rg(){return ae.bindingsEnabled}function dP(){return ae.skipHydrationRootTNode!==null}function hP(t){return ae.skipHydrationRootTNode===t}function fP(){ae.skipHydrationRootTNode=null}function je(){return ae.lFrame.lView}function yn(){return ae.lFrame.tView}function hi(t){return ae.lFrame.contextLView=t,t[Nt]}function fi(t){return ae.lFrame.contextLView=null,t}function vn(){let t=IT();for(;t!==null&&t.type===64;)t=t.parent;return t}function IT(){return ae.lFrame.currentTNode}function pP(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function pi(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function ig(){return ae.lFrame.isParent}function ET(){ae.lFrame.isParent=!1}function wT(){return vp}function aw(t){let e=vp;return vp=t,e}function gP(){return ae.lFrame.bindingIndex}function mP(t){return ae.lFrame.bindingIndex=t}function TT(){return ae.lFrame.bindingIndex++}function bT(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function yP(){return ae.lFrame.inI18n}function vP(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,_p(e)}function _P(){return ae.lFrame.currentDirectiveIndex}function _p(t){ae.lFrame.currentDirectiveIndex=t}function IP(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function DT(t){ae.lFrame.currentQueryIndex=t}function EP(t){let e=t[me];return e.type===2?e.declTNode:e.type===1?t[sn]:null}function CT(t,e,n){if(n&ie.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ie.Host);)if(i=EP(o),i===null||(o=o[Ao],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ae.lFrame=ST();return r.currentTNode=e,r.lView=t,!0}function og(t){let e=ST(),n=t[me];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ST(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?AT(t):e}function AT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function RT(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var NT=RT;function sg(){let t=RT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wP(t){return(ae.lFrame.contextLView=sP(t,ae.lFrame.contextLView))[Nt]}function gi(){return ae.lFrame.selectedIndex}function ci(t){ae.lFrame.selectedIndex=t}function TP(){let t=ae.lFrame;return pT(t.tView,t.selectedIndex)}function bP(){return ae.lFrame.currentNamespace}var MT=!0;function rl(){return MT}function il(t){MT=t}function DP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=lT(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function ag(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function wu(t,e,n){PT(t,e,3,n)}function Tu(t,e,n,r){(t[ne]&3)===n&&PT(t,e,n,r)}function np(t,e){let n=t[ne];(n&3)===e&&(n&=16383,n+=1,t[ne]=n)}function PT(t,e,n,r){let i=r!==void 0?t[po]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[po]+=65536),(a<o||o==-1)&&(CP(t,n,e,u),t[po]=(t[po]&4294901760)+u+2),u++}function cw(t,e){Se(4,t,e);let n=ge(null);try{e.call(t)}finally{ge(n),Se(5,t,e)}}function CP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ne]>>14<t[po]>>16&&(t[ne]&3)===e&&(t[ne]+=16384,cw(a,o)):cw(a,o)}var mo=-1,ta=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function SP(t){return(t.flags&8)!==0}function AP(t){return(t.flags&16)!==0}function RP(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];MP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function NP(t){return t===3||t===4||t===6}function MP(t){return t.charCodeAt(0)===64}function ol(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?uw(t,n,i,null,e[++r]):uw(t,n,i,null,null))}}return t}function uw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function xT(t){return t!==mo}function Vu(t){return t&32767}function PP(t){return t>>16}function ju(t,e){let n=PP(t),r=e;for(;n>0;)r=r[Ao],n--;return r}var Ip=!0;function lw(t){let e=Ip;return Ip=t,e}var xP=256,kT=xP-1,OT=5,kP=0,hn={};function OP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zs)&&(r=n[Zs]),r==null&&(r=n[Zs]=kP++);let i=r&kT,o=1<<i;e.data[t+(i>>OT)]|=o}function FT(t,e){let n=LT(t,e);if(n!==-1)return n;let r=e[me];r.firstCreatePass&&(t.injectorIndex=e.length,rp(r.data,t),rp(e,null),rp(r.blueprint,null));let i=cg(t,e),o=t.injectorIndex;if(xT(i)){let s=Vu(i),a=ju(i,e),u=a[me].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function rp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function LT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function cg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=$T(i),r===null)return mo;if(n++,i=i[Ao],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return mo}function FP(t,e,n){OP(t,e,n)}function VT(t,e,n){if(n&ie.Optional||t!==void 0)return t;Yp(e,"NodeInjector")}function jT(t,e,n,r){if(n&ie.Optional&&r===void 0&&(r=null),(n&(ie.Self|ie.Host))===0){let i=t[Io],o=$t(void 0);try{return i?i.get(e,r,n&ie.Optional):Yw(e,r,n&ie.Optional)}finally{$t(o)}}return VT(r,e,n)}function UT(t,e,n,r=ie.Default,i){if(t!==null){if(e[ne]&2048&&!(r&ie.Self)){let s=BP(t,e,n,r,hn);if(s!==hn)return s}let o=BT(t,e,n,r,hn);if(o!==hn)return o}return jT(e,n,r,i)}function BT(t,e,n,r,i){let o=jP(n);if(typeof o=="function"){if(!CT(e,t,r))return r&ie.Host?VT(i,n,r):jT(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ie.Optional))Yp(n);else return s}finally{NT()}}else if(typeof o=="number"){let s=null,a=LT(t,e),u=mo,l=r&ie.Host?e[fn][sn]:null;for((a===-1||r&ie.SkipSelf)&&(u=a===-1?cg(t,e):e[a+8],u===mo||!hw(r,!1)?a=-1:(s=e[me],a=Vu(u),e=ju(u,e)));a!==-1;){let h=e[me];if(dw(o,a,h.data)){let p=LP(a,e,n,s,r,l);if(p!==hn)return p}u=e[a+8],u!==mo&&hw(r,e[me].data[a+8]===l)&&dw(o,a,e)?(s=h,a=Vu(u),e=ju(u,e)):a=-1}}return i}function LP(t,e,n,r,i,o){let s=e[me],a=s.data[t+8],u=r==null?Ro(a)&&Ip:r!=s&&(a.type&3)!==0,l=i&ie.Host&&o===a,h=VP(a,s,n,u,l);return h!==null?Ep(e,s,h,a,i):hn}function VP(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=s[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=s[u];if(y&&di(y)&&y.type===n)return u}return null}function Ep(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof ta){let a=o;a.resolving&&Kw(AM(s[n]));let u=lw(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?$t(a.injectImpl):null,p=CT(t,r,ie.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&DP(n,s[n],e)}finally{h!==null&&$t(h),lw(u),a.resolving=!1,NT()}}return o}function jP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Zs)?t[Zs]:void 0;return typeof e=="number"?e>=0?e&kT:UP:e}function dw(t,e,n){let r=1<<t;return!!(n[e+(t>>OT)]&r)}function hw(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var oi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return UT(this._tNode,this._lView,e,Zu(r),n)}};function UP(){return new oi(vn(),je())}function ug(t){return aa(()=>{let e=t.prototype.constructor,n=e[Cu]||wp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Cu]||wp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function wp(t){return Hw(t)?()=>{let e=wp(Ht(t));return e&&e()}:yo(t)}function BP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!Lu(s);){let a=BT(o,s,n,r|ie.Self,hn);if(a!==hn)return a;let u=o.parent;if(!u){let l=s[aT];if(l){let h=l.get(n,hn,r);if(h!==hn)return h}u=$T(s),s=s[Ao]}o=u}return i}function $T(t){let e=t[me],n=e.type;return n===2?e.declTNode:n===1?t[sn]:null}function fw(t,e=null,n=null,r){let i=HT(t,e,n,r);return i.resolveInjectorInitializers(),i}function HT(t,e=null,n=null,r,i=new Set){let o=[n||nn,HM(t)];return r=r||(typeof t=="object"?void 0:At(t)),new Xs(o,e||Xp(),r||null,i)}var Ye=class t{static THROW_IF_NOT_FOUND=ri;static NULL=new Mu;static create(e,n){if(Array.isArray(e))return fw({name:""},n,e,"");{let r=e.name??"";return fw({name:r},e.parent,e.providers,r)}}static \u0275prov=z({token:t,providedIn:"any",factory:()=>oe(Xw)});static __NG_ELEMENT_ID__=-1};var $P=new $("");$P.__NG_ELEMENT_ID__=t=>{let e=vn();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&ie.Optional)return null;throw new B(204,!1)};var zT=!1,ua=(()=>{class t{static __NG_ELEMENT_ID__=HP;static __NG_ENV_ID__=n=>n}return t})(),Tp=class extends ua{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return No(n)?(e(),()=>{}):(yT(n,e),()=>aP(n,e))}};function HP(){return new Tp(je())}var bo=class{},lg=new $("",{providedIn:"root",factory:()=>!1});var qT=new $(""),WT=new $(""),mi=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ot(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})(),sl=(()=>{class t{internalPendingTasks=x(mi);scheduler=x(bo);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return v(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})(),bp=class extends it{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,oT()&&(this.destroyRef=x(ua,{optional:!0})??void 0,this.pendingTasks=x(mi,{optional:!0})??void 0)}emit(e){let n=ge(null);try{super.next(e)}finally{ge(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof xe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Qe=bp;function Uu(...t){}function GT(t){let e,n;function r(){t=Uu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function pw(t){return queueMicrotask(()=>t()),()=>{t=Uu}}var dg="isAngularZone",Bu=dg+"_ID",zP=0,_e=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Qe(!1);onMicrotaskEmpty=new Qe(!1);onStable=new Qe(!1);onError=new Qe(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=zT}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,GP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(dg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,qP,Uu,Uu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},qP={};function hg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function WP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){GT(()=>{t.callbackScheduled=!1,Dp(t),t.isCheckStableRunning=!0,hg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Dp(t)}function GP(t){let e=()=>{WP(t)},n=zP++;t._inner=t._inner.fork({name:"angular",properties:{[dg]:!0,[Bu]:n,[Bu+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(KP(u))return r.invokeTask(o,s,a,u);try{return gw(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),mw(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return gw(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!QP(u)&&e(),mw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Dp(t),hg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Dp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function gw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mw(t){t._nesting--,hg(t)}var Cp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Qe;onMicrotaskEmpty=new Qe;onStable=new Qe;onError=new Qe;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function KP(t){return KT(t,"__ignore_ng_zone__")}function QP(t){return KT(t,"__scheduler_tick__")}function KT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var zn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},YP=new $("",{providedIn:"root",factory:()=>{let t=x(_e),e=x(zn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function yw(t,e){return Uw(t,e)}function ZP(t){return Uw(jw,t)}var QT=(yw.required=ZP,yw);function JP(){return al(vn(),je())}function al(t,e){return new YT(Kn(t,e))}var YT=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=JP}return t})();function cl(t,e){let n=kf(t,e?.equal),r=n[dn];return n.set=i=>Hs(r,i),n.update=i=>Of(r,i),n.asReadonly=XP.bind(n),n}function XP(){let t=this[dn];if(t.readonlyFn===void 0){let e=()=>this();e[dn]=t,t.readonlyFn=e}return t.readonlyFn}function ZT(t){return(t.flags&128)===128}var JT=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(JT||{}),XT=new Map,ex=0;function tx(){return ex++}function nx(t){XT.set(t[Xu],t)}function Sp(t){XT.delete(t[Xu])}var vw="__ngContext__";function Mo(t,e){ii(e)?(t[vw]=e[Xu],nx(e)):t[vw]=e}function eb(t){return nb(t[ea])}function tb(t){return nb(t[rn])}function nb(t){for(;t!==null&&!Gn(t);)t=t[rn];return t}var Ap;function rb(t){Ap=t}function rx(){if(Ap!==void 0)return Ap;if(typeof document<"u")return document;throw new B(210,!1)}var fg=new $("",{providedIn:"root",factory:()=>ix}),ix="ng",pg=new $(""),_n=new $("",{providedIn:"platform",factory:()=>"unknown"});var gg=new $("",{providedIn:"root",factory:()=>rx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ox="h",sx="b";var ib=!1,ax=new $("",{providedIn:"root",factory:()=>ib});var ob=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(ob||{}),ul=new $(""),_w=new Set;function mg(t){_w.has(t)||(_w.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var cx=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}return t})();var ux=(t,e,n,r)=>{};function lx(t,e,n,r){ux(t,e,n,r)}var dx=()=>null;function sb(t,e,n=!1){return dx(t,e,n)}function ab(t,e){let n=t.contentQueries;if(n!==null){let r=ge(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];DT(o),a.contentQueries(2,e[s],s)}}}finally{ge(r)}}}function Rp(t,e,n){DT(0);let r=ge(null);try{e(t,n)}finally{ge(r)}}function yg(t,e,n){if(eg(e)){let r=ge(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ge(r)}}}var mn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(mn||{});var Np=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mM})`}};function hx(t){return t instanceof Np?t.changingThisBreaksApplicationSecurity:t}var fx=/^>|^->|<!--|-->|--!>|<!-$/g,px=/(<|>)/g,gx="\u200B$1\u200B";function mx(t){return t.replace(fx,e=>e.replace(px,gx))}function cb(t){return t instanceof Function?t():t}function yx(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var ub="ng-template";function vx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&yx(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(vg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function vg(t){return t.type===4&&t.value!==ub}function _x(t,e,n){let r=t.type===4&&!n?ub:t.value;return e===r}function Ix(t,e,n){let r=4,i=t.attrs,o=i!==null?Tx(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!tn(r)&&!tn(u))return!1;if(s&&tn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!_x(t,u,n)||u===""&&e.length===1){if(tn(r))return!1;s=!0}}else if(r&8){if(i===null||!vx(t,i,u,n)){if(tn(r))return!1;s=!0}}else{let l=e[++a],h=Ex(u,i,vg(t),n);if(h===-1){if(tn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(tn(r))return!1;s=!0}}}}return tn(r)||s}function tn(t){return(t&1)===0}function Ex(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return bx(e,t)}function wx(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ix(t,e[r],n))return!0;return!1}function Tx(t){for(let e=0;e<t.length;e++){let n=t[e];if(NP(n))return e}return t.length}function bx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Iw(t,e){return t?":not("+e.trim()+")":e}function Dx(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!tn(s)&&(e+=Iw(o,i),i=""),r=s,o=o||!tn(r);n++}return i!==""&&(e+=Iw(o,i)),e}function Cx(t){return t.map(Dx).join(",")}function Sx(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!tn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var br={};function Ax(t,e){return t.createText(e)}function Rx(t,e,n){t.setValue(e,n)}function Nx(t,e){return t.createComment(mx(e))}function lb(t,e,n){return t.createElement(e,n)}function $u(t,e,n,r,i){t.insertBefore(e,n,r,i)}function db(t,e,n){t.appendChild(e,n)}function Ew(t,e,n,r,i){r!==null?$u(t,e,n,r,i):db(t,e,n)}function Mx(t,e,n){t.removeChild(null,e,n)}function Px(t,e,n){t.setAttribute(e,"style",n)}function xx(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function hb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&RP(t,e,r),i!==null&&xx(t,e,i),o!==null&&Px(t,e,o)}function _g(t,e,n,r,i,o,s,a,u,l,h){let p=pn+r,m=p+i,y=kx(p,m),C=typeof l=="function"?l():l;return y[me]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function kx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:br);return n}function Ox(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=_g(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ig(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Wn]=i,p[ne]=r|4|128|8|64|1024,(l!==null||t&&t[ne]&2048)&&(p[ne]|=2048),gT(p),p[Tt]=p[Ao]=t,p[Nt]=n,p[Tr]=s||t&&t[Tr],p[pt]=a||t&&t[pt],p[Io]=u||t&&t[Io]||null,p[sn]=o,p[Xu]=tx(),p[Pu]=h,p[aT]=l,p[fn]=e.type==2?t[fn]:p,p}function Fx(t,e,n){let r=Kn(e,t),i=Ox(n),o=t[Tr].rendererFactory,s=Eg(t,Ig(t,i,null,fb(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function fb(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function pb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Eg(t,e){return t[ea]?t[ow][rn]=e:t[ea]=e,t[ow]=e,e}function H(t=1){gb(yn(),je(),gi()+t,!1)}function gb(t,e,n,r){if(!r)if((e[ne]&3)===3){let o=t.preOrderCheckHooks;o!==null&&wu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Tu(e,o,0,n)}ci(n)}var ll=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ll||{});function Mp(t,e,n,r){let i=ge(null);try{let[o,s,a]=t.inputs[n],u=null;(s&ll.SignalBased)!==0&&(u=e[o][dn]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):uT(e,u,o,r)}finally{ge(i)}}function mb(t,e,n,r,i){let o=gi(),s=r&2;try{ci(-1),s&&e.length>pn&&gb(t,e,pn,!1),Se(s?2:0,i),n(r,i)}finally{ci(o),Se(s?3:1,i)}}function dl(t,e,n){Hx(t,e,n),(n.flags&64)===64&&zx(t,e,n)}function wg(t,e,n=Kn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Lx(t,e,n,r){let o=r.get(ax,ib)||n===mn.ShadowDom,s=t.selectRootElement(e,o);return Vx(s),s}function Vx(t){jx(t)}var jx=()=>null;function Ux(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Bx(t,e,n,r,i,o,s,a){if(!a&&bg(e,t,n,r,i)){Ro(e)&&$x(n,e.index);return}if(e.type&3){let u=Kn(e,n);r=Ux(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function $x(t,e){let n=Hn(e,t);n[ne]&16||(n[ne]|=64)}function Hx(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Ro(n)&&Fx(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||FT(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Ep(e,t,s,n);if(Mo(u,e),o!==null&&Wx(e,s-r,u,a,n,o),di(a)){let l=Hn(n.index,e);l[Nt]=Ep(e,t,s,n)}}}function zx(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=_P();try{ci(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];_p(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&qx(u,l)}}finally{ci(-1),_p(s)}}function qx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Tg(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];wx(e,o.selectors,!1)&&(r??=[],di(o)?r.unshift(o):r.push(o))}return r}function Wx(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Mp(r,n,u,l)}}function Gx(t,e){let n=t[Io],r=n?n.get(zn,null):null;r&&r.handleError(e)}function bg(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Mp(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Mp(h,l,r,i),a=!0}return a}function Kx(t,e){let n=Hn(e,t),r=n[me];Qx(r,n);let i=n[Wn];i!==null&&n[Pu]===null&&(n[Pu]=sb(i,n[Io])),Se(18),Dg(r,n,n[Nt]),Se(19,n[Nt])}function Qx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Dg(t,e,n){og(e);try{let r=t.viewQuery;r!==null&&Rp(1,r,n);let i=t.template;i!==null&&mb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[wo]?.finishViewCreation(t),t.staticContentQueries&&ab(t,e),t.staticViewQueries&&Rp(2,t.viewQuery,n);let o=t.components;o!==null&&Yx(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ne]&=-5,sg()}}function Yx(t,e){for(let n=0;n<e.length;n++)Kx(t,e[n])}function Zx(t,e,n,r){let i=ge(null);try{let o=e.tView,a=t[ne]&4096?4096:16,u=Ig(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Eo]=l;let h=t[wo];return h!==null&&(u[wo]=h.createEmbeddedView(o)),Dg(o,u,n),u}finally{ge(i)}}function ww(t,e){return!e||e.firstChild===null||ZT(t)}var Jx;function Cg(t,e){return Jx(t,e)}var qn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qn||{});function yb(t){return(t.flags&32)===32}function go(t,e,n,r,i){if(r!=null){let o,s=!1;Gn(r)?o=r:ii(r)&&(s=!0,r=r[Wn]);let a=gn(r);t===0&&n!==null?i==null?db(e,n,a):$u(e,n,a,i||null,!0):t===1&&n!==null?$u(e,n,a,i||null,!0):t===2?Mx(e,a,s):t===3&&e.destroyNode(a),o!=null&&lk(e,t,o,n,i)}}function Xx(t,e){vb(t,e),e[Wn]=null,e[sn]=null}function ek(t,e,n,r,i,o){r[Wn]=i,r[sn]=e,fl(t,r,n,1,i,o)}function vb(t,e){e[Tr].changeDetectionScheduler?.notify(9),fl(t,e,e[pt],2,null,null)}function tk(t){let e=t[ea];if(!e)return ip(t[me],t);for(;e;){let n=null;if(ii(e))n=e[ea];else{let r=e[qt];r&&(n=r)}if(!n){for(;e&&!e[rn]&&e!==t;)ii(e)&&ip(e[me],e),e=e[Tt];e===null&&(e=t),ii(e)&&ip(e[me],e),n=e&&e[rn]}e=n}}function Sg(t,e){let n=t[Fu],r=n.indexOf(e);n.splice(r,1)}function _b(t,e){if(No(e))return;let n=e[pt];n.destroyNode&&fl(t,e,n,3,null,null),tk(e)}function ip(t,e){if(No(e))return;let n=ge(null);try{e[ne]&=-129,e[ne]|=256,e[zt]&&Pf(e[zt]),rk(t,e),nk(t,e),e[me].type===1&&e[pt].destroy();let r=e[Eo];if(r!==null&&Gn(e[Tt])){r!==e[Tt]&&Sg(r,e);let i=e[wo];i!==null&&i.detachView(t)}Sp(e)}finally{ge(n)}}function nk(t,e){let n=t.cleanup,r=e[xu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[xu]=null);let i=e[wr];if(i!==null){e[wr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ku];if(o!==null){e[ku]=null;for(let s of o)s.destroy()}}function rk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ta)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Se(4,a,u);try{u.call(a)}finally{Se(5,a,u)}}else{Se(4,i,o);try{o.call(i)}finally{Se(5,i,o)}}}}}function ik(t,e,n){return ok(t,e.parent,n)}function ok(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Wn];if(Ro(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===mn.None||i===mn.Emulated)return null}return Kn(r,n)}function sk(t,e,n){return ck(t,e,n)}function ak(t,e,n){return t.type&40?Kn(t,n):null}var ck=ak,Tw;function hl(t,e,n,r){let i=ik(t,r,e),o=e[pt],s=r.parent||e[sn],a=sk(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Ew(o,i,n[u],a,!1);else Ew(o,i,n,a,!1);Tw!==void 0&&Tw(o,r,e,n,i)}function Ys(t,e){if(e!==null){let n=e.type;if(n&3)return Kn(e,t);if(n&4)return Pp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ys(t,r);{let i=t[e.index];return Gn(i)?Pp(-1,i):gn(i)}}else{if(n&128)return Ys(t,e.next);if(n&32)return Cg(e,t)()||gn(t[e.index]);{let r=Ib(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ai(t[fn]);return Ys(i,r)}else return Ys(t,e.next)}}}return null}function Ib(t,e){if(e!==null){let r=t[fn][sn],i=e.projection;return r.projection[i]}return null}function Pp(t,e){let n=qt+t+1;if(n<e.length){let r=e[n],i=r[me].firstChild;if(i!==null)return Ys(r,i)}return e[si]}function Ag(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Mo(gn(a),r),n.flags|=2),!yb(n))if(u&8)Ag(t,e,n.child,r,i,o,!1),go(e,t,i,a,o);else if(u&32){let l=Cg(n,r),h;for(;h=l();)go(e,t,i,h,o);go(e,t,i,a,o)}else u&16?uk(t,e,r,n,i,o):go(e,t,i,a,o);n=s?n.projectionNext:n.next}}function fl(t,e,n,r,i,o){Ag(n,r,t.firstChild,e,i,o,!1)}function uk(t,e,n,r,i,o){let s=n[fn],u=s[sn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];go(e,t,i,h,o)}else{let l=u,h=s[Tt];ZT(r)&&(l.flags|=128),Ag(t,e,l,h,i,o,!0)}}function lk(t,e,n,r,i){let o=n[si],s=gn(n);o!==s&&go(e,t,r,o,i);for(let a=qt;a<n.length;a++){let u=n[a];fl(u[me],u,t,e,r,o)}}function dk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:qn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=qn.Important),t.setStyle(n,r,i,o))}}function Hu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(gn(o)),Gn(o)&&hk(o,r);let s=n.type;if(s&8)Hu(t,e,n.child,r);else if(s&32){let a=Cg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Ib(e,n);if(Array.isArray(a))r.push(...a);else{let u=ai(e[fn]);Hu(u[me],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function hk(t,e){for(let n=qt;n<t.length;n++){let r=t[n],i=r[me].firstChild;i!==null&&Hu(r[me],r,i,e)}t[si]!==t[Wn]&&e.push(t[si])}function Eb(t){if(t[tp]!==null){for(let e of t[tp])e.impl.addSequence(e);t[tp].length=0}}var wb=[];function fk(t){return t[zt]??pk(t)}function pk(t){let e=wb.pop()??Object.create(mk);return e.lView=t,e}function gk(t){t.lView[zt]!==t&&(t.lView=null,wb.push(t))}var mk=Te(L({},Hc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{nl(t.lView)},consumerOnSignalRead(){this.lView[zt]=this}});function yk(t){let e=t[zt]??Object.create(vk);return e.lView=t,e}var vk=Te(L({},Hc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ai(t.lView);for(;e&&!Tb(e[me]);)e=ai(e);e&&mT(e)},consumerOnSignalRead(){this.lView[zt]=this}});function Tb(t){return t.type!==2}function bb(t){if(t[ku]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ku])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[ne]&8192)}}var _k=100;function Db(t,e=!0,n=0){let i=t[Tr].rendererFactory,o=!1;o||i.begin?.();try{Ik(t,n)}catch(s){throw e&&Gx(t,s),s}finally{o||i.end?.()}}function Ik(t,e){let n=wT();try{aw(!0),xp(t,e);let r=0;for(;tl(t);){if(r===_k)throw new B(103,!1);r++,xp(t,1)}}finally{aw(n)}}function Ek(t,e,n,r){if(No(e))return;let i=e[ne],o=!1,s=!1;og(e);let a=!0,u=null,l=null;o||(Tb(t)?(l=fk(e),u=Nf(l)):Sf()===null?(a=!1,l=yk(e),u=Nf(l)):e[zt]&&(Pf(e[zt]),e[zt]=null));try{gT(e),mP(t.bindingStartIndex),n!==null&&mb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&wu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Tu(e,y,0,null),np(e,0)}if(s||wk(e),bb(e),Cb(e,0),t.contentQueries!==null&&ab(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&wu(e,y)}else{let y=t.contentHooks;y!==null&&Tu(e,y,1),np(e,1)}bk(t,e);let p=t.components;p!==null&&Ab(e,p,0);let m=t.viewQuery;if(m!==null&&Rp(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&wu(e,y)}else{let y=t.viewHooks;y!==null&&Tu(e,y,2),np(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ep]){for(let y of e[ep])y();e[ep]=null}o||(Eb(e),e[ne]&=-73)}catch(h){throw o||nl(e),h}finally{l!==null&&(yE(l,u),a&&gk(l)),sg()}}function Cb(t,e){for(let n=eb(t);n!==null;n=tb(n))for(let r=qt;r<n.length;r++){let i=n[r];Sb(i,e)}}function wk(t){for(let e=eb(t);e!==null;e=tb(e)){if(!(e[ne]&2))continue;let n=e[Fu];for(let r=0;r<n.length;r++){let i=n[r];mT(i)}}}function Tk(t,e,n){Se(18);let r=Hn(e,t);Sb(r,n),Se(19,r[Nt])}function Sb(t,e){ng(t)&&xp(t,e)}function xp(t,e){let r=t[me],i=t[ne],o=t[zt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Mf(o)),s||=!1,o&&(o.dirty=!1),t[ne]&=-9217,s)Ek(r,t,r.template,t[Nt]);else if(i&8192){bb(t),Cb(t,1);let a=r.components;a!==null&&Ab(t,a,1),Eb(t)}}function Ab(t,e,n){for(let r=0;r<e.length;r++)Tk(t,e[r],n)}function bk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ci(~i);else{let o=i,s=n[++r],a=n[++r];vP(s,o);let u=e[o];Se(24,u),a(2,u),Se(25,u)}}}finally{ci(-1)}}function Rg(t,e){let n=wT()?64:1088;for(t[Tr].changeDetectionScheduler?.notify(e);t;){t[ne]|=n;let r=ai(t);if(Lu(t)&&!r)return t;t=r}return null}function Rb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Dk(t,e,n,r=!0){let i=e[me];if(Ck(i,e,t,n),r){let s=Pp(n,t),a=e[pt],u=a.parentNode(t[si]);u!==null&&ek(i,t[sn],a,e,u,s)}let o=e[Pu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function kp(t,e){if(t.length<=qt)return;let n=qt+e,r=t[n];if(r){let i=r[Eo];i!==null&&i!==t&&Sg(i,r),e>0&&(t[n-1][rn]=r[rn]);let o=Nu(t,qt+e);Xx(r[me],r);let s=o[wo];s!==null&&s.detachView(o[me]),r[Tt]=null,r[rn]=null,r[ne]&=-129}return r}function Ck(t,e,n,r){let i=qt+r,o=n.length;r>0&&(n[i-1][rn]=e),r<o-qt?(e[rn]=n[i],Jw(n,qt+r,e)):(n.push(e),e[rn]=null),e[Tt]=n;let s=e[Eo];s!==null&&n!==s&&Nb(s,e);let a=e[wo];a!==null&&a.insertView(t),yp(e),e[ne]|=128}function Nb(t,e){let n=t[Fu],r=e[Tt];if(ii(r))t[ne]|=2;else{let i=r[Tt][fn];e[fn]!==i&&(t[ne]|=2)}n===null?t[Fu]=[e]:n.push(e)}var na=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[me];return Hu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Nt]}set context(e){this._lView[Nt]=e}get destroyed(){return No(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Tt];if(Gn(e)){let n=e[Ou],r=n?n.indexOf(this):-1;r>-1&&(kp(e,r),Nu(n,r))}this._attachedToViewContainer=!1}_b(this._lView[me],this._lView)}onDestroy(e){yT(this._lView,e)}markForCheck(){Rg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){yp(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,Db(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Lu(this._lView),n=this._lView[Eo];n!==null&&!e&&Sg(n,this._lView),vb(this._lView[me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=Lu(this._lView),r=this._lView[Eo];r!==null&&!n&&Nb(r,this._lView),yp(this._lView)}};var pl=(()=>{class t{static __NG_ELEMENT_ID__=Rk}return t})(),Sk=pl,Ak=class extends Sk{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Zx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new na(i)}};function Rk(){return Nk(vn(),je())}function Nk(t,e){return t.type&4?new Ak(e,t,al(t,e)):null}function gl(t,e,n,r,i){let o=t.data[e];if(o===null)o=Mk(t,e,n,r,i),yP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=pP();o.injectorIndex=s===null?-1:s.injectorIndex}return pi(o,!0),o}function Mk(t,e,n,r,i){let o=IT(),s=ig(),a=s?o:o&&o.parent,u=t.data[e]=xk(t,a,n,e,r,i);return Pk(t,u,o,s),u}function Pk(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function xk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return dP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var K9=new RegExp(`^(\\d+)*(${sx}|${ox})*(.*)`);var kk=()=>null;function bw(t,e){return kk(t,e)}var Ok=class{},Mb=class{},Op=class{resolveComponentFactory(e){throw Error(`No component factory found for ${At(e)}.`)}},ml=class{static NULL=new Op},Do=class{};var Fk=(()=>{class t{static \u0275prov=z({token:t,providedIn:"root",factory:()=>null})}return t})();var op={},Fp=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Zu(r);let i=this.injector.get(e,op,r);return i!==op||n===op?i:this.parentInjector.get(e,n,r)}};function Lp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=JE(i,a);else if(o==2){let u=a,l=e[++s];r=JE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function yi(t,e=ie.Default){let n=je();if(n===null)return oe(t,e);let r=vn();return UT(r,n,Ht(t),e)}function Ng(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,u=null,l=null,h=Vk(s);h===null?a=s:[a,u,l]=h,Bk(t,e,n,a,o,u,l)}o!==null&&r!==null&&Lk(n,r,o)}function Lk(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function Vk(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&di(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,jk(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function jk(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function Uk(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Bk(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&di(y)&&(u=!0,Uk(t,n,m)),FP(FT(n,e),t,y.type)}Gk(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=pb(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=ol(n.mergedAttrs,y.hostAttrs),Hk(t,n,e,p,y),Wk(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);n.directiveToIndex.set(y.type,[p,N+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let C=y.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}$k(t,n,o)}function $k(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Dw(0,e,i,r),Dw(1,e,i,r),Sw(e,r,!1);else{let o=n.get(i);Cw(0,e,o,r),Cw(1,e,o,r),Sw(e,r,!0)}}}function Dw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Pb(e,o)}}function Cw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Pb(e,s)}}function Pb(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Sw(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||vg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Hk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=yo(i.type,!0)),s=new ta(o,di(i),yi);t.blueprint[r]=s,n[r]=s,zk(t,e,r,pb(t,n,i.hostVars,br),i)}function zk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;qk(s)!=a&&s.push(a),s.push(n,r,o)}}function qk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Wk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;di(e)&&(n[""]=t)}}function Gk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function xb(t,e,n,r,i,o,s,a){let u=e.consts,l=To(u,s),h=gl(e,t,2,r,l);return o&&Ng(e,n,h,To(u,a),i),h.mergedAttrs=ol(h.mergedAttrs,h.attrs),h.attrs!==null&&Lp(h,h.attrs,!1),h.mergedAttrs!==null&&Lp(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function kb(t,e){ag(t,e),eg(e)&&t.queries.elementEnd(e)}var zu=class extends ml{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=_o(e);return new ra(n,this.ngModule)}};function Kk(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&ll.SignalBased)!==0};return i&&(o.transform=i),o})}function Qk(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Yk(t,e,n){let r=e instanceof Rt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Fp(n,r):n}function Zk(t){let e=t.get(Do,null);if(e===null)throw new B(407,!1);let n=t.get(Fk,null),r=t.get(bo,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function Jk(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return lb(e,n,n==="svg"?rP:n==="math"?iP:null)}var ra=class extends Mb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Kk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Qk(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Cx(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Se(22);let o=ge(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:Sx(this.componentDef.selectors[0]),u=_g(0,null,null,1,0,null,null,null,null,[a],null),l=Yk(s,i||this.ngModule,e),h=Zk(l),p=h.rendererFactory.createRenderer(null,s),m=r?Lx(p,r,s.encapsulation,l):Jk(s,p),y=Ig(null,u,null,512|fb(s),null,null,h,p,l,null,sb(m,l,!0));y[pn]=m,og(y);let C=null;try{let N=xb(pn,u,y,"#host",()=>[this.componentDef],!0,0);m&&(hb(p,m,N),Mo(m,y)),dl(u,y,N),yg(u,N,y),kb(u,N),n!==void 0&&Xk(N,this.ngContentSelectors,n),C=Hn(N.index,y),y[Nt]=C[Nt],Dg(u,y,null)}catch(N){throw C!==null&&Sp(C),Sp(y),N}finally{Se(23),sg()}return new Vp(this.componentType,y)}finally{ge(o)}}},Vp=class extends Ok{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=pT(n[me],pn),this.location=al(this._tNode,n),this.instance=Hn(this._tNode.index,n)[Nt],this.hostView=this.changeDetectorRef=new na(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=bg(r,i[me],i,e,n);this.previousInputValues.set(e,n);let s=Hn(r.index,i);Rg(s,1)}get injector(){return new oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Xk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Po=(()=>{class t{static __NG_ELEMENT_ID__=eO}return t})();function eO(){let t=vn();return nO(t,je())}var tO=Po,Ob=class extends tO{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return al(this._hostTNode,this._hostLView)}get injector(){return new oi(this._hostTNode,this._hostLView)}get parentInjector(){let e=cg(this._hostTNode,this._hostLView);if(xT(e)){let n=ju(e,this._hostLView),r=Vu(e),i=n[me].data[r+8];return new oi(i,n)}else return new oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Aw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=bw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ww(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!XM(e),a;if(s)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new ra(_o(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Rt,null);N&&(o=N)}let h=_o(u.componentType??{}),p=bw(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,ww(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(oP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Tt],l=new Ob(u,u[sn],u[Tt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Dk(s,i,o,r),e.attachToViewContainerRef(),Jw(sp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Aw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=kp(this._lContainer,n);r&&(Nu(sp(this._lContainer),n),_b(r[me],r))}detach(e){let n=this._adjustIndex(e,-1),r=kp(this._lContainer,n);return r&&Nu(sp(this._lContainer),n)!=null?new na(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Aw(t){return t[Ou]}function sp(t){return t[Ou]||(t[Ou]=[])}function nO(t,e){let n,r=e[t.index];return Gn(r)?n=r:(n=Rb(r,e,null,t),e[t.index]=n,Eg(e,n)),iO(n,e,t,r),new Ob(n,t,e)}function rO(t,e){let n=t[pt],r=n.createComment(""),i=Kn(e,t),o=n.parentNode(i);return $u(n,o,r,n.nextSibling(i),!1),r}var iO=aO,oO=()=>!1;function sO(t,e,n){return oO(t,e,n)}function aO(t,e,n,r){if(t[si])return;let i;n.type&8?i=gn(r):i=rO(e,n),t[si]=i}var Co=class{},Mg=class{};var jp=class extends Co{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new zu(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=tT(e);this._bootstrapComponents=cb(o.bootstrap),this._r3Injector=HT(e,n,[{provide:Co,useValue:this},{provide:ml,useValue:this.componentFactoryResolver},...r],At(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Up=class extends Mg{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new jp(this.moduleType,e,[])}};var qu=class extends Co{injector;componentFactoryResolver=new zu(this);instance=null;constructor(e){super();let n=new Xs([...e.providers,{provide:Co,useValue:this},{provide:ml,useValue:this.componentFactoryResolver}],e.parent||Xp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function yl(t,e,n=null){return new qu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var cO=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=nT(!1,n.type),i=r.length>0?yl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(oe(Rt))})}return t})();function ke(t){return aa(()=>{let e=Fb(t),n=Te(L({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===JT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(cO).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||mn.Emulated,styles:t.styles||nn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&mg("NgStandalone"),Lb(n);let r=t.dependencies;return n.directiveDefs=Rw(r,!1),n.pipeDefs=Rw(r,!0),n.id=fO(n),n})}function uO(t){return _o(t)||BM(t)}function lO(t){return t!==null}function vl(t){return aa(()=>({type:t.type,bootstrap:t.bootstrap||nn,declarations:t.declarations||nn,imports:t.imports||nn,exports:t.exports||nn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function dO(t,e){if(t==null)return vo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=ll.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function hO(t){if(t==null)return vo;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function la(t){return aa(()=>{let e=Fb(t);return Lb(e),e})}function Fb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||vo,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||nn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dO(t.inputs,e),outputs:hO(t.outputs),debugInfo:null}}function Lb(t){t.features?.forEach(e=>e(t))}function Rw(t,e){if(!t)return null;let n=e?$M:uO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(lO)}function fO(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Vb(t){return gO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function pO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function gO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ia(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function mO(t,e,n,r){let i=ia(t,e,n);return ia(t,e+1,r)||i}function yO(t,e,n,r,i,o,s,a,u){let l=e.consts,h=gl(e,t,4,s||null,a||null);rg()&&Ng(e,n,h,To(l,u),Tg),h.mergedAttrs=ol(h.mergedAttrs,h.attrs),ag(e,h);let p=h.tView=_g(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function vO(t,e,n,r,i,o,s,a,u,l){let h=n+pn,p=e.firstCreatePass?yO(h,e,t,r,i,o,s,a,u):e.data[h];pi(p,!1);let m=_O(e,t,p,n);rl()&&hl(e,t,m,p),Mo(m,t);let y=Rb(m,t,m,p);return t[h]=y,Eg(t,y),sO(y,p,t),el(p)&&dl(e,t,p),u!=null&&wg(t,p,l),p}function Qn(t,e,n,r,i,o,s,a){let u=je(),l=yn(),h=To(l.consts,o);return vO(u,l,t,e,n,r,i,h,s,a),Qn}var _O=IO;function IO(t,e,n,r){return il(!0),e[pt].createComment("")}var jb=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Ub=new $("");var EO=(()=>{class t{static \u0275prov=z({token:t,providedIn:"root",factory:()=>new Bp})}return t})(),Bp=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function da(t){return!!t&&typeof t.then=="function"}function Bb(t){return!!t&&typeof t.subscribe=="function"}var wO=new $("");var $b=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(wO,{optional:!0})??[];injector=x(Ye);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=bt(this.injector,i);if(da(o))n.push(o);else if(Bb(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Pg=new $("");function TO(){xf(()=>{throw new B(600,!1)})}function bO(t){return t.isBoundToModule}var DO=10;var ui=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(YP);afterRenderManager=x(cx);zonelessEnabled=x(lg);rootEffectScheduler=x(EO);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new it;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(mi).hasPendingTasks.pipe(de(n=>!n));constructor(){x(ul,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(Rt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ye.NULL){Se(10);let o=n instanceof Mb;if(!this._injector.get($b).done){let y="";throw new B(405,y)}let a;o?a=n:a=this._injector.get(ml).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let u=bO(a)?void 0:this._injector.get(Co),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,m=h.injector.get(Ub,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),bu(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),Se(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Se(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ob.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let n=ge(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ge(n),this.afterTick.next(),Se(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Do,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<DO;)Se(14),this.synchronizeOnce(),Se(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)CO(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>tl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;bu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Pg,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function CO(t,e,n,r){if(!n&&!tl(t))return;Db(t,e,n&&!r?0:1)}function SO(t,e,n,r){return ia(t,TT(),n)?e+Su(n)+r:br}function AO(t,e,n,r,i,o){let s=gP(),a=mO(t,s,n,i);return bT(2),a?e+Su(n)+r+Su(i)+o:br}function Iu(t,e){return t<<17|e<<2}function li(t){return t>>17&32767}function RO(t){return(t&2)==2}function NO(t,e){return t&131071|e<<17}function $p(t){return t|2}function So(t){return(t&131068)>>2}function ap(t,e){return t&-131069|e<<2}function MO(t){return(t&1)===1}function Hp(t){return t|1}function PO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=li(s),u=So(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ca(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=li(t[a+1]);t[r+1]=Iu(m,a),m!==0&&(t[m+1]=ap(t[m+1],r)),t[a+1]=NO(t[a+1],r)}else t[r+1]=Iu(a,0),a!==0&&(t[a+1]=ap(t[a+1],r)),a=r;else t[r+1]=Iu(u,0),a===0?a=r:t[u+1]=ap(t[u+1],r),u=r;l&&(t[r+1]=$p(t[r+1])),Nw(t,h,r,!0),Nw(t,h,r,!1),xO(e,h,t,r,o),s=Iu(a,u),o?e.classBindings=s:e.styleBindings=s}function xO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ca(o,e)>=0&&(n[r+1]=Hp(n[r+1]))}function Nw(t,e,n,r){let i=t[n+1],o=e===null,s=r?li(i):So(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];kO(u,e)&&(a=!0,t[s+1]=r?Hp(l):$p(l)),s=r?li(l):So(l)}a&&(t[n+1]=r?$p(i):Hp(i))}function kO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ca(t,e)>=0:!1}function ee(t,e,n){let r=je(),i=TT();if(ia(r,i,e)){let o=yn(),s=TP();Bx(o,s,r,t,e,r[pt],n,!1)}return ee}function Mw(t,e,n,r,i){bg(e,t,n,i?"class":"style",r)}function ha(t,e,n){return Hb(t,e,n,!1),ha}function mt(t,e){return Hb(t,e,null,!0),mt}function Hb(t,e,n,r){let i=je(),o=yn(),s=bT(2);if(o.firstUpdatePass&&FO(o,t,s,r),e!==br&&ia(i,s,e)){let a=o.data[gi()];BO(o,a,i,i[pt],t,i[s+1]=$O(e,n),r,s)}}function OO(t,e){return e>=t.expandoStartIndex}function FO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[gi()],s=OO(t,n);HO(o,r)&&e===null&&!s&&(e=!1),e=LO(i,o,e,r),PO(i,o,e,n,s,r)}}function LO(t,e,n,r){let i=IP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=cp(null,t,e,n,r),n=oa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=cp(i,t,e,n,r),o===null){let u=VO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=cp(null,t,e,u[1],r),u=oa(u,e.attrs,r),jO(t,e,r,u))}else o=UO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function VO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(So(r)!==0)return t[li(r)]}function jO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[li(i)]=r}function UO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=oa(r,s,n)}return oa(r,e.attrs,n)}function cp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=oa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function oa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),jM(t,s,n?!0:e[++o]))}return t===void 0?null:t}function BO(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=MO(l)?Pw(u,e,n,i,So(l),s):void 0;if(!Wu(h)){Wu(o)||RO(l)&&(o=Pw(u,null,n,i,a,s));let p=fT(gi(),n);dk(r,s,p,i,o)}}function Pw(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===br&&(m=p?nn:void 0);let y=p?Jf(m,r):h===r?m:void 0;if(l&&!Wu(y)&&(y=Jf(u,r)),Wu(y)&&(a=y,s))return a;let C=t[i+1];i=s?li(C):So(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Jf(u,r))}return a}function Wu(t){return t!==void 0}function $O(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=At(hx(t)))),t}function HO(t,e){return(t.flags&(e?8:16))!==0}function F(t,e,n,r){let i=je(),o=yn(),s=pn+t,a=i[pt],u=o.firstCreatePass?xb(s,o,i,e,Tg,rg(),n,r):o.data[s],l=zO(o,i,u,a,e,t);i[s]=l;let h=el(u);return pi(u,!0),hb(a,l,u),!yb(u)&&rl()&&hl(o,i,l,u),(cP()===0||h)&&Mo(l,i),uP(),h&&(dl(o,i,u),yg(o,u,i)),r!==null&&wg(i,u),F}function U(){let t=vn();ig()?ET():(t=t.parent,pi(t,!1));let e=t;hP(e)&&fP(),lP();let n=yn();return n.firstCreatePass&&kb(n,e),e.classesWithoutHost!=null&&SP(e)&&Mw(n,e,je(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&AP(e)&&Mw(n,e,je(),e.stylesWithoutHost,!1),U}function Ae(t,e,n,r){return F(t,e,n,r),U(),Ae}var zO=(t,e,n,r,i,o)=>(il(!0),lb(r,i,bP()));function qO(t,e,n,r,i){let o=e.consts,s=To(o,r),a=gl(e,t,8,"ng-container",s);s!==null&&Lp(a,s,!0);let u=To(o,i);return rg()&&Ng(e,n,a,u,Tg),a.mergedAttrs=ol(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function fa(t,e,n){let r=je(),i=yn(),o=t+pn,s=i.firstCreatePass?qO(o,i,r,e,n):i.data[o];pi(s,!0);let a=WO(i,r,s,t);return r[o]=a,rl()&&hl(i,r,a,s),Mo(a,r),el(s)&&(dl(i,r,s),yg(i,s,r)),n!=null&&wg(r,s),fa}function pa(){let t=vn(),e=yn();return ig()?ET():(t=t.parent,pi(t,!1)),e.firstCreatePass&&(ag(e,t),eg(t)&&e.queries.elementEnd(t)),pa}var WO=(t,e,n,r)=>(il(!0),Nx(e[pt],""));function xo(){return je()}var Gu="en-US";var GO=Gu;function KO(t){typeof t=="string"&&(GO=t.toLowerCase().replace(/_/g,"-"))}function xw(t,e,n){return function r(i){if(i===Function)return n;let o=Ro(t)?Hn(t.index,e):e;Rg(o,5);let s=e[Nt],a=kw(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=kw(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function kw(t,e,n,r){let i=ge(null);try{return Se(6,e,n),n(r)!==!1}catch(o){return QO(t,o),!1}finally{Se(7,e,n),ge(i)}}function QO(t,e){let n=t[Io],r=n?n.get(zn,null):null;r&&r.handleError(e)}function Ow(t,e,n,r,i,o){let s=e[n],a=e[me],l=a.data[n].outputs[r],h=s[l],p=a.firstCreatePass?_T(a):null,m=vT(e),y=h.subscribe(o),C=m.length;m.push(o,y),p&&p.push(i,t.index,C,-(C+1))}function Me(t,e,n,r){let i=je(),o=yn(),s=vn();return ZO(o,i,i[pt],s,t,e,r),Me}function YO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[xu],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function ZO(t,e,n,r,i,o,s){let a=el(r),l=t.firstCreatePass?_T(t):null,h=vT(e),p=!0;if(r.type&3||s){let m=Kn(r,e),y=s?s(m):m,C=h.length,N=s?V=>s(gn(V[r.index])):r.index,R=null;if(!s&&a&&(R=YO(t,e,i,r.index)),R!==null){let V=R.__ngLastListenerFn__||R;V.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=xw(r,e,o),lx(e,y,i,o);let V=n.listen(y,i,o);h.push(o,V),l&&l.push(i,N,C,C+1)}}else o=xw(r,e,o);if(p){let m=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let C=0;C<y.length;C+=2){let N=y[C],R=y[C+1];Ow(r,e,N,R,i,o)}if(m&&m.length)for(let C of m)Ow(r,e,C,i,i,o)}}function Dr(t=1){return wP(t)}function q(t,e=""){let n=je(),r=yn(),i=t+pn,o=r.firstCreatePass?gl(r,i,1,e,null):r.data[i],s=JO(r,n,o,e,t);n[i]=s,rl()&&hl(r,n,s,o),pi(o,!1)}var JO=(t,e,n,r,i)=>(il(!0),Ax(e[pt],r));function Yn(t){return _l("",t,""),Yn}function _l(t,e,n){let r=je(),i=SO(r,t,e,n);return i!==br&&zb(r,gi(),i),_l}function xg(t,e,n,r,i){let o=je(),s=AO(o,t,e,n,r,i);return s!==br&&zb(o,gi(),s),xg}function zb(t,e,n){let r=fT(e,t);Rx(t[pt],r,n)}var sa=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},qb=new sa("19.2.15"),zp=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Wb=(()=>{class t{compileModuleSync(n){return new Up(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=tT(n),o=cb(i.declarations).reduce((s,a)=>{let u=_o(a);return u&&s.push(new ra(u)),s},[]);return new zp(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var XO=(()=>{class t{zone=x(_e);changeDetectionScheduler=x(bo);applicationRef=x(ui);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),e1=new $("",{factory:()=>!1});function Gb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new _e(Te(L({},Qb()),{scheduleInRootZone:n})),[{provide:_e,useFactory:t},{provide:Js,multi:!0,useFactory:()=>{let r=x(XO,{optional:!0});return()=>r.initialize()}},{provide:Js,multi:!0,useFactory:()=>{let r=x(t1);return()=>{r.initialize()}}},e===!0?{provide:qT,useValue:!0}:[],{provide:WT,useValue:n??zT}]}function Kb(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Gb({ngZoneFactory:()=>{let i=Qb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&mg("NgZone_CoalesceEvent"),new _e(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return on([{provide:e1,useValue:!0},{provide:lg,useValue:!1},r])}function Qb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var t1=(()=>{class t{subscription=new xe;initialized=!1;zone=x(_e);pendingTasks=x(mi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var n1=(()=>{class t{appRef=x(ui);taskService=x(mi);ngZone=x(_e);zonelessEnabled=x(lg);tracing=x(ul,{optional:!0});disableScheduling=x(qT,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new xe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Bu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(WT,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?pw:GT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Bu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,pw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function r1(){return typeof $localize<"u"&&$localize.locale||Gu}var kg=new $("",{providedIn:"root",factory:()=>x(kg,ie.Optional|ie.SkipSelf)||r1()});var qp=new $(""),i1=new $("");function Ks(t){return!t.moduleRef}function o1(t){let e=Ks(t)?t.r3Injector:t.moduleRef.injector,n=e.get(_e);return n.run(()=>{Ks(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(zn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Ks(t)){let o=()=>e.destroy(),s=t.platformInjector.get(qp);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(qp);s.add(o),t.moduleRef.onDestroy(()=>{bu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return a1(r,n,()=>{let o=e.get($b);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(kg,Gu);if(KO(s||Gu),!e.get(i1,!0))return Ks(t)?e.get(ui):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ks(t)){let u=e.get(ui);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return s1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function s1(t,e){let n=t.injector.get(ui);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}function a1(t,e,n){try{let r=n();return da(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Du=null;function c1(t=[],e){return Ye.create({name:e,providers:[{provide:Ju,useValue:"platform"},{provide:qp,useValue:new Set([()=>Du=null])},...t]})}function u1(t=[]){if(Du)return Du;let e=c1(t);return Du=e,TO(),l1(e),e}function l1(t){let e=t.get(pg,null);bt(t,()=>{e?.forEach(n=>n())})}function Og(){return!1}var Fg=(()=>{class t{static __NG_ELEMENT_ID__=d1}return t})();function d1(t){return h1(vn(),je(),(t&16)===16)}function h1(t,e,n){if(Ro(t)&&!n){let r=Hn(t.index,e);return new na(r,r)}else if(t.type&175){let r=e[fn];return new na(r,e)}return null}var Wp=class{constructor(){}supports(e){return Vb(e)}create(e){return new Gp(e)}},f1=(t,e)=>e,Gp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||f1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Fw(r,i,o)?n:r,a=Fw(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,C=y+m;h<=C&&C<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Vb(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,pO(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Kp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ku),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ku),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Kp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Qp=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ku=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Qp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Fw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Lw(){return new Lg([new Wp])}var Lg=(()=>{class t{factories;static \u0275prov=z({token:t,providedIn:"root",factory:Lw});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Lw()),deps:[[t,new LM,new gt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new B(901,!1)}}return t})();function Yb(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Se(8);try{let o=i?.injector??u1(r),s=[Gb({}),{provide:bo,useExisting:n1},...n||[]],a=new qu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return o1({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Se(9)}}var Vw=class{[dn];constructor(e){this[dn]=e}destroy(){this[dn].destroy()}};var yt=new $("");var Xb=null;function Zn(){return Xb}function Vg(t){Xb??=t}var ga=class{},jg=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>x(eD),providedIn:"platform"})}return t})();var eD=(()=>{class t extends jg{_location;_history;_doc=x(yt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zn().getBaseHref(this._doc)}onPopState(n){let r=Zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function tD(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Zb(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Cr(t){return t&&t[0]!=="?"?`?${t}`:t}var Il=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>x(rD),providedIn:"root"})}return t})(),nD=new $(""),rD=(()=>{class t extends Il{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return tD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Cr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Cr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Cr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(oe(jg),oe(nD,8))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ko=(()=>{class t{_subject=new it;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=m1(Zb(Jb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Cr(r))}normalize(n){return t.stripTrailingSlash(g1(this._basePath,Jb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Cr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Cr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Cr;static joinWithSlash=tD;static stripTrailingSlash=Zb;static \u0275fac=function(r){return new(r||t)(oe(Il))};static \u0275prov=z({token:t,factory:()=>p1(),providedIn:"root"})}return t})();function p1(){return new ko(oe(Il))}function g1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Jb(t){return t.replace(/\/index.html$/,"")}function m1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var El=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Tl=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new El(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),iD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);iD(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(yi(Po),yi(pl),yi(Lg))};static \u0275dir=la({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function iD(t,e){t.context.$implicit=e.item}var vi=(()=>{class t{_viewContainer;_context=new wl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){oD(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){oD(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(yi(Po),yi(pl))};static \u0275dir=la({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),wl=class{$implicit=null;ngIf=null};function oD(t,e){if(t&&!t.createEmbeddedView)throw new B(2020,!1)}var Je=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=vl({type:t});static \u0275inj=Qu({})}return t})();function Ug(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var bl="browser",sD="server";function Dl(t){return t===bl}function Cl(t){return t===sD}var ma=class{};var Nl=new $(""),zg=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(oe(Nl),oe(_e))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),ya=class{_doc;constructor(e){this._doc=e}manager},Al="ng-app-id";function aD(t){for(let e of t)e.remove()}function cD(t,e){let n=e.createElement("style");return n.textContent=t,n}function v1(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Al}="${e}"],link[${Al}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Al),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function $g(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var qg=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Cl(o),v1(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,cD);r?.forEach(i=>this.addUsage(i,this.external,$g))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(aD(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])aD(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,cD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,$g(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Al,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(oe(yt),oe(fg),oe(gg,8),oe(_n))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Bg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Wg=/%COMP%/g;var lD="%COMP%",_1=`_nghost-${lD}`,I1=`_ngcontent-${lD}`,E1=!0,w1=new $("",{providedIn:"root",factory:()=>E1});function T1(t){return I1.replace(Wg,t)}function b1(t){return _1.replace(Wg,t)}function dD(t,e){return e.map(n=>n.replace(Wg,t))}var Gg=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Cl(a),this.defaultRenderer=new va(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===mn.ShadowDom&&(r=Te(L({},r),{encapsulation:mn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Rl?i.applyToHost(n):i instanceof _a&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case mn.Emulated:o=new Rl(u,l,r,this.appId,h,s,a,p,m);break;case mn.ShadowDom:return new Hg(u,l,n,r,s,a,this.nonce,p,m);default:o=new _a(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(oe(zg),oe(qg),oe(fg),oe(w1),oe(yt),oe(_n),oe(_e),oe(gg),oe(ul,8))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),va=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Bg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(uD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(uD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Bg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Bg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(qn.DashCase|qn.Important)?e.style.setProperty(n,r,i&qn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&qn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Zn().getGlobalEventTarget(this.doc,e),!e))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function uD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Hg=class extends va{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=dD(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=$g(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},_a=class extends va{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?dD(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Rl=class extends _a{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=T1(h),this.hostAttr=b1(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ml=class t extends ga{supportsDOMEvents=!0;static makeCurrent(){Vg(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=D1();return n==null?null:C1(n)}resetBaseElement(){Ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ug(document.cookie,e)}},Ia=null;function D1(){return Ia=Ia||document.head.querySelector("base"),Ia?Ia.getAttribute("href"):null}function C1(t){return new URL(t,document.baseURI).pathname}var S1=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),fD=(()=>{class t extends ya{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(oe(yt))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),hD=["alt","control","meta","shift"],A1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},pD=(()=>{class t extends ya{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),hD.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=A1[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),hD.forEach(s=>{if(s!==i){let a=R1[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(oe(yt))};static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();function Kg(t,e,n){return Yb(L({rootComponent:t,platformRef:n?.platformRef},N1(e)))}function N1(t){return{appProviders:[...O1,...t?.providers??[]],platformProviders:k1}}function M1(){Ml.makeCurrent()}function P1(){return new zn}function x1(){return rb(document),document}var k1=[{provide:_n,useValue:bl},{provide:pg,useValue:M1,multi:!0},{provide:yt,useFactory:x1}];var O1=[{provide:Ju,useValue:"root"},{provide:zn,useFactory:P1},{provide:Nl,useClass:fD,multi:!0,deps:[yt]},{provide:Nl,useClass:pD,multi:!0,deps:[yt]},Gg,qg,zg,{provide:Do,useExisting:Gg},{provide:ma,useClass:S1},[]];var gD=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(oe(yt))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var re="primary",ka=Symbol("RouteTitle"),Xg=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ei(t){return new Xg(t)}function TD(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function L1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!In(t[n],e[n]))return!1;return!0}function In(t,e){let n=t?em(t):void 0,r=e?em(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!bD(t[i],e[i]))return!1;return!0}function em(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function bD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function DD(t){return t.length>0?t[t.length-1]:null}function Rr(t){return Qf(t)?t:da(t)?Fe(Promise.resolve(t)):Z(t)}var V1={exact:SD,subset:AD},CD={exact:j1,subset:U1,ignored:()=>!0};function mD(t,e,n){return V1[n.paths](t.root,e.root,n.matrixParams)&&CD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function j1(t,e){return In(t,e)}function SD(t,e,n){if(!_i(t.segments,e.segments)||!kl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!SD(t.children[r],e.children[r],n))return!1;return!0}function U1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bD(t[n],e[n]))}function AD(t,e,n){return RD(t,e,e.segments,n)}function RD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!_i(i,n)||e.hasChildren()||!kl(i,n,r))}else if(t.segments.length===n.length){if(!_i(t.segments,n)||!kl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!AD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!_i(t.segments,i)||!kl(t.segments,i,r)||!t.children[re]?!1:RD(t.children[re],e,o,r)}}function kl(t,e,n){return e.every((r,i)=>CD[n](t[i].parameters,r.parameters))}var wn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ve([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){return H1.serialize(this)}},ve=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ol(this)}},Sr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ei(this.parameters),this._parameterMap}toString(){return MD(this)}};function B1(t,e){return _i(t,e)&&t.every((n,r)=>In(n.parameters,e[r].parameters))}function _i(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function $1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var Oa=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>new wi,providedIn:"root"})}return t})(),wi=class{parse(e){let n=new nm(e);return new wn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ea(e.root,!0)}`,r=W1(e.queryParams),i=typeof e.fragment=="string"?`#${z1(e.fragment)}`:"";return`${n}${r}${i}`}},H1=new wi;function Ol(t){return t.segments.map(e=>MD(e)).join("/")}function Ea(t,e){if(!t.hasChildren())return Ol(t);if(e){let n=t.children[re]?Ea(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${Ea(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=$1(t,(r,i)=>i===re?[Ea(t.children[re],!1)]:[`${i}:${Ea(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${Ol(t)}/${n[0]}`:`${Ol(t)}/(${n.join("//")})`}}function ND(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pl(t){return ND(t).replace(/%3B/gi,";")}function z1(t){return encodeURI(t)}function tm(t){return ND(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fl(t){return decodeURIComponent(t)}function yD(t){return Fl(t.replace(/\+/g,"%20"))}function MD(t){return`${tm(t.path)}${q1(t.parameters)}`}function q1(t){return Object.entries(t).map(([e,n])=>`;${tm(e)}=${tm(n)}`).join("")}function W1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Pl(n)}=${Pl(i)}`).join("&"):`${Pl(n)}=${Pl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var G1=/^[^\/()?;#]+/;function Qg(t){let e=t.match(G1);return e?e[0]:""}var K1=/^[^\/()?;=#]+/;function Q1(t){let e=t.match(K1);return e?e[0]:""}var Y1=/^[^=?&#]+/;function Z1(t){let e=t.match(Y1);return e?e[0]:""}var J1=/^[^&#]+/;function X1(t){let e=t.match(J1);return e?e[0]:""}var nm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new ve(e,n)),r}parseSegment(){let e=Qg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new Sr(Fl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Q1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Qg(this.remaining);i&&(r=i,this.capture(r))}e[Fl(n)]=Fl(r)}parseQueryParam(e){let n=Z1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=X1(this.remaining);s&&(r=s,this.capture(r))}let i=yD(n),o=yD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Qg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[re]:new ve([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function PD(t){return t.segments.length>0?new ve([],{[re]:t}):t}function xD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=xD(i);if(r===re&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ve(t.segments,e);return eF(n)}function eF(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new ve(t.segments.concat(e.segments),e.children)}return t}function jo(t){return t instanceof wn}function kD(t,e,n=null,r=null){let i=OD(t);return FD(i,e,n,r)}function OD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new ve(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=PD(r);return e??i}function FD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Yg(i,i,i,n,r);let o=tF(e);if(o.toRoot())return Yg(i,i,new ve([],{}),n,r);let s=nF(o,i,t),a=s.processChildren?Ta(s.segmentGroup,s.index,o.commands):VD(s.segmentGroup,s.index,o.commands);return Yg(i,s.segmentGroup,a,n,r)}function Vl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Da(t){return typeof t=="object"&&t!=null&&t.outlets}function Yg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=LD(t,e,n);let a=PD(xD(s));return new wn(a,o,i)}function LD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=LD(o,e,n)}),new ve(t.segments,r)}var jl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Vl(r[0]))throw new B(4003,!1);let i=r.find(Da);if(i&&i!==DD(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new jl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new jl(n,e,r)}var Lo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function nF(t,e,n){if(t.isAbsolute)return new Lo(e,!0,0);if(!n)return new Lo(e,!1,NaN);if(n.parent===null)return new Lo(n,!0,0);let r=Vl(t.commands[0])?0:1,i=n.segments.length-1+r;return rF(n,i,t.numberOfDoubleDots)}function rF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Lo(r,!1,i-o)}function iF(t){return Da(t[0])?t[0].outlets:{[re]:t}}function VD(t,e,n){if(t??=new ve([],{}),t.segments.length===0&&t.hasChildren())return Ta(t,e,n);let r=oF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ve(t.segments.slice(0,r.pathIndex),{});return o.children[re]=new ve(t.segments.slice(r.pathIndex),t.children),Ta(o,0,i)}else return r.match&&i.length===0?new ve(t.segments,{}):r.match&&!t.hasChildren()?rm(t,e,n):r.match?Ta(t,0,i):rm(t,e,n)}function Ta(t,e,n){if(n.length===0)return new ve(t.segments,{});{let r=iF(n),i={};if(Object.keys(r).some(o=>o!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let o=Ta(t.children[re],e,n);return new ve(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=VD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ve(t.segments,i)}}function oF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Da(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!_D(u,l,s))return o;r+=2}else{if(!_D(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function rm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Da(o)){let u=sF(o.outlets);return new ve(r,u)}if(i===0&&Vl(n[0])){let u=t.segments[e];r.push(new Sr(u.path,vD(n[0]))),i++;continue}let s=Da(o)?o.outlets[re]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Vl(a)?(r.push(new Sr(s,vD(a))),i+=2):(r.push(new Sr(s,{})),i++)}return new ve(r,{})}function sF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=rm(new ve([],{}),0,r))}),e}function vD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function _D(t,e,n){return t==n.path&&In(e,n.parameters)}var Ll="imperative",Xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Xe||{}),Lt=class{id;url;constructor(e,n){this.id=e,this.url=n}},Ti=class extends Lt{type=Xe.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jn=class extends Lt{urlAfterRedirects;type=Xe.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Mt||{}),Ca=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ca||{}),En=class extends Lt{reason;code;type=Xe.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xn=class extends Lt{reason;code;type=Xe.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Uo=class extends Lt{error;target;type=Xe.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sa=class extends Lt{urlAfterRedirects;state;type=Xe.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ul=class extends Lt{urlAfterRedirects;state;type=Xe.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bl=class extends Lt{urlAfterRedirects;state;shouldActivate;type=Xe.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$l=class extends Lt{urlAfterRedirects;state;type=Xe.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hl=class extends Lt{urlAfterRedirects;state;type=Xe.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zl=class{route;type=Xe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ql=class{route;type=Xe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wl=class{snapshot;type=Xe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gl=class{snapshot;type=Xe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kl=class{snapshot;type=Xe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ql=class{snapshot;type=Xe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Aa=class{},Bo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function aF(t,e){return t.providers&&!t._injector&&(t._injector=yl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function an(t){return t.outlet||re}function cF(t,e){let n=t.filter(r=>an(r)===e);return n.push(...t.filter(r=>an(r)!==e)),n}function Fa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Yl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Fa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new zo(this.rootInjector)}},zo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Yl(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(oe(Rt))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=im(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=im(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=om(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return om(e,this._root).map(n=>n.value)}};function im(t,e){if(t===e.value)return e;for(let n of e.children){let r=im(t,n);if(r)return r}return null}function om(t,e){if(t===e.value)return[e];for(let n of e.children){let r=om(t,n);if(r.length)return r.unshift(e),r}return[]}var Ft=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Fo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ra=class extends Zl{snapshot;constructor(e,n){super(e),this.snapshot=n,fm(this,e)}toString(){return this.snapshot.toString()}};function jD(t){let e=uF(t),n=new ot([new Sr("",{})]),r=new ot({}),i=new ot({}),o=new ot({}),s=new ot(""),a=new Ar(n,r,o,s,i,re,t,e.root);return a.snapshot=e.root,new Ra(new Ft(a,[]),e)}function uF(t){let e={},n={},r={},i="",o=new Ii([],e,r,i,n,re,t,null,{});return new Na("",new Ft(o,[]))}var Ar=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(de(l=>l[ka]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>Ei(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>Ei(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Jl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),t.params),data:L(L({},e.data),t.data),resolve:L(L(L(L({},t.data),e.data),i?.data),t._resolvedData)}:r={params:L({},t.params),data:L({},t.data),resolve:L(L({},t.data),t._resolvedData??{})},i&&BD(i)&&(r.resolve[ka]=i.title),r}var Ii=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ka]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ei(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Na=class extends Zl{url;constructor(e,n){super(n),this.url=e,fm(this,n)}toString(){return UD(this._root)}};function fm(t,e){e.value._routerState=t,e.children.forEach(n=>fm(t,n))}function UD(t){let e=t.children.length>0?` { ${t.children.map(UD).join(", ")} } `:"";return`${t.value}${e}`}function Zg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,In(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),In(e.params,n.params)||t.paramsSubject.next(n.params),L1(e.url,n.url)||t.urlSubject.next(n.url),In(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function sm(t,e){let n=In(t.params,e.params)&&B1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||sm(t.parent,e.parent))}function BD(t){return typeof t.title=="string"||t.title===null}var $D=new $(""),La=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=re;activateEvents=new Qe;deactivateEvents=new Qe;attachEvents=new Qe;detachEvents=new Qe;routerOutletData=QT(void 0);parentContexts=x(zo);location=x(Po);changeDetector=x(Fg);inputBinder=x(nd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new am(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=la({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[tg]})}return t})(),am=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Ar?this.route:e===zo?this.childContexts:e===$D?this.outletData:this.parent.get(e,n)}},nd=new $("");var pm=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ke({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ae(0,"router-outlet")},dependencies:[La],encapsulation:2})}return t})();function gm(t){let e=t.children&&t.children.map(gm),n=e?Te(L({},t),{children:e}):L({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=pm),n}function lF(t,e,n){let r=Ma(t,e._root,n?n._root:void 0);return new Ra(r,e)}function Ma(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=dF(t,e,n);return new Ft(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ma(t,a)),s}}let r=hF(e.value),i=e.children.map(o=>Ma(t,o));return new Ft(r,i)}}function dF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ma(t,r,i);return Ma(t,r)})}function hF(t){return new Ar(new ot(t.url),new ot(t.params),new ot(t.queryParams),new ot(t.fragment),new ot(t.data),t.outlet,t.component,t)}var $o=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},HD="ngNavigationCancelingError";function Xl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=jo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=zD(!1,Mt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function zD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[HD]=!0,n.cancellationCode=e,n}function fF(t){return qD(t)&&jo(t.url)}function qD(t){return!!t&&t[HD]}var pF=(t,e,n,r)=>de(i=>(new cm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),cm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Zg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Fo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Fo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Fo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Fo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ql(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Gl(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Zg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Zg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ed=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Vo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function gF(t,e,n){let r=t._root,i=e?e._root:null;return wa(r,i,n,[r.value])}function mF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function qo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!zw(t)?t:e.get(t):r}function wa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Fo(e);return t.children.forEach(s=>{yF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ba(a,n.getContext(s),i)),i}function yF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=vF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ed(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?wa(t,e,a?a.children:null,r,i):wa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Vo(a.outlet.component,s))}else s&&ba(e,a,i),i.canActivateChecks.push(new ed(r)),o.component?wa(t,null,a?a.children:null,r,i):wa(t,null,n,r,i);return i}function vF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!_i(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_i(t.url,e.url)||!In(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sm(t,e)||!In(t.queryParams,e.queryParams);case"paramsChange":default:return!sm(t,e)}}function ba(t,e,n){let r=Fo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ba(s,e.children.getContext(o),n):ba(s,null,n):ba(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Vo(e.outlet.component,i)):n.canDeactivateChecks.push(new Vo(null,i)):n.canDeactivateChecks.push(new Vo(null,i))}function Va(t){return typeof t=="function"}function _F(t){return typeof t=="boolean"}function IF(t){return t&&Va(t.canLoad)}function EF(t){return t&&Va(t.canActivate)}function wF(t){return t&&Va(t.canActivateChild)}function TF(t){return t&&Va(t.canDeactivate)}function bF(t){return t&&Va(t.canMatch)}function WD(t){return t instanceof Un||t?.name==="EmptyError"}var xl=Symbol("INITIAL_VALUE");function Ho(){return en(t=>pu(t.map(e=>e.pipe(Bn(1),vu(xl)))).pipe(de(e=>{for(let n of e)if(n!==!0){if(n===xl)return xl;if(n===!1||DF(n))return n}return!0}),Bt(e=>e!==xl),Bn(1)))}function DF(t){return jo(t)||t instanceof $o}function CF(t,e){return We(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Z(Te(L({},n),{guardsResult:!0})):SF(s,r,i,t).pipe(We(a=>a&&_F(a)?AF(r,o,t,e):Z(a)),de(a=>Te(L({},n),{guardsResult:a})))})}function SF(t,e,n,r){return Fe(t).pipe(We(i=>xF(i.component,i.route,n,e,r)),$n(i=>i!==!0,!0))}function AF(t,e,n,r){return Fe(e).pipe(lo(i=>uo(NF(i.route.parent,r),RF(i.route,r),PF(t,i.path,n),MF(t,i.route,n))),$n(i=>i!==!0,!0))}function RF(t,e){return t!==null&&e&&e(new Kl(t)),Z(!0)}function NF(t,e){return t!==null&&e&&e(new Wl(t)),Z(!0)}function MF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>gu(()=>{let s=Fa(e)??n,a=qo(o,s),u=EF(a)?a.canActivate(e,t):bt(s,()=>a(e,t));return Rr(u).pipe($n())}));return Z(i).pipe(Ho())}function PF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>mF(s)).filter(s=>s!==null).map(s=>gu(()=>{let a=s.guards.map(u=>{let l=Fa(s.node)??n,h=qo(u,l),p=wF(h)?h.canActivateChild(r,t):bt(l,()=>h(r,t));return Rr(p).pipe($n())});return Z(a).pipe(Ho())}));return Z(o).pipe(Ho())}function xF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=Fa(e)??i,l=qo(a,u),h=TF(l)?l.canDeactivate(t,e,n,r):bt(u,()=>l(t,e,n,r));return Rr(h).pipe($n())});return Z(s).pipe(Ho())}function kF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=qo(s,t),u=IF(a)?a.canLoad(e,n):bt(t,()=>a(e,n));return Rr(u)});return Z(o).pipe(Ho(),GD(r))}function GD(t){return Xc(st(e=>{if(typeof e!="boolean")throw Xl(t,e)}),de(e=>e===!0))}function OF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=qo(s,t),u=bF(a)?a.canMatch(e,n):bt(t,()=>a(e,n));return Rr(u)});return Z(o).pipe(Ho(),GD(r))}var Pa=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},xa=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Oo(t){return co(new Pa(t))}function FF(t){return co(new B(4e3,!1))}function LF(t){return co(zD(!1,Mt.GuardRejected))}var um=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[re])return FF(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:N}=i,R=bt(o,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(R instanceof wn)throw new xa(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new xa(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new wn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ve(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},lm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VF(t,e,n,r,i){let o=KD(t,e,n);return o.matched?(r=aF(e,r),OF(r,e,n,i).pipe(de(s=>s===!0?o:L({},lm)))):Z(o)}function KD(t,e,n){if(e.path==="**")return jF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?L({},lm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||TD)(n,t,e);if(!i)return L({},lm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function jF(t){return{matched:!0,parameters:t.length>0?DD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ID(t,e,n,r){return n.length>0&&$F(t,n,r)?{segmentGroup:new ve(e,BF(r,new ve(n,t.children))),slicedSegments:[]}:n.length===0&&HF(t,n,r)?{segmentGroup:new ve(t.segments,UF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ve(t.segments,t.children),slicedSegments:n}}function UF(t,e,n,r){let i={};for(let o of n)if(rd(t,e,o)&&!r[an(o)]){let s=new ve([],{});i[an(o)]=s}return L(L({},r),i)}function BF(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&an(r)!==re){let i=new ve([],{});n[an(r)]=i}return n}function $F(t,e,n){return n.some(r=>rd(t,e,r)&&an(r)!==re)}function HF(t,e,n){return n.some(r=>rd(t,e,r))}function rd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function zF(t,e,n){return e.length===0&&!t.children[n]}var dm=class{};function qF(t,e,n,r,i,o,s="emptyOnly"){return new hm(t,e,n,r,i,s,o).recognize()}var WF=31,hm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new um(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=ID(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(({children:n,rootSnapshot:r})=>{let i=new Ft(r,n),o=new Na("",i),s=kD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ii([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,n).pipe(de(r=>({children:r,rootSnapshot:n})),Ir(r=>{if(r instanceof xa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Pa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(de(s=>s instanceof Ft?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Fe(o).pipe(lo(s=>{let a=r.children[s],u=cF(n,s);return this.processSegmentGroup(e,u,a,s,i)}),yu((s,a)=>(s.push(...a),s)),Er(null),Yf(),We(s=>{if(s===null)return Oo(r);let a=QD(s);return GF(a),Z(a)}))}processSegment(e,n,r,i,o,s,a){return Fe(n).pipe(lo(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Ir(l=>{if(l instanceof Pa)return Z(null);throw l}))),$n(u=>!!u),Ir(u=>{if(WD(u))return zF(r,i,o)?Z(new dm):Oo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return an(r)!==s&&(s===re||!rd(i,o,r))?Oo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Oo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=KD(n,i,o);if(!u)return Oo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>WF&&(this.allowRedirects=!1));let y=new Ii(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,ED(i),an(i),i.component??i._loadedComponent??null,i,wD(i)),C=Jl(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(We(R=>this.processSegment(e,r,n,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=VF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(en(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(en(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new Ii(m,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,ED(r),an(r),r.component??r._loadedComponent??null,r,wD(r)),N=Jl(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:V}=ID(n,m,y,l);if(V.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(de(Y=>new Ft(C,Y)));if(l.length===0&&V.length===0)return Z(new Ft(C,[]));let K=an(r)===o;return this.processSegment(h,l,R,V,K?re:o,!0,C).pipe(de(Y=>new Ft(C,Y instanceof Ft?[Y]:[])))}))):Oo(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):kF(e,n,r,this.urlSerializer).pipe(We(i=>i?this.configLoader.loadChildren(e,n).pipe(st(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):LF(n))):Z({routes:[],injector:e})}};function GF(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function KF(t){let e=t.value.routeConfig;return e&&e.path===""}function QD(t){let e=[],n=new Set;for(let r of t){if(!KF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=QD(r.children);e.push(new Ft(r.value,i))}return e.filter(r=>!n.has(r))}function ED(t){return t.data||{}}function wD(t){return t.resolve||{}}function QF(t,e,n,r,i,o){return We(s=>qF(t,e,n,r,s.extractedUrl,i,o).pipe(de(({state:a,tree:u})=>Te(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function YF(t,e){return We(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of YD(u))s.add(l);let a=0;return Fe(s).pipe(lo(u=>o.has(u)?ZF(u,r,t,e):(u.data=Jl(u,u.parent,t).resolve,Z(void 0))),st(()=>a++),ho(1),We(u=>a===s.size?Z(n):Ct))})}function YD(t){let e=t.children.map(n=>YD(n)).flat();return[t,...e]}function ZF(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!BD(i)&&(o[ka]=i.title),JF(o,t,e,r).pipe(de(s=>(t._resolvedData=s,t.data=Jl(t,t.parent,n).resolve,null)))}function JF(t,e,n,r){let i=em(t);if(i.length===0)return Z({});let o={};return Fe(i).pipe(We(s=>XF(t[s],e,n,r).pipe($n(),st(a=>{if(a instanceof $o)throw Xl(new wi,a);o[s]=a}))),ho(1),de(()=>o),Ir(s=>WD(s)?Ct:co(s)))}function XF(t,e,n,r){let i=Fa(e)??r,o=qo(t,i),s=o.resolve?o.resolve(e,n):bt(i,()=>o(e,n));return Rr(s)}function Jg(t){return en(e=>{let n=t(e);return n?Fe(n).pipe(de(()=>e)):Z(e)})}var mm=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[ka]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>x(ZD),providedIn:"root"})}return t})(),ZD=(()=>{class t extends mm{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(oe(gD))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ja=new $("",{providedIn:"root",factory:()=>({})}),Ua=new $(""),JD=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(Wb);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Rr(n.loadComponent()).pipe(de(e0),st(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Gs(()=>{this.componentLoaders.delete(n)})),i=new io(r,()=>new it).pipe(ro());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=XD(r,this.compiler,n,this.onLoadEndListener).pipe(Gs(()=>{this.childrenLoaders.delete(r)})),s=new io(o,()=>new it).pipe(ro());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XD(t,e,n,r){return Rr(t.loadChildren()).pipe(de(e0),We(i=>i instanceof Mg||Array.isArray(i)?Z(i):Fe(e.compileModuleAsync(i))),de(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ua,[],{optional:!0,self:!0}).flat()),{routes:s.map(gm),injector:o}}))}function eL(t){return t&&typeof t=="object"&&"default"in t}function e0(t){return eL(t)?t.default:t}var id=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>x(tL),providedIn:"root"})}return t})(),tL=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),t0=new $("");var n0=new $(""),r0=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new it;transitionAbortSubject=new it;configLoader=x(JD);environmentInjector=x(Rt);destroyRef=x(ua);urlSerializer=x(Oa);rootContexts=x(zo);location=x(ko);inputBindingEnabled=x(nd,{optional:!0})!==null;titleStrategy=x(mm);options=x(ja,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(id);createViewTransition=x(t0,{optional:!0});navigationErrorHandler=x(n0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Z(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new zl(i)),r=i=>this.events.next(new ql(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Te(L({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new ot(null),this.transitions.pipe(Bt(r=>r!==null),en(r=>{let i=!1,o=!1;return Z(r).pipe(en(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),Ct;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Te(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new Xn(s.id,this.urlSerializer.serialize(s.rawUrl),l,Ca.IgnoredSameUrlNavigation)),s.resolve(!1),Ct}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Z(s).pipe(en(l=>(this.events.next(new Ti(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ct:Promise.resolve(l))),QF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),st(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=Te(L({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Sa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:m,extras:y}=s,C=new Ti(l,this.urlSerializer.serialize(h),p,m);this.events.next(C);let N=jD(this.rootComponentType).snapshot;return this.currentTransition=r=Te(L({},s),{targetSnapshot:N,urlAfterRedirects:h,extras:Te(L({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Z(r)}else{let l="";return this.events.next(new Xn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Ca.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ct}}),st(s=>{let a=new Ul(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),de(s=>(this.currentTransition=r=Te(L({},s),{guards:gF(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),CF(this.environmentInjector,s=>this.events.next(s)),st(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Xl(this.urlSerializer,s.guardsResult);let a=new Bl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Bt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Mt.GuardRejected),!1)),Jg(s=>{if(s.guards.canActivateChecks.length!==0)return Z(s).pipe(st(a=>{let u=new $l(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),en(a=>{let u=!1;return Z(a).pipe(YF(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Mt.NoDataFromResolver)}}))}),st(a=>{let u=new Hl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Jg(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(st(h=>{u.component=h}),de(()=>{})));for(let h of u.children)l.push(...a(h));return l};return pu(a(s.targetSnapshot.root)).pipe(Er(null),Bn(1))}),Jg(()=>this.afterPreactivation()),en(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Fe(u).pipe(de(()=>r)):Z(r)}),de(s=>{let a=lF(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Te(L({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),st(()=>{this.events.next(new Aa)}),pF(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Bn(1),st({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Zf(this.transitionAbortSubject.pipe(st(s=>{throw s}))),Gs(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ir(s=>{if(this.destroyed)return r.resolve(!1),Ct;if(o=!0,qD(s))this.events.next(new En(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),fF(s)?this.events.next(new Bo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Uo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=bt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof $o){let{message:l,cancellationCode:h}=Xl(this.urlSerializer,u);this.events.next(new En(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Bo(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Ct}))}))}cancelNavigationTransition(n,r,i){let o=new En(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nL(t){return t!==Ll}var i0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>x(rL),providedIn:"root"})}return t})(),td=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},rL=(()=>{class t extends td{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ug(t)))(i||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),o0=(()=>{class t{urlSerializer=x(Oa);options=x(ja,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(ko);urlHandlingStrategy=x(id);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new wn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof wn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=jD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:()=>x(iL),providedIn:"root"})}return t})(),iL=(()=>{class t extends o0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Ti?this.updateStateMemento():n instanceof Xn?this.commitTransition(r):n instanceof Sa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Aa?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof En&&(n.code===Mt.GuardRejected||n.code===Mt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Uo?this.restoreHistory(r,!0):n instanceof Jn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ug(t)))(i||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ym(t,e){t.events.pipe(Bt(n=>n instanceof Jn||n instanceof En||n instanceof Uo||n instanceof Xn),de(n=>n instanceof Jn||n instanceof Xn?0:(n instanceof En?n.code===Mt.Redirect||n.code===Mt.SupersededByNewNavigation:!1)?2:1),Bt(n=>n!==2),Bn(1)).subscribe(()=>{e()})}var oL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},od=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(jb);stateManager=x(o0);options=x(ja,{optional:!0})||{};pendingTasks=x(mi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(r0);urlSerializer=x(Oa);location=x(ko);urlHandlingStrategy=x(id);_events=new it;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(i0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(Ua,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(nd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new xe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof En&&r.code!==Mt.Redirect&&r.code!==Mt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jn)this.navigated=!0;else if(r instanceof Bo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||nL(i.source)},s);this.scheduleNavigation(a,Ll,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}cL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ll,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(gm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=OD(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return FD(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=jo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ll,null,r)}navigate(n,r={skipLocationChange:!1}){return aL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=L({},oL):r===!1?i=L({},sL):i=r,jo(n))return mD(this.currentUrlTree,n,i);let o=this.parseUrl(n);return mD(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return ym(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function aL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function cL(t){return!(t instanceof Aa)&&!(t instanceof Bo)}var lL=new $("");function vm(t,...e){return on([{provide:Ua,multi:!0,useValue:t},[],{provide:Ar,useFactory:dL,deps:[od]},{provide:Pg,multi:!0,useFactory:hL},e.map(n=>n.\u0275providers)])}function dL(t){return t.routerState.root}function hL(){let t=x(Ye);return e=>{let n=t.get(ui);if(e!==n.components[0])return;let r=t.get(od),i=t.get(fL);t.get(pL)===1&&r.initialNavigation(),t.get(gL,null,ie.Optional)?.setUpPreloading(),t.get(lL,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fL=new $("",{factory:()=>new it}),pL=new $("",{providedIn:"root",factory:()=>1});var gL=new $("");var sd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ke({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&Ae(0,"router-outlet")},dependencies:[Je,La],encapsulation:2})};var s0=()=>{};var u0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ad={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(u0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Im;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Im=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},vL=function(t){let e=u0(t);return ad.encodeByteArray(e,!0)},$a=function(t){return vL(t).replace(/\./g,"")},cd=function(t){try{return ad.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var _L=()=>wm().__FIREBASE_DEFAULTS__,IL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&cd(t[1]);return e&&JSON.parse(e)},ud=()=>{try{return s0()||_L()||IL()||EL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tm=t=>{var e,n;return(n=(e=ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},l0=t=>{let e=Tm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bm=()=>{var t;return(t=ud())===null||t===void 0?void 0:t.config},Dm=t=>{var e;return(e=ud())===null||e===void 0?void 0:e[`_${t}`]};var bi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Nr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function ld(t){return v(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function d0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$a(JSON.stringify(n)),$a(JSON.stringify(s)),""].join(".")}var Ba={};function wL(){let t={prod:[],emulator:[]};for(let e of Object.keys(Ba))Ba[e]?t.emulator.push(e):t.prod.push(e);return t}function TL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var a0=!1;function dd(t,e){if(typeof window>"u"||typeof document>"u"||!Nr(window.location.host)||Ba[t]===e||Ba[t]||a0)return;Ba[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=wL().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{a0=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=TL(r),y=n("text"),C=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),R=document.getElementById(N)||document.createElement("a"),V=n("preprendIcon"),K=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Y=m.element;a(Y),h(R,N);let be=l();u(K,V),Y.append(K,C,R,be),document.body.appendChild(Y)}o?(C.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function bL(){var t;let e=(t=ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hd(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g0(){let t=et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m0(){return!bL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Di(){try{return typeof indexedDB=="object"}catch{return!1}}function fd(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function y0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var DL="FirebaseError",at=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dt.prototype.create)}},Dt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?CL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new at(i,a,r)}};function CL(t,e){return t.replace(SL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var SL=/\{\$([^}]+)}/g;function v0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(c0(o)&&c0(s)){if(!Wt(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function c0(t){return t!==null&&typeof t=="object"}function Ha(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _0(t,e){let n=new Em(t,e);return n.subscribe.bind(n)}var Em=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_m),i.error===void 0&&(i.error=_m),i.complete===void 0&&(i.complete=_m);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function AL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _m(){}var RL=1e3,NL=2,ML=4*60*60*1e3,PL=.5;function pd(t,e=RL,n=NL){let r=e*Math.pow(n,t),i=Math.round(PL*r*(Math.random()-.5)*2);return Math.min(ML,r+i)}function Ue(t){return t&&t._delegate?t._delegate:t}var Le=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ci="[DEFAULT]";var Cm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new bi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kL(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function xL(t){return t===Ci?void 0:t}function kL(t){return t.instantiationMode==="EAGER"}var gd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Cm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var OL=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),FL={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},LL=ce.INFO,VL={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},jL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=VL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Gt=class{constructor(e){this.name=e,this._logLevel=LL,this._logHandler=jL,this._userLogHandler=null,OL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var UL=(t,e)=>e.some(n=>t instanceof n),I0,E0;function BL(){return I0||(I0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $L(){return E0||(E0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var w0=new WeakMap,Am=new WeakMap,T0=new WeakMap,Sm=new WeakMap,Nm=new WeakMap;function HL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Tn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&w0.set(n,t)}).catch(()=>{}),Nm.set(e,t),e}function zL(t){if(Am.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Am.set(t,e)}var Rm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Am.get(t);if(e==="objectStoreNames")return t.objectStoreNames||T0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function b0(t){Rm=t(Rm)}function qL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(md(this),e,...n);return T0.set(r,e.sort?e.sort():[e]),Tn(r)}:$L().includes(t)?function(...e){return t.apply(md(this),e),Tn(w0.get(this))}:function(...e){return Tn(t.apply(md(this),e))}}function WL(t){return typeof t=="function"?qL(t):(t instanceof IDBTransaction&&zL(t),UL(t,BL())?new Proxy(t,Rm):t)}function Tn(t){if(t instanceof IDBRequest)return HL(t);if(Sm.has(t))return Sm.get(t);let e=WL(t);return e!==t&&(Sm.set(t,e),Nm.set(e,t)),e}var md=t=>Nm.get(t);function yd(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Tn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Tn(s.result),u.oldVersion,u.newVersion,Tn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var GL=["get","getKey","getAll","getAllKeys","count"],KL=["put","add","delete","clear"],Mm=new Map;function D0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=KL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GL.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Mm.set(e,o),o}b0(t=>Te(L({},t),{get:(e,n,r)=>D0(e,n)||t.get(e,n,r),has:(e,n)=>!!D0(e,n)||t.has(e,n)}));var xm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function QL(t){let e=t.getComponent();return e?.type==="VERSION"}var km="@firebase/app",C0="0.13.2";var tr=new Gt("@firebase/app"),YL="@firebase/app-compat",ZL="@firebase/analytics-compat",JL="@firebase/analytics",XL="@firebase/app-check-compat",eV="@firebase/app-check",tV="@firebase/auth",nV="@firebase/auth-compat",rV="@firebase/database",iV="@firebase/data-connect",oV="@firebase/database-compat",sV="@firebase/functions",aV="@firebase/functions-compat",cV="@firebase/installations",uV="@firebase/installations-compat",lV="@firebase/messaging",dV="@firebase/messaging-compat",hV="@firebase/performance",fV="@firebase/performance-compat",pV="@firebase/remote-config",gV="@firebase/remote-config-compat",mV="@firebase/storage",yV="@firebase/storage-compat",vV="@firebase/firestore",_V="@firebase/ai",IV="@firebase/firestore-compat",EV="firebase",wV="11.10.0";var Om="[DEFAULT]",TV={[km]:"fire-core",[YL]:"fire-core-compat",[JL]:"fire-analytics",[ZL]:"fire-analytics-compat",[eV]:"fire-app-check",[XL]:"fire-app-check-compat",[tV]:"fire-auth",[nV]:"fire-auth-compat",[rV]:"fire-rtdb",[iV]:"fire-data-connect",[oV]:"fire-rtdb-compat",[sV]:"fire-fn",[aV]:"fire-fn-compat",[cV]:"fire-iid",[uV]:"fire-iid-compat",[lV]:"fire-fcm",[dV]:"fire-fcm-compat",[hV]:"fire-perf",[fV]:"fire-perf-compat",[pV]:"fire-rc",[gV]:"fire-rc-compat",[mV]:"fire-gcs",[yV]:"fire-gcs-compat",[vV]:"fire-fst",[IV]:"fire-fst-compat",[_V]:"fire-vertex","fire-js":"fire-js",[EV]:"fire-js-all"};var za=new Map,bV=new Map,Fm=new Map;function S0(t,e){try{t.container.addComponent(e)}catch(n){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ct(t){let e=t.name;if(Fm.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;Fm.set(e,t);for(let n of za.values())S0(n,t);for(let n of bV.values())S0(n,t);return!0}function Kt(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qt(t){return t==null?!1:t.settings!==void 0}var DV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new Dt("app","Firebase",DV);var Lm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Le("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}};var Pr=wV;function Um(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Om,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Mr.create("bad-app-name",{appName:String(i)});if(n||(n=bm()),!n)throw Mr.create("no-options");let o=za.get(i);if(o){if(Wt(n,o.options)&&Wt(r,o.config))return o;throw Mr.create("duplicate-app",{appName:i})}let s=new gd(i);for(let u of Fm.values())s.addComponent(u);let a=new Lm(n,r,s);return za.set(i,a),a}function bn(t=Om){let e=za.get(t);if(!e&&t===Om&&bm())return Um();if(!e)throw Mr.create("no-app",{appName:t});return e}function vd(){return Array.from(za.values())}function Ie(t,e,n){var r;let i=(r=TV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(a.join(" "));return}ct(new Le(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var CV="firebase-heartbeat-database",SV=1,qa="firebase-heartbeat-store",Pm=null;function M0(){return Pm||(Pm=yd(CV,SV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),Pm}function AV(t){return v(this,null,function*(){try{let n=(yield M0()).transaction(qa),r=yield n.objectStore(qa).get(P0(t));return yield n.done,r}catch(e){if(e instanceof at)tr.warn(e.message);else{let n=Mr.create("idb-get",{originalErrorMessage:e?.message});tr.warn(n.message)}}})}function A0(t,e){return v(this,null,function*(){try{let r=(yield M0()).transaction(qa,"readwrite");yield r.objectStore(qa).put(e,P0(t)),yield r.done}catch(n){if(n instanceof at)tr.warn(n.message);else{let r=Mr.create("idb-set",{originalErrorMessage:n?.message});tr.warn(r.message)}}})}function P0(t){return`${t.name}!${t.options.appId}`}var RV=1024,NV=30,Vm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new jm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=R0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>NV){let s=PV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){tr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=R0(),{heartbeatsToSend:r,unsentEntries:i}=MV(this._heartbeatsCache.heartbeats),o=$a(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return tr.warn(n),""}})}};function R0(){return new Date().toISOString().substring(0,10)}function MV(t,e=RV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),N0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),N0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var jm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Di()?fd().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield AV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return A0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return A0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function N0(t){return $a(JSON.stringify({version:2,heartbeats:t})).length}function PV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function xV(t){ct(new Le("platform-logger",e=>new xm(e),"PRIVATE")),ct(new Le("heartbeat",e=>new Vm(e),"PRIVATE")),Ie(km,C0,t),Ie(km,C0,"esm2017"),Ie("fire-js","")}xV("");var kV="firebase",OV="11.10.0";Ie(kV,OV,"app");function Bm(t){t===void 0&&(sT(Bm),t=x(Ye));let e=t.get(sl);return n=>new ue(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Dn=new sa("ANGULARFIRE2_VERSION");function Ai(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var xr=(t,e)=>{let n=e?[e]:vd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Wo=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Wo||{}),x0=Og()&&typeof Zone<"u"?Wo.WARN:Wo.SILENT;var _d=class{zone;delegate;constructor(e,n=Gf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Cn=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=x(_e);this.outsideAngular=n.runOutsideAngular(()=>new _d(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new _d(typeof Zone>"u"?void 0:Zone.current,Wf))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),k0=!1;function FV(t,e){!k0&&(x0>Wo.SILENT||Og())&&(k0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),x0>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function LV(t){let e=x(_e,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Si(t){let e=x(_e,{optional:!0});return e?e.run(()=>t()):t()}var VV=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),bt(n,()=>Si(()=>t.apply(void 0,r)))),Pt=(t,e,n)=>(n||=e?Wo.WARN:Wo.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(Cn),s=x(sl),a=x(Rt)}catch{return FV(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Si(()=>s.add())),i[l]=VV(i[l],r,a));let u=LV(()=>t.apply(this,i));return e?u instanceof ue?u.pipe(_r(o.outsideAngular),vr(o.insideAngular),Bm(a)):u instanceof Promise?Si(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>bt(a,()=>Si(()=>l(p))),p=>bt(a,()=>Si(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Si(()=>u):u instanceof ue?u.pipe(_r(o.outsideAngular),vr(o.insideAngular)):Si(()=>u)});var cn=class{constructor(e){return e}},nr=class{constructor(){return vd()}};function jV(t){return t&&t.length===1?t[0]:new cn(bn())}var $m=new $("angularfire2._apps"),UV={provide:cn,useFactory:jV,deps:[[new gt,$m]]},BV={provide:nr,deps:[[new gt,$m]]};function $V(t){return(e,n)=>{let r=n.get(_n);Ie("angularfire",Dn.full,"core"),Ie("angularfire",Dn.full,"app"),Ie("angular",qb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new cn(i)}}function O0(t,...e){return on([UV,BV,{provide:$m,useFactory:$V(t),multi:!0,deps:[_e,Ye,Cn,...e]}])}var F0=Pt(Um,!0);var HV=new Map,zV={activated:!1,tokenObservers:[]},qV={initialized:!1,enabled:!1};function un(t){return HV.get(t)||Object.assign({},zV)}function U0(){return qV}var WV="https://content-firebaseappcheck.googleapis.com/v1";var GV="exchangeDebugToken",L0={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},VK=24*60*60*1e3;var qm=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new bi,this.pending.promise.catch(n=>{}),yield KV(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new bi,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function KV(t){return new Promise(e=>{setTimeout(e,t)})}var QV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},kr=new Dt("appCheck","AppCheck",QV);function B0(t){if(!un(t).activated)throw kr.create("use-before-activation",{appName:t.name})}function $0(r,i){return v(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw kr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw kr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw kr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw kr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function H0(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${WV}/projects/${n}/apps/${r}:${GV}?key=${i}`,body:{debug_token:e}}}var YV="firebase-app-check-database",ZV=1,Wm="firebase-app-check-store";var Id=null;function JV(){return Id||(Id=new Promise((t,e)=>{try{let n=indexedDB.open(YV,ZV);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(kr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Wm,{keyPath:"compositeKey"})}}}catch(n){e(kr.create("storage-open",{originalErrorMessage:n?.message}))}}),Id)}function XV(t,e){return e2(t2(t),e)}function e2(t,e){return v(this,null,function*(){let r=(yield JV()).transaction(Wm,"readwrite"),o=r.objectStore(Wm).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(kr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function t2(t){return`${t.options.appId}-${t.name}`}var Wa=new Gt("@firebase/app-check");function Hm(t,e){return Di()?XV(t,e).catch(n=>{Wa.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function z0(){return U0().enabled}function q0(){return v(this,null,function*(){let t=U0();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var n2={error:"UNKNOWN_ERROR"};function r2(t){return ad.encodeString(JSON.stringify(t),!1)}function Gm(t,e=!1,n=!1){return v(this,null,function*(){let r=t.app;B0(r);let i=un(r),o=i.token,s;if(o&&!Ga(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Ga(l)?o=l:yield Hm(r,void 0))}if(!e&&o&&Ga(o))return{token:o.token};let a=!1;if(z0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=$0(H0(r,yield q0()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Hm(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Wa.warn(l.message):n&&Wa.error(l),zm(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield un(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Wa.warn(l.message):n&&Wa.error(l),s=l}let u;return o?s?Ga(o)?u={token:o.token,internalError:s}:u=zm(s):(u={token:o.token},i.token=o,yield Hm(r,o)):u=zm(s),a&&a2(r,u),u})}function i2(t){return v(this,null,function*(){let e=t.app;B0(e);let{provider:n}=un(e);if(z0()){let r=yield q0(),{token:i}=yield $0(H0(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function o2(t,e,n,r){let{app:i}=t,o=un(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ga(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),V0(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>V0(t))}function W0(t,e){let n=un(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function V0(t){let{app:e}=t,n=un(e),r=n.tokenRefresher;r||(r=s2(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function s2(t){let{app:e}=t;return new qm(()=>v(null,null,function*(){let n=un(e),r;if(n.token?r=yield Gm(t,!0):r=yield Gm(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=un(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},L0.RETRIAL_MIN_WAIT,L0.RETRIAL_MAX_WAIT)}function a2(t,e){let n=un(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ga(t){return t.expireTimeMillis-Date.now()>0}function zm(t){return{token:r2(n2),error:t}}var Km=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=un(this.app);for(let n of e)W0(this.app,n.next);return Promise.resolve()}};function c2(t,e){return new Km(t,e)}function u2(t){return{getToken:e=>Gm(t,e),getLimitedUseToken:()=>i2(t),addTokenListener:e=>o2(t,"INTERNAL",e),removeTokenListener:e=>W0(t.app,e)}}var l2="@firebase/app-check",d2="0.10.1";var h2="app-check",j0="app-check-internal";function f2(){ct(new Le(h2,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return c2(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(j0).initialize()})),ct(new Le(j0,t=>{let e=t.getProvider("app-check").getImmediate();return u2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ie(l2,d2)}f2();var p2="app-check";var Go=class{constructor(){return xr(p2)}};var g2=["localhost","0.0.0.0","127.0.0.1"],ZK=typeof window<"u"&&g2.includes(window.location.hostname);function aC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var cC=aC,uC=new Dt("auth","Firebase",aC());var Cd=new Gt("@firebase/auth");function m2(t,...e){Cd.logLevel<=ce.WARN&&Cd.warn(`Auth (${Pr}): ${t}`,...e)}function wd(t,...e){Cd.logLevel<=ce.ERROR&&Cd.error(`Auth (${Pr}): ${t}`,...e)}function Lr(t,...e){throw py(t,...e)}function Ni(t,...e){return py(t,...e)}function lC(t,e,n){let r=Object.assign(Object.assign({},cC()),{[e]:n});return new Dt("auth","Firebase",r).create(e,{appName:t.name})}function Ri(t){return lC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function py(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uC.create(t,...e)}function Q(t,e,...n){if(!t)throw py(e,...n)}function rr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw wd(e),new Error(e)}function Vr(t,e){t||rr(e)}function Jm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function y2(){return G0()==="http:"||G0()==="https:"}function G0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function v2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y2()||hd()||"connection"in navigator)?navigator.onLine:!0}function _2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Mi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vr(n>e,"Short delay should be less than long delay!"),this.isMobile=h0()||p0()}get(){return v2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function gy(t,e){Vr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Sd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var I2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var E2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w2=new Mi(3e4,6e4);function my(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ko(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){return dC(t,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ha(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return f0()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Nr(t.emulatorConfig.host)&&(y.credentials="include"),Sd.fetch()(yield hC(t,t.config.apiHost,n,p),y)}))})}function dC(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},I2),e);try{let i=new Xm(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ed(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ed(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ed(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw lC(t,h,l);Lr(t,h)}}catch(i){if(i instanceof at)throw i;Lr(t,"network-request-failed",{message:String(i)})}})}function T2(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield Ko(t,e,n,r,i);return"mfaPendingCredential"in l&&Lr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function hC(t,e,n,r){return v(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?gy(t.config,i):`${t.config.apiScheme}://${i}`;return E2.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Xm=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ni(this.auth,"network-request-failed")),w2.get())})}};function Ed(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ni(t,e,r);return i.customData._tokenResponse=n,i}function b2(t,e){return v(this,null,function*(){return Ko(t,"POST","/v1/accounts:delete",e)})}function Ad(t,e){return v(this,null,function*(){return Ko(t,"POST","/v1/accounts:lookup",e)})}function Ka(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yy(t,e=!1){return v(this,null,function*(){let n=Ue(t),r=yield n.getIdToken(e),i=vy(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ka(Qm(i.auth_time)),issuedAtTime:Ka(Qm(i.iat)),expirationTime:Ka(Qm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Qm(t){return Number(t)*1e3}function vy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wd("JWT malformed, contained fewer than 3 sections"),null;try{let i=cd(n);return i?JSON.parse(i):(wd("Failed to decode base64 JWT payload"),null)}catch(i){return wd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function K0(t){let e=vy(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ya(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof at&&D2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function D2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ey=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Za=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ka(this.lastLoginAt),this.creationTime=Ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rd(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ya(t,Ad(n,{idToken:r}));Q(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?fC(o.providerUserInfo):[],a=C2(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Za(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function _y(t){return v(this,null,function*(){let e=Ue(t);yield Rd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function C2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fC(t){return t.map(e=>{var{providerId:n}=e,r=Kf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function S2(t,e){return v(this,null,function*(){let n=yield dC(t,{},()=>v(null,null,function*(){let r=Ha({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield hC(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&Nr(t.emulatorConfig.host)&&(u.credentials="include"),Sd.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function A2(t,e){return v(this,null,function*(){return Ko(t,"POST","/v2/accounts:revokeToken",my(t,e))})}var Qa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let n=K0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield S2(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return rr("not implemented")}};function Or(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Fr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Kf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ey(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Za(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield Ya(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return yy(this,e)}reload(){return _y(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Rd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Qt(this.auth.app))return Promise.reject(Ri(this.auth));let e=yield this.getIdToken();return yield Ya(this,b2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Y,emailVerified:be,isAnonymous:It,providerData:we,stsTokenManager:T}=n;Q(Y&&T,e,"internal-error");let _=Qa.fromJSON(this.name,T);Q(typeof Y=="string",e,"internal-error"),Or(p,e.name),Or(m,e.name),Q(typeof be=="boolean",e,"internal-error"),Q(typeof It=="boolean",e,"internal-error"),Or(y,e.name),Or(C,e.name),Or(N,e.name),Or(R,e.name),Or(V,e.name),Or(K,e.name);let E=new t({uid:Y,auth:e,email:m,emailVerified:be,displayName:p,isAnonymous:It,photoURL:C,phoneNumber:y,tenantId:N,stsTokenManager:_,createdAt:V,lastLoginAt:K});return we&&Array.isArray(we)&&(E.providerData=we.map(w=>Object.assign({},w))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new Qa;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];Q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?fC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Qa;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Za(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var Q0=new Map;function ir(t){Vr(t instanceof Function,"Expected a class definition");let e=Q0.get(t);return e?(Vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Q0.set(t,e),e)}var R2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ty=R2;function Td(t,e,n){return`firebase:${t}:${e}:${n}`}var Nd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Td(this.userKey,i.apiKey,o),this.fullPersistenceKey=Td("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Ad(this.auth,{idToken:e}).catch(()=>{});return n?Fr._fromGetAccountInfoResponse(this.auth,n,e):null}return Fr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(ir(ty),e,r);let i=(yield Promise.all(n.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ir(ty),s=Td(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Ad(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Fr._fromGetAccountInfoResponse(e,m,h)}else p=Fr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function Y0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_C(e))return"Blackberry";if(IC(e))return"Webos";if(gC(e))return"Safari";if((e.includes("chrome/")||mC(e))&&!e.includes("edge/"))return"Chrome";if(vC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function pC(t=et()){return/firefox\//i.test(t)}function gC(t=et()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mC(t=et()){return/crios\//i.test(t)}function yC(t=et()){return/iemobile/i.test(t)}function vC(t=et()){return/android/i.test(t)}function _C(t=et()){return/blackberry/i.test(t)}function IC(t=et()){return/webos/i.test(t)}function Iy(t=et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N2(t=et()){var e;return Iy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function M2(){return g0()&&document.documentMode===10}function EC(t=et()){return Iy(t)||vC(t)||IC(t)||_C(t)||/windows phone/i.test(t)||yC(t)}function wC(t,e=[]){let n;switch(t){case"Browser":n=Y0(et());break;case"Worker":n=`${Y0(et())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pr}/${r}`}var ny=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function P2(n){return v(this,arguments,function*(t,e={}){return Ko(t,"GET","/v2/passwordPolicy",my(t,e))})}var x2=6,ry=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:x2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var iy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Md(this),this.idTokenSubscription=new Md(this),this.beforeStateQueue=new ny(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Nd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield Ad(this,{idToken:e}),r=yield Fr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(Qt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Rd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=_2()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Qt(this.app))return Promise.reject(Ri(this));let n=e?Ue(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Qt(this.app)?Promise.reject(Ri(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Qt(this.app)?Promise.reject(Ri(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(ir(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield P2(this),n=new ry(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield A2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ir(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield Nd.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&m2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ey(t){return Ue(t)}var Md=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=_0(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var wy={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function k2(t){wy=t}function O2(t){return wy.loadJS(t)}function F2(){return wy.gapiScript}function TC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Ty(t,e){let n=Kt(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Wt(o,e??{}))return i;Lr(i,"already-initialized")}return n.initialize({options:e})}function L2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ir);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function by(t,e,n){let r=Ey(t);Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=bC(e),{host:s,port:a}=V2(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(Wt(l,r.config.emulator)&&Wt(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Nr(s)?(ld(`${o}//${s}${u}`),dd("Auth",!0)):i||j2()}function bC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function V2(t){let e=bC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Z0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:Z0(s)}}}function Z0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function j2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Pd=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}};function Ym(t,e){return v(this,null,function*(){return T2(t,"POST","/v1/accounts:signInWithIdp",my(t,e))})}var xd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var oy=class extends xd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ja=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield Fr._fromIdTokenResponse(e,r,i),s=J0(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=J0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function J0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var sy=class t extends at{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function DC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sy._fromErrorAndOperation(t,o,e,r):o})}function U2(t,e,n=!1){return v(this,null,function*(){let r=yield Ya(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ja._forOperation(t,"link",r)})}function B2(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(Qt(r.app))return Promise.reject(Ri(r));let i="reauthenticate";try{let o=yield Ya(t,DC(r,i,e,t),n);Q(o.idToken,r,"internal-error");let s=vy(o.idToken);Q(s,r,"internal-error");let{sub:a}=s;return Q(t.uid===a,r,"user-mismatch"),Ja._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Lr(r,"user-mismatch"),o}})}function $2(t,e,n=!1){return v(this,null,function*(){if(Qt(t.app))return Promise.reject(Ri(t));let r="signIn",i=yield DC(t,r,e),o=yield Ja._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Dy(t,e,n,r){return Ue(t).onIdTokenChanged(e,n,r)}function Cy(t,e,n){return Ue(t).beforeAuthStateChanged(e,n)}var kd="__sak";var Od=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kd,"1"),this.storage.removeItem(kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var H2=1e3,z2=10,q2=(()=>{class t extends Od{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);M2()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,z2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},H2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield mr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield mr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield mr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),CC=q2;var W2=(()=>{class t extends Od{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Sy=W2;function G2(t){return Promise.all(t.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var K2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield G2(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function SC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var ay=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=SC("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Sn(){return window}function Q2(t){Sn().location.href=t}function AC(){return typeof Sn().WorkerGlobalScope<"u"&&typeof Sn().importScripts=="function"}function Y2(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Z2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function J2(){return AC()?self:null}var RC="firebaseLocalStorageDb",X2=1,Fd="firebaseLocalStorage",NC="fbase_key",Pi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Vd(t,e){return t.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function ej(){let t=indexedDB.deleteDatabase(RC);return new Pi(t).toPromise()}function cy(){let t=indexedDB.open(RC,X2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Fd,{keyPath:NC})}catch(i){n(i)}}),t.addEventListener("success",()=>v(null,null,function*(){let r=t.result;r.objectStoreNames.contains(Fd)?e(r):(r.close(),yield ej(),e(yield cy()))}))})}function X0(t,e,n){return v(this,null,function*(){let r=Vd(t,!0).put({[NC]:e,value:n});return new Pi(r).toPromise()})}function tj(t,e){return v(this,null,function*(){let n=Vd(t,!1).get(e),r=yield new Pi(n).toPromise();return r===void 0?null:r.value})}function eC(t,e){let n=Vd(t,!0).delete(e);return new Pi(n).toPromise()}var nj=800,rj=3,ij=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield cy(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>rj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return AC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=K2._getInstance(J2()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Y2(),!this.activeServiceWorker)return;this.sender=new ay(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Z2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield cy();return yield X0(n,kd,"1"),yield eC(n,kd),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>X0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>tj(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>eC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=Vd(o,!1).getAll();return new Pi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),MC=ij;var aQ=TC("rcb"),cQ=new Mi(3e4,6e4);function oj(t,e){return e?ir(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Xa=class extends Pd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ym(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ym(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ym(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function sj(t){return $2(t.auth,new Xa(t),t.bypassAuthState)}function aj(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),B2(n,new Xa(t),t.bypassAuthState)}function cj(t){return v(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),U2(n,new Xa(t),t.bypassAuthState)})}var uy=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sj;case"linkViaPopup":case"linkViaRedirect":return cj;case"reauthViaPopup":case"reauthViaRedirect":return aj;default:Lr(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var uQ=new Mi(2e3,1e4);var uj="pendingRedirect",bd=new Map,ly=class t extends uy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=bd.get(this.auth._key());if(!e){try{let r=(yield lj(this.resolver,this.auth))?yield mr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bd.set(this.auth._key(),e)}return this.bypassAuthState||bd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return mr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,mr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function lj(t,e){return v(this,null,function*(){let n=fj(e),r=hj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function dj(t,e){bd.set(t._key(),e)}function hj(t){return ir(t._redirectPersistence)}function fj(t){return Td(uj,t.config.apiKey,t.name)}function pj(t,e,n=!1){return v(this,null,function*(){if(Qt(t.app))return Promise.reject(Ri(t));let r=Ey(t),i=oj(r,e),s=yield new ly(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var gj=10*60*1e3,dy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ni(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gj&&this.cachedEventUids.clear(),this.cachedEventUids.has(tC(e))}saveEventToCache(e){this.cachedEventUids.add(tC(e)),this.lastProcessedEventTime=Date.now()}};function tC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PC(t);default:return!1}}function yj(n){return v(this,arguments,function*(t,e={}){return Ko(t,"GET","/v1/projects",e)})}var vj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_j=/^https?/;function Ij(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield yj(t);for(let n of e)try{if(Ej(n))return}catch{}Lr(t,"unauthorized-domain")})}function Ej(t){let e=Jm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!_j.test(n))return!1;if(vj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var wj=new Mi(3e4,6e4);function nC(){let t=Sn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Tj(t){return new Promise((e,n)=>{var r,i,o;function s(){nC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nC(),n(Ni(t,"network-request-failed"))},timeout:wj.get()})}if(!((i=(r=Sn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Sn().gapi)===null||o===void 0)&&o.load)s();else{let a=TC("iframefcb");return Sn()[a]=()=>{gapi.load?s():n(Ni(t,"network-request-failed"))},O2(`${F2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Dd=null,e})}var Dd=null;function bj(t){return Dd=Dd||Tj(t),Dd}var Dj=new Mi(5e3,15e3),Cj="__/auth/iframe",Sj="emulator/auth/iframe",Aj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nj(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?gy(e,Sj):`https://${t.config.authDomain}/${Cj}`,r={apiKey:e.apiKey,appName:t.name,v:Pr},i=Rj.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ha(r).slice(1)}`}function Mj(t){return v(this,null,function*(){let e=yield bj(t),n=Sn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:Nj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Aj,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ni(t,"network-request-failed"),a=Sn().setTimeout(()=>{o(s)},Dj.get());function u(){Sn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var Pj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xj=500,kj=600,Oj="_blank",Fj="http://localhost",Ld=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Lj(t,e,n,r=xj,i=kj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Pj),{width:r.toString(),height:i.toString(),top:o,left:s}),l=et().toLowerCase();n&&(a=mC(l)?Oj:n),pC(l)&&(e=e||Fj,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(N2(l)&&a!=="_self")return Vj(e||"",a),new Ld(null);let p=window.open(e||"",a,h);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new Ld(p)}function Vj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var jj="__/auth/handler",Uj="emulator/auth/handler",Bj=encodeURIComponent("fac");function rC(t,e,n,r,i,o){return v(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pr,eventId:i};if(e instanceof xd){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",v0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof oy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${Bj}=${encodeURIComponent(u)}`:"";return`${$j(t)}?${Ha(a).slice(1)}${l}`})}function $j({config:t}){return t.emulator?gy(t,Uj):`https://${t.authDomain}/${jj}`}var Zm="webStorageSupport",hy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sy,this._completeRedirectFn=pj,this._overrideRedirectResult=dj}_openPopup(e,n,r,i){return v(this,null,function*(){var o;Vr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield rC(e,n,r,Jm(),i);return Lj(e,s,SC())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield rC(e,n,r,Jm(),i);return Q2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Vr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield Mj(e),r=new dy(e);return n.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zm,{type:Zm},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Zm];s!==void 0&&n(!!s),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ij(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return EC()||gC()||Iy()}},xC=hy;var iC="@firebase/auth",oC="1.10.8";var fy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Hj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zj(t){ct(new Le("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wC(t)},l=new iy(r,i,o,u);return L2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ct(new Le("auth-internal",e=>{let n=Ey(e.getProvider("auth").getImmediate());return(r=>new fy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ie(iC,oC,Hj(t)),Ie(iC,oC,"esm2017")}var qj=5*60,Wj=Dm("authIdTokenMaxAge")||qj,sC=null,Gj=t=>e=>v(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Wj)return;let i=n?.token;sC!==i&&(sC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ay(t=bn()){let e=Kt(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Ty(t,{popupRedirectResolver:xC,persistence:[MC,CC,Sy]}),r=Dm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Gj(o.toString());Cy(n,s,()=>s(n.currentUser)),Dy(n,a=>s(a))}}let i=Tm("auth");return i&&by(n,`http://${i}`),n}function Kj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}k2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ni("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Kj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zj("Browser");var kC="auth",ec=class{constructor(e){return e}},tc=class{constructor(){return xr(kC)}};var Ry=new $("angularfire2.auth-instances");function BU(t,e){let n=Ai(kC,t,e);return n&&new ec(n)}function $U(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ec(r)}}var HU={provide:tc,deps:[[new gt,Ry]]},zU={provide:ec,useFactory:BU,deps:[[new gt,Ry],cn]};function OC(t,...e){return Ie("angularfire",Dn.full,"auth"),on([zU,HU,{provide:Ry,useFactory:$U(t),multi:!0,deps:[_e,Ye,Cn,nr,[new gt,Go],...e]}])}var FC=Pt(Ay,!0);var LC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},VC={};var or,Ny;(function(){var t;function e(T,_){function E(){}E.prototype=_.prototype,T.D=_.prototype,T.prototype=new E,T.prototype.constructor=T,T.C=function(w,b,S){for(var I=Array(arguments.length-2),Fn=2;Fn<arguments.length;Fn++)I[Fn-2]=arguments[Fn];return _.prototype[b].apply(w,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,E){E||(E=0);var w=Array(16);if(typeof _=="string")for(var b=0;16>b;++b)w[b]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(b=0;16>b;++b)w[b]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=T.g[0],E=T.g[1],b=T.g[2];var S=T.g[3],I=_+(S^E&(b^S))+w[0]+3614090360&4294967295;_=E+(I<<7&4294967295|I>>>25),I=S+(b^_&(E^b))+w[1]+3905402710&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(E^S&(_^E))+w[2]+606105819&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(_^b&(S^_))+w[3]+3250441966&4294967295,E=b+(I<<22&4294967295|I>>>10),I=_+(S^E&(b^S))+w[4]+4118548399&4294967295,_=E+(I<<7&4294967295|I>>>25),I=S+(b^_&(E^b))+w[5]+1200080426&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(E^S&(_^E))+w[6]+2821735955&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(_^b&(S^_))+w[7]+4249261313&4294967295,E=b+(I<<22&4294967295|I>>>10),I=_+(S^E&(b^S))+w[8]+1770035416&4294967295,_=E+(I<<7&4294967295|I>>>25),I=S+(b^_&(E^b))+w[9]+2336552879&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(E^S&(_^E))+w[10]+4294925233&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(_^b&(S^_))+w[11]+2304563134&4294967295,E=b+(I<<22&4294967295|I>>>10),I=_+(S^E&(b^S))+w[12]+1804603682&4294967295,_=E+(I<<7&4294967295|I>>>25),I=S+(b^_&(E^b))+w[13]+4254626195&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(E^S&(_^E))+w[14]+2792965006&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(_^b&(S^_))+w[15]+1236535329&4294967295,E=b+(I<<22&4294967295|I>>>10),I=_+(b^S&(E^b))+w[1]+4129170786&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(_^E))+w[6]+3225465664&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^E&(S^_))+w[11]+643717713&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(b^S))+w[0]+3921069994&4294967295,E=b+(I<<20&4294967295|I>>>12),I=_+(b^S&(E^b))+w[5]+3593408605&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(_^E))+w[10]+38016083&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^E&(S^_))+w[15]+3634488961&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(b^S))+w[4]+3889429448&4294967295,E=b+(I<<20&4294967295|I>>>12),I=_+(b^S&(E^b))+w[9]+568446438&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(_^E))+w[14]+3275163606&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^E&(S^_))+w[3]+4107603335&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(b^S))+w[8]+1163531501&4294967295,E=b+(I<<20&4294967295|I>>>12),I=_+(b^S&(E^b))+w[13]+2850285829&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(_^E))+w[2]+4243563512&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^E&(S^_))+w[7]+1735328473&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(b^S))+w[12]+2368359562&4294967295,E=b+(I<<20&4294967295|I>>>12),I=_+(E^b^S)+w[5]+4294588738&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^b)+w[8]+2272392833&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^E)+w[11]+1839030562&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^_)+w[14]+4259657740&4294967295,E=b+(I<<23&4294967295|I>>>9),I=_+(E^b^S)+w[1]+2763975236&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^b)+w[4]+1272893353&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^E)+w[7]+4139469664&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^_)+w[10]+3200236656&4294967295,E=b+(I<<23&4294967295|I>>>9),I=_+(E^b^S)+w[13]+681279174&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^b)+w[0]+3936430074&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^E)+w[3]+3572445317&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^_)+w[6]+76029189&4294967295,E=b+(I<<23&4294967295|I>>>9),I=_+(E^b^S)+w[9]+3654602809&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^b)+w[12]+3873151461&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^E)+w[15]+530742520&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^_)+w[2]+3299628645&4294967295,E=b+(I<<23&4294967295|I>>>9),I=_+(b^(E|~S))+w[0]+4096336452&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~b))+w[7]+1126891415&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~E))+w[14]+2878612391&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~_))+w[5]+4237533241&4294967295,E=b+(I<<21&4294967295|I>>>11),I=_+(b^(E|~S))+w[12]+1700485571&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~b))+w[3]+2399980690&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~E))+w[10]+4293915773&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~_))+w[1]+2240044497&4294967295,E=b+(I<<21&4294967295|I>>>11),I=_+(b^(E|~S))+w[8]+1873313359&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~b))+w[15]+4264355552&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~E))+w[6]+2734768916&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~_))+w[13]+1309151649&4294967295,E=b+(I<<21&4294967295|I>>>11),I=_+(b^(E|~S))+w[4]+4149444226&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~b))+w[11]+3174756917&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~E))+w[2]+718787259&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~_))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var E=_-this.blockSize,w=this.B,b=this.h,S=0;S<_;){if(b==0)for(;S<=E;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<_;)if(w[b++]=T.charCodeAt(S++),b==this.blockSize){i(this,w),b=0;break}}else for(;S<_;)if(w[b++]=T[S++],b==this.blockSize){i(this,w),b=0;break}}this.h=b,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var E=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=E&255,E/=256;for(this.u(T),T=Array(16),_=E=0;4>_;++_)for(var w=0;32>w;w+=8)T[E++]=this.g[_]>>>w&255;return T};function o(T,_){var E=a;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=_(T)}function s(T,_){this.h=_;for(var E=[],w=!0,b=T.length-1;0<=b;b--){var S=T[b]|0;w&&S==_||(E[b]=S,w=!1)}this.g=E}var a={};function u(T){return-128<=T&&128>T?o(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var _=[],E=1,w=0;T>=E;w++)_[w]=T/E|0,E*=4294967296;return new s(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return R(h(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(_,8)),w=p,b=0;b<T.length;b+=8){var S=Math.min(8,T.length-b),I=parseInt(T.substring(b,b+S),_);8>S?(S=l(Math.pow(_,S)),w=w.j(S).add(l(I))):(w=w.j(E),w=w.add(l(I)))}return w}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var T=0,_=1,E=0;E<this.g.length;E++){var w=this.i(E);T+=(0<=w?w:4294967296+w)*_,_*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(N(this))return"-"+R(this).toString(T);for(var _=l(Math.pow(T,6)),E=this,w="";;){var b=be(E,_).g;E=V(E,b.j(_));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(T);if(E=b,C(E))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function N(T){return T.h==-1}t.l=function(T){return T=V(this,T),N(T)?-1:C(T)?0:1};function R(T){for(var _=T.g.length,E=[],w=0;w<_;w++)E[w]=~T.g[w];return new s(E,~T.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],w=0,b=0;b<=_;b++){var S=w+(this.i(b)&65535)+(T.i(b)&65535),I=(S>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);w=I>>>16,S&=65535,I&=65535,E[b]=I<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function V(T,_){return T.add(R(_))}t.j=function(T){if(C(this)||C(T))return p;if(N(this))return N(T)?R(this).j(R(T)):R(R(this).j(T));if(N(T))return R(this.j(R(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var _=this.g.length+T.g.length,E=[],w=0;w<2*_;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<T.g.length;b++){var S=this.i(w)>>>16,I=this.i(w)&65535,Fn=T.i(b)>>>16,Ts=T.i(b)&65535;E[2*w+2*b]+=I*Ts,K(E,2*w+2*b),E[2*w+2*b+1]+=S*Ts,K(E,2*w+2*b+1),E[2*w+2*b+1]+=I*Fn,K(E,2*w+2*b+1),E[2*w+2*b+2]+=S*Fn,K(E,2*w+2*b+2)}for(w=0;w<_;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=_;w<2*_;w++)E[w]=0;return new s(E,0)};function K(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function Y(T,_){this.g=T,this.h=_}function be(T,_){if(C(_))throw Error("division by zero");if(C(T))return new Y(p,p);if(N(T))return _=be(R(T),_),new Y(R(_.g),R(_.h));if(N(_))return _=be(T,R(_)),new Y(R(_.g),_.h);if(30<T.g.length){if(N(T)||N(_))throw Error("slowDivide_ only works with positive integers.");for(var E=m,w=_;0>=w.l(T);)E=It(E),w=It(w);var b=we(E,1),S=we(w,1);for(w=we(w,2),E=we(E,2);!C(w);){var I=S.add(w);0>=I.l(T)&&(b=b.add(E),S=I),w=we(w,1),E=we(E,1)}return _=V(T,b.j(_)),new Y(b,_)}for(b=p;0<=T.l(_);){for(E=Math.max(1,Math.floor(T.m()/_.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(E),I=S.j(_);N(I)||0<I.l(T);)E-=w,S=l(E),I=S.j(_);C(S)&&(S=m),b=b.add(S),T=V(T,I)}return new Y(b,T)}t.A=function(T){return be(this,T).h},t.and=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],w=0;w<_;w++)E[w]=this.i(w)&T.i(w);return new s(E,this.h&T.h)},t.or=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],w=0;w<_;w++)E[w]=this.i(w)|T.i(w);return new s(E,this.h|T.h)},t.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],w=0;w<_;w++)E[w]=this.i(w)^T.i(w);return new s(E,this.h^T.h)};function It(T){for(var _=T.g.length+1,E=[],w=0;w<_;w++)E[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(E,T.h)}function we(T,_){var E=_>>5;_%=32;for(var w=T.g.length-E,b=[],S=0;S<w;S++)b[S]=0<_?T.i(S+E)>>>_|T.i(S+E+1)<<32-_:T.i(S+E);return new s(b,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ny=VC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,or=VC.Integer=s}).apply(typeof LC<"u"?LC:typeof self<"u"?self:typeof window<"u"?window:{});var jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sr={};var My,qU,Qo,Py,nc,Ud,xy,ky,Oy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jd=="object"&&jd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,A){for(var k=Array(arguments.length-2),De=2;De<arguments.length;De++)k[De-2]=arguments[De];return d.prototype[D].apply(g,k)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,A=g.length||0;c.length=D+A;for(let k=0;k<A;k++)c[D+k]=g[k]}else c.push(g)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function be(c){return be[" "](c),c}be[" "]=function(){};var It=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function we(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Xh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Fn{constructor(){this.h=this.g=null}add(d,f){let g=Ts.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ts=new V(()=>new XR,c=>c.reset());class XR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let bs,Ds=!1,Xh=new Fn,dI=()=>{let c=a.Promise.resolve(void 0);bs=()=>{c.then(eN)}};var eN=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=Ts;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ds=!1};function hr(){this.s=this.s,this.C=this.C}hr.prototype.s=!1,hr.prototype.ma=function(){this.s||(this.s=!0,this.N())},hr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var tN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Cs(c,d){if(lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(It){e:{try{be(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:nN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Cs.aa.h.call(this)}}C(Cs,lt);var nN={2:"touch",3:"pen",4:"mouse"};Cs.prototype.h=function(){Cs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ss="closure_listenable_"+(1e6*Math.random()|0),rN=0;function iN(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++rN,this.da=this.fa=!1}function Dc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Cc(c){this.src=c,this.g={},this.h=0}Cc.prototype.add=function(c,d,f,g,D){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var k=tf(c,d,g,D);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new iN(d,this.src,A,!!g,D),d.fa=f,c.push(d)),d};function ef(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=D)&&Array.prototype.splice.call(g,D,1),A&&(Dc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function tf(c,d,f,g){for(var D=0;D<c.length;++D){var A=c[D];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return D}return-1}var nf="closure_lm_"+(1e6*Math.random()|0),rf={};function hI(c,d,f,g,D){if(g&&g.once)return pI(c,d,f,g,D);if(Array.isArray(d)){for(var A=0;A<d.length;A++)hI(c,d[A],f,g,D);return null}return f=cf(f),c&&c[Ss]?c.K(d,f,l(g)?!!g.capture:!!g,D):fI(c,d,f,!1,g,D)}function fI(c,d,f,g,D,A){if(!d)throw Error("Invalid event type");var k=l(D)?!!D.capture:!!D,De=sf(c);if(De||(c[nf]=De=new Cc(c)),f=De.add(d,f,g,k,A),f.proxy)return f;if(g=oN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)tN||(D=k),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(mI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function oN(){function c(f){return d.call(c.src,c.listener,f)}let d=sN;return c}function pI(c,d,f,g,D){if(Array.isArray(d)){for(var A=0;A<d.length;A++)pI(c,d[A],f,g,D);return null}return f=cf(f),c&&c[Ss]?c.L(d,f,l(g)?!!g.capture:!!g,D):fI(c,d,f,!0,g,D)}function gI(c,d,f,g,D){if(Array.isArray(d))for(var A=0;A<d.length;A++)gI(c,d[A],f,g,D);else g=l(g)?!!g.capture:!!g,f=cf(f),c&&c[Ss]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=tf(A,f,g,D),-1<f&&(Dc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=sf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=tf(d,f,g,D)),(f=-1<c?d[c]:null)&&of(f))}function of(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ss])ef(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(mI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=sf(d))?(ef(f,c),f.h==0&&(f.src=null,d[nf]=null)):Dc(c)}}}function mI(c){return c in rf?rf[c]:rf[c]="on"+c}function sN(c,d){if(c.da)c=!0;else{d=new Cs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&of(c),c=f.call(g,d)}return c}function sf(c){return c=c[nf],c instanceof Cc?c:null}var af="__closure_events_fn_"+(1e9*Math.random()>>>0);function cf(c){return typeof c=="function"?c:(c[af]||(c[af]=function(d){return c.handleEvent(d)}),c[af])}function dt(){hr.call(this),this.i=new Cc(this),this.M=this,this.F=null}C(dt,hr),dt.prototype[Ss]=!0,dt.prototype.removeEventListener=function(c,d,f,g){gI(this,c,d,f,g)};function Et(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new lt(d,c);else if(d instanceof lt)d.target=d.target||c;else{var D=d;d=new lt(g,c),w(d,D)}if(D=!0,f)for(var A=f.length-1;0<=A;A--){var k=d.g=f[A];D=Sc(k,g,!0,d)&&D}if(k=d.g=c,D=Sc(k,g,!0,d)&&D,D=Sc(k,g,!1,d)&&D,f)for(A=0;A<f.length;A++)k=d.g=f[A],D=Sc(k,g,!1,d)&&D}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Dc(f[g]);delete c.g[d],c.h--}}this.F=null},dt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},dt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Sc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==f){var De=k.listener,rt=k.ha||k.src;k.fa&&ef(c.i,k),D=De.call(rt,g)!==!1&&D}}return D&&!g.defaultPrevented}function yI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function vI(c){c.g=yI(()=>{c.g=null,c.i&&(c.i=!1,vI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class aN extends hr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:vI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(c){hr.call(this),this.h=c,this.g={}}C(As,hr);var _I=[];function II(c){we(c.g,function(d,f){this.g.hasOwnProperty(f)&&of(d)},c),c.g={}}As.prototype.N=function(){As.aa.N.call(this),II(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uf=a.JSON.stringify,cN=a.JSON.parse,uN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function lf(){}lf.prototype.h=null;function EI(c){return c.h||(c.h=c.i())}function wI(){}var Rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function df(){lt.call(this,"d")}C(df,lt);function hf(){lt.call(this,"c")}C(hf,lt);var Qr={},TI=null;function Ac(){return TI=TI||new dt}Qr.La="serverreachability";function bI(c){lt.call(this,Qr.La,c)}C(bI,lt);function Ns(c){let d=Ac();Et(d,new bI(d))}Qr.STAT_EVENT="statevent";function DI(c,d){lt.call(this,Qr.STAT_EVENT,c),this.stat=d}C(DI,lt);function wt(c){let d=Ac();Et(d,new DI(d,c))}Qr.Ma="timingevent";function CI(c,d){lt.call(this,Qr.Ma,c),this.size=d}C(CI,lt);function Ms(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ps(){this.g=!0}Ps.prototype.xa=function(){this.g=!1};function lN(c,d,f,g,D,A){c.info(function(){if(c.g)if(A)for(var k="",De=A.split("&"),rt=0;rt<De.length;rt++){var ye=De[rt].split("=");if(1<ye.length){var ht=ye[0];ye=ye[1];var ft=ht.split("_");k=2<=ft.length&&ft[1]=="type"?k+(ht+"="+ye+"&"):k+(ht+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+k})}function dN(c,d,f,g,D,A,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+A+" "+k})}function Ki(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+fN(c,f)+(g?" "+g:"")})}function hN(c,d){c.info(function(){return"TIMEOUT: "+d})}Ps.prototype.info=function(){};function fN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<D.length;k++)D[k]=""}}}}return uf(f)}catch{return d}}var Rc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},SI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ff;function Nc(){}C(Nc,lf),Nc.prototype.g=function(){return new XMLHttpRequest},Nc.prototype.i=function(){return{}},ff=new Nc;function fr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new As(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new AI}function AI(){this.i=null,this.g="",this.h=!1}var RI={},pf={};function gf(c,d,f){c.L=1,c.v=kc(Ln(d)),c.m=f,c.P=!0,NI(c,null)}function NI(c,d){c.F=Date.now(),Mc(c),c.A=Ln(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),zI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new AI,c.g=cE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new aN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(_I[0]=D.toString()),D=_I);for(var A=0;A<D.length;A++){var k=hI(f,D[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ns(),lN(c.i,c.u,c.A,c.l,c.R,c.m)}fr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Vn(c)==3?d.j():this.Y(c)},fr.prototype.Y=function(c){try{if(c==this.g)e:{let ft=Vn(this.g);var d=this.g.Ba();let Zi=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||ZI(this.g)))){this.J||ft!=4||d==7||(d==8||0>=Zi?Ns(3):Ns(2)),mf(this);var f=this.g.Z();this.X=f;t:if(MI(this)){var g=ZI(this.g);c="";var D=g.length,A=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),xs(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,dN(this.i,this.u,this.A,this.l,this.R,ft,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,rt=this.g;if((De=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(De)){var ye=De;break t}}ye=null}if(f=ye)Ki(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yf(this,f);else{this.o=!1,this.s=3,wt(12),Yr(this),xs(this);break e}}if(this.P){f=!0;let Jt;for(;!this.J&&this.C<k.length;)if(Jt=pN(this,k),Jt==pf){ft==4&&(this.s=4,wt(14),f=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==RI){this.s=4,wt(15),Ki(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else Ki(this.i,this.l,Jt,null),yf(this,Jt);if(MI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||k.length!=0||this.h.h||(this.s=1,wt(16),f=!1),this.o=this.o&&f,!f)Ki(this.i,this.l,k,"[Invalid Chunked Response]"),Yr(this),xs(this);else if(0<k.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Tf(ht),ht.M=!0,wt(11))}}else Ki(this.i,this.l,k,null),yf(this,k);ft==4&&Yr(this),this.o&&!this.J&&(ft==4?iE(this.j,this):(this.o=!1,Mc(this)))}else MN(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Yr(this),xs(this)}}}catch{}finally{}};function MI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function pN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?pf:(f=Number(d.substring(f,g)),isNaN(f)?RI:(g+=1,g+f>d.length?pf:(d=d.slice(g,g+f),c.C=g+f,d)))}fr.prototype.cancel=function(){this.J=!0,Yr(this)};function Mc(c){c.S=Date.now()+c.I,PI(c,c.I)}function PI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ms(m(c.ba,c),d)}function mf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}fr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(hN(this.i,this.A),this.L!=2&&(Ns(),wt(17)),Yr(this),this.s=2,xs(this)):PI(this,this.S-c)};function xs(c){c.j.G==0||c.J||iE(c.j,c)}function Yr(c){mf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,II(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function yf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||vf(f.h,c))){if(!c.K&&vf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)jc(f),Lc(f);else break e;wf(f),wt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ms(m(f.Za,f),6e3));if(1>=OI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Jr(f,11)}else if((c.K||f.g==c)&&jc(f),!K(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let ye=D[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let ht=ye[3];ht!=null&&(f.la=ht,f.j.info("VER="+f.la));let ft=ye[4];ft!=null&&(f.Aa=ft,f.j.info("SVER="+f.Aa));let Zi=ye[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(g=1.5*Zi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Jt=c.g;if(Jt){let Bc=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var A=g.h;A.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(_f(A,A.h),A.h=null))}if(g.D){let bf=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;bf&&(g.ya=bf,Re(g.I,g.D,bf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=aE(g,g.J?g.ia:null,g.W),k.K){FI(g.h,k);var De=k,rt=g.L;rt&&(De.I=rt),De.B&&(mf(De),Mc(De)),g.g=k}else nE(g);0<f.i.length&&Vc(f)}else ye[0]!="stop"&&ye[0]!="close"||Jr(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Jr(f,7):Ef(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}Ns(4)}catch{}}var gN=class{constructor(c,d){this.g=c,this.map=d}};function xI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function OI(c){return c.h?1:c.g?c.g.size:0}function vf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function _f(c,d){c.g?c.g.add(d):c.h=d}function FI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}xI.prototype.cancel=function(){if(this.i=LI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function LI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function mN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function yN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function VI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=yN(c),g=mN(c),D=g.length,A=0;A<D;A++)d.call(void 0,g[A],f&&f[A],c)}var jI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var A=c[f].substring(0,g);D=c[f].substring(g+1)}else A=c[f];d(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Zr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Zr){this.h=c.h,Pc(this,c.j),this.o=c.o,this.g=c.g,xc(this,c.s),this.l=c.l;var d=c.i,f=new Fs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),UI(this,f),this.m=c.m}else c&&(d=String(c).match(jI))?(this.h=!1,Pc(this,d[1]||"",!0),this.o=ks(d[2]||""),this.g=ks(d[3]||"",!0),xc(this,d[4]),this.l=ks(d[5]||"",!0),UI(this,d[6]||"",!0),this.m=ks(d[7]||"")):(this.h=!1,this.i=new Fs(null,this.h))}Zr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Os(d,BI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Os(d,BI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Os(f,f.charAt(0)=="/"?EN:IN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Os(f,TN)),c.join("")};function Ln(c){return new Zr(c)}function Pc(c,d,f){c.j=f?ks(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function xc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function UI(c,d,f){d instanceof Fs?(c.i=d,bN(c.i,c.h)):(f||(d=Os(d,wN)),c.i=new Fs(d,c.h))}function Re(c,d,f){c.i.set(d,f)}function kc(c){return Re(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ks(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,_N),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _N(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var BI=/[#\/\?@]/g,IN=/[#\?:]/g,EN=/[#\?]/g,wN=/[#\?@]/g,TN=/#/g;function Fs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function pr(c){c.g||(c.g=new Map,c.h=0,c.i&&vN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Fs.prototype,t.add=function(c,d){pr(this),this.i=null,c=Qi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function $I(c,d){pr(c),d=Qi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function HI(c,d){return pr(c),d=Qi(c,d),c.g.has(d)}t.forEach=function(c,d){pr(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},t.na=function(){pr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let A=0;A<D.length;A++)f.push(d[g])}return f},t.V=function(c){pr(this);let d=[];if(typeof c=="string")HI(this,c)&&(d=d.concat(this.g.get(Qi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return pr(this),this.i=null,c=Qi(this,c),HI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function zI(c,d,f){$I(c,d),0<f.length&&(c.i=null,c.g.set(Qi(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var D=A;k[g]!==""&&(D+="="+encodeURIComponent(String(k[g]))),c.push(D)}}return this.i=c.join("&")};function Qi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function bN(c,d){d&&!c.j&&(pr(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&($I(this,g),zI(this,D,f))},c)),c.j=d}function DN(c,d){let f=new Ps;if(a.Image){let g=new Image;g.onload=y(gr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(gr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(gr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(gr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function CN(c,d){let f=new Ps,g=new AbortController,D=setTimeout(()=>{g.abort(),gr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(D),A.ok?gr(f,"TestPingServer: ok",!0,d):gr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),gr(f,"TestPingServer: error",!1,d)})}function gr(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function SN(){this.g=new uN}function AN(c,d,f){let g=f||"";try{VI(c,function(D,A){let k=D;l(D)&&(k=uf(D)),d.push(g+A+"="+encodeURIComponent(k))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Ls(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Ls,lf),Ls.prototype.g=function(){return new Oc(this.l,this.j)},Ls.prototype.i=function(c){return function(){return c}}({});function Oc(c,d){dt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Oc,dt),t=Oc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,js(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function qI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Vs(this):js(this),this.readyState==3&&qI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Vs(this))},t.Qa=function(c){this.g&&(this.response=c,Vs(this))},t.ga=function(){this.g&&Vs(this)};function Vs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,js(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function js(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function WI(c){let d="";return we(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function If(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=WI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Re(c,d,f))}function Pe(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Pe,dt);var RN=/^https?$/i,NN=["POST","PUT"];t=Pe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ff.g(),this.v=this.o?EI(this.o):EI(ff),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){GI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(NN,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of f)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{YI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){GI(this,A)}};function GI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,KI(c),Fc(c)}function KI(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Et(this,"complete"),Et(this,"abort"),Fc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fc(this,!0)),Pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?QI(this):this.bb())},t.bb=function(){QI(this)};function QI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)yI(c.Ea,0,c);else if(Et(c,"readystatechange"),Vn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var D=String(c.D).match(jI)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!RN.test(D?D.toLowerCase():"")}f=g}if(f)Et(c,"complete"),Et(c,"success");else{c.m=6;try{var A=2<Vn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",KI(c)}}finally{Fc(c)}}}}function Fc(c,d){if(c.g){YI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Et(c,"ready");try{f.onreadystatechange=g}catch{}}}function YI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),cN(d)}};function ZI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function MN(c){let d={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(K(c[g]))continue;var f=b(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[D]||[];d[D]=A,A.push(f)}T(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function JI(c){this.Aa=0,this.i=[],this.j=new Ps,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,c),this.cb=Us("retryDelaySeedMs",1e4,c),this.Wa=Us("forwardChannelMaxRetries",2,c),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xI(c&&c.concurrentRequestLimit),this.Da=new SN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=JI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){wt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=aE(this,null,this.W),Vc(this)};function Ef(c){if(XI(c),c.G==3){var d=c.U++,f=Ln(c.I);if(Re(f,"SID",c.K),Re(f,"RID",d),Re(f,"TYPE","terminate"),Bs(c,f),d=new fr(c,c.j,d),d.L=2,d.v=kc(Ln(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=cE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Mc(d)}sE(c)}function Lc(c){c.g&&(Tf(c),c.g.cancel(),c.g=null)}function XI(c){Lc(c),c.u&&(a.clearTimeout(c.u),c.u=null),jc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Vc(c){if(!kI(c.h)&&!c.s){c.s=!0;var d=c.Ga;bs||dI(),Ds||(bs(),Ds=!0),Xh.add(d,c),c.B=0}}function PN(c,d){return OI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ms(m(c.Ga,c,d),oE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new fr(this,this.j,c),A=this.o;if(this.S&&(A?(A=_(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=tE(this,D,d),f=Ln(this.I),Re(f,"RID",c),Re(f,"CVER",22),this.D&&Re(f,"X-HTTP-Session-Id",this.D),Bs(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(WI(A)))+"&"+d:this.m&&If(f,this.m,A)),_f(this.h,D),this.Ua&&Re(f,"TYPE","init"),this.P?(Re(f,"$req",d),Re(f,"SID","null"),D.T=!0,gf(D,f,null)):gf(D,f,d),this.G=2}}else this.G==3&&(c?eE(this,c):this.i.length==0||kI(this.h)||eE(this))};function eE(c,d){var f;d?f=d.l:f=c.U++;let g=Ln(c.I);Re(g,"SID",c.K),Re(g,"RID",f),Re(g,"AID",c.T),Bs(c,g),c.m&&c.o&&If(g,c.m,c.o),f=new fr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=tE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_f(c.h,f),gf(f,g,d)}function Bs(c,d){c.H&&we(c.H,function(f,g){Re(d,g,f)}),c.l&&VI({},function(f,g){Re(d,g,f)})}function tE(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let A=-1;for(;;){let k=["count="+f];A==-1?0<f?(A=D[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let De=!0;for(let rt=0;rt<f;rt++){let ye=D[rt].g,ht=D[rt].map;if(ye-=A,0>ye)A=Math.max(0,D[rt].g-100),De=!1;else try{AN(ht,k,"req"+ye+"_")}catch{g&&g(ht)}}if(De){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function nE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;bs||dI(),Ds||(bs(),Ds=!0),Xh.add(d,c),c.v=0}}function wf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ms(m(c.Fa,c),oE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,rE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ms(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Lc(this),rE(this))};function Tf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function rE(c){c.g=new fr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Ln(c.qa);Re(d,"RID","rpc"),Re(d,"SID",c.K),Re(d,"AID",c.T),Re(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Re(d,"TO",c.ja),Re(d,"TYPE","xmlhttp"),Bs(c,d),c.m&&c.o&&If(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=kc(Ln(d)),f.m=null,f.P=!0,NI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Lc(this),wf(this),wt(19))};function jc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function iE(c,d){var f=null;if(c.g==d){jc(c),Tf(c),c.g=null;var g=2}else if(vf(c.h,d))f=d.D,FI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=Ac(),Et(g,new CI(g,f)),Vc(c)}else nE(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&PN(c,d)||g==2&&wf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:Jr(c,5);break;case 4:Jr(c,10);break;case 3:Jr(c,6);break;default:Jr(c,2)}}}function oE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Jr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new Zr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Pc(g,"https"),kc(g),D?DN(g.toString(),f):CN(g.toString(),f)}else wt(2);c.G=0,c.l&&c.l.sa(d),sE(c),XI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function sE(c){if(c.G=0,c.ka=[],c.l){let d=LI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function aE(c,d,f){var g=f instanceof Zr?Ln(f):new Zr(f);if(g.g!="")d&&(g.g=d+"."+g.g),xc(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var A=new Zr(null);g&&Pc(A,g),d&&(A.g=d),D&&xc(A,D),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Re(g,f,d),Re(g,"VER",c.la),Bs(c,g),g}function cE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Pe(new Ls({eb:f})):new Pe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uE(){}t=uE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Uc(){}Uc.prototype.g=function(c,d){return new kt(c,d)};function kt(c,d){dt.call(this),this.g=new JI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Yi(this)}C(kt,dt),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Ef(this.g)},kt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=uf(c),c=f);d.i.push(new gN(d.Ya++,c)),d.G==3&&Vc(d)},kt.prototype.N=function(){this.g.l=null,delete this.j,Ef(this.g),delete this.g,kt.aa.N.call(this)};function lE(c){df.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(lE,df);function dE(){hf.call(this),this.status=1}C(dE,hf);function Yi(c){this.g=c}C(Yi,uE),Yi.prototype.ua=function(){Et(this.g,"a")},Yi.prototype.ta=function(c){Et(this.g,new lE(c))},Yi.prototype.sa=function(c){Et(this.g,new dE)},Yi.prototype.ra=function(){Et(this.g,"b")},Uc.prototype.createWebChannel=Uc.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,Oy=sr.createWebChannelTransport=function(){return new Uc},ky=sr.getStatEventTarget=function(){return Ac()},xy=sr.Event=Qr,Ud=sr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rc.NO_ERROR=0,Rc.TIMEOUT=8,Rc.HTTP_ERROR=6,nc=sr.ErrorCode=Rc,SI.COMPLETE="complete",Py=sr.EventType=SI,wI.EventType=Rs,Rs.OPEN="a",Rs.CLOSE="b",Rs.ERROR="c",Rs.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Qo=sr.WebChannel=wI,qU=sr.FetchXmlHttpFactory=Ls,Pe.prototype.listenOnce=Pe.prototype.L,Pe.prototype.getLastError=Pe.prototype.Ka,Pe.prototype.getLastErrorCode=Pe.prototype.Ba,Pe.prototype.getStatus=Pe.prototype.Z,Pe.prototype.getResponseJson=Pe.prototype.Oa,Pe.prototype.getResponseText=Pe.prototype.oa,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Ha,My=sr.XhrIo=Pe}).apply(typeof jd<"u"?jd:typeof self<"u"?self:typeof window<"u"?window:{});var jC="@firebase/firestore",UC="4.8.0";var tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tt.UNAUTHENTICATED=new tt(null),tt.GOOGLE_CREDENTIALS=new tt("google-credentials-uid"),tt.FIRST_PARTY=new tt("first-party-uid"),tt.MOCK_USER=new tt("mock-user");var ys="11.10.0";var Li=new Gt("@firebase/firestore");function Yo(){return Li.logLevel}function O(t,...e){if(Li.logLevel<=ce.DEBUG){let n=e.map(E_);Li.debug(`Firestore (${ys}): ${t}`,...n)}}function ar(t,...e){if(Li.logLevel<=ce.ERROR){let n=e.map(E_);Li.error(`Firestore (${ys}): ${t}`,...n)}}function Hr(t,...e){if(Li.logLevel<=ce.WARN){let n=e.map(E_);Li.warn(`Firestore (${ys}): ${t}`,...n)}}function E_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function W(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,AS(t,r,n)}function AS(t,e,n){let r=`FIRESTORE (${ys}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ar(r),new Error(r)}function Ee(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||AS(e,i,r)}function J(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends at{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var An=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Gd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Uy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tt.UNAUTHENTICATED))}shutdown(){}},By=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},$y=class{constructor(e){this.t=e,this.currentUser=tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new An;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new An,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new An)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new Gd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new tt(e)}},Hy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},zy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Hy(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Kd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},qy=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);let r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function WU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function RS(){return new TextEncoder}var cc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=WU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function se(t,e){return t<e?-1:t>e?1:0}function Wy(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return se(r,i);{let o=RS(),s=GU(o.encode(BC(t,n)),o.encode(BC(e,n)));return s!==0?s:se(r,i)}}n+=r>65535?2:1}return se(t.length,e.length)}function BC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function GU(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return se(t[n],e[n]);return se(t.length,e.length)}function is(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var $C="__name__",Qd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&W(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return se(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Wy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}},Ve=class t extends Qd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},KU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jt=class t extends Qd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return KU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$C}static keyField(){return new t([$C])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new j(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new j(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ve.fromString(e))}static fromName(e){return new t(Ve.fromString(e).popFirst(5))}static empty(){return new t(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ve(e.slice()))}};function QU(t,e,n){if(!n)throw new j(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YU(t,e,n,r){if(e===!0&&r===!0)throw new j(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HC(t){if(!G.isDocumentKey(t))throw new j(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function w_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W(12329,{type:typeof t})}function Rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=w_(t);throw new j(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function He(t,e){let n={typeString:t};return e&&(n.value=e),n}function Ic(t,e){if(!NS(t))throw new j(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new j(M.INVALID_ARGUMENT,n);return!0}var zC=-62135596800,qC=1e6,ze=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qC);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zC)throw new j(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qC}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ic(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-zC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:He("string",ze._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};var te=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new ze(0,0))}static max(){return new t(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var uc=-1,Gy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Gy.UNKNOWN_ID=-1;function ZU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new Vi(i,G.empty(),e)}function JU(t){return new Vi(t.readTime,t.key,uc)}var Vi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),G.empty(),uc)}static max(){return new t(te.max(),G.empty(),uc)}};function XU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}var eB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ky=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function vs(t){return v(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==eB)throw t;O("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function tB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _s(t){return t.name==="IndexedDbTransactionError"}var T_=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),b_=-1;function Rh(t){return t==null}function lc(t){return t===0&&1/t==-1/0}function nB(t){return typeof t=="number"&&Number.isInteger(t)&&!lc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var MS="";function rB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=WC(e)),e=iB(t.get(n),e);return WC(e)}function iB(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case MS:n+="";break;default:n+=o}}return n}function WC(t){return t+MS+""}var oB="remoteDocuments",PS="owner";var xS="mutationQueues";var kS="mutations";var OS="documentMutations",sB="remoteDocumentsV14";var FS="remoteDocumentGlobal";var LS="targets";var VS="targetDocuments";var jS="targetGlobal",US="collectionParents";var BS="clientMetadata";var $S="bundles";var HS="namedQueries";var aB="indexConfiguration";var cB="indexState";var uB="indexEntries";var zS="documentOverlays";var lB="globals";var dB=[xS,kS,OS,oB,LS,PS,jS,VS,BS,FS,US,$S,HS],hY=[...dB,zS],hB=[xS,kS,OS,sB,LS,PS,jS,VS,BS,FS,US,$S,HS,zS],fB=hB,pB=[...fB,aB,cB,uB];var fY=[...pB,lB];function GC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||Nn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new es(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new es(this.root,e,this.comparator,!1)}getReverseIterator(){return new es(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new es(this.root,e,this.comparator,!0)}},es=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Nn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw W(43730,{key:this.key,value:this.value});if(this.right.isRed())throw W(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw W(27949);return e+(this.isRed()?0:1)}};Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw W(57766)}get value(){throw W(16141)}get color(){throw W(16727)}get left(){throw W(29726)}get right(){throw W(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var nt=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yd(this.data.getIterator())}getIteratorFrom(e){return new Yd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Yd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Zt=class t{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new t([])}unionWith(e){let n=new nt(jt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return is(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Zd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var _t=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Zd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};_t.EMPTY_BYTE_STRING=new _t("");var gB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(t){if(Ee(!!t,39018),typeof t=="string"){let e=0,n=gB.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ur(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}var WS="server_timestamp",GS="__type__",KS="__previous_value__",QS="__local_write_time__";function D_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[GS])===null||n===void 0?void 0:n.stringValue)===WS}function Nh(t){let e=t.mapValue.fields[KS];return D_(e)?Nh(e):e}function dc(t){let e=cr(t.mapValue.fields[QS].timestampValue);return new ze(e.seconds,e.nanos)}var Qy=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Jd="(default)",Xd=class t{constructor(e,n){this.projectId=e,this.database=n||Jd}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Jd}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var C_="__type__",YS="__max__",Bd={mapValue:{fields:{__type__:{stringValue:YS}}}},S_="__vector__",os="value";function zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?D_(t)?4:JS(t)?9007199254740991:ZS(t)?10:11:W(28295,{value:t})}function xn(t,e){if(t===e)return!0;let n=zr(t);if(n!==zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=cr(i.timestampValue),a=cr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ur(i.bytesValue).isEqual(ur(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ne(i.doubleValue),a=Ne(o.doubleValue);return s===a?lc(s)===lc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return is(t.arrayValue.values||[],e.arrayValue.values||[],xn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(GC(s)!==GC(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!xn(s[u],a[u])))return!1;return!0}(t,e);default:return W(52216,{left:t})}}function hc(t,e){return(t.values||[]).find(n=>xn(n,e))!==void 0}function ss(t,e){if(t===e)return 0;let n=zr(t),r=zr(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ne(o.integerValue||o.doubleValue),u=Ne(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return KC(t.timestampValue,e.timestampValue);case 4:return KC(dc(t),dc(e));case 5:return Wy(t.stringValue,e.stringValue);case 6:return function(o,s){let a=ur(o),u=ur(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=se(a[l],u[l]);if(h!==0)return h}return se(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=se(Ne(o.latitude),Ne(s.latitude));return a!==0?a:se(Ne(o.longitude),Ne(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return QC(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[os])===null||a===void 0?void 0:a.arrayValue,C=(u=m[os])===null||u===void 0?void 0:u.arrayValue,N=se(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:QC(y,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Bd.mapValue&&s===Bd.mapValue)return 0;if(o===Bd.mapValue)return 1;if(s===Bd.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Wy(u[p],h[p]);if(m!==0)return m;let y=ss(a[u[p]],l[h[p]]);if(y!==0)return y}return se(u.length,h.length)}(t.mapValue,e.mapValue);default:throw W(23264,{le:n})}}function KC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);let n=cr(t),r=cr(e),i=se(n.seconds,r.seconds);return i!==0?i:se(n.nanos,r.nanos)}function QC(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ss(n[i],r[i]);if(o)return o}return se(n.length,r.length)}function as(t){return Yy(t)}function Yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=cr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ur(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Yy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Yy(n.fields[s])}`;return i+"}"}(t.mapValue):W(61005,{value:t})}function zd(t){switch(zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Nh(t);return e?16+zd(e):16;case 5:return 2*t.stringValue.length;case 6:return ur(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+zd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Kr(r.fields,(o,s)=>{i+=o.length+zd(s)}),i}(t.mapValue);default:throw W(13486,{value:t})}}function Zy(t){return!!t&&"integerValue"in t}function A_(t){return!!t&&"arrayValue"in t}function YC(t){return!!t&&"nullValue"in t}function ZC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qd(t){return!!t&&"mapValue"in t}function ZS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[C_])===null||n===void 0?void 0:n.stringValue)===S_}function ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Kr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ic(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function JS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YS}var gY={mapValue:{fields:{[C_]:{stringValue:S_},[os]:{arrayValue:{}}}}};var Vt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ic(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Kr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ic(this.value))}};function XS(t){let e=[];return Kr(t.fields,(n,r)=>{let i=new jt([n]);if(qd(r)){let o=XS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Zt(e)}var ln=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),Vt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var cs=class{constructor(e,n){this.position=e,this.inclusive=n}};function JC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),n.key):r=ss(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function XC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xn(t.position[n],e.position[n]))return!1;return!0}var us=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function mB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var eh=class{},Ge=class t extends eh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Xy(e,n,r):n==="array-contains"?new nv(e,r):n==="in"?new rv(e,r):n==="not-in"?new iv(e,r):n==="array-contains-any"?new ov(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ev(e,r):new tv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ss(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(ss(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},kn=class t extends eh{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return eA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function eA(t){return t.op==="and"}function tA(t){return yB(t)&&eA(t)}function yB(t){for(let e of t.filters)if(e instanceof kn)return!1;return!0}function Jy(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+as(t.value);if(tA(t))return t.filters.map(e=>Jy(e)).join(",");{let e=t.filters.map(n=>Jy(n)).join(",");return`${t.op}(${e})`}}function nA(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&xn(r.value,i.value)}(t,e):t instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&nA(s,i.filters[a]),!0):!1}(t,e):void W(19439)}function rA(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${as(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(rA).join(" ,")+"}"}(t):"Filter"}var Xy=class extends Ge{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){let n=G.comparator(e.key,this.key);return this.matchesComparison(n)}},ev=class extends Ge{constructor(e,n){super(e,"in",n),this.keys=iA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},tv=class extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=iA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function iA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}var nv=class extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return A_(n)&&hc(n.arrayValue,this.value)}},rv=class extends Ge{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&hc(this.value.arrayValue,n)}},iv=class extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hc(this.value.arrayValue,n)}},ov=class extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!A_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hc(this.value.arrayValue,r))}};var sv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function eS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new sv(t,e,n,r,i,o,s)}function R_(t){let e=J(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>as(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>as(r)).join(",")),e.Pe=n}return e.Pe}function N_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XC(t.startAt,e.startAt)&&XC(t.endAt,e.endAt)}function av(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ls=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function vB(t,e,n,r,i,o,s,a){return new ls(t,e,n,r,i,o,s,a)}function Mh(t){return new ls(t)}function tS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _B(t){return t.collectionGroup!==null}function oc(t){let e=J(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new nt(jt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new us(o,r))}),n.has(jt.keyField().canonicalString())||e.Te.push(new us(jt.keyField(),r))}return e.Te}function Mn(t){let e=J(t);return e.Ie||(e.Ie=IB(e,oc(t))),e.Ie}function IB(t,e){if(t.limitType==="F")return eS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new us(i.field,o)});let n=t.endAt?new cs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cs(t.startAt.position,t.startAt.inclusive):null;return eS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cv(t,e,n){return new ls(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ph(t,e){return N_(Mn(t),Mn(e))&&t.limitType===e.limitType}function oA(t){return`${R_(Mn(t))}|lt:${t.limitType}`}function Zo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>rA(i)).join(", ")}]`),Rh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>as(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>as(i)).join(",")),`Target(${r})`}(Mn(t))}; limitType=${t.limitType})`}function xh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of oc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=JC(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,oc(r),i)||r.endAt&&!function(s,a,u){let l=JC(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,oc(r),i))}(t,e)}function EB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sA(t){return(e,n)=>{let r=!1;for(let i of oc(t)){let o=wB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function wB(t,e,n){let r=t.field.isKeyField()?G.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ss(u,l):W(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W(19790,{direction:t.dir})}}var lr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Kr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return qS(this.inner)}size(){return this.innerSize}};var TB=new Oe(G.comparator);function dr(){return TB}var aA=new Oe(G.comparator);function rc(...t){let e=aA;for(let n of t)e=e.insert(n.key,n);return e}function cA(t){let e=aA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xi(){return sc()}function uA(){return sc()}function sc(){return new lr(t=>t.toString(),(t,e)=>t.isEqual(e))}var bB=new Oe(G.comparator),DB=new nt(G.comparator);function le(...t){let e=DB;for(let n of t)e=e.add(n);return e}var CB=new nt(se);function SB(){return CB}function M_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function lA(t){return{integerValue:""+t}}function AB(t,e){return nB(e)?lA(e):M_(t,e)}var ds=class{constructor(){this._=void 0}};function RB(t,e,n){return t instanceof hs?function(i,o){let s={fields:{[GS]:{stringValue:WS},[QS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&D_(o)&&(o=Nh(o)),o&&(s.fields[KS]=o),{mapValue:s}}(n,e):t instanceof ji?hA(t,e):t instanceof Ui?fA(t,e):function(i,o){let s=dA(i,o),a=nS(s)+nS(i.Ee);return Zy(s)&&Zy(i.Ee)?lA(a):M_(i.serializer,a)}(t,e)}function NB(t,e,n){return t instanceof ji?hA(t,e):t instanceof Ui?fA(t,e):n}function dA(t,e){return t instanceof fs?function(r){return Zy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var hs=class extends ds{},ji=class extends ds{constructor(e){super(),this.elements=e}};function hA(t,e){let n=pA(e);for(let r of t.elements)n.some(i=>xn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ui=class extends ds{constructor(e){super(),this.elements=e}};function fA(t,e){let n=pA(e);for(let r of t.elements)n=n.filter(i=>!xn(i,r));return{arrayValue:{values:n}}}var fs=class extends ds{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function nS(t){return Ne(t.integerValue||t.doubleValue)}function pA(t){return A_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ji&&i instanceof ji||r instanceof Ui&&i instanceof Ui?is(r.elements,i.elements,xn):r instanceof fs&&i instanceof fs?xn(r.Ee,i.Ee):r instanceof hs&&i instanceof hs}(t.transform,e.transform)}var uv=class{constructor(e,n){this.version=e,this.transformResults=n}},jr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ps=class{};function gA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new th(t.key,jr.none()):new Bi(t.key,t.data,jr.none());{let n=t.data,r=Vt.empty(),i=new nt(jt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new On(t.key,r,new Zt(i.toArray()),jr.none())}}function PB(t,e,n){t instanceof Bi?function(i,o,s){let a=i.value.clone(),u=iS(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof On?function(i,o,s){if(!Wd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=iS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(mA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ac(t,e,n,r){return t instanceof Bi?function(o,s,a,u){if(!Wd(o.precondition,s))return a;let l=o.value.clone(),h=oS(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof On?function(o,s,a,u){if(!Wd(o.precondition,s))return a;let l=oS(o.fieldTransforms,u,s),h=s.data;return h.setAll(mA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Wd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function xB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=dA(r.transform,i||null);o!=null&&(n===null&&(n=Vt.empty()),n.set(r.field,o))}return n||null}function rS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&is(r,i,(o,s)=>MB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Bi=class extends ps{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},On=class extends ps{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function mA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function iS(t,e,n){let r=new Map;Ee(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,NB(s,a,n[i]))}return r}function oS(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,RB(o,s,e))}return r}var th=class extends ps{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},lv=class extends ps{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var dv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&PB(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=uA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=gA(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&is(this.mutations,e.mutations,(n,r)=>rS(n,r))&&is(this.baseMutations,e.baseMutations,(n,r)=>rS(n,r))}},hv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return bB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var fv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var pv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Be,pe;function kB(t){switch(t){case M.OK:return W(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return W(15467,{code:t})}}function yA(t){if(t===void 0)return ar("GRPC error has no .code"),M.UNKNOWN;switch(t){case Be.OK:return M.OK;case Be.CANCELLED:return M.CANCELLED;case Be.UNKNOWN:return M.UNKNOWN;case Be.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Be.INTERNAL:return M.INTERNAL;case Be.UNAVAILABLE:return M.UNAVAILABLE;case Be.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Be.NOT_FOUND:return M.NOT_FOUND;case Be.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Be.ABORTED:return M.ABORTED;case Be.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Be.DATA_LOSS:return M.DATA_LOSS;default:return W(39323,{code:t})}}(pe=Be||(Be={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var sS=null;var OB=new or([4294967295,4294967295],0);function aS(t){let e=RS().encode(t),n=new Ny;return n.update(e),new Uint8Array(n.digest())}function cS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new or([n,r],0),new or([i,o],0)]}var gv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ki(`Invalid padding: ${n}`);if(r<0)throw new ki(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ki(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ki(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=or.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(or.fromNumber(r)));return i.compare(OB)===1&&(i=new or([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=aS(e),[r,i]=cS(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=aS(e),[r,i]=cS(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ki=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var nh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new Oe(se),dr(),le())}},fc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,le(),le(),le())}};var ts=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},rh=class{constructor(e,n){this.targetId=e,this.De=n}},ih=class{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},oh=class{constructor(){this.ve=0,this.Ce=uS(),this.Fe=_t.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=le(),n=le(),r=le();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W(38017,{changeType:o})}}),new fc(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=uS()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},mv=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=dr(),this.je=$d(),this.Je=$d(),this.He=new Oe(se)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:W(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(av(o))if(r===0){let s=new G(o.path);this.Xe(n,s,ln.newNoDocument(s,te.min()))}else Ee(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}sS?.ct(function(h,p,m,y,C){var N,R,V,K,Y,be;let It={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},we=p.unchangedNames;return we&&(It.bloomFilter={applied:C===0,hashCount:(N=we?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(K=(V=(R=we?.bits)===null||R===void 0?void 0:R.bitmap)===null||V===void 0?void 0:V.length)!==null&&K!==void 0?K:0,padding:(be=(Y=we?.bits)===null||Y===void 0?void 0:Y.padding)!==null&&be!==void 0?be:0,mightContain:T=>{var _;return(_=y?.mightContain(T))!==null&&_!==void 0&&_}}),It}(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=ur(r).toUint8Array()}catch(u){if(u instanceof Zd)return Hr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new gv(s,i,o)}catch(u){return Hr(u instanceof ki?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&av(a.target)){let u=new G(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,ln.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=le();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new nh(e,n,this.He,this.ze,r);return this.ze=dr(),this.je=$d(),this.Je=$d(),this.He=new Oe(se),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new oh,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new nt(se),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new nt(se),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new oh),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function $d(){return new Oe(G.comparator)}function uS(){return new Oe(G.comparator)}var FB={asc:"ASCENDING",desc:"DESCENDING"},LB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VB={and:"AND",or:"OR"},yv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function vv(t,e){return t.useProto3Json||Rh(e)?e:{value:e}}function sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jB(t,e){return sh(t,e.toTimestamp())}function Pn(t){return Ee(!!t,49232),te.fromTimestamp(function(n){let r=cr(n);return new ze(r.seconds,r.nanos)}(t))}function P_(t,e){return _v(t,e).canonicalString()}function _v(t,e){let n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _A(t){let e=Ve.fromString(t);return Ee(bA(e),10190,{key:e.toString()}),e}function Iv(t,e){return P_(t.databaseId,e.path)}function Fy(t,e){let n=_A(e);if(n.get(1)!==t.databaseId.projectId)throw new j(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(EA(n))}function IA(t,e){return P_(t.databaseId,e)}function UB(t){let e=_A(t);return e.length===4?Ve.emptyPath():EA(e)}function Ev(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EA(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lS(t,e,n){return{name:Iv(t,e),fields:n.value.mapValue.fields}}function BB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ee(h===void 0||typeof h=="string",58123),_t.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),_t.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:yA(l.code);return new j(h,l.message||"")}(s);n=new ih(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Fy(t,r.document.name),o=Pn(r.document.updateTime),s=r.document.createTime?Pn(r.document.createTime):te.min(),a=new Vt({mapValue:{fields:r.document.fields}}),u=ln.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ts(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Fy(t,r.document),o=r.readTime?Pn(r.readTime):te.min(),s=ln.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ts([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Fy(t,r.document),o=r.removedTargetIds||[];n=new ts([],o,i,null)}else{if(!("filter"in e))return W(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new pv(i,o),a=r.targetId;n=new rh(a,s)}}return n}function $B(t,e){let n;if(e instanceof Bi)n={update:lS(t,e.key,e.value)};else if(e instanceof th)n={delete:Iv(t,e.key)};else if(e instanceof On)n={update:lS(t,e.key,e.data),updateMask:ZB(e.fieldMask)};else{if(!(e instanceof lv))return W(16599,{Rt:e.type});n={verify:Iv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof hs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ji)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ui)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fs)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw W(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:jB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:W(27497)}(t,e.precondition)),n}function HB(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Pn(i.updateTime):Pn(o);return s.isEqual(te.min())&&(s=Pn(o)),new uv(s,i.transformResults||[])}(n,e))):[]}function zB(t,e){return{documents:[IA(t,e.path)]}}function qB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IA(t,i);let o=function(l){if(l.length!==0)return TA(kn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Jo(m.field),direction:KB(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=vv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:n,parent:i}}function WB(t){let e=UB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ee(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=wA(p);return m instanceof kn&&tA(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(C){return new us(Xo(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Rh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new cs(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new cs(y,m)}(n.endAt)),vB(e,i,s,o,a,"F",u,l)}function GB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Xo(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Xo(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Xo(n.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Xo(n.unaryFilter.field);return Ge.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W(61313);default:return W(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(Xo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W(58110);default:return W(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>wA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W(1026)}}(n.compositeFilter.op))}(t):W(30097,{filter:t})}function KB(t){return FB[t]}function QB(t){return LB[t]}function YB(t){return VB[t]}function Jo(t){return{fieldPath:t.canonicalString()}}function Xo(t){return jt.fromServerFormat(t.fieldPath)}function TA(t){return t instanceof Ge?function(n){if(n.op==="=="){if(ZC(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(YC(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZC(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(YC(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:QB(n.op),value:n.value}}}(t):t instanceof kn?function(n){let r=n.getFilters().map(i=>TA(i));return r.length===1?r[0]:{compositeFilter:{op:YB(n.op),filters:r}}}(t):W(54877,{filter:t})}function ZB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var pc=class t{constructor(e,n,r,i,o=te.min(),s=te.min(),a=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var wv=class{constructor(e){this.gt=e}};function JB(t){let e=WB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cv(e,e.limit,"L"):e}var ah=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),lc(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=cr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(ur(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?JS(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):ZS(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):W(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=os,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Ne(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),G.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};ah.Ut=new ah;var Tv=class{constructor(){this.Dn=new bv}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Vi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},bv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(Ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(Ve.comparator)).toArray()}};var mY=new Uint8Array(0);var dS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DA=41943040,Yt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(DA,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);var gc=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var hS="LruGarbageCollector",XB=1048576;function fS([t,e],[n,r]){let i=se(t,n);return i===0?se(e,r):i}var Dv=class{constructor(e){this.Tr=e,this.buffer=new nt(fS),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();fS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},Cv=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){O(hS,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){_s(n)?O(hS,"Ignoring IndexedDB error during garbage collection: ",n):yield vs(n)}yield this.Rr(3e5)}))}},Sv=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(T_.ue);let r=new Dv(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(dS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dS):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Yo()<=ce.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function e$(t,e){return new Sv(t,e)}var Av=class{constructor(){this.changes=new lr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Rv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Nv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ac(r.mutation,i,Zt.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){let i=xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=rc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=dr(),s=sc(),a=function(){return sc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof On)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ac(h.mutation,l,h.mutation.getFieldMask(),ze.now())):s.set(l.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Rv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=sc(),i=new Oe((s,a)=>s-a),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Zt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=uA();h.forEach(m=>{if(!o.has(m)){let y=gA(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_B(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(xi()),a=uc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:cA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=rc();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,m){return new ls(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,ln.newInvalidDocument(h)))});let a=rc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&ac(h.mutation,l,Zt.empty(),ze.now()),xh(n,l)&&(a=a.insert(u,l))}),a})}};var Mv=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:JB(i.bundledQuery),readTime:Pn(i.readTime)}}(n)),P.resolve()}};var Pv=class{constructor(){this.overlays=new Oe(G.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=xi();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=xi(),o=n.length+1,s=new G(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Oe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=xi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=xi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new fv(n,r));let o=this.kr.get(n);o===void 0&&(o=le(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var xv=class{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var mc=class{constructor(){this.qr=new nt($e.Qr),this.$r=new nt($e.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new $e(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new $e(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new G(new Ve([])),r=new $e(n,e),i=new $e(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new G(new Ve([])),r=new $e(n,e),i=new $e(n,e+1),o=le();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new $e(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},$e=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return G.comparator(e.key,n.key)||se(e.Hr,n.Hr)}static Ur(e,n){return se(e.Hr,n.Hr)||G.comparator(e.key,n.key)}};var kv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new nt($e.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new dv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new $e(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?b_:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new $e(n,0),i=new $e(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(se);return n.forEach(i=>{let o=new $e(i,0),s=new $e(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new $e(new G(o),0),a=new nt(se);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new $e(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new $e(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ov=class{constructor(e){this.ni=e,this.docs=function(){return new Oe(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=dr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=dr(),s=n.path,a=new G(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||XU(JU(h),r)<=0||(i.has(h.key)||xh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){W(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Fv(this)}getSize(e){return P.resolve(this.size)}},Fv=class extends Av{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var Lv=class{constructor(e){this.persistence=e,this.ii=new lr(n=>R_(n),N_),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.si=0,this.oi=new mc,this.targetCount=0,this._i=gc.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new gc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var ch=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new T_(0),this.ci=!1,this.ci=!0,this.li=new xv,this.referenceDelegate=e(this),this.hi=new Lv(this),this.indexManager=new Tv,this.remoteDocumentCache=function(i){return new Ov(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new wv(n),this.Ti=new Mv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Pv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new kv(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);let i=new Vv(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},Vv=class extends Ky{constructor(e){super(),this.currentSequenceNumber=e}},jv=class t{constructor(e){this.persistence=e,this.Ai=new mc,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw W(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=G.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},uh=class t{constructor(e,n){this.persistence=e,this.gi=new lr(r=>rB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=e$(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zd(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Uv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=le(),i=le();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Bv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var $v=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return m0()?8:tB(et())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Bv;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Yo()<=ce.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",Zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Yo()<=ce.DEBUG&&O("QueryEngine","Query:",Zo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Yo()<=ce.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",Zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):P.resolve())}ps(e,n){if(tS(n))return P.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=cv(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=le(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,cv(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return tS(n)||i.isEqual(te.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(Yo()<=ce.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zo(n)),this.vs(e,s,n,ZU(i,uc)).next(a=>a))})}bs(e,n){let r=new nt(sA(e));return n.forEach((i,o)=>{xh(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Yo()<=ce.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Zo(n)),this.gs.getDocumentsMatchingQuery(e,n,Vi.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var x_="LocalStore",t$=3e8,Hv=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Oe(se),this.Ms=new lr(o=>R_(o),N_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nv(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function n$(t,e,n,r){return new Hv(t,e,n,r)}function CA(t,e){return v(this,null,function*(){let n=J(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=le();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function r$(t,e){let n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(N=>{let R=l.docVersions.get(C);Ee(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SA(t){let e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function i$(t,e){let n=J(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(_t.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,V){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=t$?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(m,y,h)&&a.push(n.hi.updateTargetData(o,y))});let u=dr(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(o$(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(te.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function o$(t,e,n){let r=le(),i=le();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=dr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):O(x_,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function s$(t,e){let n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=b_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a$(t,e){let n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new pc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function zv(t,e,n){return v(this,null,function*(){let r=J(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!_s(s))throw s;O(x_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function pS(t,e,n){let r=J(t),i=te.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=J(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)}(r,s,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:le())).next(a=>(c$(r,EB(e),a),{documents:a,qs:o})))}function c$(t,e,n){let r=t.xs.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var lh=class{constructor(){this.activeTargetIds=SB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var qv=class{constructor(){this.Fo=new lh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new lh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Wv=class{xo(e){}shutdown(){}};var gS="ConnectivityMonitor",dh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){O(gS,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){O(gS,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Hd=null;function Gv(){return Hd===null?Hd=function(){return 268435456+Math.round(2147483648*Math.random())}():Hd++,"0x"+Hd.toString(16)}var Ly="RestConnection",u$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Kv=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Jd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=Gv(),a=this.Go(e,n.toUriEncodedString());O(Ly,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Nr(l);return this.jo(e,a,u,r,h).then(p=>(O(Ly,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Hr(Ly,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ys}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=u$[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var Qv=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var vt="WebChannelConnection",Yv=class extends Kv{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=Gv();return new Promise((a,u)=>{let l=new My;l.setWithCredentials(!0),l.listenOnce(Py.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nc.NO_ERROR:let p=l.getResponseJson();O(vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case nc.TIMEOUT:O(vt,`RPC '${e}' ${s} timed out`),u(new j(M.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:let m=l.getStatus();if(O(vt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let C=y?.error;if(C&&C.status&&C.message){let N=function(V){let K=V.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(K)>=0?K:M.UNKNOWN}(C.status);u(new j(N,C.message))}else u(new j(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new j(M.UNAVAILABLE,"Connection failed."));break;default:W(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{O(vt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);O(vt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=Gv(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Oy(),a=ky(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");O(vt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,C=new Qv({Ho:R=>{y?O(vt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(O(vt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),O(vt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),N=(R,V,K)=>{R.listen(V,Y=>{try{K(Y)}catch(be){setTimeout(()=>{throw be},0)}})};return N(p,Qo.EventType.OPEN,()=>{y||(O(vt,`RPC '${e}' stream ${i} transport opened.`),C.s_())}),N(p,Qo.EventType.CLOSE,()=>{y||(y=!0,O(vt,`RPC '${e}' stream ${i} transport closed`),C.__(),this.I_(p))}),N(p,Qo.EventType.ERROR,R=>{y||(y=!0,Hr(vt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),C.__(new j(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,Qo.EventType.MESSAGE,R=>{var V;if(!y){let K=R.data[0];Ee(!!K,16349);let Y=K,be=Y?.error||((V=Y[0])===null||V===void 0?void 0:V.error);if(be){O(vt,`RPC '${e}' stream ${i} received error:`,be);let It=be.status,we=function(E){let w=Be[E];if(w!==void 0)return yA(w)}(It),T=be.message;we===void 0&&(we=M.INTERNAL,T="Unknown error status: "+It+" with message "+be.message),y=!0,C.__(new j(we,T)),p.close()}else O(vt,`RPC '${e}' stream ${i} received:`,K),C.a_(K)}}),N(a,xy.STAT_EVENT,R=>{R.stat===Ud.PROXY?O(vt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Ud.NOPROXY&&O(vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function Vy(){return typeof document<"u"?document:null}function kh(t){return new yv(t,!0)}var hh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var mS="PersistentStream",fh=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new hh(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new j(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return O(mS,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(O(mS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Zv=class extends fh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=BB(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?Pn(s.readTime):te.min()}(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=Ev(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=av(u)?{documents:zB(o,u)}:{query:qB(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=vA(o,s.resumeToken);let l=vv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=sh(o,s.snapshotVersion.toTimestamp());let l=vv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=GB(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=Ev(this.serializer),n.removeTarget=e,this.k_(n)}},Jv=class extends fh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=HB(e.writeResults,e.commitTime),r=Pn(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=Ev(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>$B(this.serializer,r))};this.k_(n)}};var Xv=class{},e_=class extends Xv{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new j(M.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,_v(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(M.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,_v(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(M.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},t_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ar(n),this._a=!1):O("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var $i="RemoteStore",n_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){Hi(this)&&(O($i,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=J(u);l.Ia.add(4),yield Ec(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Oh(l)})}(this))}))}),this.Aa=new t_(r,i)}};function Oh(t){return v(this,null,function*(){if(Hi(t))for(let e of t.da)yield e(!0)})}function Ec(t){return v(this,null,function*(){for(let e of t.da)yield e(!1)})}function AA(t,e){let n=J(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),L_(n)?F_(n):Is(n).x_()&&O_(n,e))}function k_(t,e){let n=J(t),r=Is(n);n.Ta.delete(e),r.x_()&&RA(n,e),n.Ta.size===0&&(r.x_()?r.B_():Hi(n)&&n.Aa.set("Unknown"))}function O_(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Is(t).H_(e)}function RA(t,e){t.Ra.$e(e),Is(t).Y_(e)}function F_(t){t.Ra=new mv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Is(t).start(),t.Aa.aa()}function L_(t){return Hi(t)&&!Is(t).M_()&&t.Ta.size>0}function Hi(t){return J(t).Ia.size===0}function NA(t){t.Ra=void 0}function l$(t){return v(this,null,function*(){t.Aa.set("Online")})}function d$(t){return v(this,null,function*(){t.Ta.forEach((e,n)=>{O_(t,e)})})}function h$(t,e){return v(this,null,function*(){NA(t),L_(t)?(t.Aa.la(e),F_(t)):t.Aa.set("Unknown")})}function f$(t,e,n){return v(this,null,function*(){if(t.Aa.set("Online"),e instanceof ih&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(t,e)}catch(r){O($i,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ph(t,r)}else if(e instanceof ts?t.Ra.Ye(e):e instanceof rh?t.Ra.it(e):t.Ra.et(e),!n.isEqual(te.min()))try{let r=yield SA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(_t.EMPTY_BYTE_STRING,h.snapshotVersion)),RA(o,u);let p=new pc(h.target,u,l,h.sequenceNumber);O_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){O($i,"Failed to raise snapshot:",r),yield ph(t,r)}})}function ph(t,e,n){return v(this,null,function*(){if(!_s(e))throw e;t.Ia.add(1),yield Ec(t),t.Aa.set("Offline"),n||(n=()=>SA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){O($i,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield Oh(t)}))})}function MA(t,e){return e().catch(n=>ph(t,n,e))}function Fh(t){return v(this,null,function*(){let e=J(t),n=qr(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:b_;for(;p$(e);)try{let i=yield s$(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,g$(e,i)}catch(i){yield ph(e,i)}PA(e)&&xA(e)})}function p$(t){return Hi(t)&&t.Pa.length<10}function g$(t,e){t.Pa.push(e);let n=qr(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function PA(t){return Hi(t)&&!qr(t).M_()&&t.Pa.length>0}function xA(t){qr(t).start()}function m$(t){return v(this,null,function*(){qr(t).na()})}function y$(t){return v(this,null,function*(){let e=qr(t);for(let n of t.Pa)e.X_(n.mutations)})}function v$(t,e,n){return v(this,null,function*(){let r=t.Pa.shift(),i=hv.from(r,e,n);yield MA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Fh(t)})}function _$(t,e){return v(this,null,function*(){e&&qr(t).Z_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return kB(s)&&s!==M.ABORTED}(i.code)){let o=r.Pa.shift();qr(r).N_(),yield MA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Fh(r)}})}(t,e)),PA(t)&&xA(t)})}function yS(t,e){return v(this,null,function*(){let n=J(t);n.asyncQueue.verifyOperationInProgress(),O($i,"RemoteStore received new credentials");let r=Hi(n);n.Ia.add(3),yield Ec(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield Oh(n)})}function I$(t,e){return v(this,null,function*(){let n=J(t);e?(n.Ia.delete(2),yield Oh(n)):e||(n.Ia.add(2),yield Ec(n),n.Aa.set("Unknown"))})}function Is(t){return t.Va||(t.Va=function(n,r,i){let o=J(n);return o.ia(),new Zv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:l$.bind(null,t),e_:d$.bind(null,t),n_:h$.bind(null,t),J_:f$.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.Va.N_(),L_(t)?F_(t):t.Aa.set("Unknown")):(yield t.Va.stop(),NA(t))}))),t.Va}function qr(t){return t.ma||(t.ma=function(n,r,i){let o=J(n);return o.ia(),new Jv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:m$.bind(null,t),n_:_$.bind(null,t),ea:y$.bind(null,t),ta:v$.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.ma.N_(),yield Fh(t)):(yield t.ma.stop(),t.Pa.length>0&&(O($i,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var r_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function V_(t,e){if(ar("AsyncQueue",`${e}: ${t}`),_s(t))return new j(M.UNAVAILABLE,`${e}: ${t}`);throw t}var gh=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=rc(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var mh=class{constructor(){this.fa=new Oe(G.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):W(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},gs=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,gh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var i_=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},o_=class{constructor(){this.queries=vS(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=J(n),o=i.queries;i.queries=vS(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new j(M.ABORTED,"Firestore shutting down"))}};function vS(){return new lr(t=>oA(t),Ph)}function kA(t,e){return v(this,null,function*(){let n=J(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new i_,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=V_(s,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&j_(n)})}function OA(t,e){return v(this,null,function*(){let n=J(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function E$(t,e){let n=J(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&j_(n)}function w$(t,e,n){let r=J(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function j_(t){t.Da.forEach(e=>{e.next()})}var s_,_S;(_S=s_||(s_={})).Fa="default",_S.Cache="cache";var yh=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new gs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==s_.Cache}};var vh=class{constructor(e){this.key=e}},_h=class{constructor(e){this.key=e}},a_=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=le(),this.mutatedKeys=le(),this.Xa=sA(e),this.eu=new gh(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new mh,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=xh(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?C!==N&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(y,C){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W(20277,{At:R})}};return N(y)-N(C)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new gs(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new mh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=le(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new _h(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new vh(r))}),n}uu(e){this.Ha=e.qs,this.Za=le();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return gs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},U_="SyncEngine",c_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},u_=class{constructor(e){this.key=e,this.lu=!1}},l_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new lr(a=>oA(a),Ph),this.Tu=new Map,this.Iu=new Set,this.du=new Oe(G.comparator),this.Eu=new Map,this.Au=new mc,this.Ru={},this.Vu=new Map,this.mu=gc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function T$(t,e,n=!0){return v(this,null,function*(){let r=BA(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield FA(r,e,n,!0),i})}function b$(t,e){return v(this,null,function*(){let n=BA(t);yield FA(n,e,!0,!1)})}function FA(t,e,n,r){return v(this,null,function*(){let i=yield a$(t.localStore,Mn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield D$(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&AA(t.remoteStore,i),a})}function D$(t,e,n,r,i){return v(this,null,function*(){t.gu=(p,m,y)=>function(N,R,V,K){return v(this,null,function*(){let Y=R.view.nu(V);Y.Ds&&(Y=yield pS(N.localStore,R.query,!1).then(({documents:T})=>R.view.nu(T,Y)));let be=K&&K.targetChanges.get(R.targetId),It=K&&K.targetMismatches.get(R.targetId)!=null,we=R.view.applyChanges(Y,N.isPrimaryClient,be,It);return ES(N,R.targetId,we._u),we.snapshot})}(t,p,m,y);let o=yield pS(t.localStore,e,!0),s=new a_(e,o.qs),a=s.nu(o.documents),u=fc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);ES(t,n,l._u);let h=new c_(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function C$(t,e,n){return v(this,null,function*(){let r=J(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Ph(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield zv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&k_(r.remoteStore,i.targetId),d_(r,i.targetId)}).catch(vs))):(d_(r,i.targetId),yield zv(r.localStore,i.targetId,!0))})}function S$(t,e){return v(this,null,function*(){let n=J(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),k_(n.remoteStore,r.targetId))})}function A$(t,e,n){return v(this,null,function*(){let r=O$(t);try{let i=yield function(s,a){let u=J(s),l=ze.now(),h=a.reduce((y,C)=>y.add(C.key),le()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=dr(),N=le();return u.Os.getEntries(y,h).next(R=>{C=R,C.forEach((V,K)=>{K.isValidDocument()||(N=N.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let V=[];for(let K of a){let Y=xB(K,p.get(K.key).overlayedDocument);Y!=null&&V.push(new On(K.key,Y,XS(Y.value.mapValue),jr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,V,a)}).next(R=>{m=R;let V=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,V)})}).then(()=>({batchId:m.batchId,changes:cA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Oe(se)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,n),yield wc(r,i.changes),yield Fh(r.remoteStore)}catch(i){let o=V_(i,"Failed to persist write");n.reject(o)}})}function LA(t,e){return v(this,null,function*(){let n=J(t);try{let r=yield i$(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ee(s.lu,14607):i.removedDocuments.size>0&&(Ee(s.lu,42227),s.lu=!1))}),yield wc(n,r,e)}catch(r){yield vs(r)}})}function IS(t,e,n){let r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=J(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&j_(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function R$(t,e,n){return v(this,null,function*(){let r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Oe(G.comparator);s=s.insert(o,ln.newNoDocument(o,te.min()));let a=le().add(o),u=new nh(te.min(),new Map,new Oe(se),s,a);yield LA(r,u),r.du=r.du.remove(o),r.Eu.delete(e),B_(r)}else yield zv(r.localStore,e,!1).then(()=>d_(r,e,n)).catch(vs)})}function N$(t,e){return v(this,null,function*(){let n=J(t),r=e.batch.batchId;try{let i=yield r$(n.localStore,e);jA(n,r,null),VA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield wc(n,i)}catch(i){yield vs(i)}})}function M$(t,e,n){return v(this,null,function*(){let r=J(t);try{let i=yield function(s,a){let u=J(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ee(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);jA(r,e,n),VA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield wc(r,i)}catch(i){yield vs(i)}})}function VA(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function jA(t,e,n){let r=J(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function d_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||UA(t,r)})}function UA(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(k_(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),B_(t))}function ES(t,e,n){for(let r of n)r instanceof vh?(t.Au.addReference(r.key,e),P$(t,r)):r instanceof _h?(O(U_,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||UA(t,r.key)):W(19791,{yu:r})}function P$(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(O(U_,"New document in limbo: "+n),t.Iu.add(r),B_(t))}function B_(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new G(Ve.fromString(e)),r=t.mu.next();t.Eu.set(r,new u_(n)),t.du=t.du.insert(n,r),AA(t.remoteStore,new pc(Mn(Mh(n.path)),r,"TargetPurposeLimboResolution",T_.ue))}}function wc(t,e,n){return v(this,null,function*(){let r=J(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Uv.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(u,l){return v(this,null,function*(){let h=J(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!_s(p))throw p;O(x_,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);h.Fs=h.Fs.insert(m,N)}}})}(r.localStore,o))})}function x$(t,e){return v(this,null,function*(){let n=J(t);if(!n.currentUser.isEqual(e)){O(U_,"User change. New user:",e.toKey());let r=yield CA(n.localStore,e);n.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new j(M.CANCELLED,s))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wc(n,r.Bs)}})}function k$(t,e){let n=J(t),r=n.Eu.get(e);if(r&&r.lu)return le().add(r.key);{let i=le(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function BA(t){let e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R$.bind(null,e),e.hu.J_=E$.bind(null,e.eventManager),e.hu.pu=w$.bind(null,e.eventManager),e}function O$(t){let e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M$.bind(null,e),e}var $A=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=kh(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return n$(this.persistence,new $v,n.initialUser,this.serializer)}Du(n){return new ch(jv.Vi,this.serializer)}bu(n){return new qv}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),h_=class extends $A{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ee(this.persistence.referenceDelegate instanceof uh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Cv(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new ch(r=>uh.Vi(r,n),this.serializer)}};var F$=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>IS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=x$.bind(null,this.syncEngine),yield I$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new o_}()}createDatastore(n){let r=kh(n.databaseInfo.databaseId),i=function(s){return new Yv(s)}(n.databaseInfo);return function(s,a,u,l){return new e_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new n_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>IS(this.syncEngine,r,0),function(){return dh.C()?new dh:new Wv}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new l_(o,s,a,u,l,h);return p&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(o){return v(this,null,function*(){let s=J(o);O($i,"RemoteStore shutting down."),s.Ia.add(5),yield Ec(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Ih=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Wr="FirestoreClient",f_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tt.UNAUTHENTICATED,this.clientId=cc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){O(Wr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(O(Wr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=V_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function jy(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),O(Wr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield CA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Hr("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{O("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Hr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function wS(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield L$(t);O(Wr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>yS(e.remoteStore,i)),t._onlineComponents=e})}function L$(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O(Wr,"Using user provided OfflineComponentProvider");try{yield jy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Hr("Error using user provided cache. Falling back to memory cache: "+n),yield jy(t,new $A)}}else O(Wr,"Using default OfflineComponentProvider"),yield jy(t,new h_(void 0));return t._offlineComponents})}function HA(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(O(Wr,"Using user provided OnlineComponentProvider"),yield wS(t,t._uninitializedComponentsProvider._online)):(O(Wr,"Using default OnlineComponentProvider"),yield wS(t,new F$))),t._onlineComponents})}function V$(t){return HA(t).then(e=>e.syncEngine)}function p_(t){return v(this,null,function*(){let e=yield HA(t),n=e.eventManager;return n.onListen=T$.bind(null,e.syncEngine),n.onUnlisten=C$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=S$.bind(null,e.syncEngine),n})}function j$(t,e,n={}){let r=new An;return t.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,u,l){let h=new Ih({next:m=>{h.Ou(),s.enqueueAndForget(()=>OA(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new j(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new j(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new yh(Mh(a.path),h,{includeMetadataChanges:!0,ka:!0});return kA(o,p)}(yield p_(t),t.asyncQueue,e,n,r)})),r.promise}function zA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var TS=new Map;var qA="firestore.googleapis.com",bS=!0,Eh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qA,this.ssl=bS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:bS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XB)throw new j(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new j(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new j(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new j(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},yc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new j(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Uy;switch(r.type){case"firstParty":return new zy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=TS.get(n);r&&(O("ComponentProvider","Removing Datastore"),TS.delete(n),r.terminate())}(this),Promise.resolve()}};function WA(t,e,n,r={}){var i;t=Rn(t,yc);let o=Nr(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(ld(`https://${u}`),dd("Firestore",!0)),s.host!==qA&&s.host!==u&&Hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Wt(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=tt.MOCK_USER;else{h=d0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new j(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new tt(m)}t._authCredentials=new By(new Gd(h,p))}}var wh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ut=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ic(n,t._jsonSchema))return new t(e,r||null,new G(Ve.fromString(n.referencePath)))}};ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:He("string",ut._jsonSchemaVersion),referencePath:He("string")};var vc=class t extends wh{constructor(e,n,r){super(e,n,Mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function GA(t,e,...n){if(t=Ue(t),arguments.length===1&&(e=cc.newId()),QU("doc","path",e),t instanceof yc){let r=Ve.fromString(e,...n);return HC(r),new ut(t,null,new G(r))}{if(!(t instanceof ut||t instanceof vc))throw new j(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ve.fromString(e,...n));return HC(r),new ut(t.firestore,t instanceof vc?t.converter:null,new G(r))}}var DS="AsyncQueue",Th=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new hh(this,"async_queue_retry"),this.oc=()=>{let r=Vy();r&&O(DS,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=Vy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=Vy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new An;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!_s(e))throw e;O(DS,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ar("INTERNAL UNHANDLED ERROR: ",CS(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=r_.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&W(47125,{hc:CS(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function CS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function SS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Gr=class extends yc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Th,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Th(e),this._firestoreClient=void 0,yield e}})}};function KA(t,e){let n=typeof t=="object"?t:bn(),r=typeof t=="string"?t:e||Jd,i=Kt(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=l0("firestore");o&&WA(i,...o)}return i}function $_(t){if(t._terminated)throw new j(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||U$(t),t._firestoreClient}function U$(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Qy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,zA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new f_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Ur=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(_t.fromBase64String(e))}catch(n){throw new j(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ic(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Ur._jsonSchemaVersion="firestore/bytes/1.0",Ur._jsonSchema={type:He("string",Ur._jsonSchemaVersion),bytes:He("string")};var ms=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var _c=class{constructor(e){this._methodName=e}};var Br=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Ic(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Br._jsonSchemaVersion="firestore/geoPoint/1.0",Br._jsonSchema={type:He("string",Br._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};var $r=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ic(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new j(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};$r._jsonSchemaVersion="firestore/vectorValue/1.0",$r._jsonSchema={type:He("string",$r._jsonSchemaVersion),vectorValues:He("object")};var B$=/^__.*__$/,g_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new On(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bi(e,this.data,n,this.fieldTransforms)}},bh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new On(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function QA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W(40011,{Ec:t})}}var m_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ch(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(QA(this.Ec)&&B$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},y_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kh(e)}Dc(e,n,r,i=!1){return new m_({Ec:e,methodName:n,bc:r,path:jt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function YA(t){let e=t._freezeSettings(),n=kh(t._databaseId);return new y_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $$(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);H_("Data must be an object, but it was:",s,r);let a=ZA(r,s),u,l;if(o.merge)u=new Zt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=v_(e,p,n);if(!s.contains(m))throw new j(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);XA(h,m)||h.push(m)}u=new Zt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new g_(new Vt(a),u,l)}var Dh=class t extends _c{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function H$(t,e,n,r){let i=t.Dc(1,e,n);H_("Data must be an object, but it was:",i,r);let o=[],s=Vt.empty();Kr(r,(u,l)=>{let h=z_(e,u,n);l=Ue(l);let p=i.gc(h);if(l instanceof Dh)o.push(h);else{let m=Lh(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Zt(o);return new bh(s,a,i.fieldTransforms)}function z$(t,e,n,r,i,o){let s=t.Dc(1,e,n),a=[v_(e,r,n)],u=[i];if(o.length%2!=0)throw new j(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(v_(e,o[m])),u.push(o[m+1]);let l=[],h=Vt.empty();for(let m=a.length-1;m>=0;--m)if(!XA(l,a[m])){let y=a[m],C=u[m];C=Ue(C);let N=s.gc(y);if(C instanceof Dh)l.push(y);else{let R=Lh(C,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new Zt(l);return new bh(h,p,s.fieldTransforms)}function Lh(t,e){if(JA(t=Ue(t)))return H_("Unsupported field value:",e,t),ZA(t,e);if(t instanceof _c)return function(r,i){if(!QA(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Lh(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ue(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ze.fromDate(r);return{timestampValue:sh(i.serializer,o)}}if(r instanceof ze){let o=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(i.serializer,o)}}if(r instanceof Br)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:vA(i.serializer,r._byteString)};if(r instanceof ut){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:P_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $r)return function(s,a){return{mapValue:{fields:{[C_]:{stringValue:S_},[os]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return M_(a.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${w_(r)}`)}(t,e)}function ZA(t,e){let n={};return qS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kr(t,(r,i)=>{let o=Lh(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function JA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof Br||t instanceof Ur||t instanceof ut||t instanceof _c||t instanceof $r)}function H_(t,e,n){if(!JA(n)||!NS(n)){let r=w_(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function v_(t,e,n){if((e=Ue(e))instanceof ms)return e._internalPath;if(typeof e=="string")return z_(t,e);throw Ch("Field path arguments must be of type string or ",t,!1,void 0,n)}var q$=new RegExp("[~\\*/\\[\\]]");function z_(t,e,n){if(e.search(q$)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ms(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ch(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new j(M.INVALID_ARGUMENT,a+t+u)}function XA(t,e){return t.some(n=>n.isEqual(e))}var Sh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new __(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(eR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},__=class extends Sh{data(){return super.data()}};function eR(t,e){return typeof e=="string"?z_(t,e):e instanceof ms?e._internalPath:e._delegate._internalPath}function W$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var I_=class{convertValue(e,n="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw W(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Kr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[os].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ne(s.doubleValue));return new $r(o)}convertGeoPoint(e){return new Br(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Nh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){let n=cr(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ve.fromString(e);Ee(bA(r),9688,{name:e});let i=new Xd(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(n)||ar(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function G$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Oi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Fi=class t extends Sh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ns(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(eR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new j(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Fi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fi._jsonSchema={type:He("string",Fi._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};var ns=class extends Fi{data(e={}){return super.data(e)}},rs=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Oi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ns(this._firestore,this._userDataWriter,r.key,r,new Oi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ns(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ns(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:K$(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new j(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function K$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W(61501,{type:t})}}function tR(t){t=Rn(t,ut);let e=Rn(t.firestore,Gr);return j$($_(e),t._key).then(n=>oR(e,t,n))}rs._jsonSchemaVersion="firestore/querySnapshot/1.0",rs._jsonSchema={type:He("string",rs._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};var Ah=class extends I_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}};function nR(t,e,n){t=Rn(t,ut);let r=Rn(t.firestore,Gr),i=G$(t.converter,e,n);return iR(r,[$$(YA(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,jr.none())])}function rR(t,e,n,...r){t=Rn(t,ut);let i=Rn(t.firestore,Gr),o=YA(i),s;return s=typeof(e=Ue(e))=="string"||e instanceof ms?z$(o,"updateDoc",t._key,e,n,r):H$(o,"updateDoc",t._key,e),iR(i,[s.toMutation(t._key,jr.exists(!0))])}function q_(t,...e){var n,r,i;t=Ue(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||SS(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(SS(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof ut)l=Rn(t.firestore,Gr),h=Mh(t._key.path),u={next:p=>{e[s]&&e[s](oR(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Rn(t,wh);l=Rn(p.firestore,Gr),h=p._query;let m=new Ah(l);u={next:y=>{e[s]&&e[s](new rs(l,m,p,y))},error:e[s+1],complete:e[s+2]},W$(t._query)}return function(m,y,C,N){let R=new Ih(N),V=new yh(y,R,C);return m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return kA(yield p_(m),V)})),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return OA(yield p_(m),V)}))}}($_(l),h,a,u)}function iR(t,e){return function(r,i){let o=new An;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return A$(yield V$(r),i,o)})),o.promise}($_(t),e)}function oR(t,e,n){let r=n.docs.get(e._key),i=new Ah(t);return new Fi(t,i,e._key,r,new Oi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ys=i})(Pr),ct(new Le("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Gr(new $y(r.getProvider("auth-internal")),new qy(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ie(jC,UC,e),Ie(jC,UC,"esm2017")})();var Vh=function(){return Vh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Vh.apply(this,arguments)};var Z$={includeMetadataChanges:!1};function sR(t,e){return e===void 0&&(e=Z$),new ue(function(n){var r=q_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function aR(t){return sR(t,{includeMetadataChanges:!0})}function cR(t,e){return e===void 0&&(e={}),aR(t).pipe(de(function(n){return uR(n,e)}))}function uR(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Vh(Vh({},r),(n={},n[e.idField]=t.id,n))}var zi=class{constructor(e){return e}},lR="firestore",W_=class{constructor(){return xr(lR)}};var G_=new $("angularfire2.firestore-instances");function J$(t,e){let n=Ai(lR,t,e);return n&&new zi(n)}function X$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new zi(r)}}var eH={provide:W_,deps:[[new gt,G_]]},tH={provide:zi,useFactory:J$,deps:[[new gt,G_],cn]};function dR(t,...e){return Ie("angularfire",Dn.full,"fst"),on([tH,eH,{provide:G_,useFactory:X$(t),multi:!0,deps:[_e,Ye,Cn,nr,[new gt,tc],[new gt,Go],...e]}])}var K_=Pt(cR,!0);var Es=Pt(GA,!0,2);var hR=Pt(tR,!0);var fR=Pt(KA,!0);var pR=Pt(nR,!0,2);var gR=Pt(rR,!0,2);var ws=class t{constructor(){}firestore=x(zi);getPersonalData(){let e=Es(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return K_(e)}getPersonalDataOnce(){return v(this,null,function*(){let e=Es(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q"),n=yield hR(e);return n.exists()?n.data():void 0})}getDocument(e){if(!this.firestore)return console.warn("Firestore no est\xE1 inicializado. Retornando array vac\xEDo."),Z([]);let n=Es(this.firestore,e);return K_(n)}updateDocument(e,n,r){let i=Es(this.firestore,e,n);return gR(i,r)}updatePersonalData(e){let n=Es(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return pR(n,e,{merge:!0})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};var jh=class t{title=null;secondTitle=null;thirdTitle=null;content=null;openPanel=!1;togglePanel(){this.openPanel=!this.openPanel}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ke({type:t,selectors:[["app-accordion"]],inputs:{title:"title",secondTitle:"secondTitle",thirdTitle:"thirdTitle",content:"content"},decls:13,vars:8,consts:[[1,"detail-panel"],[1,"detail-header",3,"click"],[1,"accordion-btn"],[1,"detail-content"],[1,"detail-inner"]],template:function(n,r){n&1&&(F(0,"div",0)(1,"div",1),Me("click",function(){return r.togglePanel()}),F(2,"h2"),q(3),U(),F(4,"h4"),q(5),U(),F(6,"h5"),q(7),U(),Ae(8,"button",2),U(),F(9,"div",3)(10,"div",4)(11,"p"),q(12),U()()()()),n&2&&(H(3),Yn(r.title),H(2),Yn(r.secondTitle),H(2),Yn(r.thirdTitle),H(),mt("open",r.openPanel),H(),mt("open",r.openPanel),H(3),_l(" ",r.content," "))},dependencies:[Je],styles:['.detail-panel[_ngcontent-%COMP%]{background-color:var(--color-subpanel-dark);margin:40px 0}.detail-header[_ngcontent-%COMP%]{position:relative;cursor:pointer;-webkit-user-select:none;user-select:none;padding:1rem;background-color:var(--color-subpanel-child-dark);border-radius:8px;transition:background .2s ease}.detail-header[_ngcontent-%COMP%]:hover{background:var(--color-selected-dark)}.detail-content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .7s cubic-bezier(.11,.37,.17,.72)}.detail-content.open[_ngcontent-%COMP%]{max-height:500px;transition:max-height 1s ease-in}.detail-inner[_ngcontent-%COMP%]{padding:1rem}.accordion-btn[_ngcontent-%COMP%]{position:absolute;right:23px;top:50%;transform:translateY(-50%);width:20px;height:20px;border:none;background:url("./media/mas-SRVL4M23.png") no-repeat center;background-size:contain;cursor:pointer;transition:background .7s cubic-bezier(.18,0,1,.79)}.accordion-btn.open[_ngcontent-%COMP%]{background-image:url("./media/menos-3VJFCNR6.png");transition:background .2s cubic-bezier(.18,0,1,.79)}']})};function nH(t,e){if(t&1){let n=xo();fa(0),F(1,"div",2),Me("click",function(){hi(n);let i=Dr();return fi(i.selectView("experience"))}),F(2,"h2"),q(3,"Experiencia laboral"),U(),F(4,"p"),q(5,"Trayectoria profesional y proyectos destacados."),U()(),F(6,"div",3),Me("click",function(){hi(n);let i=Dr();return fi(i.selectView("technologies"))}),F(7,"h2"),q(8,"Tecnolog\xEDas especializadas"),U(),F(9,"p"),q(10,"Stack t\xE9cnico y herramientas utilizadas."),U()(),pa()}}function rH(t,e){if(t&1){let n=xo();fa(0),F(1,"div",4)(2,"button",5),Me("click",function(){hi(n);let i=Dr();return fi(i.selectView("menu"))}),q(3,"\u2190 Volver"),U(),F(4,"div",6),Ae(5,"app-accordion",7)(6,"app-accordion",8),U()(),pa()}t&2&&(H(5),ee("title","Desarrollador Full-Stack")("secondTitle","Indra Sistemas")("thirdTitle","Octubre 2024 - ACTUALMENTE"),H(),ee("title","Desarrollador Full-Stack")("secondTitle","Mercanza")("thirdTitle","Septiembre 2023 - Diciembre 2023"))}function iH(t,e){if(t&1){let n=xo();fa(0),F(1,"div",4)(2,"button",5),Me("click",function(){hi(n);let i=Dr();return fi(i.selectView("menu"))}),q(3,"\u2190 Volver"),U(),F(4,"div",6),Ae(5,"app-accordion",9)(6,"app-accordion",10)(7,"app-accordion",11)(8,"app-accordion",12)(9,"app-accordion",13)(10,"app-accordion",14)(11,"app-accordion",15)(12,"app-accordion",16)(13,"app-accordion",17)(14,"app-accordion",18)(15,"app-accordion",19)(16,"app-accordion",20)(17,"app-accordion",21)(18,"app-accordion",22)(19,"app-accordion",23)(20,"app-accordion",24)(21,"app-accordion",25)(22,"app-accordion",26)(23,"app-accordion",27)(24,"app-accordion",28)(25,"app-accordion",29)(26,"app-accordion",30)(27,"app-accordion",31)(28,"app-accordion",32),U()(),pa()}t&2&&(H(5),ee("title","Java")("secondTitle","Nivel: Alto"),H(),ee("title","TypeScript")("secondTitle","Nivel: Alto"),H(),ee("title","Python")("secondTitle","Nivel: Intermedio"),H(),ee("title","C#")("secondTitle","Nivel: Intermedio"),H(),ee("title","JavaScript")("secondTitle","Nivel: B\xE1sico"),H(),ee("title","PHP")("secondTitle","Nivel: B\xE1sico"),H(),ee("title","HTML5 & CSS3")("secondTitle","Nivel: Intermedio"),H(),ee("title","JSON & XML")("secondTitle","Nivel: Alto"),H(),ee("title","SQL")("secondTitle","Nivel: Intermedio"),H(),ee("title","Spring Boot")("secondTitle","Nivel: Intermedio"),H(),ee("title","Angular")("secondTitle","Nivel: Intermedio"),H(),ee("title","Ionic")("secondTitle","Nivel: B\xE1sico"),H(),ee("title","Node.js")("secondTitle","Nivel: B\xE1sico"),H(),ee("title","MySQL & SQL Server")("secondTitle","Nivel: Intermedio"),H(),ee("title","MongoDB & Firebase")("secondTitle","Nivel: Intermedio"),H(),ee("title","MQTT (Mosquitto)")("secondTitle","Nivel: Alto"),H(),ee("title","Kafka, RabbitMQ, NATS")("secondTitle","Nivel: Intermedio"),H(),ee("title","Git")("secondTitle","Nivel: Alto"),H(),ee("title","Docker")("secondTitle","Nivel: Alto"),H(),ee("title","Jenkins")("secondTitle","Nivel: Intermedio"),H(),ee("title","JIRA & Kanban (Trello)")("secondTitle","Nivel: Alto"),H(),ee("title","Android Studio & Capacitor")("secondTitle","Nivel: Intermedio"),H(),ee("title","Unity & Processing")("secondTitle","Nivel: Intermedio"),H(),ee("title","Unreal Engine")("secondTitle","Nivel: B\xE1sico"))}var Uh=class t{view="menu";openPanels={indra:!1,mercanza:!1};selectView(e){this.view=e}togglePanel(e){this.openPanels[e]=!this.openPanels[e]}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ke({type:t,selectors:[["app-experience-panel"]],decls:4,vars:3,consts:[[1,"experience-wrapper"],[4,"ngIf"],[1,"experience-card","experience",3,"click"],[1,"experience-card","technologies",3,"click"],[1,"experience-detail"],[1,"back-btn",3,"click"],[1,"detail-scroll"],["content",`El proyecto en el que actualmente trabajo es un sistema de mando y control,
                          encargado de gestionar recursos, publicar instrucciones y llevar un seguimiento de las acciones.
                          Ademas de comunicarse con otras plataformas con objetivos similares a nuestro sistema.
                          
                          Los desarrollos principales en los que he trabajado han sido:
                          
                          La migracion de la aplicaci\xF3n de Windows a Linux y Android.
                          
                          Integraci\xF3n en el nuevas tecnolog\xEDas y desarrollado un nuevo frontal m\xE1s din\xE1mico y 
                          con apariencia mas moderna usando Angular.
                          
                          Implementar nuevas funcionalidades en un sistema programado en Java con mas de 15 a\xF1os y consolidado.
                          Sin quebrar el funcionamiento de los sistemas ya 
                          existentes y otros que estan en desarrollo y comparten servicios en com\xFAn.`,3,"title","secondTitle","thirdTitle"],["content",`Los proyectos en los que trabaj\xE9 eran encargados de llevar el tratamiento 
                          de datos personales y de negocio de diversas empresas con sus empleados o clientes.
                          
                          Estos proyectos usaban diferentes tecnolog\xEDas pero en los que mas desarroll\xE9
                          usaban Angular y .NET con C#.
          
                          En estas aplicaciones web realic\xE9 sobre todo tareas
                          de resoluci\xF3n de incidencias, correci\xF3n de componentes de interfaz gr\xE1fica y
                          optimizaci\xF3n de consultas a APIs y Bases de datos relaccionales.`,3,"title","secondTitle","thirdTitle"],["content","Desarrollo backend aplicando programaci\xF3n orientada a objetos, creaci\xF3n de APIs REST, WebSockets, manejo de dependencias con Maven y ejecuci\xF3n en servidores de aplicaciones. Experiencia integrando backend con frontend.",3,"title","secondTitle"],["content","Uso avanzado de TypeScript en aplicaciones Angular, tipado est\xE1tico, gen\xE9ricos, manejo de estructuras de datos y l\xF3gica de negocio mantenible.",3,"title","secondTitle"],["content","Desarrollo de scripts y aplicaciones backend sencillas, automatizaci\xF3n de tareas y consumo de APIs.",3,"title","secondTitle"],["content","Desarrollo de aplicaciones y scripts, principalmente en entornos de creaci\xF3n interactiva y motores de juego.",3,"title","secondTitle"],["content","Uso de JavaScript para complementar funcionalidades frontend y comprensi\xF3n de su integraci\xF3n con frameworks modernos.",3,"title","secondTitle"],["content","Conocimientos b\xE1sicos para desarrollo web backend y mantenimiento de aplicaciones existentes.",3,"title","secondTitle"],["content","Maquetaci\xF3n de interfaces web, estructuraci\xF3n sem\xE1ntica y dise\xF1o responsive adaptable a distintos dispositivos.",3,"title","secondTitle"],["content","Uso intensivo de formatos de intercambio de datos en APIs REST, configuraci\xF3n de servicios y comunicaci\xF3n entre sistemas.",3,"title","secondTitle"],["content","Consultas a bases de datos relacionales, operaciones CRUD y comprensi\xF3n de modelos de datos.",3,"title","secondTitle"],["content","Creaci\xF3n de servicios REST, controladores, inyecci\xF3n de dependencias y estructuraci\xF3n de proyectos backend.",3,"title","secondTitle"],["content","Desarrollo de aplicaciones SPA, consumo de APIs REST, componentes, servicios y manejo de estado con TypeScript.",3,"title","secondTitle"],["content","Uso de Ionic para el desarrollo de aplicaciones h\xEDbridas y adaptaci\xF3n de interfaces a dispositivos m\xF3viles.",3,"title","secondTitle"],["content","Conocimientos b\xE1sicos del runtime para ejecuci\xF3n de aplicaciones JavaScript y soporte a herramientas de desarrollo.",3,"title","secondTitle"],["content","Uso de bases de datos relacionales, consultas SQL, gesti\xF3n de datos y conexi\xF3n desde aplicaciones backend.",3,"title","secondTitle"],["content","Uso de bases de datos NoSQL y BaaS para almacenamiento de datos, autenticaci\xF3n y servicios en tiempo real.",3,"title","secondTitle"],["content","Uso de mensajer\xEDa ligera para comunicaci\xF3n entre dispositivos y sistemas distribuidos mediante el protocolo MQTT.",3,"title","secondTitle"],["content","Conocimientos en sistemas de mensajer\xEDa y streaming para comunicaci\xF3n as\xEDncrona entre servicios.",3,"title","secondTitle"],["content","Control de versiones, trabajo con ramas, resoluci\xF3n de conflictos y gesti\xF3n de repositorios.",3,"title","secondTitle"],["content","Creaci\xF3n y uso de contenedores para entornos de desarrollo y despliegue de servicios backend.",3,"title","secondTitle"],["content","Uso de pipelines b\xE1sicos para integraci\xF3n y automatizaci\xF3n de procesos de build.",3,"title","secondTitle"],["content","Gesti\xF3n de tareas, seguimiento de proyectos y trabajo colaborativo con metodolog\xEDas \xE1giles.",3,"title","secondTitle"],["content","Desarrollo y compilaci\xF3n de aplicaciones m\xF3viles, integraci\xF3n con funcionalidades nativas y despliegue en dispositivos f\xEDsicos.",3,"title","secondTitle"],["content","Desarrollo de proyectos interactivos y videojuegos, l\xF3gica de juego y creaci\xF3n visual.",3,"title","secondTitle"],["content","Conocimientos iniciales en motores gr\xE1ficos y desarrollo de experiencias interactivas.",3,"title","secondTitle"]],template:function(n,r){n&1&&(F(0,"div",0),Qn(1,nH,11,0,"ng-container",1)(2,rH,7,6,"ng-container",1)(3,iH,29,48,"ng-container",1),U()),n&2&&(H(),ee("ngIf",r.view==="menu"),H(),ee("ngIf",r.view==="experience"),H(),ee("ngIf",r.view==="technologies"))},dependencies:[Je,vi,jh],styles:[".experience-wrapper[_ngcontent-%COMP%]{display:flex;gap:2rem;width:100%;height:100%;max-width:900px;margin:0 auto;align-items:anchor-center}.experience-card[_ngcontent-%COMP%]{flex:1;padding:2.5rem;background:#ffffff0a;border:1px solid rgba(255,255,255,.08);cursor:pointer;transition:all .35s ease;position:relative}.experience-card[_ngcontent-%COMP%]:hover{background:#ffffff14;transform:translateY(-6px)}.experience-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem;letter-spacing:.08em;margin-bottom:1rem;text-transform:uppercase}.experience-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;opacity:.85}.experience-card.experience[_ngcontent-%COMP%]{border-left:4px solid #6aa9ff}.experience-card.technologies[_ngcontent-%COMP%]{border-left:4px solid #7dffb3}.experience-detail[_ngcontent-%COMP%]{width:100%;height:100%;align-content:center;position:relative}.back-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6aa9ff;font-size:1rem;cursor:pointer;margin-bottom:1.5rem;position:absolute;top:0}.detail-scroll[_ngcontent-%COMP%]{max-height:93%;overflow-y:auto;padding-right:.75rem}.detail-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.detail-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff40;border-radius:3px}"]})};var Bh=class t{abierta=!1;toggleCarta(){this.abierta=!this.abierta}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ke({type:t,selectors:[["app-about-panel"]],decls:47,vars:2,consts:[[1,"card",3,"click"],[1,"interior"],[1,"borde"],[1,"solapa"],[1,"papel"],[1,"contenido-carta"],[1,"texto-carta"],[1,"cuerpo-sobre"]],template:function(n,r){n&1&&(F(0,"div",0),Me("click",function(){return r.toggleCarta()}),Ae(1,"div",1)(2,"div",2)(3,"div",3),F(4,"div",4)(5,"div",5)(6,"div",6)(7,"p")(8,"strong"),q(9,"Me llamo Felipe Izquierdo Romero."),U()(),F(10,"p"),q(11," Soy desarrollador "),F(12,"strong"),q(13,"Full-Stack"),U(),q(14," especializado en "),F(15,"strong"),q(16,"Java, Spring Boot y Angular"),U(),q(17,". "),U(),F(18,"p"),q(19," Desarrollo aplicaciones para "),F(20,"strong"),q(21,"Web y Android"),U(),q(22," con el objetivo principal de la "),F(23,"strong"),q(24,"escalabilidad"),U(),q(25," y la "),F(26,"strong"),q(27,"sostenibilidad"),U(),q(28,". Concentro mi trabajo en crear buenas estructuras y aplicar buenas pr\xE1cticas de programaci\xF3n. "),U(),F(29,"p"),q(30," Me encanta trabajar en equipo para buscar soluciones a los problemas que surgen al desarrollar nuevas funcionalidades. "),U(),F(31,"h4"),q(32,"\xBFPor qu\xE9 debo ser su elecci\xF3n?"),U(),F(33,"ul")(34,"li"),q(35,"Anal\xEDtico"),U(),F(36,"li"),q(37,"Resolutivo"),U(),F(38,"li"),q(39,"Ordenado"),U(),F(40,"li"),q(41,"Comunicativo"),U(),F(42,"li"),q(43,"Implicado"),U(),F(44,"li"),q(45,"En\xE9rgico"),U()()()()(),Ae(46,"div",7),U()),n&2&&mt("abierta",r.abierta)},styles:[".card[_ngcontent-%COMP%]{position:relative;width:100%;height:80%;cursor:pointer;border-radius:35px;transform:translate(0) scale(.5);transition:transform .5s ease}.borde[_ngcontent-%COMP%]{position:absolute;top:0;left:0;border-radius:35px;width:100%;height:100%;background-color:#000;clip-path:polygon(0 0,1% 0,50% 49%,99% 0,100% 0,50% 50%);z-index:4}.cuerpo-sobre[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:var(--color-card);border-radius:35px;width:100%;height:100%;clip-path:polygon(50% 50%,100% 0%,100% 100%,0 100%,0 0%);z-index:2}.sello[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:80px;height:80px;border-radius:50%;transform:translate(-50%,-50%);transition:transform .4s ease,opacity .3s ease;z-index:4;display:flex;align-items:center;justify-content:center}.sello[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;border-radius:50%;pointer-events:none}.solapa[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:var(--color-card);clip-path:polygon(0 0,50% 50%,100% 0);transform-origin:top center;transform:rotateX(0);transition:transform .6s ease;z-index:2;border-radius:35px}.interior[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#000;border-radius:35px}.papel[_ngcontent-%COMP%]{position:absolute;bottom:0;left:10%;width:80%;height:90%;background-color:var(--color-paper-card);border-radius:3px;box-shadow:0 14px 50px #0003;transition:transform .6s ease,height .6s ease,opacity .3s ease;z-index:1;opacity:0}.texto-carta[_ngcontent-%COMP%]{color:#000}.card.abierta[_ngcontent-%COMP%]   .solapa[_ngcontent-%COMP%]{transform:rotateX(180deg);z-index:0}.card[_ngcontent-%COMP%]:not(.abierta)   .solapa[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_solapa-subir-z .6s forwards}.card.abierta[_ngcontent-%COMP%]   .papel[_ngcontent-%COMP%]{height:160%;transform:translateY(-40%);transition-delay:.4s;opacity:1}.card.abierta[_ngcontent-%COMP%]{transform:translateY(110%)}@keyframes _ngcontent-%COMP%_solapa-subir-z{0%{z-index:1}99%{z-index:1}to{z-index:3}}"]})};function oH(t,e){t&1&&Ae(0,"div")}function sH(t,e){t&1&&Ae(0,"app-experience-panel")}function aH(t,e){t&1&&Ae(0,"app-about-panel")}var $h=class t{visible=!1;activeTab=void 0;close=new Qe;pathImg="";onClose(){this.close.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ke({type:t,selectors:[["app-left-panel"]],inputs:{visible:"visible",activeTab:"activeTab",pathImg:"pathImg"},outputs:{close:"close"},decls:8,vars:9,consts:[[1,"tab-panel"],[1,"tab-panel-inner"],[1,"close-btn",3,"click"],[4,"ngIf"],[1,"tab-image"]],template:function(n,r){n&1&&(F(0,"div",0)(1,"div",1)(2,"button",2),Me("click",function(){return r.onClose()}),q(3,"\u2715"),U(),Qn(4,oH,1,0,"div",3)(5,sH,1,0,"app-experience-panel",3)(6,aH,1,0,"app-about-panel",3),U()(),Ae(7,"div",4)),n&2&&(mt("is-visible",r.visible),H(4),ee("ngIf",r.activeTab==="about"),H(),ee("ngIf",r.activeTab==="experience"),H(),ee("ngIf",r.activeTab==="about"),H(),ha("background-image","url("+r.pathImg+")"),mt("is-visible",r.visible))},dependencies:[Je,vi,Uh,Bh],styles:[".tab-panel[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:70vw;background:var(--color-panel-dark);color:#f5f5f5;box-shadow:8px 0 30px #00000073;transform:translate(-100%);transition:transform 1s ease;z-index:5;display:flex;align-items:center}.tab-image[_ngcontent-%COMP%]{visibility:hidden;position:fixed;top:0;right:0;left:auto;height:100vh;width:30vw;color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(-500%);transition:transform 1s ease;z-index:5;display:flex;align-items:center;background-size:170% 100%;background-position:center;background-repeat:no-repeat;z-index:0}.tab-image.is-visible[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.tab-panel.is-visible[_ngcontent-%COMP%]{transform:translate(0)}.tab-panel-inner[_ngcontent-%COMP%]{padding:3rem;width:100%;height:100%;box-sizing:border-box;align-content:center}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;border:none;background:transparent;color:#f5f5f5;font-size:1.8rem;cursor:pointer}.tab-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.4rem;margin-bottom:1.5rem;letter-spacing:.08em;text-transform:uppercase}.tab-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.6;max-width:32rem}"]})};function cH(t,e){if(t&1){let n=xo();F(0,"div",1),Me("click",function(){let i=hi(n).index,o=Dr();return fi(o.toggleExpand(i))}),F(1,"div",2)(2,"h2"),q(3),U(),F(4,"h4"),q(5),U(),F(6,"h5"),q(7),U(),F(8,"p"),q(9),U()(),F(10,"div",3)(11,"p"),q(12,"Otro texto que aparece al pulsar"),U()()()}if(t&2){let n=e.$implicit,r=e.index,i=Dr();mt("expanded",i.expandedIndex()===r),H(3),Yn(n.nombre),H(2),Yn(n.entity),H(2),xg("",n.start," ",n.end,""),H(2),Yn(n.description)}}var Hh=class t{fireBaseService=x(ws);studiesSignal=cl([]);dataSubscription;expandedIndex=cl(null);toggleExpand(e){this.expandedIndex.set(this.expandedIndex()===e?null:e)}ngOnInit(){this.setDocumentData()}ngOnDestroy(){this.dataSubscription?.unsubscribe()}setDocumentData(){this.dataSubscription=this.fireBaseService.getDocument("ESTUDIOS/JsQdBul7oM8HeoebALwJ").subscribe({next:e=>{console.log("VALUE: ",e?.LISTA_DE_ESTUDIOS),this.studiesSignal.set(e?.LISTA_DE_ESTUDIOS??[])},error:e=>{console.error("Error en get document")}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ke({type:t,selectors:[["app-studies-panel"]],decls:1,vars:1,consts:[[3,"expanded","click",4,"ngFor","ngForOf"],[3,"click"],[1,"text","text-primary"],[1,"text","text-secondary"]],template:function(n,r){n&1&&Qn(0,cH,13,7,"div",0),n&2&&ee("ngForOf",r.studiesSignal())},dependencies:[Je,Tl],styles:["[_nghost-%COMP%]{display:block;width:100%}div[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1rem;background:var(--color-subpanel-child-dark);border-radius:8px;flex:1;overflow:hidden;position:relative}.text[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;transition:all .35s ease}.text-secondary[_ngcontent-%COMP%]{transform:translate(100%);opacity:0}div.expanded[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{transform:translate(-100%);opacity:0}div.expanded[_ngcontent-%COMP%]   .text-secondary[_ngcontent-%COMP%]{transform:translate(0);opacity:1}"]})};function uH(t,e){t&1&&Ae(0,"app-studies-panel",6)}function lH(t,e){t&1&&Ae(0,"div")}var zh=class t{visible=!1;title="default-text";contents="default-text";activeTab=void 0;close=new Qe;pathImg="";onClose(){this.close.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ke({type:t,selectors:[["app-right-panel"]],inputs:{visible:"visible",title:"title",contents:"contents",activeTab:"activeTab",pathImg:"pathImg"},outputs:{close:"close"},decls:7,vars:8,consts:[[1,"tab-panel"],[1,"tab-panel-inner"],[1,"close-btn",3,"click"],["class","studies-wrapper",4,"ngIf"],[4,"ngIf"],[1,"tab-image"],[1,"studies-wrapper"]],template:function(n,r){n&1&&(F(0,"div",0)(1,"div",1)(2,"button",2),Me("click",function(){return r.onClose()}),q(3,"\u2715"),U(),Qn(4,uH,1,0,"app-studies-panel",3)(5,lH,1,0,"div",4),U()(),Ae(6,"div",5)),n&2&&(mt("is-visible",r.visible),H(4),ee("ngIf",r.activeTab==="studies"),H(),ee("ngIf",r.activeTab==="contact"),H(),ha("background-image","url("+r.pathImg+")"),mt("is-visible",r.visible))},dependencies:[Je,vi,Hh],styles:[".tab-panel[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:auto;height:100vh;width:70vw;background:var(--color-panel-dark);color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(100%);transition:transform 1s ease;z-index:5;display:flex;flex-direction:column;align-items:stretch}.tab-image[_ngcontent-%COMP%]{visibility:hidden;position:fixed;top:0;left:0;right:auto;height:100vh;width:30vw;color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(500%);transition:transform 1s ease;z-index:5;display:flex;align-items:center;background-size:170% 100%;background-position:center;background-repeat:no-repeat;z-index:0}.tab-image.is-visible[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.tab-panel.is-visible[_ngcontent-%COMP%]{transform:translate(0)}.tab-panel-inner[_ngcontent-%COMP%]{padding:3rem;width:100%;box-sizing:border-box;height:100%}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;border:none;background:transparent;color:#f5f5f5;font-size:1.8rem;cursor:pointer}.tab-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.4rem;margin-bottom:1.5rem;letter-spacing:.08em;text-transform:uppercase}.tab-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.6;max-width:32rem}.studies-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--color-subpanel-dark);padding:1.5rem;border-radius:12px;box-sizing:border-box;display:flex;flex-direction:column;min-height:min-content;overflow:hidden}"]})};var qh=class t{activeTab=null;focusedTab=null;openTab(e){console.log("clicked: ",e),this.activeTab=e}closeTab(){this.activeTab=null}focusTab(e){this.focusedTab=e}getImagePath(){switch(this.activeTab){case"about":return"assets/SobreMi.jpg";case"experience":return"assets/Experiencia.jpg";case"studies":return"assets/Estudios.jpg";case"contact":return"assets/Contacto.png";case null:return"";default:return""}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ke({type:t,selectors:[["app-radial-tabs"]],decls:18,vars:10,consts:[[1,"stage"],[1,"cluster"],[1,"box"],[1,"item"],[1,"cell","c1",3,"click"],[1,"cell-title"],[1,"cell","c2",3,"click"],[1,"cell","c3",3,"click"],[1,"cell","c4",3,"click"],[3,"close","visible","activeTab","pathImg"]],template:function(n,r){n&1&&(F(0,"div",0)(1,"div",1),Ae(2,"div",2),F(3,"div",3)(4,"div",4),Me("click",function(){return r.openTab("about")}),F(5,"span",5),q(6,"ABOUT"),U()(),F(7,"div",6),Me("click",function(){return r.openTab("studies")}),F(8,"span",5),q(9,"STUDIES"),U()(),F(10,"div",7),Me("click",function(){return r.openTab("experience")}),F(11,"span",5),q(12,"EXPERIENCE"),U()(),F(13,"div",8),Me("click",function(){return r.openTab("contact")}),F(14,"span",5),q(15,"CONTACT"),U()()()(),F(16,"app-left-panel",9),Me("close",function(){return r.closeTab()}),U(),F(17,"app-right-panel",9),Me("close",function(){return r.closeTab()}),U()()),n&2&&(H(),mt("shift-left",r.activeTab==="about"||r.activeTab==="experience")("shift-right",r.activeTab==="contact"||r.activeTab==="studies"),H(15),ee("visible",r.activeTab==="about"||r.activeTab==="experience")("activeTab",r.activeTab==null?null:r.activeTab.valueOf())("pathImg",r.getImagePath()),H(),ee("visible",r.activeTab==="studies"||r.activeTab==="contact")("activeTab",r.activeTab==null?null:r.activeTab.valueOf())("pathImg",r.getImagePath()))},dependencies:[Je,$h,zh],styles:['.stage[_ngcontent-%COMP%]{position:fixed;inset:0;display:grid;place-items:center;background:transparent}.cluster[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:10;transition:transform 1.5s cubic-bezier(.22,1,.36,1)}.cluster.shift-right[_ngcontent-%COMP%]{transform:translate(-78vmin) scale(.6)}.cluster.shift-left[_ngcontent-%COMP%]{transform:translate(78vmin) scale(.6)}.box[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:25vmin;height:25vmin;border-radius:40px;background:#000;transform:translate(-50%,-50%);cursor:pointer;z-index:2;transition:transform .4s ease}.item[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:95vmin;height:95vmin;border-radius:60px;background:#2674b8;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;background:transparent;padding:30px;transform:translate(-50%,-50%) scale(.2) translateZ(0);transition:transform .4s ease;will-change:transform}.box[_ngcontent-%COMP%]:hover, .cluster[_ngcontent-%COMP%]:hover   .box[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(2)}.cluster[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.cell[_ngcontent-%COMP%]{position:relative;font-family:var(--font-title);font-weight:700;background-size:100% 100%;text-align:center;overflow:hidden;cursor:pointer}.cell[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#00000073;transition:background .3s ease;z-index:1}.cell[_ngcontent-%COMP%]:hover:before{background:#0000001a}.cell-title[_ngcontent-%COMP%]{position:absolute;z-index:2;left:0;right:0;-webkit-text-stroke:1px black;text-shadow:2px 2px 4px #000000;color:#fff;font-size:7vmin;pointer-events:none}.c3[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%], .c4[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%]{top:auto;bottom:40px;transform:none}.c1[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%], .c2[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%]{top:40px;bottom:auto;transform:none}.c1[_ngcontent-%COMP%]{background-image:url("./media/SobreMi-5D6ISES6.jpg");border-radius:20px 0}.c2[_ngcontent-%COMP%]{background-image:url("./media/Estudios-FSLODNUG.jpg");border-radius:0 20px}.c3[_ngcontent-%COMP%]{background-image:url("./media/Experiencia-MNYEGCAQ.jpg");border-radius:0 20px}.c4[_ngcontent-%COMP%]{background-image:url("./media/Contacto-CLP3TUUS.png");border-radius:20px 0}']})};var Wh={production:!1,firebaseConfig:{apiKey:"AIzaSyBF38aXP_jKP6WBKJp78cZGjGmpwvLt_j8",authDomain:"cv-web-angular.firebaseapp.com",projectId:"cv-web-angular",storageBucket:"cv-web-angular.firebasestorage.app",messagingSenderId:"119785680877",appId:"1:119785680877:web:27a7c5644fddd90876c1e4",measurementId:"G-0QL3DQG5NC"}};var Gh=class t{environment=Wh;fireBaseService=x(ws);personalData=this.fireBaseService.getPersonalData();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ke({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(n,r){n&1&&(F(0,"div"),Ae(1,"app-radial-tabs"),U())},dependencies:[Je,qh],encapsulation:2})};var Kh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ke({type:t,selectors:[["app-notfound"]],decls:2,vars:0,template:function(n,r){n&1&&(F(0,"p"),q(1,"notfound works!"),U())},encapsulation:2})};var mR=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Gh},{path:"**",component:Kh}];var _R="@firebase/installations",J_="0.6.18";var IR=1e4,ER=`w:${J_}`,wR="FIS_v2",dH="https://firebaseinstallations.googleapis.com/v1",hH=60*60*1e3,fH="installations",pH="Installations";var gH={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wi=new Dt(fH,pH,gH);function TR(t){return t instanceof at&&t.code.includes("request-failed")}function bR({projectId:t}){return`${dH}/projects/${t}/installations`}function DR(t){return{token:t.token,requestStatus:2,expiresIn:yH(t.expiresIn),creationTime:Date.now()}}function CR(t,e){return v(this,null,function*(){let r=(yield e.json()).error;return Wi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function SR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function mH(t,{refreshToken:e}){let n=SR(t);return n.append("Authorization",vH(e)),n}function AR(t){return v(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function yH(t){return Number(t.replace("s","000"))}function vH(t){return`${wR} ${t}`}function _H(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let o=bR(t),s=SR(t),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={fid:n,authVersion:wR,appId:t.appId,sdkVersion:ER},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield AR(()=>fetch(o,l));if(h.ok){let p=yield h.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:DR(p.authToken)}}else throw yield CR("Create Installation",h)})}function RR(t){return new Promise(e=>{setTimeout(e,t)})}function IH(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var EH=/^[cdef][\w-]{21}$/,Z_="";function wH(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=TH(t);return EH.test(n)?n:Z_}catch{return Z_}}function TH(t){return IH(t).substr(0,22)}function Yh(t){return`${t.appName}!${t.appId}`}var NR=new Map;function MR(t,e){let n=Yh(t);PR(n,e),bH(n,e)}function PR(t,e){let n=NR.get(t);if(n)for(let r of n)r(e)}function bH(t,e){let n=DH();n&&n.postMessage({key:t,fid:e}),CH()}var qi=null;function DH(){return!qi&&"BroadcastChannel"in self&&(qi=new BroadcastChannel("[Firebase] FID Change"),qi.onmessage=t=>{PR(t.data.key,t.data.fid)}),qi}function CH(){NR.size===0&&qi&&(qi.close(),qi=null)}var SH="firebase-installations-database",AH=1,Gi="firebase-installations-store",Q_=null;function X_(){return Q_||(Q_=yd(SH,AH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gi)}}})),Q_}function Qh(t,e){return v(this,null,function*(){let n=Yh(t),i=(yield X_()).transaction(Gi,"readwrite"),o=i.objectStore(Gi),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&MR(t,e.fid),e})}function xR(t){return v(this,null,function*(){let e=Yh(t),r=(yield X_()).transaction(Gi,"readwrite");yield r.objectStore(Gi).delete(e),yield r.done})}function Zh(t,e){return v(this,null,function*(){let n=Yh(t),i=(yield X_()).transaction(Gi,"readwrite"),o=i.objectStore(Gi),s=yield o.get(n),a=e(s);return a===void 0?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&MR(t,a.fid),a})}function eI(t){return v(this,null,function*(){let e,n=yield Zh(t.appConfig,r=>{let i=RH(r),o=NH(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Z_?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function RH(t){let e=t||{fid:wH(),registrationStatus:0};return kR(e)}function NH(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Wi.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=MH(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:PH(t)}:{installationEntry:e}}function MH(t,e){return v(this,null,function*(){try{let n=yield _H(t,e);return Qh(t.appConfig,n)}catch(n){throw TR(n)&&n.customData.serverCode===409?yield xR(t.appConfig):yield Qh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function PH(t){return v(this,null,function*(){let e=yield yR(t.appConfig);for(;e.registrationStatus===1;)yield RR(100),e=yield yR(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield eI(t);return r||n}return e})}function yR(t){return Zh(t,e=>{if(!e)throw Wi.create("installation-not-found");return kR(e)})}function kR(t){return xH(t)?{fid:t.fid,registrationStatus:0}:t}function xH(t){return t.registrationStatus===1&&t.registrationTime+IR<Date.now()}function kH(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let o=OH(t,n),s=mH(t,n),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={installation:{sdkVersion:ER,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield AR(()=>fetch(o,l));if(h.ok){let p=yield h.json();return DR(p)}else throw yield CR("Generate Auth Token",h)})}function OH(t,{fid:e}){return`${bR(t)}/${e}/authTokens:generate`}function tI(t,e=!1){return v(this,null,function*(){let n,r=yield Zh(t.appConfig,o=>{if(!OR(o))throw Wi.create("not-registered");let s=o.authToken;if(!e&&VH(s))return o;if(s.requestStatus===1)return n=FH(t,e),o;{if(!navigator.onLine)throw Wi.create("app-offline");let a=UH(o);return n=LH(t,a),a}});return n?yield n:r.authToken})}function FH(t,e){return v(this,null,function*(){let n=yield vR(t.appConfig);for(;n.authToken.requestStatus===1;)yield RR(100),n=yield vR(t.appConfig);let r=n.authToken;return r.requestStatus===0?tI(t,e):r})}function vR(t){return Zh(t,e=>{if(!OR(e))throw Wi.create("not-registered");let n=e.authToken;return BH(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function LH(t,e){return v(this,null,function*(){try{let n=yield kH(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Qh(t.appConfig,r),n}catch(n){if(TR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield xR(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Qh(t.appConfig,r)}throw n}})}function OR(t){return t!==void 0&&t.registrationStatus===2}function VH(t){return t.requestStatus===2&&!jH(t)}function jH(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+hH}function UH(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function BH(t){return t.requestStatus===1&&t.requestTime+IR<Date.now()}function $H(t){return v(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield eI(e);return r?r.catch(console.error):tI(e).catch(console.error),n.fid})}function HH(t,e=!1){return v(this,null,function*(){let n=t;return yield zH(n),(yield tI(n,e)).token})}function zH(t){return v(this,null,function*(){let{registrationPromise:e}=yield eI(t);e&&(yield e)})}function qH(t){if(!t||!t.options)throw Y_("App Configuration");if(!t.name)throw Y_("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Y_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Y_(t){return Wi.create("missing-app-config-values",{valueName:t})}var FR="installations",WH="installations-internal",GH=t=>{let e=t.getProvider("app").getImmediate(),n=qH(e),r=Kt(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},KH=t=>{let e=t.getProvider("app").getImmediate(),n=Kt(e,FR).getImmediate();return{getId:()=>$H(n),getToken:i=>HH(n,i)}};function QH(){ct(new Le(FR,GH,"PUBLIC")),ct(new Le(WH,KH,"PRIVATE"))}QH();Ie(_R,J_);Ie(_R,J_,"esm2017");var Jh="analytics",YH="firebase_id",ZH="origin",JH=60*1e3,XH="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cI="https://www.googletagmanager.com/gtag/js";var xt=new Gt("@firebase/analytics");var e4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ut=new Dt("analytics","Analytics",e4);function t4(t){if(!t.startsWith(cI)){let e=Ut.create("invalid-gtag-resource",{gtagURL:t});return xt.warn(e.message),""}return t}function HR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function n4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function r4(t,e){let n=n4("firebase-js-sdk-policy",{createScriptURL:t4}),r=document.createElement("script"),i=`${cI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function i4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function o4(t,e,n,r,i,o){return v(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let u=(yield HR(n)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){xt.error(a)}t("config",i,o)})}function s4(t,e,n,r,i){return v(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield HR(n);for(let u of s){let l=a.find(p=>p.measurementId===u),h=l&&e[l.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){xt.error(o)}})}function a4(t,e,n,r){function i(o,...s){return v(this,null,function*(){try{if(o==="event"){let[a,u]=s;yield s4(t,e,n,a,u)}else if(o==="config"){let[a,u]=s;yield o4(t,e,n,r,a,u)}else if(o==="consent"){let[a,u]=s;t("consent",a,u)}else if(o==="get"){let[a,u,l]=s;t("get",a,u,l)}else if(o==="set"){let[a]=s;t("set",a)}else t(o,...s)}catch(a){xt.error(a)}})}return i}function c4(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=a4(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function u4(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(cI)&&n.src.includes(t))return n;return null}var l4=30,d4=1e3,rI=class{constructor(e={},n=d4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},zR=new rI;function h4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function f4(t){return v(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:h4(r)},o=XH.replace("{app-id}",n),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let u=yield s.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw Ut.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function p4(r){return v(this,arguments,function*(t,e=zR,n){let{appId:i,apiKey:o,measurementId:s}=t.options;if(!i)throw Ut.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw Ut.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new iI;return setTimeout(()=>v(null,null,function*(){u.abort()}),n!==void 0?n:JH),qR({appId:i,apiKey:o,measurementId:s},a,u,e)})}function qR(o,s,a){return v(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=zR){var u;let{appId:l,measurementId:h}=t;try{yield g4(r,e)}catch(p){if(h)return xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:h};throw p}try{let p=yield f4(t);return i.deleteThrottleMetadata(l),p}catch(p){let m=p;if(!m4(m)){if(i.deleteThrottleMetadata(l),h)return xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:h};throw p}let y=Number((u=m?.customData)===null||u===void 0?void 0:u.httpStatus)===503?pd(n,i.intervalMillis,l4):pd(n,i.intervalMillis),C={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return i.setThrottleMetadata(l,C),xt.debug(`Calling attemptFetch again in ${y} millis`),qR(t,C,r,i)}})}function g4(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Ut.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function m4(t){if(!(t instanceof at)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var iI=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var oI;function y4(t,e,n,r,i){return v(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}})}var sI;function v4(t){sI=t}function _4(t){oI=t}function I4(){return v(this,null,function*(){if(Di())try{yield fd()}catch(t){return xt.warn(Ut.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return xt.warn(Ut.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function E4(t,e,n,r,i,o,s){return v(this,null,function*(){var a;let u=p4(t);u.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&xt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>xt.error(y)),e.push(u);let l=I4().then(y=>{if(y)return r.getId()}),[h,p]=yield Promise.all([u,l]);u4(o)||r4(o,h.measurementId),sI&&(i("consent","default",sI),v4(void 0)),i("js",new Date);let m=(a=s?.config)!==null&&a!==void 0?a:{};return m[ZH]="firebase",m.update=!0,p!=null&&(m[YH]=p),i("config",h.measurementId,m),oI&&(i("set",oI),_4(void 0)),h.measurementId})}var aI=class{constructor(e){this.app=e}_delete(){return delete Tc[this.app.options.appId],Promise.resolve()}},Tc={},LR=[],VR={},nI="dataLayer",w4="gtag",jR,WR,UR=!1;function T4(){let t=[];if(hd()&&t.push("This is a browser extension environment."),y0()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ut.create("invalid-analytics-context",{errorInfo:e});xt.warn(n.message)}}function b4(t,e,n){T4();let r=t.options.appId;if(!r)throw Ut.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ut.create("no-api-key");if(Tc[r]!=null)throw Ut.create("already-exists",{id:r});if(!UR){i4(nI);let{wrappedGtag:o,gtagCore:s}=c4(Tc,LR,VR,nI,w4);WR=o,jR=s,UR=!0}return Tc[r]=E4(t,LR,VR,e,jR,nI,n),new aI(t)}function GR(t=bn()){t=Ue(t);let e=Kt(t,Jh);return e.isInitialized()?e.getImmediate():KR(t)}function KR(t,e={}){let n=Kt(t,Jh);if(n.isInitialized()){let i=n.getImmediate();if(Wt(e,n.getOptions()))return i;throw Ut.create("already-initialized")}return n.initialize({options:e})}function QR(t,e,n,r){t=Ue(t),y4(WR,Tc[t.app.options.appId],e,n,r).catch(i=>xt.error(i))}var BR="@firebase/analytics",$R="0.10.17";function D4(){ct(new Le(Jh,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return b4(r,i,n)},"PUBLIC")),ct(new Le("analytics-internal",t,"PRIVATE")),Ie(BR,$R),Ie(BR,$R,"esm2017");function t(e){try{let n=e.getProvider(Jh).getImmediate();return{logEvent:(r,i,o)=>QR(n,r,i,o)}}catch(n){throw Ut.create("interop-component-reg-failed",{reason:n})}}}D4();var bc=class{constructor(e){return e}},YR="analytics",uI=class{constructor(){return xr(YR)}};var ZR=Pt(GR,!0);var NX=Math.floor(Math.random()*(2**32-1))-2**31;var lI=new $("angularfire2.analytics-instances");function C4(t,e,n){if(!Dl(n))return null;let r=Ai(YR,t,e);return r&&new bc(r)}function S4(t){return(e,n,r)=>{if(!Dl(r))return null;let i=e.runOutsideAngular(()=>t(n));return new bc(i)}}var A4={provide:uI,deps:[[new gt,lI]]},R4={provide:bc,useFactory:C4,deps:[[new gt,lI],cn,_n]};function JR(t,...e){return Ie("angularfire",Dn.full,"analytics"),on([R4,A4,{provide:lI,useFactory:S4(t),multi:!0,deps:[_e,Ye,_n,Cn,nr,...e]}])}Kg(sd,{providers:[vm(mR),Kb({eventCoalescing:!0}),O0(()=>F0(Wh.firebaseConfig)),dR(()=>fR()),OC(()=>FC()),JR(()=>ZR())]}).catch(t=>console.error(t));
