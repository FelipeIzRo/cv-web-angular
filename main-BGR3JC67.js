var PN=Object.defineProperty,xN=Object.defineProperties;var kN=Object.getOwnPropertyDescriptors;var dE=Object.getOwnPropertySymbols,ON=Object.getPrototypeOf,FN=Object.prototype.hasOwnProperty,LN=Object.prototype.propertyIsEnumerable,VN=Reflect.get;var hE=(t,e,n)=>e in t?PN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})FN.call(e,n)&&hE(t,n,e[n]);if(dE)for(var n of dE(e))LN.call(e,n)&&hE(t,n,e[n]);return t},Te=(t,e)=>xN(t,kN(e));var gr=(t,e,n)=>VN(ON(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function fE(t,e){return Object.is(t,e)}var qe=null,$c=!1,Df=1,dn=Symbol("SIGNAL");function pe(t){let e=qe;return qe=t,e}function Cf(){return qe}var Hc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function zc(t){if($c)throw new Error("");if(qe===null)return;qe.consumerOnSignalRead(t);let e=qe.nextProducerIndex++;if(Wc(qe),e<qe.producerNode.length&&qe.producerNode[e]!==t&&$s(qe)){let n=qe.producerNode[e];qc(n,qe.producerIndexOfThis[e])}qe.producerNode[e]!==t&&(qe.producerNode[e]=t,qe.producerIndexOfThis[e]=$s(qe)?yE(t,qe,e):0),qe.producerLastReadVersion[e]=t.version}function pE(){Df++}function gE(t){if(!($s(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Df)){if(!t.producerMustRecompute(t)&&!Nf(t)){bf(t);return}t.producerRecomputeValue(t),bf(t)}}function Sf(t){if(t.liveConsumerNode===void 0)return;let e=$c;$c=!0;try{for(let n of t.liveConsumerNode)n.dirty||jN(n)}finally{$c=e}}function Af(){return qe?.consumerAllowSignalWrites!==!1}function jN(t){t.dirty=!0,Sf(t),t.consumerMarkedDirty?.(t)}function bf(t){t.dirty=!1,t.lastCleanEpoch=Df}function Rf(t){return t&&(t.nextProducerIndex=0),pe(t)}function mE(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if($s(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)qc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Nf(t){Wc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(gE(n),r!==n.version))return!0}return!1}function Mf(t){if(Wc(t),$s(t))for(let e=0;e<t.producerNode.length;e++)qc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function yE(t,e,n){if(vE(t),t.liveConsumerNode.length===0&&_E(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=yE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function qc(t,e){if(vE(t),t.liveConsumerNode.length===1&&_E(t))for(let r=0;r<t.producerNode.length;r++)qc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Wc(i),i.producerIndexOfThis[r]=e}}function $s(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function vE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function _E(t){return t.producerNode!==void 0}function UN(){throw new Error}var IE=UN;function EE(t){IE(t)}function Pf(t){IE=t}var BN=null;function xf(t,e){let n=Object.create(Gc);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(zc(n),n.value);return r[dn]=n,r}function Hs(t,e){Af()||EE(t),t.equal(t.value,e)||(t.value=e,$N(t))}function kf(t,e){Af()||EE(t),Hs(t,e(t.value))}var Gc=Te(F({},Hc),{equal:fE,value:void 0,kind:"signal"});function $N(t){t.version++,pE(),Sf(t),BN?.()}var Of;function zs(){return Of}function jn(t){let e=Of;return Of=t,e}var Kc=Symbol("NotFound");function Z(t){return typeof t=="function"}function Ji(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Qc=Ji(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Xr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Me=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof Qc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{wE(o)}catch(s){e=e??[],s instanceof Qc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Qc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)wE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Xr(n,e)}remove(e){let{_finalizers:n}=this;n&&Xr(n,e),e instanceof t&&e._removeParent(this)}};Me.EMPTY=(()=>{let t=new Me;return t.closed=!0,t})();var Ff=Me.EMPTY;function Yc(t){return t instanceof Me||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function wE(t){Z(t)?t():t.unsubscribe()}var Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xi={setTimeout(t,e,...n){let{delegate:r}=Xi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Xi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Zc(t){Xi.setTimeout(()=>{let{onUnhandledError:e}=Xt;if(e)e(t);else throw t})}function qs(){}var TE=Lf("C",void 0,void 0);function bE(t){return Lf("E",void 0,t)}function DE(t){return Lf("N",t,void 0)}function Lf(t,e,n){return{kind:t,value:e,error:n}}var ei=null;function eo(t){if(Xt.useDeprecatedSynchronousErrorHandling){let e=!ei;if(e&&(ei={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ei;if(ei=null,n)throw r}}else t()}function CE(t){Xt.useDeprecatedSynchronousErrorHandling&&ei&&(ei.errorThrown=!0,ei.error=t)}var ti=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Yc(e)&&e.add(this)):this.destination=YN}static create(e,n,r){return new to(e,n,r)}next(e){this.isStopped?jf(DE(e),this):this._next(e)}error(e){this.isStopped?jf(bE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jf(TE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KN=Function.prototype.bind;function Vf(t,e){return KN.call(t,e)}var Uf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Jc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Jc(r)}else Jc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Jc(n)}}},to=class extends ti{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Xt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Vf(e.next,o),error:e.error&&Vf(e.error,o),complete:e.complete&&Vf(e.complete,o)}):i=e}this.destination=new Uf(i)}};function Jc(t){Xt.useDeprecatedSynchronousErrorHandling?CE(t):Zc(t)}function QN(t){throw t}function jf(t,e){let{onStoppedNotification:n}=Xt;n&&Xi.setTimeout(()=>n(t,e))}var YN={closed:!0,next:qs,error:QN,complete:qs};var no=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(t){return t}function Xc(...t){return Bf(t)}function Bf(t){return t.length===0?Ot:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ce=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=JN(n)?n:new to(n,r,i);return eo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=SE(r),new r((i,o)=>{let s=new to({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[no](){return this}pipe(...n){return Bf(n)(this)}toPromise(n){return n=SE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function SE(t){var e;return(e=t??Xt.Promise)!==null&&e!==void 0?e:Promise}function ZN(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function JN(t){return t&&t instanceof ti||ZN(t)&&Yc(t)}function $f(t){return Z(t?.lift)}function de(t){return e=>{if($f(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(t,e,n,r,i){return new Hf(t,e,n,r,i)}var Hf=class extends ti{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ro(){return de((t,e)=>{let n=null;t._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var io=class extends ce{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$f(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let n=this.getSubject();e.add(this.source.subscribe(he(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return ro()(this)}};var AE=Ji(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class t extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new eu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new AE}next(n){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ff:(this.currentObservers=null,o.push(n),new Me(()=>{this.currentObservers=null,Xr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ce;return n.source=this,n}}return t.create=(e,n)=>new eu(e,n),t})(),eu=class extends rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ff}};var it=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var zf={now(){return(zf.delegate||Date).now()},delegate:void 0};var tu=class extends Me{constructor(e,n){super()}schedule(e,n=0){return this}};var Ws={setInterval(t,e,...n){let{delegate:r}=Ws;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ws;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var oo=class extends tu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ws.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ws.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Xr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var so=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};so.now=zf.now;var ao=class extends so{constructor(e,n=so.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var qf=new ao(oo);var nu=class extends oo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ru=class extends ao{};var Wf=new ru(nu);var Dt=new ce(t=>t.complete());function RE(t){return t&&Z(t.schedule)}function NE(t){return t[t.length-1]}function ME(t){return Z(NE(t))?t.pop():void 0}function mr(t){return RE(NE(t))?t.pop():void 0}function Gf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function PE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ni(t){return this instanceof ni?(this.v=t,this):new ni(t)}function kE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(N){return new Promise(function(R,L){o.push([y,N,R,L])>1||u(y,N)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof ni?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function OE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof PE=="function"?PE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var iu=t=>t&&typeof t.length=="number"&&typeof t!="function";function ou(t){return Z(t?.then)}function su(t){return Z(t[no])}function au(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function cu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function XN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var uu=XN();function lu(t){return Z(t?.[uu])}function du(t){return kE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ni(n.read());if(i)return yield ni(void 0);yield yield ni(r)}}finally{n.releaseLock()}})}function hu(t){return Z(t?.getReader)}function Ke(t){if(t instanceof ce)return t;if(t!=null){if(su(t))return eM(t);if(iu(t))return tM(t);if(ou(t))return nM(t);if(au(t))return FE(t);if(lu(t))return rM(t);if(hu(t))return iM(t)}throw cu(t)}function eM(t){return new ce(e=>{let n=t[no]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tM(t){return new ce(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function nM(t){return new ce(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Zc)})}function rM(t){return new ce(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function FE(t){return new ce(e=>{oM(t,e).catch(n=>e.error(n))})}function iM(t){return FE(du(t))}function oM(t,e){var n,r,i,o;return xE(this,void 0,void 0,function*(){try{for(n=OE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ct(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function yr(t,e=0){return de((n,r)=>{n.subscribe(he(r,i=>Ct(r,t,()=>r.next(i),e),()=>Ct(r,t,()=>r.complete(),e),i=>Ct(r,t,()=>r.error(i),e)))})}function vr(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function LE(t,e){return Ke(t).pipe(vr(e),yr(e))}function VE(t,e){return Ke(t).pipe(vr(e),yr(e))}function jE(t,e){return new ce(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function UE(t,e){return new ce(n=>{let r;return Ct(n,e,()=>{r=t[uu](),Ct(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function fu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ce(n=>{Ct(n,e,()=>{let r=t[Symbol.asyncIterator]();Ct(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function BE(t,e){return fu(du(t),e)}function $E(t,e){if(t!=null){if(su(t))return LE(t,e);if(iu(t))return jE(t,e);if(ou(t))return VE(t,e);if(au(t))return fu(t,e);if(lu(t))return UE(t,e);if(hu(t))return BE(t,e)}throw cu(t)}function ke(t,e){return e?$E(t,e):Ke(t)}function Q(...t){let e=mr(t);return ke(t,e)}function co(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new ce(e?i=>e.schedule(r,0,i):r)}function Kf(t){return!!t&&(t instanceof ce||Z(t.lift)&&Z(t.subscribe))}var Un=Ji(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function le(t,e){return de((n,r)=>{let i=0;n.subscribe(he(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:sM}=Array;function aM(t,e){return sM(e)?t(...e):t(e)}function HE(t){return le(e=>aM(t,e))}var{isArray:cM}=Array,{getPrototypeOf:uM,prototype:lM,keys:dM}=Object;function zE(t){if(t.length===1){let e=t[0];if(cM(e))return{args:e,keys:null};if(hM(e)){let n=dM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function hM(t){return t&&typeof t=="object"&&uM(t)===lM}function qE(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function pu(...t){let e=mr(t),n=ME(t),{args:r,keys:i}=zE(t);if(r.length===0)return ke([],e);let o=new ce(fM(r,e,i?s=>qE(i,s):Ot));return n?o.pipe(HE(n)):o}function fM(t,e,n=Ot){return r=>{WE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)WE(e,()=>{let l=ke(t[u],e),h=!1;l.subscribe(he(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function WE(t,e,n){t?Ct(n,t,e):e()}function GE(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?C(N):u.push(N),C=N=>{o&&e.next(N),l++;let R=!1;Ke(n(N,h++)).subscribe(he(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let L=u.shift();s?Ct(e,s,()=>C(L)):C(L)}m()}catch(L){e.error(L)}}))};return t.subscribe(he(e,y,()=>{p=!0,m()})),()=>{a?.()}}function We(t,e,n=1/0){return Z(e)?We((r,i)=>le((o,s)=>e(r,o,i,s))(Ke(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>GE(r,i,t,n)))}function KE(t=1/0){return We(Ot,t)}function QE(){return KE(1)}function uo(...t){return QE()(ke(t,mr(t)))}function gu(t){return new ce(e=>{Ke(t()).subscribe(e)})}function Bt(t,e){return de((n,r)=>{let i=0;n.subscribe(he(r,o=>t.call(e,o,i++)&&r.next(o)))})}function _r(t){return de((e,n)=>{let r=null,i=!1,o;r=e.subscribe(he(n,void 0,void 0,s=>{o=Ke(t(s,_r(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function YE(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(he(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function lo(t,e){return Z(e)?We(t,e,1):We(t,1)}function Ir(t){return de((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Bn(t){return t<=0?()=>Dt:de((e,n)=>{let r=0;e.subscribe(he(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function mu(t=pM){return de((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function pM(){return new Un}function Gs(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function $n(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,o)=>t(i,o,r)):Ot,Bn(1),n?Ir(e):mu(()=>new Un))}function ho(t){return t<=0?()=>Dt:de((e,n)=>{let r=[];e.subscribe(he(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Qf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Bt((i,o)=>t(i,o,r)):Ot,ho(1),n?Ir(e):mu(()=>new Un))}function yu(t,e){return de(YE(t,e,arguments.length>=2,!0))}function vu(...t){let e=mr(t);return de((n,r)=>{(e?uo(t,n,e):uo(t,n)).subscribe(r)})}function en(t,e){return de((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(he(r,u=>{i?.unsubscribe();let l=0,h=o++;Ke(t(u,h)).subscribe(i=he(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Yf(t){return de((e,n)=>{Ke(t).subscribe(he(n,()=>n.complete(),qs)),!n.closed&&e.subscribe(n)})}function ot(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(he(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ot}var gM="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,n){super(yM(e,n)),this.code=e}};function mM(t){return`NG0${Math.abs(t)}`}function yM(t,e){return`${mM(t)}${e?": "+e:""}`}var Vw=Symbol("InputSignalNode#UNSET"),vM=Te(F({},Gc),{transformFn:void 0,applyValueToInputSignal(t,e){Hs(t,e)}});function jw(t,e){let n=Object.create(vM);n.value=t,n.transformFn=e?.transform;function r(){if(zc(n),n.value===Vw){let i=null;throw new j(-950,i)}return n.value}return r[dn]=n,r}function aa(t){return{toString:t}.toString()}var _u="__parameters__";function _M(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Uw(t,e,n){return aa(()=>{let r=_M(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(_u)?u[_u]:Object.defineProperty(u,_u,{value:[]})[_u];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function St(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(St).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function ZE(t,e){return t?e?`${t} ${e}`:t:e||""}var IM=Ce({__forward_ref__:Ce});function Bw(t){return t.__forward_ref__=Bw,t.toString=function(){return St(this())},t}function Ht(t){return $w(t)?t():t}function $w(t){return typeof t=="function"&&t.hasOwnProperty(IM)&&t.__forward_ref__===Bw}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qu(t){return{providers:t.providers||[],imports:t.imports||[]}}function Yu(t){return JE(t,zw)||JE(t,qw)}function Hw(t){return Yu(t)!==null}function JE(t,e){return t.hasOwnProperty(e)?t[e]:null}function EM(t){let e=t&&(t[zw]||t[qw]);return e||null}function XE(t){return t&&(t.hasOwnProperty(ew)||t.hasOwnProperty(wM))?t[ew]:null}var zw=Ce({\u0275prov:Ce}),ew=Ce({\u0275inj:Ce}),qw=Ce({ngInjectableDef:Ce}),wM=Ce({ngInjectorDef:Ce}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ww(t){return t&&!!t.\u0275providers}var TM=Ce({\u0275cmp:Ce}),bM=Ce({\u0275dir:Ce}),DM=Ce({\u0275pipe:Ce}),CM=Ce({\u0275mod:Ce}),Cu=Ce({\u0275fac:Ce}),Zs=Ce({__NG_ELEMENT_ID__:Ce}),tw=Ce({__NG_ENV_ID__:Ce});function Su(t){return typeof t=="string"?t:t==null?"":String(t)}function SM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Su(t)}function Gw(t,e){throw new j(-200,t)}function Qp(t,e){throw new j(-201,!1)}var ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ne||{}),cp;function Kw(){return cp}function $t(t){let e=cp;return cp=t,e}function Qw(t,e,n){let r=Yu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ne.Optional)return null;if(e!==void 0)return e;Qp(t,"Injector")}var AM={},ri=AM,up="__NG_DI_FLAG__",Au=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?Kc:ri,r)}},Ru="ngTempTokenPath",RM="ngTokenPath",NM=/\n/gm,MM="\u0275",nw="__source";function PM(t,e=ne.Default){if(zs()===void 0)throw new j(-203,!1);if(zs()===null)return Qw(t,void 0,e);{let n=zs(),r;return n instanceof Au?r=n.injector:r=n,r.get(t,e&ne.Optional?null:void 0,e)}}function ie(t,e=ne.Default){return(Kw()||PM)(Ht(t),e)}function x(t,e=ne.Default){return ie(t,Zu(e))}function Zu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lp(t){let e=[];for(let n=0;n<t.length;n++){let r=Ht(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){let a=r[s],u=xM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ie(i,o))}else e.push(ie(r))}return e}function Yw(t,e){return t[up]=e,t.prototype[up]=e,t}function xM(t){return t[up]}function kM(t,e,n,r){let i=t[Ru];throw e[nw]&&i.unshift(e[nw]),t.message=OM(`
`+t.message,i,n,r),t[RM]=i,t[Ru]=null,t}function OM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==MM?t.slice(2):t;let i=St(e);if(Array.isArray(e))i=e.map(St).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):St(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(NM,`
  `)}`}var gt=Yw(Uw("Optional"),8);var FM=Yw(Uw("SkipSelf"),4);function yo(t,e){let n=t.hasOwnProperty(Cu);return n?t[Cu]:null}function Yp(t,e){t.forEach(n=>Array.isArray(n)?Yp(n,e):e(n))}function Zw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Nu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function LM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function VM(t,e,n){let r=ca(t,e);return r>=0?t[r|1]=n:(r=~r,LM(t,r,e,n)),r}function Zf(t,e){let n=ca(t,e);if(n>=0)return t[n|1]}function ca(t,e){return jM(t,e,1)}function jM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var vo={},nn=[],Js=new U(""),Jw=new U("",-1),Xw=new U(""),Mu=class{get(e,n=ri){if(n===ri){let r=new Error(`NullInjectorError: No provider for ${St(e)}!`);throw r.name="NullInjectorError",r}return n}};function eT(t,e){let n=t[CM]||null;if(!n&&e===!0)throw new Error(`Type ${St(t)} does not have '\u0275mod' property.`);return n}function _o(t){return t[TM]||null}function UM(t){return t[bM]||null}function BM(t){return t[DM]||null}function on(t){return{\u0275providers:t}}function $M(...t){return{\u0275providers:tT(!0,t),\u0275fromNgModule:!0}}function tT(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Yp(e,s=>{let a=s;dp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&nT(i,o),n}function nT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Zp(i,o=>{e(o,r)})}}function dp(t,e,n,r){if(t=Ht(t),!t)return!1;let i=null,o=XE(t),s=!o&&_o(t);if(!o&&!s){let u=t.ngModule;if(o=XE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)dp(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Yp(o.imports,h=>{dp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&nT(l,e)}if(!a){let l=yo(i)||(()=>new i);e({provide:i,useFactory:l,deps:nn},i),e({provide:Xw,useValue:i,multi:!0},i),e({provide:Js,useValue:()=>ie(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Zp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Zp(t,e){for(let n of t)Ww(n)&&(n=n.\u0275providers),Array.isArray(n)?Zp(n,e):e(n)}var HM=Ce({provide:String,useValue:Ce});function rT(t){return t!==null&&typeof t=="object"&&HM in t}function zM(t){return!!(t&&t.useExisting)}function qM(t){return!!(t&&t.useFactory)}function hp(t){return typeof t=="function"}var Ju=new U(""),Eu={},rw={},Jf;function Jp(){return Jf===void 0&&(Jf=new Mu),Jf}var At=class{},Xs=class extends At{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,pp(e,s=>this.processProvider(s)),this.records.set(Jw,fo(void 0,this)),i.has("environment")&&this.records.set(At,fo(void 0,this));let o=this.records.get(Ju);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Xw,nn,ne.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?Kc:ri,r)}destroy(){Qs(this),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return Qs(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Qs(this);let n=jn(this),r=$t(void 0),i;try{return e()}finally{jn(n),$t(r)}}get(e,n=ri,r=ne.Default){if(Qs(this),e.hasOwnProperty(tw))return e[tw](this);r=Zu(r);let i,o=jn(this),s=$t(void 0);try{if(!(r&ne.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=ZM(e)&&Yu(e);l&&this.injectableDefInScope(l)?u=fo(fp(e),Eu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&ne.Self?Jp():this.parent;return n=r&ne.Optional&&n===ri?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ru]=a[Ru]||[]).unshift(St(e)),o)throw a;return kM(a,e,"R3InjectorError",this.source)}else throw a}finally{$t(s),jn(o)}}resolveInjectorInitializers(){let e=pe(null),n=jn(this),r=$t(void 0),i;try{let o=this.get(Js,nn,ne.Self);for(let s of o)s()}finally{jn(n),$t(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(St(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ht(e);let n=hp(e)?e:Ht(e&&e.provide),r=GM(e);if(!hp(e)&&e.multi===!0){let i=this.records.get(n);i||(i=fo(void 0,Eu,!0),i.factory=()=>lp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=pe(null);try{return n.value===rw?Gw(St(e)):n.value===Eu&&(n.value=rw,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&YM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ht(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function fp(t){let e=Yu(t),n=e!==null?e.factory:yo(t);if(n!==null)return n;if(t instanceof U)throw new j(204,!1);if(t instanceof Function)return WM(t);throw new j(204,!1)}function WM(t){if(t.length>0)throw new j(204,!1);let n=EM(t);return n!==null?()=>n.factory(t):()=>new t}function GM(t){if(rT(t))return fo(void 0,t.useValue);{let e=KM(t);return fo(e,Eu)}}function KM(t,e,n){let r;if(hp(t)){let i=Ht(t);return yo(i)||fp(i)}else if(rT(t))r=()=>Ht(t.useValue);else if(qM(t))r=()=>t.useFactory(...lp(t.deps||[]));else if(zM(t))r=(i,o)=>ie(Ht(t.useExisting),o!==void 0&&o&ne.Optional?ne.Optional:void 0);else{let i=Ht(t&&(t.useClass||t.provide));if(QM(t))r=()=>new i(...lp(t.deps));else return yo(i)||fp(i)}return r}function Qs(t){if(t.destroyed)throw new j(205,!1)}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function QM(t){return!!t.deps}function YM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ZM(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function pp(t,e){for(let n of t)Array.isArray(n)?pp(n,e):n&&Ww(n)?pp(n.\u0275providers,e):e(n)}function Tt(t,e){let n;t instanceof Xs?(Qs(t),n=t):n=new Au(t);let r,i=jn(n),o=$t(void 0);try{return e()}finally{jn(i),$t(o)}}function iT(){return Kw()!==void 0||zs()!=null}function oT(t){if(!iT())throw new j(-203,!1)}function JM(t){return typeof t=="function"}var Wn=0,ge=1,X=2,wt=3,rn=4,sn=5,Pu=6,xu=7,Rt=8,Io=9,wr=10,pt=11,ea=12,iw=13,Ao=14,fn=15,Eo=16,po=17,wo=18,Xu=19,sT=20,Er=21,Xf=22,ku=23,zt=24,ep=25,pn=26,aT=1;var si=7,Ou=8,Fu=9,qt=10;function ii(t){return Array.isArray(t)&&typeof t[aT]=="object"}function Gn(t){return Array.isArray(t)&&t[aT]===!0}function Xp(t){return(t.flags&4)!==0}function Ro(t){return t.componentOffset>-1}function el(t){return(t.flags&1)===1}function di(t){return!!t.template}function Lu(t){return(t[X]&512)!==0}function No(t){return(t[X]&256)===256}var gp=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function cT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var eg=(()=>{let t=()=>uT;return t.ngInherit=!0,t})();function uT(t){return t.type.prototype.ngOnChanges&&(t.setInput=eP),XM}function XM(){let t=dT(this),e=t?.current;if(e){let n=t.previous;if(n===vo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function eP(t,e,n,r,i){let o=this.declaredInputs[r],s=dT(t)||tP(t,{previous:vo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new gp(l&&l.currentValue,n,u===vo),cT(t,e,i,n)}var lT="__ngSimpleChanges__";function dT(t){return t[lT]||null}function tP(t,e){return t[lT]=e}var ow=null;var Se=function(t,e=null,n){ow?.(t,e,n)},nP="svg",rP="math";function gn(t){for(;Array.isArray(t);)t=t[Wn];return t}function hT(t,e){return gn(e[t])}function Kn(t,e){return gn(e[t.index])}function fT(t,e){return t.data[e]}function Hn(t,e){let n=e[t];return ii(n)?n:n[Wn]}function tg(t){return(t[X]&128)===128}function iP(t){return Gn(t[wt])}function To(t,e){return e==null?null:t[e]}function pT(t){t[po]=0}function gT(t){t[X]&1024||(t[X]|=1024,tg(t)&&nl(t))}function oP(t,e){for(;t>0;)e=e[Ao],t--;return e}function tl(t){return!!(t[X]&9216||t[zt]?.dirty)}function mp(t){t[wr].changeDetectionScheduler?.notify(8),t[X]&64&&(t[X]|=1024),tl(t)&&nl(t)}function nl(t){t[wr].changeDetectionScheduler?.notify(0);let e=ai(t);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!tg(e)));)e=ai(e)}function mT(t,e){if(No(t))throw new j(911,!1);t[Er]===null&&(t[Er]=[]),t[Er].push(e)}function sP(t,e){if(t[Er]===null)return;let n=t[Er].indexOf(e);n!==-1&&t[Er].splice(n,1)}function ai(t){let e=t[wt];return Gn(e)?e[wt]:e}function yT(t){return t[xu]??=[]}function vT(t){return t.cleanup??=[]}var se={lFrame:ST(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var yp=!1;function aP(){return se.lFrame.elementDepthCount}function cP(){se.lFrame.elementDepthCount++}function uP(){se.lFrame.elementDepthCount--}function ng(){return se.bindingsEnabled}function lP(){return se.skipHydrationRootTNode!==null}function dP(t){return se.skipHydrationRootTNode===t}function hP(){se.skipHydrationRootTNode=null}function Ve(){return se.lFrame.lView}function yn(){return se.lFrame.tView}function hi(t){return se.lFrame.contextLView=t,t[Rt]}function fi(t){return se.lFrame.contextLView=null,t}function vn(){let t=_T();for(;t!==null&&t.type===64;)t=t.parent;return t}function _T(){return se.lFrame.currentTNode}function fP(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function pi(t,e){let n=se.lFrame;n.currentTNode=t,n.isParent=e}function rg(){return se.lFrame.isParent}function IT(){se.lFrame.isParent=!1}function ET(){return yp}function sw(t){let e=yp;return yp=t,e}function pP(){return se.lFrame.bindingIndex}function gP(t){return se.lFrame.bindingIndex=t}function wT(){return se.lFrame.bindingIndex++}function TT(t){let e=se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function mP(){return se.lFrame.inI18n}function yP(t,e){let n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,vp(e)}function vP(){return se.lFrame.currentDirectiveIndex}function vp(t){se.lFrame.currentDirectiveIndex=t}function _P(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function bT(t){se.lFrame.currentQueryIndex=t}function IP(t){let e=t[ge];return e.type===2?e.declTNode:e.type===1?t[sn]:null}function DT(t,e,n){if(n&ne.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ne.Host);)if(i=IP(o),i===null||(o=o[Ao],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=se.lFrame=CT();return r.currentTNode=e,r.lView=t,!0}function ig(t){let e=CT(),n=t[ge];se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function CT(){let t=se.lFrame,e=t===null?null:t.child;return e===null?ST(t):e}function ST(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function AT(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var RT=AT;function og(){let t=AT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function EP(t){return(se.lFrame.contextLView=oP(t,se.lFrame.contextLView))[Rt]}function gi(){return se.lFrame.selectedIndex}function ci(t){se.lFrame.selectedIndex=t}function wP(){let t=se.lFrame;return fT(t.tView,t.selectedIndex)}function TP(){return se.lFrame.currentNamespace}var NT=!0;function rl(){return NT}function il(t){NT=t}function bP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=uT(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function sg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function wu(t,e,n){MT(t,e,3,n)}function Tu(t,e,n,r){(t[X]&3)===n&&MT(t,e,n,r)}function tp(t,e){let n=t[X];(n&3)===e&&(n&=16383,n+=1,t[X]=n)}function MT(t,e,n,r){let i=r!==void 0?t[po]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[po]+=65536),(a<o||o==-1)&&(DP(t,n,e,u),t[po]=(t[po]&4294901760)+u+2),u++}function aw(t,e){Se(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),Se(5,t,e)}}function DP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[X]>>14<t[po]>>16&&(t[X]&3)===e&&(t[X]+=16384,aw(a,o)):aw(a,o)}var mo=-1,ta=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function CP(t){return(t.flags&8)!==0}function SP(t){return(t.flags&16)!==0}function AP(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];NP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function RP(t){return t===3||t===4||t===6}function NP(t){return t.charCodeAt(0)===64}function ol(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?cw(t,n,i,null,e[++r]):cw(t,n,i,null,null))}}return t}function cw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function PT(t){return t!==mo}function Vu(t){return t&32767}function MP(t){return t>>16}function ju(t,e){let n=MP(t),r=e;for(;n>0;)r=r[Ao],n--;return r}var _p=!0;function uw(t){let e=_p;return _p=t,e}var PP=256,xT=PP-1,kT=5,xP=0,hn={};function kP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zs)&&(r=n[Zs]),r==null&&(r=n[Zs]=xP++);let i=r&xT,o=1<<i;e.data[t+(i>>kT)]|=o}function OT(t,e){let n=FT(t,e);if(n!==-1)return n;let r=e[ge];r.firstCreatePass&&(t.injectorIndex=e.length,np(r.data,t),np(e,null),np(r.blueprint,null));let i=ag(t,e),o=t.injectorIndex;if(PT(i)){let s=Vu(i),a=ju(i,e),u=a[ge].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function np(t,e){t.push(0,0,0,0,0,0,0,0,e)}function FT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ag(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=BT(i),r===null)return mo;if(n++,i=i[Ao],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return mo}function OP(t,e,n){kP(t,e,n)}function LT(t,e,n){if(n&ne.Optional||t!==void 0)return t;Qp(e,"NodeInjector")}function VT(t,e,n,r){if(n&ne.Optional&&r===void 0&&(r=null),(n&(ne.Self|ne.Host))===0){let i=t[Io],o=$t(void 0);try{return i?i.get(e,r,n&ne.Optional):Qw(e,r,n&ne.Optional)}finally{$t(o)}}return LT(r,e,n)}function jT(t,e,n,r=ne.Default,i){if(t!==null){if(e[X]&2048&&!(r&ne.Self)){let s=UP(t,e,n,r,hn);if(s!==hn)return s}let o=UT(t,e,n,r,hn);if(o!==hn)return o}return VT(e,n,r,i)}function UT(t,e,n,r,i){let o=VP(n);if(typeof o=="function"){if(!DT(e,t,r))return r&ne.Host?LT(i,n,r):VT(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ne.Optional))Qp(n);else return s}finally{RT()}}else if(typeof o=="number"){let s=null,a=FT(t,e),u=mo,l=r&ne.Host?e[fn][sn]:null;for((a===-1||r&ne.SkipSelf)&&(u=a===-1?ag(t,e):e[a+8],u===mo||!dw(r,!1)?a=-1:(s=e[ge],a=Vu(u),e=ju(u,e)));a!==-1;){let h=e[ge];if(lw(o,a,h.data)){let p=FP(a,e,n,s,r,l);if(p!==hn)return p}u=e[a+8],u!==mo&&dw(r,e[ge].data[a+8]===l)&&lw(o,a,e)?(s=h,a=Vu(u),e=ju(u,e)):a=-1}}return i}function FP(t,e,n,r,i,o){let s=e[ge],a=s.data[t+8],u=r==null?Ro(a)&&_p:r!=s&&(a.type&3)!==0,l=i&ne.Host&&o===a,h=LP(a,s,n,u,l);return h!==null?Ip(e,s,h,a,i):hn}function LP(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=s[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=s[u];if(y&&di(y)&&y.type===n)return u}return null}function Ip(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof ta){let a=o;a.resolving&&Gw(SM(s[n]));let u=uw(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?$t(a.injectImpl):null,p=DT(t,r,ne.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&bP(n,s[n],e)}finally{h!==null&&$t(h),uw(u),a.resolving=!1,RT()}}return o}function VP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Zs)?t[Zs]:void 0;return typeof e=="number"?e>=0?e&xT:jP:e}function lw(t,e,n){let r=1<<t;return!!(n[e+(t>>kT)]&r)}function dw(t,e){return!(t&ne.Self)&&!(t&ne.Host&&e)}var oi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return jT(this._tNode,this._lView,e,Zu(r),n)}};function jP(){return new oi(vn(),Ve())}function cg(t){return aa(()=>{let e=t.prototype.constructor,n=e[Cu]||Ep(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Cu]||Ep(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ep(t){return $w(t)?()=>{let e=Ep(Ht(t));return e&&e()}:yo(t)}function UP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[X]&2048&&!Lu(s);){let a=UT(o,s,n,r|ne.Self,hn);if(a!==hn)return a;let u=o.parent;if(!u){let l=s[sT];if(l){let h=l.get(n,hn,r);if(h!==hn)return h}u=BT(s),s=s[Ao]}o=u}return i}function BT(t){let e=t[ge],n=e.type;return n===2?e.declTNode:n===1?t[sn]:null}function hw(t,e=null,n=null,r){let i=$T(t,e,n,r);return i.resolveInjectorInitializers(),i}function $T(t,e=null,n=null,r,i=new Set){let o=[n||nn,$M(t)];return r=r||(typeof t=="object"?void 0:St(t)),new Xs(o,e||Jp(),r||null,i)}var Ye=class t{static THROW_IF_NOT_FOUND=ri;static NULL=new Mu;static create(e,n){if(Array.isArray(e))return hw({name:""},n,e,"");{let r=e.name??"";return hw({name:r},e.parent,e.providers,r)}}static \u0275prov=$({token:t,providedIn:"any",factory:()=>ie(Jw)});static __NG_ELEMENT_ID__=-1};var BP=new U("");BP.__NG_ELEMENT_ID__=t=>{let e=vn();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&ne.Optional)return null;throw new j(204,!1)};var HT=!1,ua=(()=>{class t{static __NG_ELEMENT_ID__=$P;static __NG_ENV_ID__=n=>n}return t})(),wp=class extends ua{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return No(n)?(e(),()=>{}):(mT(n,e),()=>sP(n,e))}};function $P(){return new wp(Ve())}var bo=class{},ug=new U("",{providedIn:"root",factory:()=>!1});var zT=new U(""),qT=new U(""),mi=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new it(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),sl=(()=>{class t{internalPendingTasks=x(mi);scheduler=x(bo);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return v(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),Tp=class extends rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,iT()&&(this.destroyRef=x(ua,{optional:!0})??void 0,this.pendingTasks=x(mi,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Me&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Qe=Tp;function Uu(...t){}function WT(t){let e,n;function r(){t=Uu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function fw(t){return queueMicrotask(()=>t()),()=>{t=Uu}}var lg="isAngularZone",Bu=lg+"_ID",HP=0,ve=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Qe(!1);onMicrotaskEmpty=new Qe(!1);onStable=new Qe(!1);onError=new Qe(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=HT}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,WP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(lg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,zP,Uu,Uu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},zP={};function dg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){WT(()=>{t.callbackScheduled=!1,bp(t),t.isCheckStableRunning=!0,dg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),bp(t)}function WP(t){let e=()=>{qP(t)},n=HP++;t._inner=t._inner.fork({name:"angular",properties:{[lg]:!0,[Bu]:n,[Bu+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(GP(u))return r.invokeTask(o,s,a,u);try{return pw(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),gw(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return pw(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!KP(u)&&e(),gw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,bp(t),dg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function bp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function pw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gw(t){t._nesting--,dg(t)}var Dp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Qe;onMicrotaskEmpty=new Qe;onStable=new Qe;onError=new Qe;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function GP(t){return GT(t,"__ignore_ng_zone__")}function KP(t){return GT(t,"__scheduler_tick__")}function GT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var zn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},QP=new U("",{providedIn:"root",factory:()=>{let t=x(ve),e=x(zn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function mw(t,e){return jw(t,e)}function YP(t){return jw(Vw,t)}var KT=(mw.required=YP,mw);function ZP(){return al(vn(),Ve())}function al(t,e){return new QT(Kn(t,e))}var QT=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=ZP}return t})();function cl(t,e){let n=xf(t,e?.equal),r=n[dn];return n.set=i=>Hs(r,i),n.update=i=>kf(r,i),n.asReadonly=JP.bind(n),n}function JP(){let t=this[dn];if(t.readonlyFn===void 0){let e=()=>this();e[dn]=t,t.readonlyFn=e}return t.readonlyFn}function YT(t){return(t.flags&128)===128}var ZT=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ZT||{}),JT=new Map,XP=0;function ex(){return XP++}function tx(t){JT.set(t[Xu],t)}function Cp(t){JT.delete(t[Xu])}var yw="__ngContext__";function Mo(t,e){ii(e)?(t[yw]=e[Xu],tx(e)):t[yw]=e}function XT(t){return tb(t[ea])}function eb(t){return tb(t[rn])}function tb(t){for(;t!==null&&!Gn(t);)t=t[rn];return t}var Sp;function nb(t){Sp=t}function nx(){if(Sp!==void 0)return Sp;if(typeof document<"u")return document;throw new j(210,!1)}var hg=new U("",{providedIn:"root",factory:()=>rx}),rx="ng",fg=new U(""),_n=new U("",{providedIn:"platform",factory:()=>"unknown"});var pg=new U("",{providedIn:"root",factory:()=>nx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ix="h",ox="b";var rb=!1,sx=new U("",{providedIn:"root",factory:()=>rb});var ib=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(ib||{}),ul=new U(""),vw=new Set;function gg(t){vw.has(t)||(vw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var ax=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})();var cx=(t,e,n,r)=>{};function ux(t,e,n,r){cx(t,e,n,r)}var lx=()=>null;function ob(t,e,n=!1){return lx(t,e,n)}function sb(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];bT(o),a.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function Ap(t,e,n){bT(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function mg(t,e,n){if(Xp(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{pe(r)}}}var mn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(mn||{});var Rp=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gM})`}};function dx(t){return t instanceof Rp?t.changingThisBreaksApplicationSecurity:t}var hx=/^>|^->|<!--|-->|--!>|<!-$/g,fx=/(<|>)/g,px="\u200B$1\u200B";function gx(t){return t.replace(hx,e=>e.replace(fx,px))}function ab(t){return t instanceof Function?t():t}function mx(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var cb="ng-template";function yx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&mx(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(yg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function yg(t){return t.type===4&&t.value!==cb}function vx(t,e,n){let r=t.type===4&&!n?cb:t.value;return e===r}function _x(t,e,n){let r=4,i=t.attrs,o=i!==null?wx(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!tn(r)&&!tn(u))return!1;if(s&&tn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!vx(t,u,n)||u===""&&e.length===1){if(tn(r))return!1;s=!0}}else if(r&8){if(i===null||!yx(t,i,u,n)){if(tn(r))return!1;s=!0}}else{let l=e[++a],h=Ix(u,i,yg(t),n);if(h===-1){if(tn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(tn(r))return!1;s=!0}}}}return tn(r)||s}function tn(t){return(t&1)===0}function Ix(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Tx(e,t)}function Ex(t,e,n=!1){for(let r=0;r<e.length;r++)if(_x(t,e[r],n))return!0;return!1}function wx(t){for(let e=0;e<t.length;e++){let n=t[e];if(RP(n))return e}return t.length}function Tx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function _w(t,e){return t?":not("+e.trim()+")":e}function bx(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!tn(s)&&(e+=_w(o,i),i=""),r=s,o=o||!tn(r);n++}return i!==""&&(e+=_w(o,i)),e}function Dx(t){return t.map(bx).join(",")}function Cx(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!tn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Tr={};function Sx(t,e){return t.createText(e)}function Ax(t,e,n){t.setValue(e,n)}function Rx(t,e){return t.createComment(gx(e))}function ub(t,e,n){return t.createElement(e,n)}function $u(t,e,n,r,i){t.insertBefore(e,n,r,i)}function lb(t,e,n){t.appendChild(e,n)}function Iw(t,e,n,r,i){r!==null?$u(t,e,n,r,i):lb(t,e,n)}function Nx(t,e,n){t.removeChild(null,e,n)}function Mx(t,e,n){t.setAttribute(e,"style",n)}function Px(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function db(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&AP(t,e,r),i!==null&&Px(t,e,i),o!==null&&Mx(t,e,o)}function vg(t,e,n,r,i,o,s,a,u,l,h){let p=pn+r,m=p+i,y=xx(p,m),C=typeof l=="function"?l():l;return y[ge]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function xx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Tr);return n}function kx(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=vg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function _g(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Wn]=i,p[X]=r|4|128|8|64|1024,(l!==null||t&&t[X]&2048)&&(p[X]|=2048),pT(p),p[wt]=p[Ao]=t,p[Rt]=n,p[wr]=s||t&&t[wr],p[pt]=a||t&&t[pt],p[Io]=u||t&&t[Io]||null,p[sn]=o,p[Xu]=ex(),p[Pu]=h,p[sT]=l,p[fn]=e.type==2?t[fn]:p,p}function Ox(t,e,n){let r=Kn(e,t),i=kx(n),o=t[wr].rendererFactory,s=Ig(t,_g(t,i,null,hb(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function hb(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function fb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ig(t,e){return t[ea]?t[iw][rn]=e:t[ea]=e,t[iw]=e,e}function B(t=1){pb(yn(),Ve(),gi()+t,!1)}function pb(t,e,n,r){if(!r)if((e[X]&3)===3){let o=t.preOrderCheckHooks;o!==null&&wu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Tu(e,o,0,n)}ci(n)}var ll=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ll||{});function Np(t,e,n,r){let i=pe(null);try{let[o,s,a]=t.inputs[n],u=null;(s&ll.SignalBased)!==0&&(u=e[o][dn]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):cT(e,u,o,r)}finally{pe(i)}}function gb(t,e,n,r,i){let o=gi(),s=r&2;try{ci(-1),s&&e.length>pn&&pb(t,e,pn,!1),Se(s?2:0,i),n(r,i)}finally{ci(o),Se(s?3:1,i)}}function dl(t,e,n){$x(t,e,n),(n.flags&64)===64&&Hx(t,e,n)}function Eg(t,e,n=Kn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Fx(t,e,n,r){let o=r.get(sx,rb)||n===mn.ShadowDom,s=t.selectRootElement(e,o);return Lx(s),s}function Lx(t){Vx(t)}var Vx=()=>null;function jx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ux(t,e,n,r,i,o,s,a){if(!a&&Tg(e,t,n,r,i)){Ro(e)&&Bx(n,e.index);return}if(e.type&3){let u=Kn(e,n);r=jx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function Bx(t,e){let n=Hn(e,t);n[X]&16||(n[X]|=64)}function $x(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Ro(n)&&Ox(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||OT(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Ip(e,t,s,n);if(Mo(u,e),o!==null&&qx(e,s-r,u,a,n,o),di(a)){let l=Hn(n.index,e);l[Rt]=Ip(e,t,s,n)}}}function Hx(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=vP();try{ci(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];vp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&zx(u,l)}}finally{ci(-1),vp(s)}}function zx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function wg(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Ex(e,o.selectors,!1)&&(r??=[],di(o)?r.unshift(o):r.push(o))}return r}function qx(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Np(r,n,u,l)}}function Wx(t,e){let n=t[Io],r=n?n.get(zn,null):null;r&&r.handleError(e)}function Tg(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Np(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Np(h,l,r,i),a=!0}return a}function Gx(t,e){let n=Hn(e,t),r=n[ge];Kx(r,n);let i=n[Wn];i!==null&&n[Pu]===null&&(n[Pu]=ob(i,n[Io])),Se(18),bg(r,n,n[Rt]),Se(19,n[Rt])}function Kx(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function bg(t,e,n){ig(e);try{let r=t.viewQuery;r!==null&&Ap(1,r,n);let i=t.template;i!==null&&gb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[wo]?.finishViewCreation(t),t.staticContentQueries&&sb(t,e),t.staticViewQueries&&Ap(2,t.viewQuery,n);let o=t.components;o!==null&&Qx(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[X]&=-5,og()}}function Qx(t,e){for(let n=0;n<e.length;n++)Gx(t,e[n])}function Yx(t,e,n,r){let i=pe(null);try{let o=e.tView,a=t[X]&4096?4096:16,u=_g(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Eo]=l;let h=t[wo];return h!==null&&(u[wo]=h.createEmbeddedView(o)),bg(o,u,n),u}finally{pe(i)}}function Ew(t,e){return!e||e.firstChild===null||YT(t)}var Zx;function Dg(t,e){return Zx(t,e)}var qn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qn||{});function mb(t){return(t.flags&32)===32}function go(t,e,n,r,i){if(r!=null){let o,s=!1;Gn(r)?o=r:ii(r)&&(s=!0,r=r[Wn]);let a=gn(r);t===0&&n!==null?i==null?lb(e,n,a):$u(e,n,a,i||null,!0):t===1&&n!==null?$u(e,n,a,i||null,!0):t===2?Nx(e,a,s):t===3&&e.destroyNode(a),o!=null&&uk(e,t,o,n,i)}}function Jx(t,e){yb(t,e),e[Wn]=null,e[sn]=null}function Xx(t,e,n,r,i,o){r[Wn]=i,r[sn]=e,fl(t,r,n,1,i,o)}function yb(t,e){e[wr].changeDetectionScheduler?.notify(9),fl(t,e,e[pt],2,null,null)}function ek(t){let e=t[ea];if(!e)return rp(t[ge],t);for(;e;){let n=null;if(ii(e))n=e[ea];else{let r=e[qt];r&&(n=r)}if(!n){for(;e&&!e[rn]&&e!==t;)ii(e)&&rp(e[ge],e),e=e[wt];e===null&&(e=t),ii(e)&&rp(e[ge],e),n=e&&e[rn]}e=n}}function Cg(t,e){let n=t[Fu],r=n.indexOf(e);n.splice(r,1)}function vb(t,e){if(No(e))return;let n=e[pt];n.destroyNode&&fl(t,e,n,3,null,null),ek(e)}function rp(t,e){if(No(e))return;let n=pe(null);try{e[X]&=-129,e[X]|=256,e[zt]&&Mf(e[zt]),nk(t,e),tk(t,e),e[ge].type===1&&e[pt].destroy();let r=e[Eo];if(r!==null&&Gn(e[wt])){r!==e[wt]&&Cg(r,e);let i=e[wo];i!==null&&i.detachView(t)}Cp(e)}finally{pe(n)}}function tk(t,e){let n=t.cleanup,r=e[xu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[xu]=null);let i=e[Er];if(i!==null){e[Er]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[ku];if(o!==null){e[ku]=null;for(let s of o)s.destroy()}}function nk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ta)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Se(4,a,u);try{u.call(a)}finally{Se(5,a,u)}}else{Se(4,i,o);try{o.call(i)}finally{Se(5,i,o)}}}}}function rk(t,e,n){return ik(t,e.parent,n)}function ik(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Wn];if(Ro(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===mn.None||i===mn.Emulated)return null}return Kn(r,n)}function ok(t,e,n){return ak(t,e,n)}function sk(t,e,n){return t.type&40?Kn(t,n):null}var ak=sk,ww;function hl(t,e,n,r){let i=rk(t,r,e),o=e[pt],s=r.parent||e[sn],a=ok(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Iw(o,i,n[u],a,!1);else Iw(o,i,n,a,!1);ww!==void 0&&ww(o,r,e,n,i)}function Ys(t,e){if(e!==null){let n=e.type;if(n&3)return Kn(e,t);if(n&4)return Mp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ys(t,r);{let i=t[e.index];return Gn(i)?Mp(-1,i):gn(i)}}else{if(n&128)return Ys(t,e.next);if(n&32)return Dg(e,t)()||gn(t[e.index]);{let r=_b(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ai(t[fn]);return Ys(i,r)}else return Ys(t,e.next)}}}return null}function _b(t,e){if(e!==null){let r=t[fn][sn],i=e.projection;return r.projection[i]}return null}function Mp(t,e){let n=qt+t+1;if(n<e.length){let r=e[n],i=r[ge].firstChild;if(i!==null)return Ys(r,i)}return e[si]}function Sg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Mo(gn(a),r),n.flags|=2),!mb(n))if(u&8)Sg(t,e,n.child,r,i,o,!1),go(e,t,i,a,o);else if(u&32){let l=Dg(n,r),h;for(;h=l();)go(e,t,i,h,o);go(e,t,i,a,o)}else u&16?ck(t,e,r,n,i,o):go(e,t,i,a,o);n=s?n.projectionNext:n.next}}function fl(t,e,n,r,i,o){Sg(n,r,t.firstChild,e,i,o,!1)}function ck(t,e,n,r,i,o){let s=n[fn],u=s[sn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];go(e,t,i,h,o)}else{let l=u,h=s[wt];YT(r)&&(l.flags|=128),Sg(t,e,l,h,i,o,!0)}}function uk(t,e,n,r,i){let o=n[si],s=gn(n);o!==s&&go(e,t,r,o,i);for(let a=qt;a<n.length;a++){let u=n[a];fl(u[ge],u,t,e,r,o)}}function lk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:qn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=qn.Important),t.setStyle(n,r,i,o))}}function Hu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(gn(o)),Gn(o)&&dk(o,r);let s=n.type;if(s&8)Hu(t,e,n.child,r);else if(s&32){let a=Dg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=_b(e,n);if(Array.isArray(a))r.push(...a);else{let u=ai(e[fn]);Hu(u[ge],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function dk(t,e){for(let n=qt;n<t.length;n++){let r=t[n],i=r[ge].firstChild;i!==null&&Hu(r[ge],r,i,e)}t[si]!==t[Wn]&&e.push(t[si])}function Ib(t){if(t[ep]!==null){for(let e of t[ep])e.impl.addSequence(e);t[ep].length=0}}var Eb=[];function hk(t){return t[zt]??fk(t)}function fk(t){let e=Eb.pop()??Object.create(gk);return e.lView=t,e}function pk(t){t.lView[zt]!==t&&(t.lView=null,Eb.push(t))}var gk=Te(F({},Hc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{nl(t.lView)},consumerOnSignalRead(){this.lView[zt]=this}});function mk(t){let e=t[zt]??Object.create(yk);return e.lView=t,e}var yk=Te(F({},Hc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ai(t.lView);for(;e&&!wb(e[ge]);)e=ai(e);e&&gT(e)},consumerOnSignalRead(){this.lView[zt]=this}});function wb(t){return t.type!==2}function Tb(t){if(t[ku]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ku])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[X]&8192)}}var vk=100;function bb(t,e=!0,n=0){let i=t[wr].rendererFactory,o=!1;o||i.begin?.();try{_k(t,n)}catch(s){throw e&&Wx(t,s),s}finally{o||i.end?.()}}function _k(t,e){let n=ET();try{sw(!0),Pp(t,e);let r=0;for(;tl(t);){if(r===vk)throw new j(103,!1);r++,Pp(t,1)}}finally{sw(n)}}function Ik(t,e,n,r){if(No(e))return;let i=e[X],o=!1,s=!1;ig(e);let a=!0,u=null,l=null;o||(wb(t)?(l=hk(e),u=Rf(l)):Cf()===null?(a=!1,l=mk(e),u=Rf(l)):e[zt]&&(Mf(e[zt]),e[zt]=null));try{pT(e),gP(t.bindingStartIndex),n!==null&&gb(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&wu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Tu(e,y,0,null),tp(e,0)}if(s||Ek(e),Tb(e),Db(e,0),t.contentQueries!==null&&sb(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&wu(e,y)}else{let y=t.contentHooks;y!==null&&Tu(e,y,1),tp(e,1)}Tk(t,e);let p=t.components;p!==null&&Sb(e,p,0);let m=t.viewQuery;if(m!==null&&Ap(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&wu(e,y)}else{let y=t.viewHooks;y!==null&&Tu(e,y,2),tp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Xf]){for(let y of e[Xf])y();e[Xf]=null}o||(Ib(e),e[X]&=-73)}catch(h){throw o||nl(e),h}finally{l!==null&&(mE(l,u),a&&pk(l)),og()}}function Db(t,e){for(let n=XT(t);n!==null;n=eb(n))for(let r=qt;r<n.length;r++){let i=n[r];Cb(i,e)}}function Ek(t){for(let e=XT(t);e!==null;e=eb(e)){if(!(e[X]&2))continue;let n=e[Fu];for(let r=0;r<n.length;r++){let i=n[r];gT(i)}}}function wk(t,e,n){Se(18);let r=Hn(e,t);Cb(r,n),Se(19,r[Rt])}function Cb(t,e){tg(t)&&Pp(t,e)}function Pp(t,e){let r=t[ge],i=t[X],o=t[zt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Nf(o)),s||=!1,o&&(o.dirty=!1),t[X]&=-9217,s)Ik(r,t,r.template,t[Rt]);else if(i&8192){Tb(t),Db(t,1);let a=r.components;a!==null&&Sb(t,a,1),Ib(t)}}function Sb(t,e,n){for(let r=0;r<e.length;r++)wk(t,e[r],n)}function Tk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ci(~i);else{let o=i,s=n[++r],a=n[++r];yP(s,o);let u=e[o];Se(24,u),a(2,u),Se(25,u)}}}finally{ci(-1)}}function Ag(t,e){let n=ET()?64:1088;for(t[wr].changeDetectionScheduler?.notify(e);t;){t[X]|=n;let r=ai(t);if(Lu(t)&&!r)return t;t=r}return null}function Ab(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function bk(t,e,n,r=!0){let i=e[ge];if(Dk(i,e,t,n),r){let s=Mp(n,t),a=e[pt],u=a.parentNode(t[si]);u!==null&&Xx(i,t[sn],a,e,u,s)}let o=e[Pu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function xp(t,e){if(t.length<=qt)return;let n=qt+e,r=t[n];if(r){let i=r[Eo];i!==null&&i!==t&&Cg(i,r),e>0&&(t[n-1][rn]=r[rn]);let o=Nu(t,qt+e);Jx(r[ge],r);let s=o[wo];s!==null&&s.detachView(o[ge]),r[wt]=null,r[rn]=null,r[X]&=-129}return r}function Dk(t,e,n,r){let i=qt+r,o=n.length;r>0&&(n[i-1][rn]=e),r<o-qt?(e[rn]=n[i],Zw(n,qt+r,e)):(n.push(e),e[rn]=null),e[wt]=n;let s=e[Eo];s!==null&&n!==s&&Rb(s,e);let a=e[wo];a!==null&&a.insertView(t),mp(e),e[X]|=128}function Rb(t,e){let n=t[Fu],r=e[wt];if(ii(r))t[X]|=2;else{let i=r[wt][fn];e[fn]!==i&&(t[X]|=2)}n===null?t[Fu]=[e]:n.push(e)}var na=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[ge];return Hu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Rt]}set context(e){this._lView[Rt]=e}get destroyed(){return No(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[wt];if(Gn(e)){let n=e[Ou],r=n?n.indexOf(this):-1;r>-1&&(xp(e,r),Nu(n,r))}this._attachedToViewContainer=!1}vb(this._lView[ge],this._lView)}onDestroy(e){mT(this._lView,e)}markForCheck(){Ag(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[X]&=-129}reattach(){mp(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,bb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Lu(this._lView),n=this._lView[Eo];n!==null&&!e&&Cg(n,this._lView),yb(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=Lu(this._lView),r=this._lView[Eo];r!==null&&!n&&Rb(r,this._lView),mp(this._lView)}};var pl=(()=>{class t{static __NG_ELEMENT_ID__=Ak}return t})(),Ck=pl,Sk=class extends Ck{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Yx(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new na(i)}};function Ak(){return Rk(vn(),Ve())}function Rk(t,e){return t.type&4?new Sk(e,t,al(t,e)):null}function gl(t,e,n,r,i){let o=t.data[e];if(o===null)o=Nk(t,e,n,r,i),mP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=fP();o.injectorIndex=s===null?-1:s.injectorIndex}return pi(o,!0),o}function Nk(t,e,n,r,i){let o=_T(),s=rg(),a=s?o:o&&o.parent,u=t.data[e]=Pk(t,a,n,e,r,i);return Mk(t,u,o,s),u}function Mk(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Pk(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return lP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var W9=new RegExp(`^(\\d+)*(${ox}|${ix})*(.*)`);var xk=()=>null;function Tw(t,e){return xk(t,e)}var kk=class{},Nb=class{},kp=class{resolveComponentFactory(e){throw Error(`No component factory found for ${St(e)}.`)}},ml=class{static NULL=new kp},Do=class{};var Ok=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>null})}return t})();var ip={},Op=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Zu(r);let i=this.injector.get(e,ip,r);return i!==ip||n===ip?i:this.parentInjector.get(e,n,r)}};function Fp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ZE(i,a);else if(o==2){let u=a,l=e[++s];r=ZE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function yi(t,e=ne.Default){let n=Ve();if(n===null)return ie(t,e);let r=vn();return jT(r,n,Ht(t),e)}function Rg(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,u=null,l=null,h=Lk(s);h===null?a=s:[a,u,l]=h,Uk(t,e,n,a,o,u,l)}o!==null&&r!==null&&Fk(n,r,o)}function Fk(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function Lk(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&di(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,Vk(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function Vk(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function jk(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Uk(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&di(y)&&(u=!0,jk(t,n,m)),OP(OT(n,e),t,y.type)}Wk(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=fb(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=ol(n.mergedAttrs,y.hostAttrs),$k(t,n,e,p,y),qk(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);n.directiveToIndex.set(y.type,[p,N+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let C=y.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}Bk(t,n,o)}function Bk(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))bw(0,e,i,r),bw(1,e,i,r),Cw(e,r,!1);else{let o=n.get(i);Dw(0,e,o,r),Dw(1,e,o,r),Cw(e,r,!0)}}}function bw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Mb(e,o)}}function Dw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Mb(e,s)}}function Mb(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Cw(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||yg(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function $k(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=yo(i.type,!0)),s=new ta(o,di(i),yi);t.blueprint[r]=s,n[r]=s,Hk(t,e,r,fb(t,n,i.hostVars,Tr),i)}function Hk(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;zk(s)!=a&&s.push(a),s.push(n,r,o)}}function zk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function qk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;di(e)&&(n[""]=t)}}function Wk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Pb(t,e,n,r,i,o,s,a){let u=e.consts,l=To(u,s),h=gl(e,t,2,r,l);return o&&Rg(e,n,h,To(u,a),i),h.mergedAttrs=ol(h.mergedAttrs,h.attrs),h.attrs!==null&&Fp(h,h.attrs,!1),h.mergedAttrs!==null&&Fp(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function xb(t,e){sg(t,e),Xp(e)&&t.queries.elementEnd(e)}var zu=class extends ml{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=_o(e);return new ra(n,this.ngModule)}};function Gk(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&ll.SignalBased)!==0};return i&&(o.transform=i),o})}function Kk(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Qk(t,e,n){let r=e instanceof At?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Op(n,r):n}function Yk(t){let e=t.get(Do,null);if(e===null)throw new j(407,!1);let n=t.get(Ok,null),r=t.get(bo,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function Zk(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return ub(e,n,n==="svg"?nP:n==="math"?rP:null)}var ra=class extends Nb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Gk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Kk(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Dx(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Se(22);let o=pe(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:Cx(this.componentDef.selectors[0]),u=vg(0,null,null,1,0,null,null,null,null,[a],null),l=Qk(s,i||this.ngModule,e),h=Yk(l),p=h.rendererFactory.createRenderer(null,s),m=r?Fx(p,r,s.encapsulation,l):Zk(s,p),y=_g(null,u,null,512|hb(s),null,null,h,p,l,null,ob(m,l,!0));y[pn]=m,ig(y);let C=null;try{let N=Pb(pn,u,y,"#host",()=>[this.componentDef],!0,0);m&&(db(p,m,N),Mo(m,y)),dl(u,y,N),mg(u,N,y),xb(u,N),n!==void 0&&Jk(N,this.ngContentSelectors,n),C=Hn(N.index,y),y[Rt]=C[Rt],bg(u,y,null)}catch(N){throw C!==null&&Cp(C),Cp(y),N}finally{Se(23),og()}return new Lp(this.componentType,y)}finally{pe(o)}}},Lp=class extends kk{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=fT(n[ge],pn),this.location=al(this._tNode,n),this.instance=Hn(this._tNode.index,n)[Rt],this.hostView=this.changeDetectorRef=new na(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Tg(r,i[ge],i,e,n);this.previousInputValues.set(e,n);let s=Hn(r.index,i);Ag(s,1)}get injector(){return new oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Jk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Po=(()=>{class t{static __NG_ELEMENT_ID__=Xk}return t})();function Xk(){let t=vn();return tO(t,Ve())}var eO=Po,kb=class extends eO{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return al(this._hostTNode,this._hostLView)}get injector(){return new oi(this._hostTNode,this._hostLView)}get parentInjector(){let e=ag(this._hostTNode,this._hostLView);if(PT(e)){let n=ju(e,this._hostLView),r=Vu(e),i=n[ge].data[r+8];return new oi(i,n)}else return new oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Sw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Tw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ew(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!JM(e),a;if(s)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new ra(_o(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(At,null);N&&(o=N)}let h=_o(u.componentType??{}),p=Tw(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,Ew(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(iP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[wt],l=new kb(u,u[sn],u[wt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return bk(s,i,o,r),e.attachToViewContainerRef(),Zw(op(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Sw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=xp(this._lContainer,n);r&&(Nu(op(this._lContainer),n),vb(r[ge],r))}detach(e){let n=this._adjustIndex(e,-1),r=xp(this._lContainer,n);return r&&Nu(op(this._lContainer),n)!=null?new na(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Sw(t){return t[Ou]}function op(t){return t[Ou]||(t[Ou]=[])}function tO(t,e){let n,r=e[t.index];return Gn(r)?n=r:(n=Ab(r,e,null,t),e[t.index]=n,Ig(e,n)),rO(n,e,t,r),new kb(n,t,e)}function nO(t,e){let n=t[pt],r=n.createComment(""),i=Kn(e,t),o=n.parentNode(i);return $u(n,o,r,n.nextSibling(i),!1),r}var rO=sO,iO=()=>!1;function oO(t,e,n){return iO(t,e,n)}function sO(t,e,n,r){if(t[si])return;let i;n.type&8?i=gn(r):i=nO(e,n),t[si]=i}var Co=class{},Ng=class{};var Vp=class extends Co{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new zu(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=eT(e);this._bootstrapComponents=ab(o.bootstrap),this._r3Injector=$T(e,n,[{provide:Co,useValue:this},{provide:ml,useValue:this.componentFactoryResolver},...r],St(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},jp=class extends Ng{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Vp(this.moduleType,e,[])}};var qu=class extends Co{injector;componentFactoryResolver=new zu(this);instance=null;constructor(e){super();let n=new Xs([...e.providers,{provide:Co,useValue:this},{provide:ml,useValue:this.componentFactoryResolver}],e.parent||Jp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function yl(t,e,n=null){return new qu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var aO=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=tT(!1,n.type),i=r.length>0?yl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(ie(At))})}return t})();function je(t){return aa(()=>{let e=Ob(t),n=Te(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ZT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(aO).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||mn.Emulated,styles:t.styles||nn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&gg("NgStandalone"),Fb(n);let r=t.dependencies;return n.directiveDefs=Aw(r,!1),n.pipeDefs=Aw(r,!0),n.id=hO(n),n})}function cO(t){return _o(t)||UM(t)}function uO(t){return t!==null}function vl(t){return aa(()=>({type:t.type,bootstrap:t.bootstrap||nn,declarations:t.declarations||nn,imports:t.imports||nn,exports:t.exports||nn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function lO(t,e){if(t==null)return vo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=ll.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function dO(t){if(t==null)return vo;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function la(t){return aa(()=>{let e=Ob(t);return Fb(e),e})}function Ob(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||vo,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||nn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lO(t.inputs,e),outputs:dO(t.outputs),debugInfo:null}}function Fb(t){t.features?.forEach(e=>e(t))}function Aw(t,e){if(!t)return null;let n=e?BM:cO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(uO)}function hO(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Lb(t){return pO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function fO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function pO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ia(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function gO(t,e,n,r){let i=ia(t,e,n);return ia(t,e+1,r)||i}function mO(t,e,n,r,i,o,s,a,u){let l=e.consts,h=gl(e,t,4,s||null,a||null);ng()&&Rg(e,n,h,To(l,u),wg),h.mergedAttrs=ol(h.mergedAttrs,h.attrs),sg(e,h);let p=h.tView=vg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function yO(t,e,n,r,i,o,s,a,u,l){let h=n+pn,p=e.firstCreatePass?mO(h,e,t,r,i,o,s,a,u):e.data[h];pi(p,!1);let m=vO(e,t,p,n);rl()&&hl(e,t,m,p),Mo(m,t);let y=Ab(m,t,m,p);return t[h]=y,Ig(t,y),oO(y,p,t),el(p)&&dl(e,t,p),u!=null&&Eg(t,p,l),p}function Qn(t,e,n,r,i,o,s,a){let u=Ve(),l=yn(),h=To(l.consts,o);return yO(u,l,t,e,n,r,i,h,s,a),Qn}var vO=_O;function _O(t,e,n,r){return il(!0),e[pt].createComment("")}var Vb=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var jb=new U("");var IO=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>new Up})}return t})(),Up=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function da(t){return!!t&&typeof t.then=="function"}function Ub(t){return!!t&&typeof t.subscribe=="function"}var EO=new U("");var Bb=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(EO,{optional:!0})??[];injector=x(Ye);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Tt(this.injector,i);if(da(o))n.push(o);else if(Ub(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Mg=new U("");function wO(){Pf(()=>{throw new j(600,!1)})}function TO(t){return t.isBoundToModule}var bO=10;var ui=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(QP);afterRenderManager=x(ax);zonelessEnabled=x(ug);rootEffectScheduler=x(IO);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new rt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(mi).hasPendingTasks.pipe(le(n=>!n));constructor(){x(ul,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(At);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ye.NULL){Se(10);let o=n instanceof Nb;if(!this._injector.get(Bb).done){let y="";throw new j(405,y)}let a;o?a=n:a=this._injector.get(ml).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let u=TO(a)?void 0:this._injector.get(Co),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,m=h.injector.get(jb,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),bu(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),Se(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Se(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ib.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let n=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,pe(n),this.afterTick.next(),Se(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Do,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<bO;)Se(14),this.synchronizeOnce(),Se(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)DO(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>tl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;bu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Mg,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function DO(t,e,n,r){if(!n&&!tl(t))return;bb(t,e,n&&!r?0:1)}function CO(t,e,n,r){return ia(t,wT(),n)?e+Su(n)+r:Tr}function SO(t,e,n,r,i,o){let s=pP(),a=gO(t,s,n,i);return TT(2),a?e+Su(n)+r+Su(i)+o:Tr}function Iu(t,e){return t<<17|e<<2}function li(t){return t>>17&32767}function AO(t){return(t&2)==2}function RO(t,e){return t&131071|e<<17}function Bp(t){return t|2}function So(t){return(t&131068)>>2}function sp(t,e){return t&-131069|e<<2}function NO(t){return(t&1)===1}function $p(t){return t|1}function MO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=li(s),u=So(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||ca(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=li(t[a+1]);t[r+1]=Iu(m,a),m!==0&&(t[m+1]=sp(t[m+1],r)),t[a+1]=RO(t[a+1],r)}else t[r+1]=Iu(a,0),a!==0&&(t[a+1]=sp(t[a+1],r)),a=r;else t[r+1]=Iu(u,0),a===0?a=r:t[u+1]=sp(t[u+1],r),u=r;l&&(t[r+1]=Bp(t[r+1])),Rw(t,h,r,!0),Rw(t,h,r,!1),PO(e,h,t,r,o),s=Iu(a,u),o?e.classBindings=s:e.styleBindings=s}function PO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ca(o,e)>=0&&(n[r+1]=$p(n[r+1]))}function Rw(t,e,n,r){let i=t[n+1],o=e===null,s=r?li(i):So(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];xO(u,e)&&(a=!0,t[s+1]=r?$p(l):Bp(l)),s=r?li(l):So(l)}a&&(t[n+1]=r?Bp(i):$p(i))}function xO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ca(t,e)>=0:!1}function ee(t,e,n){let r=Ve(),i=wT();if(ia(r,i,e)){let o=yn(),s=wP();Ux(o,s,r,t,e,r[pt],n,!1)}return ee}function Nw(t,e,n,r,i){Tg(e,t,n,i?"class":"style",r)}function ha(t,e,n){return $b(t,e,n,!1),ha}function Nt(t,e){return $b(t,e,null,!0),Nt}function $b(t,e,n,r){let i=Ve(),o=yn(),s=TT(2);if(o.firstUpdatePass&&OO(o,t,s,r),e!==Tr&&ia(i,s,e)){let a=o.data[gi()];UO(o,a,i,i[pt],t,i[s+1]=BO(e,n),r,s)}}function kO(t,e){return e>=t.expandoStartIndex}function OO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[gi()],s=kO(t,n);$O(o,r)&&e===null&&!s&&(e=!1),e=FO(i,o,e,r),MO(i,o,e,n,s,r)}}function FO(t,e,n,r){let i=_P(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ap(null,t,e,n,r),n=oa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ap(i,t,e,n,r),o===null){let u=LO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=ap(null,t,e,u[1],r),u=oa(u,e.attrs,r),VO(t,e,r,u))}else o=jO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function LO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(So(r)!==0)return t[li(r)]}function VO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[li(i)]=r}function jO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=oa(r,s,n)}return oa(r,e.attrs,n)}function ap(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=oa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function oa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),VM(t,s,n?!0:e[++o]))}return t===void 0?null:t}function UO(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=NO(l)?Mw(u,e,n,i,So(l),s):void 0;if(!Wu(h)){Wu(o)||AO(l)&&(o=Mw(u,null,n,i,a,s));let p=hT(gi(),n);lk(r,s,p,i,o)}}function Mw(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Tr&&(m=p?nn:void 0);let y=p?Zf(m,r):h===r?m:void 0;if(l&&!Wu(y)&&(y=Zf(u,r)),Wu(y)&&(a=y,s))return a;let C=t[i+1];i=s?li(C):So(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Zf(u,r))}return a}function Wu(t){return t!==void 0}function BO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=St(dx(t)))),t}function $O(t,e){return(t.flags&(e?8:16))!==0}function q(t,e,n,r){let i=Ve(),o=yn(),s=pn+t,a=i[pt],u=o.firstCreatePass?Pb(s,o,i,e,wg,ng(),n,r):o.data[s],l=HO(o,i,u,a,e,t);i[s]=l;let h=el(u);return pi(u,!0),db(a,l,u),!mb(u)&&rl()&&hl(o,i,l,u),(aP()===0||h)&&Mo(l,i),cP(),h&&(dl(o,i,u),mg(o,u,i)),r!==null&&Eg(i,u),q}function re(){let t=vn();rg()?IT():(t=t.parent,pi(t,!1));let e=t;dP(e)&&hP(),uP();let n=yn();return n.firstCreatePass&&xb(n,e),e.classesWithoutHost!=null&&CP(e)&&Nw(n,e,Ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&SP(e)&&Nw(n,e,Ve(),e.stylesWithoutHost,!1),re}function Pe(t,e,n,r){return q(t,e,n,r),re(),Pe}var HO=(t,e,n,r,i,o)=>(il(!0),ub(r,i,TP()));function zO(t,e,n,r,i){let o=e.consts,s=To(o,r),a=gl(e,t,8,"ng-container",s);s!==null&&Fp(a,s,!0);let u=To(o,i);return ng()&&Rg(e,n,a,u,wg),a.mergedAttrs=ol(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function fa(t,e,n){let r=Ve(),i=yn(),o=t+pn,s=i.firstCreatePass?zO(o,i,r,e,n):i.data[o];pi(s,!0);let a=qO(i,r,s,t);return r[o]=a,rl()&&hl(i,r,a,s),Mo(a,r),el(s)&&(dl(i,r,s),mg(i,s,r)),n!=null&&Eg(r,s),fa}function pa(){let t=vn(),e=yn();return rg()?IT():(t=t.parent,pi(t,!1)),e.firstCreatePass&&(sg(e,t),Xp(t)&&e.queries.elementEnd(t)),pa}var qO=(t,e,n,r)=>(il(!0),Rx(e[pt],""));function xo(){return Ve()}var Gu="en-US";var WO=Gu;function GO(t){typeof t=="string"&&(WO=t.toLowerCase().replace(/_/g,"-"))}function Pw(t,e,n){return function r(i){if(i===Function)return n;let o=Ro(t)?Hn(t.index,e):e;Ag(o,5);let s=e[Rt],a=xw(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=xw(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function xw(t,e,n,r){let i=pe(null);try{return Se(6,e,n),n(r)!==!1}catch(o){return KO(t,o),!1}finally{Se(7,e,n),pe(i)}}function KO(t,e){let n=t[Io],r=n?n.get(zn,null):null;r&&r.handleError(e)}function kw(t,e,n,r,i,o){let s=e[n],a=e[ge],l=a.data[n].outputs[r],h=s[l],p=a.firstCreatePass?vT(a):null,m=yT(e),y=h.subscribe(o),C=m.length;m.push(o,y),p&&p.push(i,t.index,C,-(C+1))}function Oe(t,e,n,r){let i=Ve(),o=yn(),s=vn();return YO(o,i,i[pt],s,t,e,r),Oe}function QO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[xu],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function YO(t,e,n,r,i,o,s){let a=el(r),l=t.firstCreatePass?vT(t):null,h=yT(e),p=!0;if(r.type&3||s){let m=Kn(r,e),y=s?s(m):m,C=h.length,N=s?L=>s(gn(L[r.index])):r.index,R=null;if(!s&&a&&(R=QO(t,e,i,r.index)),R!==null){let L=R.__ngLastListenerFn__||R;L.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=Pw(r,e,o),ux(e,y,i,o);let L=n.listen(y,i,o);h.push(o,L),l&&l.push(i,N,C,C+1)}}else o=Pw(r,e,o);if(p){let m=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let C=0;C<y.length;C+=2){let N=y[C],R=y[C+1];kw(r,e,N,R,i,o)}if(m&&m.length)for(let C of m)kw(r,e,C,i,i,o)}}function br(t=1){return EP(t)}function we(t,e=""){let n=Ve(),r=yn(),i=t+pn,o=r.firstCreatePass?gl(r,i,1,e,null):r.data[i],s=ZO(r,n,o,e,t);n[i]=s,rl()&&hl(r,n,s,o),pi(o,!1)}var ZO=(t,e,n,r,i)=>(il(!0),Sx(e[pt],r));function Yn(t){return _l("",t,""),Yn}function _l(t,e,n){let r=Ve(),i=CO(r,t,e,n);return i!==Tr&&Hb(r,gi(),i),_l}function Pg(t,e,n,r,i){let o=Ve(),s=SO(o,t,e,n,r,i);return s!==Tr&&Hb(o,gi(),s),Pg}function Hb(t,e,n){let r=hT(e,t);Ax(t[pt],r,n)}var sa=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},zb=new sa("19.2.15"),Hp=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},qb=(()=>{class t{compileModuleSync(n){return new jp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=eT(n),o=ab(i.declarations).reduce((s,a)=>{let u=_o(a);return u&&s.push(new ra(u)),s},[]);return new Hp(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var JO=(()=>{class t{zone=x(ve);changeDetectionScheduler=x(bo);applicationRef=x(ui);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XO=new U("",{factory:()=>!1});function Wb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(Te(F({},Kb()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:Js,multi:!0,useFactory:()=>{let r=x(JO,{optional:!0});return()=>r.initialize()}},{provide:Js,multi:!0,useFactory:()=>{let r=x(e1);return()=>{r.initialize()}}},e===!0?{provide:zT,useValue:!0}:[],{provide:qT,useValue:n??HT}]}function Gb(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Wb({ngZoneFactory:()=>{let i=Kb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&gg("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return on([{provide:XO,useValue:!0},{provide:ug,useValue:!1},r])}function Kb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var e1=(()=>{class t{subscription=new Me;initialized=!1;zone=x(ve);pendingTasks=x(mi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var t1=(()=>{class t{appRef=x(ui);taskService=x(mi);ngZone=x(ve);zonelessEnabled=x(ug);tracing=x(ul,{optional:!0});disableScheduling=x(zT,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Me;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Bu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(qT,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Dp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?fw:WT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Bu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,fw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function n1(){return typeof $localize<"u"&&$localize.locale||Gu}var xg=new U("",{providedIn:"root",factory:()=>x(xg,ne.Optional|ne.SkipSelf)||n1()});var zp=new U(""),r1=new U("");function Ks(t){return!t.moduleRef}function i1(t){let e=Ks(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{Ks(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(zn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Ks(t)){let o=()=>e.destroy(),s=t.platformInjector.get(zp);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(zp);s.add(o),t.moduleRef.onDestroy(()=>{bu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return s1(r,n,()=>{let o=e.get(Bb);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(xg,Gu);if(GO(s||Gu),!e.get(r1,!0))return Ks(t)?e.get(ui):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ks(t)){let u=e.get(ui);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return o1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function o1(t,e){let n=t.injector.get(ui);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new j(-403,!1);e.push(t)}function s1(t,e,n){try{let r=n();return da(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Du=null;function a1(t=[],e){return Ye.create({name:e,providers:[{provide:Ju,useValue:"platform"},{provide:zp,useValue:new Set([()=>Du=null])},...t]})}function c1(t=[]){if(Du)return Du;let e=a1(t);return Du=e,wO(),u1(e),e}function u1(t){let e=t.get(fg,null);Tt(t,()=>{e?.forEach(n=>n())})}function kg(){return!1}var Og=(()=>{class t{static __NG_ELEMENT_ID__=l1}return t})();function l1(t){return d1(vn(),Ve(),(t&16)===16)}function d1(t,e,n){if(Ro(t)&&!n){let r=Hn(t.index,e);return new na(r,r)}else if(t.type&175){let r=e[fn];return new na(r,e)}return null}var qp=class{constructor(){}supports(e){return Lb(e)}create(e){return new Wp(e)}},h1=(t,e)=>e,Wp=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||h1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Ow(r,i,o)?n:r,a=Ow(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,C=y+m;h<=C&&C<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Lb(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,fO(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Gp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ku),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ku),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Gp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Kp=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ku=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Kp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Ow(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Fw(){return new Fg([new qp])}var Fg=(()=>{class t{factories;static \u0275prov=$({token:t,providedIn:"root",factory:Fw});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Fw()),deps:[[t,new FM,new gt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new j(901,!1)}}return t})();function Qb(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Se(8);try{let o=i?.injector??c1(r),s=[Wb({}),{provide:bo,useExisting:t1},...n||[]],a=new qu({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return i1({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Se(9)}}var Lw=class{[dn];constructor(e){this[dn]=e}destroy(){this[dn].destroy()}};var mt=new U("");var Jb=null;function Zn(){return Jb}function Lg(t){Jb??=t}var ga=class{},Vg=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(Xb),providedIn:"platform"})}return t})();var Xb=(()=>{class t extends Vg{_location;_history;_doc=x(mt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zn().getBaseHref(this._doc)}onPopState(n){let r=Zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function eD(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Yb(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Dr(t){return t&&t[0]!=="?"?`?${t}`:t}var Il=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(nD),providedIn:"root"})}return t})(),tD=new U(""),nD=(()=>{class t extends Il{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return eD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Dr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Dr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ie(Vg),ie(tD,8))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ko=(()=>{class t{_subject=new rt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=g1(Yb(Zb(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Dr(r))}normalize(n){return t.stripTrailingSlash(p1(this._basePath,Zb(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Dr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Dr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Dr;static joinWithSlash=eD;static stripTrailingSlash=Yb;static \u0275fac=function(r){return new(r||t)(ie(Il))};static \u0275prov=$({token:t,factory:()=>f1(),providedIn:"root"})}return t})();function f1(){return new ko(ie(Il))}function p1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Zb(t){return t.replace(/\/index.html$/,"")}function g1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var El=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Tl=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new El(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),rD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);rD(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(yi(Po),yi(pl),yi(Fg))};static \u0275dir=la({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function rD(t,e){t.context.$implicit=e.item}var vi=(()=>{class t{_viewContainer;_context=new wl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){iD(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){iD(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(yi(Po),yi(pl))};static \u0275dir=la({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),wl=class{$implicit=null;ngIf=null};function iD(t,e){if(t&&!t.createEmbeddedView)throw new j(2020,!1)}var Ze=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=vl({type:t});static \u0275inj=Qu({})}return t})();function jg(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var bl="browser",oD="server";function Dl(t){return t===bl}function Cl(t){return t===oD}var ma=class{};var Nl=new U(""),Hg=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ie(Nl),ie(ve))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),ya=class{_doc;constructor(e){this._doc=e}manager},Al="ng-app-id";function sD(t){for(let e of t)e.remove()}function aD(t,e){let n=e.createElement("style");return n.textContent=t,n}function y1(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Al}="${e}"],link[${Al}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Al),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Bg(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var zg=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Cl(o),y1(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,aD);r?.forEach(i=>this.addUsage(i,this.external,Bg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(sD(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])sD(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,aD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Bg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Al,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ie(mt),ie(hg),ie(pg,8),ie(_n))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),Ug={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},qg=/%COMP%/g;var uD="%COMP%",v1=`_nghost-${uD}`,_1=`_ngcontent-${uD}`,I1=!0,E1=new U("",{providedIn:"root",factory:()=>I1});function w1(t){return _1.replace(qg,t)}function T1(t){return v1.replace(qg,t)}function lD(t,e){return e.map(n=>n.replace(qg,t))}var Wg=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Cl(a),this.defaultRenderer=new va(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===mn.ShadowDom&&(r=Te(F({},r),{encapsulation:mn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Rl?i.applyToHost(n):i instanceof _a&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case mn.Emulated:o=new Rl(u,l,r,this.appId,h,s,a,p,m);break;case mn.ShadowDom:return new $g(u,l,n,r,s,a,this.nonce,p,m);default:o=new _a(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ie(Hg),ie(zg),ie(hg),ie(E1),ie(mt),ie(_n),ie(ve),ie(pg),ie(ul,8))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),va=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Ug[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(cD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(cD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Ug[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ug[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(qn.DashCase|qn.Important)?e.style.setProperty(n,r,i&qn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&qn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Zn().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function cD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var $g=class extends va{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=lD(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Bg(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},_a=class extends va{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?lD(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Rl=class extends _a{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=w1(h),this.hostAttr=T1(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ml=class t extends ga{supportsDOMEvents=!0;static makeCurrent(){Lg(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=b1();return n==null?null:D1(n)}resetBaseElement(){Ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jg(document.cookie,e)}},Ia=null;function b1(){return Ia=Ia||document.head.querySelector("base"),Ia?Ia.getAttribute("href"):null}function D1(t){return new URL(t,document.baseURI).pathname}var C1=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),hD=(()=>{class t extends ya{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ie(mt))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),dD=["alt","control","meta","shift"],S1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},A1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},fD=(()=>{class t extends ya{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),dD.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=S1[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),dD.forEach(s=>{if(s!==i){let a=A1[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ie(mt))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function Gg(t,e,n){return Qb(F({rootComponent:t,platformRef:n?.platformRef},R1(e)))}function R1(t){return{appProviders:[...k1,...t?.providers??[]],platformProviders:x1}}function N1(){Ml.makeCurrent()}function M1(){return new zn}function P1(){return nb(document),document}var x1=[{provide:_n,useValue:bl},{provide:fg,useValue:N1,multi:!0},{provide:mt,useFactory:P1}];var k1=[{provide:Ju,useValue:"root"},{provide:zn,useFactory:M1},{provide:Nl,useClass:hD,multi:!0,deps:[mt]},{provide:Nl,useClass:fD,multi:!0,deps:[mt]},Wg,zg,Hg,{provide:Do,useExisting:Wg},{provide:ma,useClass:C1},[]];var pD=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ie(mt))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var te="primary",ka=Symbol("RouteTitle"),Jg=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ei(t){return new Jg(t)}function wD(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function F1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!In(t[n],e[n]))return!1;return!0}function In(t,e){let n=t?Xg(t):void 0,r=e?Xg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!TD(t[i],e[i]))return!1;return!0}function Xg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function TD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function bD(t){return t.length>0?t[t.length-1]:null}function Ar(t){return Kf(t)?t:da(t)?ke(Promise.resolve(t)):Q(t)}var L1={exact:CD,subset:SD},DD={exact:V1,subset:j1,ignored:()=>!0};function gD(t,e,n){return L1[n.paths](t.root,e.root,n.matrixParams)&&DD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function V1(t,e){return In(t,e)}function CD(t,e,n){if(!_i(t.segments,e.segments)||!kl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!CD(t.children[r],e.children[r],n))return!1;return!0}function j1(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>TD(t[n],e[n]))}function SD(t,e,n){return AD(t,e,e.segments,n)}function AD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!_i(i,n)||e.hasChildren()||!kl(i,n,r))}else if(t.segments.length===n.length){if(!_i(t.segments,n)||!kl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!SD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!_i(t.segments,i)||!kl(t.segments,i,r)||!t.children[te]?!1:AD(t.children[te],e,o,r)}}function kl(t,e,n){return e.every((r,i)=>DD[n](t[i].parameters,r.parameters))}var wn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){return $1.serialize(this)}},ye=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ol(this)}},Cr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ei(this.parameters),this._parameterMap}toString(){return ND(this)}};function U1(t,e){return _i(t,e)&&t.every((n,r)=>In(n.parameters,e[r].parameters))}function _i(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function B1(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===te&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==te&&(n=n.concat(e(i,r)))}),n}var Oa=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new wi,providedIn:"root"})}return t})(),wi=class{parse(e){let n=new tm(e);return new wn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ea(e.root,!0)}`,r=q1(e.queryParams),i=typeof e.fragment=="string"?`#${H1(e.fragment)}`:"";return`${n}${r}${i}`}},$1=new wi;function Ol(t){return t.segments.map(e=>ND(e)).join("/")}function Ea(t,e){if(!t.hasChildren())return Ol(t);if(e){let n=t.children[te]?Ea(t.children[te],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==te&&r.push(`${i}:${Ea(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=B1(t,(r,i)=>i===te?[Ea(t.children[te],!1)]:[`${i}:${Ea(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[te]!=null?`${Ol(t)}/${n[0]}`:`${Ol(t)}/(${n.join("//")})`}}function RD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pl(t){return RD(t).replace(/%3B/gi,";")}function H1(t){return encodeURI(t)}function em(t){return RD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fl(t){return decodeURIComponent(t)}function mD(t){return Fl(t.replace(/\+/g,"%20"))}function ND(t){return`${em(t.path)}${z1(t.parameters)}`}function z1(t){return Object.entries(t).map(([e,n])=>`;${em(e)}=${em(n)}`).join("")}function q1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Pl(n)}=${Pl(i)}`).join("&"):`${Pl(n)}=${Pl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var W1=/^[^\/()?;#]+/;function Kg(t){let e=t.match(W1);return e?e[0]:""}var G1=/^[^\/()?;=#]+/;function K1(t){let e=t.match(G1);return e?e[0]:""}var Q1=/^[^=?&#]+/;function Y1(t){let e=t.match(Q1);return e?e[0]:""}var Z1=/^[^&#]+/;function J1(t){let e=t.match(Z1);return e?e[0]:""}var tm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new ye(e,n)),r}parseSegment(){let e=Kg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Cr(Fl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=K1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Kg(this.remaining);i&&(r=i,this.capture(r))}e[Fl(n)]=Fl(r)}parseQueryParam(e){let n=Y1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=J1(this.remaining);s&&(r=s,this.capture(r))}let i=mD(n),o=mD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Kg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[te]:new ye([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function MD(t){return t.segments.length>0?new ye([],{[te]:t}):t}function PD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=PD(i);if(r===te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ye(t.segments,e);return X1(n)}function X1(t){if(t.numberOfChildren===1&&t.children[te]){let e=t.children[te];return new ye(t.segments.concat(e.segments),e.children)}return t}function jo(t){return t instanceof wn}function xD(t,e,n=null,r=null){let i=kD(t);return OD(i,e,n,r)}function kD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new ye(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=MD(r);return e??i}function OD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Qg(i,i,i,n,r);let o=eF(e);if(o.toRoot())return Qg(i,i,new ye([],{}),n,r);let s=tF(o,i,t),a=s.processChildren?Ta(s.segmentGroup,s.index,o.commands):LD(s.segmentGroup,s.index,o.commands);return Qg(i,s.segmentGroup,a,n,r)}function Vl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Da(t){return typeof t=="object"&&t!=null&&t.outlets}function Qg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=FD(t,e,n);let a=MD(PD(s));return new wn(a,o,i)}function FD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=FD(o,e,n)}),new ye(t.segments,r)}var jl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Vl(r[0]))throw new j(4003,!1);let i=r.find(Da);if(i&&i!==bD(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function eF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new jl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new jl(n,e,r)}var Lo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function tF(t,e,n){if(t.isAbsolute)return new Lo(e,!0,0);if(!n)return new Lo(e,!1,NaN);if(n.parent===null)return new Lo(n,!0,0);let r=Vl(t.commands[0])?0:1,i=n.segments.length-1+r;return nF(n,i,t.numberOfDoubleDots)}function nF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new Lo(r,!1,i-o)}function rF(t){return Da(t[0])?t[0].outlets:{[te]:t}}function LD(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return Ta(t,e,n);let r=iF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ye(t.segments.slice(0,r.pathIndex),{});return o.children[te]=new ye(t.segments.slice(r.pathIndex),t.children),Ta(o,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?nm(t,e,n):r.match?Ta(t,0,i):nm(t,e,n)}function Ta(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=rF(n),i={};if(Object.keys(r).some(o=>o!==te)&&t.children[te]&&t.numberOfChildren===1&&t.children[te].segments.length===0){let o=Ta(t.children[te],e,n);return new ye(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=LD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ye(t.segments,i)}}function iF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Da(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!vD(u,l,s))return o;r+=2}else{if(!vD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function nm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Da(o)){let u=oF(o.outlets);return new ye(r,u)}if(i===0&&Vl(n[0])){let u=t.segments[e];r.push(new Cr(u.path,yD(n[0]))),i++;continue}let s=Da(o)?o.outlets[te]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Vl(a)?(r.push(new Cr(s,yD(a))),i+=2):(r.push(new Cr(s,{})),i++)}return new ye(r,{})}function oF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=nm(new ye([],{}),0,r))}),e}function yD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function vD(t,e,n){return t==n.path&&In(e,n.parameters)}var Ll="imperative",Je=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Je||{}),Lt=class{id;url;constructor(e,n){this.id=e,this.url=n}},Ti=class extends Lt{type=Je.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jn=class extends Lt{urlAfterRedirects;type=Je.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Mt||{}),Ca=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ca||{}),En=class extends Lt{reason;code;type=Je.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xn=class extends Lt{reason;code;type=Je.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Uo=class extends Lt{error;target;type=Je.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sa=class extends Lt{urlAfterRedirects;state;type=Je.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ul=class extends Lt{urlAfterRedirects;state;type=Je.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bl=class extends Lt{urlAfterRedirects;state;shouldActivate;type=Je.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$l=class extends Lt{urlAfterRedirects;state;type=Je.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hl=class extends Lt{urlAfterRedirects;state;type=Je.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zl=class{route;type=Je.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ql=class{route;type=Je.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wl=class{snapshot;type=Je.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gl=class{snapshot;type=Je.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kl=class{snapshot;type=Je.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ql=class{snapshot;type=Je.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Aa=class{},Bo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function sF(t,e){return t.providers&&!t._injector&&(t._injector=yl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function an(t){return t.outlet||te}function aF(t,e){let n=t.filter(r=>an(r)===e);return n.push(...t.filter(r=>an(r)!==e)),n}function Fa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Yl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Fa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new zo(this.rootInjector)}},zo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Yl(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ie(At))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=rm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=rm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=im(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return im(e,this._root).map(n=>n.value)}};function rm(t,e){if(t===e.value)return e;for(let n of e.children){let r=rm(t,n);if(r)return r}return null}function im(t,e){if(t===e.value)return[e];for(let n of e.children){let r=im(t,n);if(r.length)return r.unshift(e),r}return[]}var Ft=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Fo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ra=class extends Zl{snapshot;constructor(e,n){super(e),this.snapshot=n,hm(this,e)}toString(){return this.snapshot.toString()}};function VD(t){let e=cF(t),n=new it([new Cr("",{})]),r=new it({}),i=new it({}),o=new it({}),s=new it(""),a=new Sr(n,r,o,s,i,te,t,e.root);return a.snapshot=e.root,new Ra(new Ft(a,[]),e)}function cF(t){let e={},n={},r={},i="",o=new Ii([],e,r,i,n,te,t,null,{});return new Na("",new Ft(o,[]))}var Sr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(l=>l[ka]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>Ei(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>Ei(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Jl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&UD(i)&&(r.resolve[ka]=i.title),r}var Ii=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ka]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ei(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ei(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Na=class extends Zl{url;constructor(e,n){super(n),this.url=e,hm(this,n)}toString(){return jD(this._root)}};function hm(t,e){e.value._routerState=t,e.children.forEach(n=>hm(t,n))}function jD(t){let e=t.children.length>0?` { ${t.children.map(jD).join(", ")} } `:"";return`${t.value}${e}`}function Yg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,In(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),In(e.params,n.params)||t.paramsSubject.next(n.params),F1(e.url,n.url)||t.urlSubject.next(n.url),In(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function om(t,e){let n=In(t.params,e.params)&&U1(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||om(t.parent,e.parent))}function UD(t){return typeof t.title=="string"||t.title===null}var BD=new U(""),La=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=te;activateEvents=new Qe;deactivateEvents=new Qe;attachEvents=new Qe;detachEvents=new Qe;routerOutletData=KT(void 0);parentContexts=x(zo);location=x(Po);changeDetector=x(Og);inputBinder=x(nd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new sm(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=la({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[eg]})}return t})(),sm=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Sr?this.route:e===zo?this.childContexts:e===BD?this.outletData:this.parent.get(e,n)}},nd=new U("");var fm=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=je({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Pe(0,"router-outlet")},dependencies:[La],encapsulation:2})}return t})();function pm(t){let e=t.children&&t.children.map(pm),n=e?Te(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=fm),n}function uF(t,e,n){let r=Ma(t,e._root,n?n._root:void 0);return new Ra(r,e)}function Ma(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=lF(t,e,n);return new Ft(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ma(t,a)),s}}let r=dF(e.value),i=e.children.map(o=>Ma(t,o));return new Ft(r,i)}}function lF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ma(t,r,i);return Ma(t,r)})}function dF(t){return new Sr(new it(t.url),new it(t.params),new it(t.queryParams),new it(t.fragment),new it(t.data),t.outlet,t.component,t)}var $o=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},$D="ngNavigationCancelingError";function Xl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=jo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HD(!1,Mt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function HD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[$D]=!0,n.cancellationCode=e,n}function hF(t){return zD(t)&&jo(t.url)}function zD(t){return!!t&&t[$D]}var fF=(t,e,n,r)=>le(i=>(new am(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),am=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Yg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Fo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Fo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Fo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Fo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ql(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Gl(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Yg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Yg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ed=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Vo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function pF(t,e,n){let r=t._root,i=e?e._root:null;return wa(r,i,n,[r.value])}function gF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function qo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Hw(t)?t:e.get(t):r}function wa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Fo(e);return t.children.forEach(s=>{mF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ba(a,n.getContext(s),i)),i}function mF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=yF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ed(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?wa(t,e,a?a.children:null,r,i):wa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Vo(a.outlet.component,s))}else s&&ba(e,a,i),i.canActivateChecks.push(new ed(r)),o.component?wa(t,null,a?a.children:null,r,i):wa(t,null,n,r,i);return i}function yF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!_i(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_i(t.url,e.url)||!In(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!om(t,e)||!In(t.queryParams,e.queryParams);case"paramsChange":default:return!om(t,e)}}function ba(t,e,n){let r=Fo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ba(s,e.children.getContext(o),n):ba(s,null,n):ba(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Vo(e.outlet.component,i)):n.canDeactivateChecks.push(new Vo(null,i)):n.canDeactivateChecks.push(new Vo(null,i))}function Va(t){return typeof t=="function"}function vF(t){return typeof t=="boolean"}function _F(t){return t&&Va(t.canLoad)}function IF(t){return t&&Va(t.canActivate)}function EF(t){return t&&Va(t.canActivateChild)}function wF(t){return t&&Va(t.canDeactivate)}function TF(t){return t&&Va(t.canMatch)}function qD(t){return t instanceof Un||t?.name==="EmptyError"}var xl=Symbol("INITIAL_VALUE");function Ho(){return en(t=>pu(t.map(e=>e.pipe(Bn(1),vu(xl)))).pipe(le(e=>{for(let n of e)if(n!==!0){if(n===xl)return xl;if(n===!1||bF(n))return n}return!0}),Bt(e=>e!==xl),Bn(1)))}function bF(t){return jo(t)||t instanceof $o}function DF(t,e){return We(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Q(Te(F({},n),{guardsResult:!0})):CF(s,r,i,t).pipe(We(a=>a&&vF(a)?SF(r,o,t,e):Q(a)),le(a=>Te(F({},n),{guardsResult:a})))})}function CF(t,e,n,r){return ke(t).pipe(We(i=>PF(i.component,i.route,n,e,r)),$n(i=>i!==!0,!0))}function SF(t,e,n,r){return ke(e).pipe(lo(i=>uo(RF(i.route.parent,r),AF(i.route,r),MF(t,i.path,n),NF(t,i.route,n))),$n(i=>i!==!0,!0))}function AF(t,e){return t!==null&&e&&e(new Kl(t)),Q(!0)}function RF(t,e){return t!==null&&e&&e(new Wl(t)),Q(!0)}function NF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>gu(()=>{let s=Fa(e)??n,a=qo(o,s),u=IF(a)?a.canActivate(e,t):Tt(s,()=>a(e,t));return Ar(u).pipe($n())}));return Q(i).pipe(Ho())}function MF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>gF(s)).filter(s=>s!==null).map(s=>gu(()=>{let a=s.guards.map(u=>{let l=Fa(s.node)??n,h=qo(u,l),p=EF(h)?h.canActivateChild(r,t):Tt(l,()=>h(r,t));return Ar(p).pipe($n())});return Q(a).pipe(Ho())}));return Q(o).pipe(Ho())}function PF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let u=Fa(e)??i,l=qo(a,u),h=wF(l)?l.canDeactivate(t,e,n,r):Tt(u,()=>l(t,e,n,r));return Ar(h).pipe($n())});return Q(s).pipe(Ho())}function xF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=qo(s,t),u=_F(a)?a.canLoad(e,n):Tt(t,()=>a(e,n));return Ar(u)});return Q(o).pipe(Ho(),WD(r))}function WD(t){return Xc(ot(e=>{if(typeof e!="boolean")throw Xl(t,e)}),le(e=>e===!0))}function kF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=qo(s,t),u=TF(a)?a.canMatch(e,n):Tt(t,()=>a(e,n));return Ar(u)});return Q(o).pipe(Ho(),WD(r))}var Pa=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},xa=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Oo(t){return co(new Pa(t))}function OF(t){return co(new j(4e3,!1))}function FF(t){return co(HD(!1,Mt.GuardRejected))}var cm=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[te])return OF(`${e.redirectTo}`);i=i.children[te]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:C,title:N}=i,R=Tt(o,()=>a({params:y,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(R instanceof wn)throw new xa(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new xa(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new wn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ye(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},um={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LF(t,e,n,r,i){let o=GD(t,e,n);return o.matched?(r=sF(e,r),kF(r,e,n,i).pipe(le(s=>s===!0?o:F({},um)))):Q(o)}function GD(t,e,n){if(e.path==="**")return VF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},um):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||wD)(n,t,e);if(!i)return F({},um);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function VF(t){return{matched:!0,parameters:t.length>0?bD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function _D(t,e,n,r){return n.length>0&&BF(t,n,r)?{segmentGroup:new ye(e,UF(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&$F(t,n,r)?{segmentGroup:new ye(t.segments,jF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function jF(t,e,n,r){let i={};for(let o of n)if(rd(t,e,o)&&!r[an(o)]){let s=new ye([],{});i[an(o)]=s}return F(F({},r),i)}function UF(t,e){let n={};n[te]=e;for(let r of t)if(r.path===""&&an(r)!==te){let i=new ye([],{});n[an(r)]=i}return n}function BF(t,e,n){return n.some(r=>rd(t,e,r)&&an(r)!==te)}function $F(t,e,n){return n.some(r=>rd(t,e,r))}function rd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function HF(t,e,n){return e.length===0&&!t.children[n]}var lm=class{};function zF(t,e,n,r,i,o,s="emptyOnly"){return new dm(t,e,n,r,i,s,o).recognize()}var qF=31,dm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new cm(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=_D(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:n,rootSnapshot:r})=>{let i=new Ft(r,n),o=new Na("",i),s=xD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ii([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,te,n).pipe(le(r=>({children:r,rootSnapshot:n})),_r(r=>{if(r instanceof xa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Pa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(le(s=>s instanceof Ft?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ke(o).pipe(lo(s=>{let a=r.children[s],u=aF(n,s);return this.processSegmentGroup(e,u,a,s,i)}),yu((s,a)=>(s.push(...a),s)),Ir(null),Qf(),We(s=>{if(s===null)return Oo(r);let a=KD(s);return WF(a),Q(a)}))}processSegment(e,n,r,i,o,s,a){return ke(n).pipe(lo(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(_r(l=>{if(l instanceof Pa)return Q(null);throw l}))),$n(u=>!!u),_r(u=>{if(qD(u))return HF(r,i,o)?Q(new lm):Oo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return an(r)!==s&&(s===te||!rd(i,o,r))?Oo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Oo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=GD(n,i,o);if(!u)return Oo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qF&&(this.allowRedirects=!1));let y=new Ii(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,ID(i),an(i),i.component??i._loadedComponent??null,i,ED(i)),C=Jl(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(C.params),y.data=Object.freeze(C.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(We(R=>this.processSegment(e,r,n,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=LF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(en(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(en(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new Ii(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,ID(r),an(r),r.component??r._loadedComponent??null,r,ED(r)),N=Jl(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:L}=_D(n,m,y,l);if(L.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(le(K=>new Ft(C,K)));if(l.length===0&&L.length===0)return Q(new Ft(C,[]));let W=an(r)===o;return this.processSegment(h,l,R,L,W?te:o,!0,C).pipe(le(K=>new Ft(C,K instanceof Ft?[K]:[])))}))):Oo(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):xF(e,n,r,this.urlSerializer).pipe(We(i=>i?this.configLoader.loadChildren(e,n).pipe(ot(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):FF(n))):Q({routes:[],injector:e})}};function WF(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}function GF(t){let e=t.value.routeConfig;return e&&e.path===""}function KD(t){let e=[],n=new Set;for(let r of t){if(!GF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=KD(r.children);e.push(new Ft(r.value,i))}return e.filter(r=>!n.has(r))}function ID(t){return t.data||{}}function ED(t){return t.resolve||{}}function KF(t,e,n,r,i,o){return We(s=>zF(t,e,n,r,s.extractedUrl,i,o).pipe(le(({state:a,tree:u})=>Te(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function QF(t,e){return We(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of QD(u))s.add(l);let a=0;return ke(s).pipe(lo(u=>o.has(u)?YF(u,r,t,e):(u.data=Jl(u,u.parent,t).resolve,Q(void 0))),ot(()=>a++),ho(1),We(u=>a===s.size?Q(n):Dt))})}function QD(t){let e=t.children.map(n=>QD(n)).flat();return[t,...e]}function YF(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!UD(i)&&(o[ka]=i.title),ZF(o,t,e,r).pipe(le(s=>(t._resolvedData=s,t.data=Jl(t,t.parent,n).resolve,null)))}function ZF(t,e,n,r){let i=Xg(t);if(i.length===0)return Q({});let o={};return ke(i).pipe(We(s=>JF(t[s],e,n,r).pipe($n(),ot(a=>{if(a instanceof $o)throw Xl(new wi,a);o[s]=a}))),ho(1),le(()=>o),_r(s=>qD(s)?Dt:co(s)))}function JF(t,e,n,r){let i=Fa(e)??r,o=qo(t,i),s=o.resolve?o.resolve(e,n):Tt(i,()=>o(e,n));return Ar(s)}function Zg(t){return en(e=>{let n=t(e);return n?ke(n).pipe(le(()=>e)):Q(e)})}var gm=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===te);return r}getResolvedTitleForRoute(n){return n.data[ka]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(YD),providedIn:"root"})}return t})(),YD=(()=>{class t extends gm{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ie(pD))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ja=new U("",{providedIn:"root",factory:()=>({})}),Ua=new U(""),ZD=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(qb);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Ar(n.loadComponent()).pipe(le(XD),ot(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Gs(()=>{this.componentLoaders.delete(n)})),i=new io(r,()=>new rt).pipe(ro());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=JD(r,this.compiler,n,this.onLoadEndListener).pipe(Gs(()=>{this.childrenLoaders.delete(r)})),s=new io(o,()=>new rt).pipe(ro());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function JD(t,e,n,r){return Ar(t.loadChildren()).pipe(le(XD),We(i=>i instanceof Ng||Array.isArray(i)?Q(i):ke(e.compileModuleAsync(i))),le(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ua,[],{optional:!0,self:!0}).flat()),{routes:s.map(pm),injector:o}}))}function XF(t){return t&&typeof t=="object"&&"default"in t}function XD(t){return XF(t)?t.default:t}var id=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(eL),providedIn:"root"})}return t})(),eL=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),e0=new U("");var t0=new U(""),n0=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new rt;transitionAbortSubject=new rt;configLoader=x(ZD);environmentInjector=x(At);destroyRef=x(ua);urlSerializer=x(Oa);rootContexts=x(zo);location=x(ko);inputBindingEnabled=x(nd,{optional:!0})!==null;titleStrategy=x(gm);options=x(ja,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(id);createViewTransition=x(e0,{optional:!0});navigationErrorHandler=x(t0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new zl(i)),r=i=>this.events.next(new ql(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Te(F({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new it(null),this.transitions.pipe(Bt(r=>r!==null),en(r=>{let i=!1,o=!1;return Q(r).pipe(en(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),Dt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Te(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new Xn(s.id,this.urlSerializer.serialize(s.rawUrl),l,Ca.IgnoredSameUrlNavigation)),s.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Q(s).pipe(en(l=>(this.events.next(new Ti(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Dt:Promise.resolve(l))),KF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ot(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=Te(F({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Sa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:m,extras:y}=s,C=new Ti(l,this.urlSerializer.serialize(h),p,m);this.events.next(C);let N=VD(this.rootComponentType).snapshot;return this.currentTransition=r=Te(F({},s),{targetSnapshot:N,urlAfterRedirects:h,extras:Te(F({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Q(r)}else{let l="";return this.events.next(new Xn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Ca.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Dt}}),ot(s=>{let a=new Ul(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),le(s=>(this.currentTransition=r=Te(F({},s),{guards:pF(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),DF(this.environmentInjector,s=>this.events.next(s)),ot(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Xl(this.urlSerializer,s.guardsResult);let a=new Bl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Bt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Mt.GuardRejected),!1)),Zg(s=>{if(s.guards.canActivateChecks.length!==0)return Q(s).pipe(ot(a=>{let u=new $l(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),en(a=>{let u=!1;return Q(a).pipe(QF(this.paramsInheritanceStrategy,this.environmentInjector),ot({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Mt.NoDataFromResolver)}}))}),ot(a=>{let u=new Hl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Zg(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(ot(h=>{u.component=h}),le(()=>{})));for(let h of u.children)l.push(...a(h));return l};return pu(a(s.targetSnapshot.root)).pipe(Ir(null),Bn(1))}),Zg(()=>this.afterPreactivation()),en(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?ke(u).pipe(le(()=>r)):Q(r)}),le(s=>{let a=uF(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Te(F({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),ot(()=>{this.events.next(new Aa)}),fF(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Bn(1),ot({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Yf(this.transitionAbortSubject.pipe(ot(s=>{throw s}))),Gs(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),_r(s=>{if(this.destroyed)return r.resolve(!1),Dt;if(o=!0,zD(s))this.events.next(new En(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),hF(s)?this.events.next(new Bo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Uo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=Tt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof $o){let{message:l,cancellationCode:h}=Xl(this.urlSerializer,u);this.events.next(new En(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Bo(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Dt}))}))}cancelNavigationTransition(n,r,i){let o=new En(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tL(t){return t!==Ll}var r0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(nL),providedIn:"root"})}return t})(),td=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},nL=(()=>{class t extends td{static \u0275fac=(()=>{let n;return function(i){return(n||(n=cg(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),i0=(()=>{class t{urlSerializer=x(Oa);options=x(ja,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(ko);urlHandlingStrategy=x(id);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new wn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof wn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=VD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>x(rL),providedIn:"root"})}return t})(),rL=(()=>{class t extends i0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Ti?this.updateStateMemento():n instanceof Xn?this.commitTransition(r):n instanceof Sa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Aa?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof En&&(n.code===Mt.GuardRejected||n.code===Mt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Uo?this.restoreHistory(r,!0):n instanceof Jn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=F(F({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=F(F({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=cg(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mm(t,e){t.events.pipe(Bt(n=>n instanceof Jn||n instanceof En||n instanceof Uo||n instanceof Xn),le(n=>n instanceof Jn||n instanceof Xn?0:(n instanceof En?n.code===Mt.Redirect||n.code===Mt.SupersededByNewNavigation:!1)?2:1),Bt(n=>n!==2),Bn(1)).subscribe(()=>{e()})}var iL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},od=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(Vb);stateManager=x(i0);options=x(ja,{optional:!0})||{};pendingTasks=x(mi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(n0);urlSerializer=x(Oa);location=x(ko);urlHandlingStrategy=x(id);_events=new rt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(r0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(Ua,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(nd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Me;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof En&&r.code!==Mt.Redirect&&r.code!==Mt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jn)this.navigated=!0;else if(r instanceof Bo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||tL(i.source)},s);this.scheduleNavigation(a,Ll,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}aL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ll,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(pm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=kD(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return OD(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=jo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ll,null,r)}navigate(n,r={skipLocationChange:!1}){return sL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},iL):r===!1?i=F({},oL):i=r,jo(n))return gD(this.currentUrlTree,n,i);let o=this.parseUrl(n);return gD(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return mm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function aL(t){return!(t instanceof Aa)&&!(t instanceof Bo)}var uL=new U("");function ym(t,...e){return on([{provide:Ua,multi:!0,useValue:t},[],{provide:Sr,useFactory:lL,deps:[od]},{provide:Mg,multi:!0,useFactory:dL},e.map(n=>n.\u0275providers)])}function lL(t){return t.routerState.root}function dL(){let t=x(Ye);return e=>{let n=t.get(ui);if(e!==n.components[0])return;let r=t.get(od),i=t.get(hL);t.get(fL)===1&&r.initialNavigation(),t.get(pL,null,ne.Optional)?.setUpPreloading(),t.get(uL,null,ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var hL=new U("",{factory:()=>new rt}),fL=new U("",{providedIn:"root",factory:()=>1});var pL=new U("");var sd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&Pe(0,"router-outlet")},dependencies:[Ze,La],encapsulation:2})};var o0=()=>{};var c0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ad={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new _m;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},_m=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},yL=function(t){let e=c0(t);return ad.encodeByteArray(e,!0)},$a=function(t){return yL(t).replace(/\./g,"")},cd=function(t){try{return ad.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Em(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var vL=()=>Em().__FIREBASE_DEFAULTS__,_L=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&cd(t[1]);return e&&JSON.parse(e)},ud=()=>{try{return o0()||vL()||_L()||IL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wm=t=>{var e,n;return(n=(e=ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},u0=t=>{let e=wm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Tm=()=>{var t;return(t=ud())===null||t===void 0?void 0:t.config},bm=t=>{var e;return(e=ud())===null||e===void 0?void 0:e[`_${t}`]};var bi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Nr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function ld(t){return v(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function l0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$a(JSON.stringify(n)),$a(JSON.stringify(s)),""].join(".")}var Ba={};function EL(){let t={prod:[],emulator:[]};for(let e of Object.keys(Ba))Ba[e]?t.emulator.push(e):t.prod.push(e);return t}function wL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var s0=!1;function dd(t,e){if(typeof window>"u"||typeof document>"u"||!Nr(window.location.host)||Ba[t]===e||Ba[t]||s0)return;Ba[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=EL().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{s0=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=wL(r),y=n("text"),C=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),R=document.getElementById(N)||document.createElement("a"),L=n("preprendIcon"),W=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let K=m.element;a(K),h(R,N);let be=l();u(W,L),K.append(W,C,R,be),document.body.appendChild(K)}o?(C.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function TL(){var t;let e=(t=ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hd(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function f0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p0(){let t=Xe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g0(){return!TL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Di(){try{return typeof indexedDB=="object"}catch{return!1}}function fd(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function m0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var bL="FirebaseError",at=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bt.prototype.create)}},bt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?DL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new at(i,a,r)}};function DL(t,e){return t.replace(CL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var CL=/\{\$([^}]+)}/g;function y0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(a0(o)&&a0(s)){if(!Wt(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function a0(t){return t!==null&&typeof t=="object"}function Ha(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function v0(t,e){let n=new Im(t,e);return n.subscribe.bind(n)}var Im=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vm),i.error===void 0&&(i.error=vm),i.complete===void 0&&(i.complete=vm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function SL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vm(){}var AL=1e3,RL=2,NL=4*60*60*1e3,ML=.5;function pd(t,e=AL,n=RL){let r=e*Math.pow(n,t),i=Math.round(ML*r*(Math.random()-.5)*2);return Math.min(NL,r+i)}function Ue(t){return t&&t._delegate?t._delegate:t}var Fe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ci="[DEFAULT]";var Dm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new bi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xL(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PL(t){return t===Ci?void 0:t}function xL(t){return t.instantiationMode==="EAGER"}var gd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Dm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var kL=[],ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ae||{}),OL={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},FL=ae.INFO,LL={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},VL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=LL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Gt=class{constructor(e){this.name=e,this._logLevel=FL,this._logHandler=VL,this._userLogHandler=null,kL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var jL=(t,e)=>e.some(n=>t instanceof n),_0,I0;function UL(){return _0||(_0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BL(){return I0||(I0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var E0=new WeakMap,Sm=new WeakMap,w0=new WeakMap,Cm=new WeakMap,Rm=new WeakMap;function $L(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Tn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&E0.set(n,t)}).catch(()=>{}),Rm.set(e,t),e}function HL(t){if(Sm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Sm.set(t,e)}var Am={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||w0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T0(t){Am=t(Am)}function zL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(md(this),e,...n);return w0.set(r,e.sort?e.sort():[e]),Tn(r)}:BL().includes(t)?function(...e){return t.apply(md(this),e),Tn(E0.get(this))}:function(...e){return Tn(t.apply(md(this),e))}}function qL(t){return typeof t=="function"?zL(t):(t instanceof IDBTransaction&&HL(t),jL(t,UL())?new Proxy(t,Am):t)}function Tn(t){if(t instanceof IDBRequest)return $L(t);if(Cm.has(t))return Cm.get(t);let e=qL(t);return e!==t&&(Cm.set(t,e),Rm.set(e,t)),e}var md=t=>Rm.get(t);function yd(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Tn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Tn(s.result),u.oldVersion,u.newVersion,Tn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var WL=["get","getKey","getAll","getAllKeys","count"],GL=["put","add","delete","clear"],Nm=new Map;function b0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=GL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WL.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Nm.set(e,o),o}T0(t=>Te(F({},t),{get:(e,n,r)=>b0(e,n)||t.get(e,n,r),has:(e,n)=>!!b0(e,n)||t.has(e,n)}));var Pm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function KL(t){let e=t.getComponent();return e?.type==="VERSION"}var xm="@firebase/app",D0="0.13.2";var er=new Gt("@firebase/app"),QL="@firebase/app-compat",YL="@firebase/analytics-compat",ZL="@firebase/analytics",JL="@firebase/app-check-compat",XL="@firebase/app-check",eV="@firebase/auth",tV="@firebase/auth-compat",nV="@firebase/database",rV="@firebase/data-connect",iV="@firebase/database-compat",oV="@firebase/functions",sV="@firebase/functions-compat",aV="@firebase/installations",cV="@firebase/installations-compat",uV="@firebase/messaging",lV="@firebase/messaging-compat",dV="@firebase/performance",hV="@firebase/performance-compat",fV="@firebase/remote-config",pV="@firebase/remote-config-compat",gV="@firebase/storage",mV="@firebase/storage-compat",yV="@firebase/firestore",vV="@firebase/ai",_V="@firebase/firestore-compat",IV="firebase",EV="11.10.0";var km="[DEFAULT]",wV={[xm]:"fire-core",[QL]:"fire-core-compat",[ZL]:"fire-analytics",[YL]:"fire-analytics-compat",[XL]:"fire-app-check",[JL]:"fire-app-check-compat",[eV]:"fire-auth",[tV]:"fire-auth-compat",[nV]:"fire-rtdb",[rV]:"fire-data-connect",[iV]:"fire-rtdb-compat",[oV]:"fire-fn",[sV]:"fire-fn-compat",[aV]:"fire-iid",[cV]:"fire-iid-compat",[uV]:"fire-fcm",[lV]:"fire-fcm-compat",[dV]:"fire-perf",[hV]:"fire-perf-compat",[fV]:"fire-rc",[pV]:"fire-rc-compat",[gV]:"fire-gcs",[mV]:"fire-gcs-compat",[yV]:"fire-fst",[_V]:"fire-fst-compat",[vV]:"fire-vertex","fire-js":"fire-js",[IV]:"fire-js-all"};var za=new Map,TV=new Map,Om=new Map;function C0(t,e){try{t.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ct(t){let e=t.name;if(Om.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,t);for(let n of za.values())C0(n,t);for(let n of TV.values())C0(n,t);return!0}function Kt(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qt(t){return t==null?!1:t.settings!==void 0}var bV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new bt("app","Firebase",bV);var Fm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}};var Pr=EV;function jm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:km,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Mr.create("bad-app-name",{appName:String(i)});if(n||(n=Tm()),!n)throw Mr.create("no-options");let o=za.get(i);if(o){if(Wt(n,o.options)&&Wt(r,o.config))return o;throw Mr.create("duplicate-app",{appName:i})}let s=new gd(i);for(let u of Om.values())s.addComponent(u);let a=new Fm(n,r,s);return za.set(i,a),a}function bn(t=km){let e=za.get(t);if(!e&&t===km&&Tm())return jm();if(!e)throw Mr.create("no-app",{appName:t});return e}function vd(){return Array.from(za.values())}function _e(t,e,n){var r;let i=(r=wV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(a.join(" "));return}ct(new Fe(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var DV="firebase-heartbeat-database",CV=1,qa="firebase-heartbeat-store",Mm=null;function N0(){return Mm||(Mm=yd(DV,CV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),Mm}function SV(t){return v(this,null,function*(){try{let n=(yield N0()).transaction(qa),r=yield n.objectStore(qa).get(M0(t));return yield n.done,r}catch(e){if(e instanceof at)er.warn(e.message);else{let n=Mr.create("idb-get",{originalErrorMessage:e?.message});er.warn(n.message)}}})}function S0(t,e){return v(this,null,function*(){try{let r=(yield N0()).transaction(qa,"readwrite");yield r.objectStore(qa).put(e,M0(t)),yield r.done}catch(n){if(n instanceof at)er.warn(n.message);else{let r=Mr.create("idb-set",{originalErrorMessage:n?.message});er.warn(r.message)}}})}function M0(t){return`${t.name}!${t.options.appId}`}var AV=1024,RV=30,Lm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Vm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=A0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>RV){let s=MV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){er.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=A0(),{heartbeatsToSend:r,unsentEntries:i}=NV(this._heartbeatsCache.heartbeats),o=$a(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return er.warn(n),""}})}};function A0(){return new Date().toISOString().substring(0,10)}function NV(t,e=AV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),R0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),R0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Vm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Di()?fd().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield SV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return S0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return S0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function R0(t){return $a(JSON.stringify({version:2,heartbeats:t})).length}function MV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function PV(t){ct(new Fe("platform-logger",e=>new Pm(e),"PRIVATE")),ct(new Fe("heartbeat",e=>new Lm(e),"PRIVATE")),_e(xm,D0,t),_e(xm,D0,"esm2017"),_e("fire-js","")}PV("");var xV="firebase",kV="11.10.0";_e(xV,kV,"app");function Um(t){t===void 0&&(oT(Um),t=x(Ye));let e=t.get(sl);return n=>new ce(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Dn=new sa("ANGULARFIRE2_VERSION");function Ai(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var xr=(t,e)=>{let n=e?[e]:vd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Wo=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Wo||{}),P0=kg()&&typeof Zone<"u"?Wo.WARN:Wo.SILENT;var _d=class{zone;delegate;constructor(e,n=Wf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Cn=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=x(ve);this.outsideAngular=n.runOutsideAngular(()=>new _d(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new _d(typeof Zone>"u"?void 0:Zone.current,qf))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),x0=!1;function OV(t,e){!x0&&(P0>Wo.SILENT||kg())&&(x0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),P0>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function FV(t){let e=x(ve,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Si(t){let e=x(ve,{optional:!0});return e?e.run(()=>t()):t()}var LV=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Tt(n,()=>Si(()=>t.apply(void 0,r)))),Pt=(t,e,n)=>(n||=e?Wo.WARN:Wo.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(Cn),s=x(sl),a=x(At)}catch{return OV(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Si(()=>s.add())),i[l]=LV(i[l],r,a));let u=FV(()=>t.apply(this,i));return e?u instanceof ce?u.pipe(vr(o.outsideAngular),yr(o.insideAngular),Um(a)):u instanceof Promise?Si(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>Tt(a,()=>Si(()=>l(p))),p=>Tt(a,()=>Si(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Si(()=>u):u instanceof ce?u.pipe(vr(o.outsideAngular),yr(o.insideAngular)):Si(()=>u)});var cn=class{constructor(e){return e}},tr=class{constructor(){return vd()}};function VV(t){return t&&t.length===1?t[0]:new cn(bn())}var Bm=new U("angularfire2._apps"),jV={provide:cn,useFactory:VV,deps:[[new gt,Bm]]},UV={provide:tr,deps:[[new gt,Bm]]};function BV(t){return(e,n)=>{let r=n.get(_n);_e("angularfire",Dn.full,"core"),_e("angularfire",Dn.full,"app"),_e("angular",zb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new cn(i)}}function k0(t,...e){return on([jV,UV,{provide:Bm,useFactory:BV(t),multi:!0,deps:[ve,Ye,Cn,...e]}])}var O0=Pt(jm,!0);var $V=new Map,HV={activated:!1,tokenObservers:[]},zV={initialized:!1,enabled:!1};function un(t){return $V.get(t)||Object.assign({},HV)}function j0(){return zV}var qV="https://content-firebaseappcheck.googleapis.com/v1";var WV="exchangeDebugToken",F0={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},FK=24*60*60*1e3;var zm=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new bi,this.pending.promise.catch(n=>{}),yield GV(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new bi,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function GV(t){return new Promise(e=>{setTimeout(e,t)})}var KV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},kr=new bt("appCheck","AppCheck",KV);function U0(t){if(!un(t).activated)throw kr.create("use-before-activation",{appName:t.name})}function B0(r,i){return v(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw kr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw kr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw kr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw kr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function $0(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${qV}/projects/${n}/apps/${r}:${WV}?key=${i}`,body:{debug_token:e}}}var QV="firebase-app-check-database",YV=1,qm="firebase-app-check-store";var Id=null;function ZV(){return Id||(Id=new Promise((t,e)=>{try{let n=indexedDB.open(QV,YV);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(kr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(qm,{keyPath:"compositeKey"})}}}catch(n){e(kr.create("storage-open",{originalErrorMessage:n?.message}))}}),Id)}function JV(t,e){return XV(e2(t),e)}function XV(t,e){return v(this,null,function*(){let r=(yield ZV()).transaction(qm,"readwrite"),o=r.objectStore(qm).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(kr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function e2(t){return`${t.options.appId}-${t.name}`}var Wa=new Gt("@firebase/app-check");function $m(t,e){return Di()?JV(t,e).catch(n=>{Wa.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function H0(){return j0().enabled}function z0(){return v(this,null,function*(){let t=j0();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var t2={error:"UNKNOWN_ERROR"};function n2(t){return ad.encodeString(JSON.stringify(t),!1)}function Wm(t,e=!1,n=!1){return v(this,null,function*(){let r=t.app;U0(r);let i=un(r),o=i.token,s;if(o&&!Ga(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Ga(l)?o=l:yield $m(r,void 0))}if(!e&&o&&Ga(o))return{token:o.token};let a=!1;if(H0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=B0($0(r,yield z0()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield $m(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Wa.warn(l.message):n&&Wa.error(l),Hm(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield un(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Wa.warn(l.message):n&&Wa.error(l),s=l}let u;return o?s?Ga(o)?u={token:o.token,internalError:s}:u=Hm(s):(u={token:o.token},i.token=o,yield $m(r,o)):u=Hm(s),a&&s2(r,u),u})}function r2(t){return v(this,null,function*(){let e=t.app;U0(e);let{provider:n}=un(e);if(H0()){let r=yield z0(),{token:i}=yield B0($0(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function i2(t,e,n,r){let{app:i}=t,o=un(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ga(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),L0(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>L0(t))}function q0(t,e){let n=un(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function L0(t){let{app:e}=t,n=un(e),r=n.tokenRefresher;r||(r=o2(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function o2(t){let{app:e}=t;return new zm(()=>v(null,null,function*(){let n=un(e),r;if(n.token?r=yield Wm(t,!0):r=yield Wm(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=un(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},F0.RETRIAL_MIN_WAIT,F0.RETRIAL_MAX_WAIT)}function s2(t,e){let n=un(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ga(t){return t.expireTimeMillis-Date.now()>0}function Hm(t){return{token:n2(t2),error:t}}var Gm=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=un(this.app);for(let n of e)q0(this.app,n.next);return Promise.resolve()}};function a2(t,e){return new Gm(t,e)}function c2(t){return{getToken:e=>Wm(t,e),getLimitedUseToken:()=>r2(t),addTokenListener:e=>i2(t,"INTERNAL",e),removeTokenListener:e=>q0(t.app,e)}}var u2="@firebase/app-check",l2="0.10.1";var d2="app-check",V0="app-check-internal";function h2(){ct(new Fe(d2,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return a2(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(V0).initialize()})),ct(new Fe(V0,t=>{let e=t.getProvider("app-check").getImmediate();return c2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),_e(u2,l2)}h2();var f2="app-check";var Go=class{constructor(){return xr(f2)}};var p2=["localhost","0.0.0.0","127.0.0.1"],QK=typeof window<"u"&&p2.includes(window.location.hostname);function sC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var aC=sC,cC=new bt("auth","Firebase",sC());var Cd=new Gt("@firebase/auth");function g2(t,...e){Cd.logLevel<=ae.WARN&&Cd.warn(`Auth (${Pr}): ${t}`,...e)}function wd(t,...e){Cd.logLevel<=ae.ERROR&&Cd.error(`Auth (${Pr}): ${t}`,...e)}function Lr(t,...e){throw fy(t,...e)}function Ni(t,...e){return fy(t,...e)}function uC(t,e,n){let r=Object.assign(Object.assign({},aC()),{[e]:n});return new bt("auth","Firebase",r).create(e,{appName:t.name})}function Ri(t){return uC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cC.create(t,...e)}function G(t,e,...n){if(!t)throw fy(e,...n)}function nr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw wd(e),new Error(e)}function Vr(t,e){t||nr(e)}function Zm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function m2(){return W0()==="http:"||W0()==="https:"}function W0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function y2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m2()||hd()||"connection"in navigator)?navigator.onLine:!0}function v2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Mi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vr(n>e,"Short delay should be less than long delay!"),this.isMobile=d0()||f0()}get(){return y2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function py(t,e){Vr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Sd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var _2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var I2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],E2=new Mi(3e4,6e4);function gy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ko(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){return lC(t,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ha(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return h0()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Nr(t.emulatorConfig.host)&&(y.credentials="include"),Sd.fetch()(yield dC(t,t.config.apiHost,n,p),y)}))})}function lC(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},_2),e);try{let i=new Jm(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ed(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ed(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ed(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ed(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw uC(t,h,l);Lr(t,h)}}catch(i){if(i instanceof at)throw i;Lr(t,"network-request-failed",{message:String(i)})}})}function w2(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield Ko(t,e,n,r,i);return"mfaPendingCredential"in l&&Lr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function dC(t,e,n,r){return v(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?py(t.config,i):`${t.config.apiScheme}://${i}`;return I2.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Jm=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ni(this.auth,"network-request-failed")),E2.get())})}};function Ed(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ni(t,e,r);return i.customData._tokenResponse=n,i}function T2(t,e){return v(this,null,function*(){return Ko(t,"POST","/v1/accounts:delete",e)})}function Ad(t,e){return v(this,null,function*(){return Ko(t,"POST","/v1/accounts:lookup",e)})}function Ka(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function my(t,e=!1){return v(this,null,function*(){let n=Ue(t),r=yield n.getIdToken(e),i=yy(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ka(Km(i.auth_time)),issuedAtTime:Ka(Km(i.iat)),expirationTime:Ka(Km(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Km(t){return Number(t)*1e3}function yy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wd("JWT malformed, contained fewer than 3 sections"),null;try{let i=cd(n);return i?JSON.parse(i):(wd("Failed to decode base64 JWT payload"),null)}catch(i){return wd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function G0(t){let e=yy(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ya(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof at&&b2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function b2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Xm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Za=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ka(this.lastLoginAt),this.creationTime=Ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rd(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ya(t,Ad(n,{idToken:r}));G(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hC(o.providerUserInfo):[],a=D2(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Za(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function vy(t){return v(this,null,function*(){let e=Ue(t);yield Rd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function D2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hC(t){return t.map(e=>{var{providerId:n}=e,r=Gf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function C2(t,e){return v(this,null,function*(){let n=yield lC(t,{},()=>v(null,null,function*(){let r=Ha({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield dC(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&Nr(t.emulatorConfig.host)&&(u.credentials="include"),Sd.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function S2(t,e){return v(this,null,function*(){return Ko(t,"POST","/v2/accounts:revokeToken",gy(t,e))})}var Qa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");let n=G0(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield C2(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(G(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(G(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return nr("not implemented")}};function Or(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Fr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Gf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Za(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield Ya(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return my(this,e)}reload(){return vy(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Rd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Qt(this.auth.app))return Promise.reject(Ri(this.auth));let e=yield this.getIdToken();return yield Ya(this,T2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=n.createdAt)!==null&&l!==void 0?l:void 0,W=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:be,isAnonymous:_t,providerData:Ee,stsTokenManager:T}=n;G(K&&T,e,"internal-error");let _=Qa.fromJSON(this.name,T);G(typeof K=="string",e,"internal-error"),Or(p,e.name),Or(m,e.name),G(typeof be=="boolean",e,"internal-error"),G(typeof _t=="boolean",e,"internal-error"),Or(y,e.name),Or(C,e.name),Or(N,e.name),Or(R,e.name),Or(L,e.name),Or(W,e.name);let E=new t({uid:K,auth:e,email:m,emailVerified:be,displayName:p,isAnonymous:_t,photoURL:C,phoneNumber:y,tenantId:N,stsTokenManager:_,createdAt:L,lastLoginAt:W});return Ee&&Array.isArray(Ee)&&(E.providerData=Ee.map(w=>Object.assign({},w))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new Qa;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];G(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?hC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Qa;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Za(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var K0=new Map;function rr(t){Vr(t instanceof Function,"Expected a class definition");let e=K0.get(t);return e?(Vr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,K0.set(t,e),e)}var A2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ey=A2;function Td(t,e,n){return`firebase:${t}:${e}:${n}`}var Nd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Td(this.userKey,i.apiKey,o),this.fullPersistenceKey=Td("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Ad(this.auth,{idToken:e}).catch(()=>{});return n?Fr._fromGetAccountInfoResponse(this.auth,n,e):null}return Fr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(rr(ey),e,r);let i=(yield Promise.all(n.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||rr(ey),s=Td(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Ad(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield Fr._fromGetAccountInfoResponse(e,m,h)}else p=Fr._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function Q0(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vC(e))return"Blackberry";if(_C(e))return"Webos";if(pC(e))return"Safari";if((e.includes("chrome/")||gC(e))&&!e.includes("edge/"))return"Chrome";if(yC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fC(t=Xe()){return/firefox\//i.test(t)}function pC(t=Xe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gC(t=Xe()){return/crios\//i.test(t)}function mC(t=Xe()){return/iemobile/i.test(t)}function yC(t=Xe()){return/android/i.test(t)}function vC(t=Xe()){return/blackberry/i.test(t)}function _C(t=Xe()){return/webos/i.test(t)}function _y(t=Xe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R2(t=Xe()){var e;return _y(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N2(){return p0()&&document.documentMode===10}function IC(t=Xe()){return _y(t)||yC(t)||_C(t)||vC(t)||/windows phone/i.test(t)||mC(t)}function EC(t,e=[]){let n;switch(t){case"Browser":n=Q0(Xe());break;case"Worker":n=`${Q0(Xe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pr}/${r}`}var ty=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function M2(n){return v(this,arguments,function*(t,e={}){return Ko(t,"GET","/v2/passwordPolicy",gy(t,e))})}var P2=6,ny=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:P2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var ry=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Md(this),this.idTokenSubscription=new Md(this),this.beforeStateQueue=new ty(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Nd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield Ad(this,{idToken:e}),r=yield Fr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(Qt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Rd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=v2()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Qt(this.app))return Promise.reject(Ri(this));let n=e?Ue(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Qt(this.app)?Promise.reject(Ri(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Qt(this.app)?Promise.reject(Ri(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(rr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield M2(this),n=new ny(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield S2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&rr(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=yield Nd.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&g2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Iy(t){return Ue(t)}var Md=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=v0(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ey={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x2(t){Ey=t}function k2(t){return Ey.loadJS(t)}function O2(){return Ey.gapiScript}function wC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function wy(t,e){let n=Kt(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Wt(o,e??{}))return i;Lr(i,"already-initialized")}return n.initialize({options:e})}function F2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(rr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ty(t,e,n){let r=Iy(t);G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=TC(e),{host:s,port:a}=L2(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){G(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),G(Wt(l,r.config.emulator)&&Wt(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Nr(s)?(ld(`${o}//${s}${u}`),dd("Auth",!0)):i||V2()}function TC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L2(t){let e=TC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Y0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:Y0(s)}}}function Y0(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function V2(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Pd=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}};function Qm(t,e){return v(this,null,function*(){return w2(t,"POST","/v1/accounts:signInWithIdp",gy(t,e))})}var xd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var iy=class extends xd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ja=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield Fr._fromIdTokenResponse(e,r,i),s=Z0(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Z0(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Z0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var oy=class t extends at{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function bC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?oy._fromErrorAndOperation(t,o,e,r):o})}function j2(t,e,n=!1){return v(this,null,function*(){let r=yield Ya(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ja._forOperation(t,"link",r)})}function U2(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(Qt(r.app))return Promise.reject(Ri(r));let i="reauthenticate";try{let o=yield Ya(t,bC(r,i,e,t),n);G(o.idToken,r,"internal-error");let s=yy(o.idToken);G(s,r,"internal-error");let{sub:a}=s;return G(t.uid===a,r,"user-mismatch"),Ja._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Lr(r,"user-mismatch"),o}})}function B2(t,e,n=!1){return v(this,null,function*(){if(Qt(t.app))return Promise.reject(Ri(t));let r="signIn",i=yield bC(t,r,e),o=yield Ja._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function by(t,e,n,r){return Ue(t).onIdTokenChanged(e,n,r)}function Dy(t,e,n){return Ue(t).beforeAuthStateChanged(e,n)}var kd="__sak";var Od=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kd,"1"),this.storage.removeItem(kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var $2=1e3,H2=10,z2=(()=>{class t extends Od{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);N2()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,H2):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},$2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield gr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield gr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield gr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),DC=z2;var q2=(()=>{class t extends Od{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Cy=q2;function W2(t){return Promise.all(t.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var G2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield W2(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function CC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var sy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=CC("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Sn(){return window}function K2(t){Sn().location.href=t}function SC(){return typeof Sn().WorkerGlobalScope<"u"&&typeof Sn().importScripts=="function"}function Q2(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Y2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Z2(){return SC()?self:null}var AC="firebaseLocalStorageDb",J2=1,Fd="firebaseLocalStorage",RC="fbase_key",Pi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Vd(t,e){return t.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function X2(){let t=indexedDB.deleteDatabase(AC);return new Pi(t).toPromise()}function ay(){let t=indexedDB.open(AC,J2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Fd,{keyPath:RC})}catch(i){n(i)}}),t.addEventListener("success",()=>v(null,null,function*(){let r=t.result;r.objectStoreNames.contains(Fd)?e(r):(r.close(),yield X2(),e(yield ay()))}))})}function J0(t,e,n){return v(this,null,function*(){let r=Vd(t,!0).put({[RC]:e,value:n});return new Pi(r).toPromise()})}function ej(t,e){return v(this,null,function*(){let n=Vd(t,!1).get(e),r=yield new Pi(n).toPromise();return r===void 0?null:r.value})}function X0(t,e){let n=Vd(t,!0).delete(e);return new Pi(n).toPromise()}var tj=800,nj=3,rj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield ay(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>nj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return SC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=G2._getInstance(Z2()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Q2(),!this.activeServiceWorker)return;this.sender=new sy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Y2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield ay();return yield J0(n,kd,"1"),yield X0(n,kd),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>J0(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>ej(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>X0(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=Vd(o,!1).getAll();return new Pi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),tj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),NC=rj;var oQ=wC("rcb"),sQ=new Mi(3e4,6e4);function ij(t,e){return e?rr(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Xa=class extends Pd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function oj(t){return B2(t.auth,new Xa(t),t.bypassAuthState)}function sj(t){let{auth:e,user:n}=t;return G(n,e,"internal-error"),U2(n,new Xa(t),t.bypassAuthState)}function aj(t){return v(this,null,function*(){let{auth:e,user:n}=t;return G(n,e,"internal-error"),j2(n,new Xa(t),t.bypassAuthState)})}var cy=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oj;case"linkViaPopup":case"linkViaRedirect":return aj;case"reauthViaPopup":case"reauthViaRedirect":return sj;default:Lr(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var aQ=new Mi(2e3,1e4);var cj="pendingRedirect",bd=new Map,uy=class t extends cy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=bd.get(this.auth._key());if(!e){try{let r=(yield uj(this.resolver,this.auth))?yield gr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bd.set(this.auth._key(),e)}return this.bypassAuthState||bd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return gr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,gr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function uj(t,e){return v(this,null,function*(){let n=hj(e),r=dj(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function lj(t,e){bd.set(t._key(),e)}function dj(t){return rr(t._redirectPersistence)}function hj(t){return Td(cj,t.config.apiKey,t.name)}function fj(t,e,n=!1){return v(this,null,function*(){if(Qt(t.app))return Promise.reject(Ri(t));let r=Iy(t),i=ij(r,e),s=yield new uy(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var pj=10*60*1e3,ly=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ni(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pj&&this.cachedEventUids.clear(),this.cachedEventUids.has(eC(e))}saveEventToCache(e){this.cachedEventUids.add(eC(e)),this.lastProcessedEventTime=Date.now()}};function eC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function gj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MC(t);default:return!1}}function mj(n){return v(this,arguments,function*(t,e={}){return Ko(t,"GET","/v1/projects",e)})}var yj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vj=/^https?/;function _j(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield mj(t);for(let n of e)try{if(Ij(n))return}catch{}Lr(t,"unauthorized-domain")})}function Ij(t){let e=Zm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!vj.test(n))return!1;if(yj.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Ej=new Mi(3e4,6e4);function tC(){let t=Sn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wj(t){return new Promise((e,n)=>{var r,i,o;function s(){tC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tC(),n(Ni(t,"network-request-failed"))},timeout:Ej.get()})}if(!((i=(r=Sn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Sn().gapi)===null||o===void 0)&&o.load)s();else{let a=wC("iframefcb");return Sn()[a]=()=>{gapi.load?s():n(Ni(t,"network-request-failed"))},k2(`${O2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Dd=null,e})}var Dd=null;function Tj(t){return Dd=Dd||wj(t),Dd}var bj=new Mi(5e3,15e3),Dj="__/auth/iframe",Cj="emulator/auth/iframe",Sj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Aj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rj(t){let e=t.config;G(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?py(e,Cj):`https://${t.config.authDomain}/${Dj}`,r={apiKey:e.apiKey,appName:t.name,v:Pr},i=Aj.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ha(r).slice(1)}`}function Nj(t){return v(this,null,function*(){let e=yield Tj(t),n=Sn().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:Rj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sj,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ni(t,"network-request-failed"),a=Sn().setTimeout(()=>{o(s)},bj.get());function u(){Sn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var Mj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pj=500,xj=600,kj="_blank",Oj="http://localhost",Ld=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Fj(t,e,n,r=Pj,i=xj){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Mj),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Xe().toLowerCase();n&&(a=gC(l)?kj:n),fC(l)&&(e=e||Oj,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(R2(l)&&a!=="_self")return Lj(e||"",a),new Ld(null);let p=window.open(e||"",a,h);G(p,t,"popup-blocked");try{p.focus()}catch{}return new Ld(p)}function Lj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Vj="__/auth/handler",jj="emulator/auth/handler",Uj=encodeURIComponent("fac");function nC(t,e,n,r,i,o){return v(this,null,function*(){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pr,eventId:i};if(e instanceof xd){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",y0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof iy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${Uj}=${encodeURIComponent(u)}`:"";return`${Bj(t)}?${Ha(a).slice(1)}${l}`})}function Bj({config:t}){return t.emulator?py(t,jj):`https://${t.authDomain}/${Vj}`}var Ym="webStorageSupport",dy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cy,this._completeRedirectFn=fj,this._overrideRedirectResult=lj}_openPopup(e,n,r,i){return v(this,null,function*(){var o;Vr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield nC(e,n,r,Zm(),i);return Fj(e,s,CC())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield nC(e,n,r,Zm(),i);return K2(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Vr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield Nj(e),r=new ly(e);return n.register("authEvent",i=>(G(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ym,{type:Ym},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Ym];s!==void 0&&n(!!s),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_j(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IC()||pC()||_y()}},PC=dy;var rC="@firebase/auth",iC="1.10.8";var hy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $j(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hj(t){ct(new Fe("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EC(t)},l=new ry(r,i,o,u);return F2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ct(new Fe("auth-internal",e=>{let n=Iy(e.getProvider("auth").getImmediate());return(r=>new hy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_e(rC,iC,$j(t)),_e(rC,iC,"esm2017")}var zj=5*60,qj=bm("authIdTokenMaxAge")||zj,oC=null,Wj=t=>e=>v(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qj)return;let i=n?.token;oC!==i&&(oC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Sy(t=bn()){let e=Kt(t,"auth");if(e.isInitialized())return e.getImmediate();let n=wy(t,{popupRedirectResolver:PC,persistence:[NC,DC,Cy]}),r=bm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Wj(o.toString());Dy(n,s,()=>s(n.currentUser)),by(n,a=>s(a))}}let i=wm("auth");return i&&Ty(n,`http://${i}`),n}function Gj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}x2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ni("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Gj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hj("Browser");var xC="auth",ec=class{constructor(e){return e}},tc=class{constructor(){return xr(xC)}};var Ay=new U("angularfire2.auth-instances");function UU(t,e){let n=Ai(xC,t,e);return n&&new ec(n)}function BU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ec(r)}}var $U={provide:tc,deps:[[new gt,Ay]]},HU={provide:ec,useFactory:UU,deps:[[new gt,Ay],cn]};function kC(t,...e){return _e("angularfire",Dn.full,"auth"),on([HU,$U,{provide:Ay,useFactory:BU(t),multi:!0,deps:[ve,Ye,Cn,tr,[new gt,Go],...e]}])}var OC=Pt(Sy,!0);var FC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},LC={};var ir,Ry;(function(){var t;function e(T,_){function E(){}E.prototype=_.prototype,T.D=_.prototype,T.prototype=new E,T.prototype.constructor=T,T.C=function(w,b,S){for(var I=Array(arguments.length-2),Fn=2;Fn<arguments.length;Fn++)I[Fn-2]=arguments[Fn];return _.prototype[b].apply(w,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,E){E||(E=0);var w=Array(16);if(typeof _=="string")for(var b=0;16>b;++b)w[b]=_.charCodeAt(E++)|_.charCodeAt(E++)<<8|_.charCodeAt(E++)<<16|_.charCodeAt(E++)<<24;else for(b=0;16>b;++b)w[b]=_[E++]|_[E++]<<8|_[E++]<<16|_[E++]<<24;_=T.g[0],E=T.g[1],b=T.g[2];var S=T.g[3],I=_+(S^E&(b^S))+w[0]+3614090360&4294967295;_=E+(I<<7&4294967295|I>>>25),I=S+(b^_&(E^b))+w[1]+3905402710&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(E^S&(_^E))+w[2]+606105819&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(_^b&(S^_))+w[3]+3250441966&4294967295,E=b+(I<<22&4294967295|I>>>10),I=_+(S^E&(b^S))+w[4]+4118548399&4294967295,_=E+(I<<7&4294967295|I>>>25),I=S+(b^_&(E^b))+w[5]+1200080426&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(E^S&(_^E))+w[6]+2821735955&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(_^b&(S^_))+w[7]+4249261313&4294967295,E=b+(I<<22&4294967295|I>>>10),I=_+(S^E&(b^S))+w[8]+1770035416&4294967295,_=E+(I<<7&4294967295|I>>>25),I=S+(b^_&(E^b))+w[9]+2336552879&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(E^S&(_^E))+w[10]+4294925233&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(_^b&(S^_))+w[11]+2304563134&4294967295,E=b+(I<<22&4294967295|I>>>10),I=_+(S^E&(b^S))+w[12]+1804603682&4294967295,_=E+(I<<7&4294967295|I>>>25),I=S+(b^_&(E^b))+w[13]+4254626195&4294967295,S=_+(I<<12&4294967295|I>>>20),I=b+(E^S&(_^E))+w[14]+2792965006&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(_^b&(S^_))+w[15]+1236535329&4294967295,E=b+(I<<22&4294967295|I>>>10),I=_+(b^S&(E^b))+w[1]+4129170786&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(_^E))+w[6]+3225465664&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^E&(S^_))+w[11]+643717713&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(b^S))+w[0]+3921069994&4294967295,E=b+(I<<20&4294967295|I>>>12),I=_+(b^S&(E^b))+w[5]+3593408605&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(_^E))+w[10]+38016083&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^E&(S^_))+w[15]+3634488961&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(b^S))+w[4]+3889429448&4294967295,E=b+(I<<20&4294967295|I>>>12),I=_+(b^S&(E^b))+w[9]+568446438&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(_^E))+w[14]+3275163606&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^E&(S^_))+w[3]+4107603335&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(b^S))+w[8]+1163531501&4294967295,E=b+(I<<20&4294967295|I>>>12),I=_+(b^S&(E^b))+w[13]+2850285829&4294967295,_=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(_^E))+w[2]+4243563512&4294967295,S=_+(I<<9&4294967295|I>>>23),I=b+(_^E&(S^_))+w[7]+1735328473&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^_&(b^S))+w[12]+2368359562&4294967295,E=b+(I<<20&4294967295|I>>>12),I=_+(E^b^S)+w[5]+4294588738&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^b)+w[8]+2272392833&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^E)+w[11]+1839030562&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^_)+w[14]+4259657740&4294967295,E=b+(I<<23&4294967295|I>>>9),I=_+(E^b^S)+w[1]+2763975236&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^b)+w[4]+1272893353&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^E)+w[7]+4139469664&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^_)+w[10]+3200236656&4294967295,E=b+(I<<23&4294967295|I>>>9),I=_+(E^b^S)+w[13]+681279174&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^b)+w[0]+3936430074&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^E)+w[3]+3572445317&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^_)+w[6]+76029189&4294967295,E=b+(I<<23&4294967295|I>>>9),I=_+(E^b^S)+w[9]+3654602809&4294967295,_=E+(I<<4&4294967295|I>>>28),I=S+(_^E^b)+w[12]+3873151461&4294967295,S=_+(I<<11&4294967295|I>>>21),I=b+(S^_^E)+w[15]+530742520&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^_)+w[2]+3299628645&4294967295,E=b+(I<<23&4294967295|I>>>9),I=_+(b^(E|~S))+w[0]+4096336452&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~b))+w[7]+1126891415&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~E))+w[14]+2878612391&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~_))+w[5]+4237533241&4294967295,E=b+(I<<21&4294967295|I>>>11),I=_+(b^(E|~S))+w[12]+1700485571&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~b))+w[3]+2399980690&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~E))+w[10]+4293915773&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~_))+w[1]+2240044497&4294967295,E=b+(I<<21&4294967295|I>>>11),I=_+(b^(E|~S))+w[8]+1873313359&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~b))+w[15]+4264355552&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~E))+w[6]+2734768916&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~_))+w[13]+1309151649&4294967295,E=b+(I<<21&4294967295|I>>>11),I=_+(b^(E|~S))+w[4]+4149444226&4294967295,_=E+(I<<6&4294967295|I>>>26),I=S+(E^(_|~b))+w[11]+3174756917&4294967295,S=_+(I<<10&4294967295|I>>>22),I=b+(_^(S|~E))+w[2]+718787259&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~_))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var E=_-this.blockSize,w=this.B,b=this.h,S=0;S<_;){if(b==0)for(;S<=E;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<_;)if(w[b++]=T.charCodeAt(S++),b==this.blockSize){i(this,w),b=0;break}}else for(;S<_;)if(w[b++]=T[S++],b==this.blockSize){i(this,w),b=0;break}}this.h=b,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var E=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=E&255,E/=256;for(this.u(T),T=Array(16),_=E=0;4>_;++_)for(var w=0;32>w;w+=8)T[E++]=this.g[_]>>>w&255;return T};function o(T,_){var E=a;return Object.prototype.hasOwnProperty.call(E,T)?E[T]:E[T]=_(T)}function s(T,_){this.h=_;for(var E=[],w=!0,b=T.length-1;0<=b;b--){var S=T[b]|0;w&&S==_||(E[b]=S,w=!1)}this.g=E}var a={};function u(T){return-128<=T&&128>T?o(T,function(_){return new s([_|0],0>_?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var _=[],E=1,w=0;T>=E;w++)_[w]=T/E|0,E*=4294967296;return new s(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return R(h(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(_,8)),w=p,b=0;b<T.length;b+=8){var S=Math.min(8,T.length-b),I=parseInt(T.substring(b,b+S),_);8>S?(S=l(Math.pow(_,S)),w=w.j(S).add(l(I))):(w=w.j(E),w=w.add(l(I)))}return w}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var T=0,_=1,E=0;E<this.g.length;E++){var w=this.i(E);T+=(0<=w?w:4294967296+w)*_,_*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(N(this))return"-"+R(this).toString(T);for(var _=l(Math.pow(T,6)),E=this,w="";;){var b=be(E,_).g;E=L(E,b.j(_));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(T);if(E=b,C(E))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function N(T){return T.h==-1}t.l=function(T){return T=L(this,T),N(T)?-1:C(T)?0:1};function R(T){for(var _=T.g.length,E=[],w=0;w<_;w++)E[w]=~T.g[w];return new s(E,~T.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],w=0,b=0;b<=_;b++){var S=w+(this.i(b)&65535)+(T.i(b)&65535),I=(S>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);w=I>>>16,S&=65535,I&=65535,E[b]=I<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function L(T,_){return T.add(R(_))}t.j=function(T){if(C(this)||C(T))return p;if(N(this))return N(T)?R(this).j(R(T)):R(R(this).j(T));if(N(T))return R(this.j(R(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var _=this.g.length+T.g.length,E=[],w=0;w<2*_;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<T.g.length;b++){var S=this.i(w)>>>16,I=this.i(w)&65535,Fn=T.i(b)>>>16,Ts=T.i(b)&65535;E[2*w+2*b]+=I*Ts,W(E,2*w+2*b),E[2*w+2*b+1]+=S*Ts,W(E,2*w+2*b+1),E[2*w+2*b+1]+=I*Fn,W(E,2*w+2*b+1),E[2*w+2*b+2]+=S*Fn,W(E,2*w+2*b+2)}for(w=0;w<_;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=_;w<2*_;w++)E[w]=0;return new s(E,0)};function W(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function K(T,_){this.g=T,this.h=_}function be(T,_){if(C(_))throw Error("division by zero");if(C(T))return new K(p,p);if(N(T))return _=be(R(T),_),new K(R(_.g),R(_.h));if(N(_))return _=be(T,R(_)),new K(R(_.g),_.h);if(30<T.g.length){if(N(T)||N(_))throw Error("slowDivide_ only works with positive integers.");for(var E=m,w=_;0>=w.l(T);)E=_t(E),w=_t(w);var b=Ee(E,1),S=Ee(w,1);for(w=Ee(w,2),E=Ee(E,2);!C(w);){var I=S.add(w);0>=I.l(T)&&(b=b.add(E),S=I),w=Ee(w,1),E=Ee(E,1)}return _=L(T,b.j(_)),new K(b,_)}for(b=p;0<=T.l(_);){for(E=Math.max(1,Math.floor(T.m()/_.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(E),I=S.j(_);N(I)||0<I.l(T);)E-=w,S=l(E),I=S.j(_);C(S)&&(S=m),b=b.add(S),T=L(T,I)}return new K(b,T)}t.A=function(T){return be(this,T).h},t.and=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],w=0;w<_;w++)E[w]=this.i(w)&T.i(w);return new s(E,this.h&T.h)},t.or=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],w=0;w<_;w++)E[w]=this.i(w)|T.i(w);return new s(E,this.h|T.h)},t.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),E=[],w=0;w<_;w++)E[w]=this.i(w)^T.i(w);return new s(E,this.h^T.h)};function _t(T){for(var _=T.g.length+1,E=[],w=0;w<_;w++)E[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(E,T.h)}function Ee(T,_){var E=_>>5;_%=32;for(var w=T.g.length-E,b=[],S=0;S<w;S++)b[S]=0<_?T.i(S+E)>>>_|T.i(S+E+1)<<32-_:T.i(S+E);return new s(b,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ry=LC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ir=LC.Integer=s}).apply(typeof FC<"u"?FC:typeof self<"u"?self:typeof window<"u"?window:{});var jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},or={};var Ny,zU,Qo,My,nc,Ud,Py,xy,ky;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jd=="object"&&jd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,A){for(var k=Array(arguments.length-2),De=2;De<arguments.length;De++)k[De-2]=arguments[De];return d.prototype[D].apply(g,k)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,A=g.length||0;c.length=D+A;for(let k=0;k<A;k++)c[D+k]=g[k]}else c.push(g)}}class L{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function be(c){return be[" "](c),c}be[" "]=function(){};var _t=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function Ee(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Jh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Fn{constructor(){this.h=this.g=null}add(d,f){let g=Ts.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ts=new L(()=>new JR,c=>c.reset());class JR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let bs,Ds=!1,Jh=new Fn,lI=()=>{let c=a.Promise.resolve(void 0);bs=()=>{c.then(XR)}};var XR=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=Ts;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ds=!1};function dr(){this.s=this.s,this.C=this.C}dr.prototype.s=!1,dr.prototype.ma=function(){this.s||(this.s=!0,this.N())},dr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var eN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Cs(c,d){if(lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(_t){e:{try{be(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:tN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Cs.aa.h.call(this)}}C(Cs,lt);var tN={2:"touch",3:"pen",4:"mouse"};Cs.prototype.h=function(){Cs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ss="closure_listenable_"+(1e6*Math.random()|0),nN=0;function rN(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++nN,this.da=this.fa=!1}function Dc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Cc(c){this.src=c,this.g={},this.h=0}Cc.prototype.add=function(c,d,f,g,D){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var k=ef(c,d,g,D);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new rN(d,this.src,A,!!g,D),d.fa=f,c.push(d)),d};function Xh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=D)&&Array.prototype.splice.call(g,D,1),A&&(Dc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function ef(c,d,f,g){for(var D=0;D<c.length;++D){var A=c[D];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return D}return-1}var tf="closure_lm_"+(1e6*Math.random()|0),nf={};function dI(c,d,f,g,D){if(g&&g.once)return fI(c,d,f,g,D);if(Array.isArray(d)){for(var A=0;A<d.length;A++)dI(c,d[A],f,g,D);return null}return f=af(f),c&&c[Ss]?c.K(d,f,l(g)?!!g.capture:!!g,D):hI(c,d,f,!1,g,D)}function hI(c,d,f,g,D,A){if(!d)throw Error("Invalid event type");var k=l(D)?!!D.capture:!!D,De=of(c);if(De||(c[tf]=De=new Cc(c)),f=De.add(d,f,g,k,A),f.proxy)return f;if(g=iN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)eN||(D=k),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(gI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function iN(){function c(f){return d.call(c.src,c.listener,f)}let d=oN;return c}function fI(c,d,f,g,D){if(Array.isArray(d)){for(var A=0;A<d.length;A++)fI(c,d[A],f,g,D);return null}return f=af(f),c&&c[Ss]?c.L(d,f,l(g)?!!g.capture:!!g,D):hI(c,d,f,!0,g,D)}function pI(c,d,f,g,D){if(Array.isArray(d))for(var A=0;A<d.length;A++)pI(c,d[A],f,g,D);else g=l(g)?!!g.capture:!!g,f=af(f),c&&c[Ss]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=ef(A,f,g,D),-1<f&&(Dc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=of(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ef(d,f,g,D)),(f=-1<c?d[c]:null)&&rf(f))}function rf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ss])Xh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(gI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=of(d))?(Xh(f,c),f.h==0&&(f.src=null,d[tf]=null)):Dc(c)}}}function gI(c){return c in nf?nf[c]:nf[c]="on"+c}function oN(c,d){if(c.da)c=!0;else{d=new Cs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&rf(c),c=f.call(g,d)}return c}function of(c){return c=c[tf],c instanceof Cc?c:null}var sf="__closure_events_fn_"+(1e9*Math.random()>>>0);function af(c){return typeof c=="function"?c:(c[sf]||(c[sf]=function(d){return c.handleEvent(d)}),c[sf])}function dt(){dr.call(this),this.i=new Cc(this),this.M=this,this.F=null}C(dt,dr),dt.prototype[Ss]=!0,dt.prototype.removeEventListener=function(c,d,f,g){pI(this,c,d,f,g)};function It(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new lt(d,c);else if(d instanceof lt)d.target=d.target||c;else{var D=d;d=new lt(g,c),w(d,D)}if(D=!0,f)for(var A=f.length-1;0<=A;A--){var k=d.g=f[A];D=Sc(k,g,!0,d)&&D}if(k=d.g=c,D=Sc(k,g,!0,d)&&D,D=Sc(k,g,!1,d)&&D,f)for(A=0;A<f.length;A++)k=d.g=f[A],D=Sc(k,g,!1,d)&&D}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Dc(f[g]);delete c.g[d],c.h--}}this.F=null},dt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},dt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Sc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==f){var De=k.listener,nt=k.ha||k.src;k.fa&&Xh(c.i,k),D=De.call(nt,g)!==!1&&D}}return D&&!g.defaultPrevented}function mI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function yI(c){c.g=mI(()=>{c.g=null,c.i&&(c.i=!1,yI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class sN extends dr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:yI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(c){dr.call(this),this.h=c,this.g={}}C(As,dr);var vI=[];function _I(c){Ee(c.g,function(d,f){this.g.hasOwnProperty(f)&&rf(d)},c),c.g={}}As.prototype.N=function(){As.aa.N.call(this),_I(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cf=a.JSON.stringify,aN=a.JSON.parse,cN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function uf(){}uf.prototype.h=null;function II(c){return c.h||(c.h=c.i())}function EI(){}var Rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lf(){lt.call(this,"d")}C(lf,lt);function df(){lt.call(this,"c")}C(df,lt);var Qr={},wI=null;function Ac(){return wI=wI||new dt}Qr.La="serverreachability";function TI(c){lt.call(this,Qr.La,c)}C(TI,lt);function Ns(c){let d=Ac();It(d,new TI(d))}Qr.STAT_EVENT="statevent";function bI(c,d){lt.call(this,Qr.STAT_EVENT,c),this.stat=d}C(bI,lt);function Et(c){let d=Ac();It(d,new bI(d,c))}Qr.Ma="timingevent";function DI(c,d){lt.call(this,Qr.Ma,c),this.size=d}C(DI,lt);function Ms(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ps(){this.g=!0}Ps.prototype.xa=function(){this.g=!1};function uN(c,d,f,g,D,A){c.info(function(){if(c.g)if(A)for(var k="",De=A.split("&"),nt=0;nt<De.length;nt++){var me=De[nt].split("=");if(1<me.length){var ht=me[0];me=me[1];var ft=ht.split("_");k=2<=ft.length&&ft[1]=="type"?k+(ht+"="+me+"&"):k+(ht+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+k})}function lN(c,d,f,g,D,A,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+A+" "+k})}function Ki(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+hN(c,f)+(g?" "+g:"")})}function dN(c,d){c.info(function(){return"TIMEOUT: "+d})}Ps.prototype.info=function(){};function hN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<D.length;k++)D[k]=""}}}}return cf(f)}catch{return d}}var Rc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},CI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hf;function Nc(){}C(Nc,uf),Nc.prototype.g=function(){return new XMLHttpRequest},Nc.prototype.i=function(){return{}},hf=new Nc;function hr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new As(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new SI}function SI(){this.i=null,this.g="",this.h=!1}var AI={},ff={};function pf(c,d,f){c.L=1,c.v=kc(Ln(d)),c.m=f,c.P=!0,RI(c,null)}function RI(c,d){c.F=Date.now(),Mc(c),c.A=Ln(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),HI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new SI,c.g=aE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new sN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(vI[0]=D.toString()),D=vI);for(var A=0;A<D.length;A++){var k=dI(f,D[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ns(),uN(c.i,c.u,c.A,c.l,c.R,c.m)}hr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Vn(c)==3?d.j():this.Y(c)},hr.prototype.Y=function(c){try{if(c==this.g)e:{let ft=Vn(this.g);var d=this.g.Ba();let Zi=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||YI(this.g)))){this.J||ft!=4||d==7||(d==8||0>=Zi?Ns(3):Ns(2)),gf(this);var f=this.g.Z();this.X=f;t:if(NI(this)){var g=YI(this.g);c="";var D=g.length,A=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),xs(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,lN(this.i,this.u,this.A,this.l,this.R,ft,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,nt=this.g;if((De=nt.g?nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(De)){var me=De;break t}}me=null}if(f=me)Ki(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mf(this,f);else{this.o=!1,this.s=3,Et(12),Yr(this),xs(this);break e}}if(this.P){f=!0;let Jt;for(;!this.J&&this.C<k.length;)if(Jt=fN(this,k),Jt==ff){ft==4&&(this.s=4,Et(14),f=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==AI){this.s=4,Et(15),Ki(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else Ki(this.i,this.l,Jt,null),mf(this,Jt);if(NI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||k.length!=0||this.h.h||(this.s=1,Et(16),f=!1),this.o=this.o&&f,!f)Ki(this.i,this.l,k,"[Invalid Chunked Response]"),Yr(this),xs(this);else if(0<k.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),wf(ht),ht.M=!0,Et(11))}}else Ki(this.i,this.l,k,null),mf(this,k);ft==4&&Yr(this),this.o&&!this.J&&(ft==4?rE(this.j,this):(this.o=!1,Mc(this)))}else NN(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Yr(this),xs(this)}}}catch{}finally{}};function NI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function fN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?ff:(f=Number(d.substring(f,g)),isNaN(f)?AI:(g+=1,g+f>d.length?ff:(d=d.slice(g,g+f),c.C=g+f,d)))}hr.prototype.cancel=function(){this.J=!0,Yr(this)};function Mc(c){c.S=Date.now()+c.I,MI(c,c.I)}function MI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ms(m(c.ba,c),d)}function gf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}hr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(dN(this.i,this.A),this.L!=2&&(Ns(),Et(17)),Yr(this),this.s=2,xs(this)):MI(this,this.S-c)};function xs(c){c.j.G==0||c.J||rE(c.j,c)}function Yr(c){gf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,_I(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function mf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||yf(f.h,c))){if(!c.K&&yf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)jc(f),Lc(f);else break e;Ef(f),Et(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ms(m(f.Za,f),6e3));if(1>=kI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Jr(f,11)}else if((c.K||f.g==c)&&jc(f),!W(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let me=D[d];if(f.T=me[0],me=me[1],f.G==2)if(me[0]=="c"){f.K=me[1],f.ia=me[2];let ht=me[3];ht!=null&&(f.la=ht,f.j.info("VER="+f.la));let ft=me[4];ft!=null&&(f.Aa=ft,f.j.info("SVER="+f.Aa));let Zi=me[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(g=1.5*Zi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Jt=c.g;if(Jt){let Bc=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bc){var A=g.h;A.g||Bc.indexOf("spdy")==-1&&Bc.indexOf("quic")==-1&&Bc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(vf(A,A.h),A.h=null))}if(g.D){let Tf=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Tf&&(g.ya=Tf,Ae(g.I,g.D,Tf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=sE(g,g.J?g.ia:null,g.W),k.K){OI(g.h,k);var De=k,nt=g.L;nt&&(De.I=nt),De.B&&(gf(De),Mc(De)),g.g=k}else tE(g);0<f.i.length&&Vc(f)}else me[0]!="stop"&&me[0]!="close"||Jr(f,7);else f.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Jr(f,7):If(f):me[0]!="noop"&&f.l&&f.l.ta(me),f.v=0)}}Ns(4)}catch{}}var pN=class{constructor(c,d){this.g=c,this.map=d}};function PI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function kI(c){return c.h?1:c.g?c.g.size:0}function yf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function vf(c,d){c.g?c.g.add(d):c.h=d}function OI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}PI.prototype.cancel=function(){if(this.i=FI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function FI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function gN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function mN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function LI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=mN(c),g=gN(c),D=g.length,A=0;A<D;A++)d.call(void 0,g[A],f&&f[A],c)}var VI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var A=c[f].substring(0,g);D=c[f].substring(g+1)}else A=c[f];d(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Zr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Zr){this.h=c.h,Pc(this,c.j),this.o=c.o,this.g=c.g,xc(this,c.s),this.l=c.l;var d=c.i,f=new Fs;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),jI(this,f),this.m=c.m}else c&&(d=String(c).match(VI))?(this.h=!1,Pc(this,d[1]||"",!0),this.o=ks(d[2]||""),this.g=ks(d[3]||"",!0),xc(this,d[4]),this.l=ks(d[5]||"",!0),jI(this,d[6]||"",!0),this.m=ks(d[7]||"")):(this.h=!1,this.i=new Fs(null,this.h))}Zr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Os(d,UI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Os(d,UI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Os(f,f.charAt(0)=="/"?IN:_N,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Os(f,wN)),c.join("")};function Ln(c){return new Zr(c)}function Pc(c,d,f){c.j=f?ks(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function xc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function jI(c,d,f){d instanceof Fs?(c.i=d,TN(c.i,c.h)):(f||(d=Os(d,EN)),c.i=new Fs(d,c.h))}function Ae(c,d,f){c.i.set(d,f)}function kc(c){return Ae(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ks(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,vN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var UI=/[#\/\?@]/g,_N=/[#\?:]/g,IN=/[#\?]/g,EN=/[#\?@]/g,wN=/#/g;function Fs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function fr(c){c.g||(c.g=new Map,c.h=0,c.i&&yN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Fs.prototype,t.add=function(c,d){fr(this),this.i=null,c=Qi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function BI(c,d){fr(c),d=Qi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function $I(c,d){return fr(c),d=Qi(c,d),c.g.has(d)}t.forEach=function(c,d){fr(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},t.na=function(){fr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let A=0;A<D.length;A++)f.push(d[g])}return f},t.V=function(c){fr(this);let d=[];if(typeof c=="string")$I(this,c)&&(d=d.concat(this.g.get(Qi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return fr(this),this.i=null,c=Qi(this,c),$I(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function HI(c,d,f){BI(c,d),0<f.length&&(c.i=null,c.g.set(Qi(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var D=A;k[g]!==""&&(D+="="+encodeURIComponent(String(k[g]))),c.push(D)}}return this.i=c.join("&")};function Qi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function TN(c,d){d&&!c.j&&(fr(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(BI(this,g),HI(this,D,f))},c)),c.j=d}function bN(c,d){let f=new Ps;if(a.Image){let g=new Image;g.onload=y(pr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(pr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(pr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(pr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function DN(c,d){let f=new Ps,g=new AbortController,D=setTimeout(()=>{g.abort(),pr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(D),A.ok?pr(f,"TestPingServer: ok",!0,d):pr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),pr(f,"TestPingServer: error",!1,d)})}function pr(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function CN(){this.g=new cN}function SN(c,d,f){let g=f||"";try{LI(c,function(D,A){let k=D;l(D)&&(k=cf(D)),d.push(g+A+"="+encodeURIComponent(k))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Ls(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Ls,uf),Ls.prototype.g=function(){return new Oc(this.l,this.j)},Ls.prototype.i=function(c){return function(){return c}}({});function Oc(c,d){dt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Oc,dt),t=Oc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,js(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Vs(this):js(this),this.readyState==3&&zI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Vs(this))},t.Qa=function(c){this.g&&(this.response=c,Vs(this))},t.ga=function(){this.g&&Vs(this)};function Vs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,js(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function js(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qI(c){let d="";return Ee(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function _f(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=qI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ae(c,d,f))}function Ne(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ne,dt);var AN=/^https?$/i,RN=["POST","PUT"];t=Ne.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hf.g(),this.v=this.o?II(this.o):II(hf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){WI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(RN,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of f)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{QI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){WI(this,A)}};function WI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,GI(c),Fc(c)}function GI(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),Fc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fc(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?KI(this):this.bb())},t.bb=function(){KI(this)};function KI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)mI(c.Ea,0,c);else if(It(c,"readystatechange"),Vn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var D=String(c.D).match(VI)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!AN.test(D?D.toLowerCase():"")}f=g}if(f)It(c,"complete"),It(c,"success");else{c.m=6;try{var A=2<Vn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",GI(c)}}finally{Fc(c)}}}}function Fc(c,d){if(c.g){QI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||It(c,"ready");try{f.onreadystatechange=g}catch{}}}function QI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),aN(d)}};function YI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function NN(c){let d={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(W(c[g]))continue;var f=b(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[D]||[];d[D]=A,A.push(f)}T(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function ZI(c){this.Aa=0,this.i=[],this.j=new Ps,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,c),this.cb=Us("retryDelaySeedMs",1e4,c),this.Wa=Us("forwardChannelMaxRetries",2,c),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new PI(c&&c.concurrentRequestLimit),this.Da=new CN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ZI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){Et(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=sE(this,null,this.W),Vc(this)};function If(c){if(JI(c),c.G==3){var d=c.U++,f=Ln(c.I);if(Ae(f,"SID",c.K),Ae(f,"RID",d),Ae(f,"TYPE","terminate"),Bs(c,f),d=new hr(c,c.j,d),d.L=2,d.v=kc(Ln(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=aE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Mc(d)}oE(c)}function Lc(c){c.g&&(wf(c),c.g.cancel(),c.g=null)}function JI(c){Lc(c),c.u&&(a.clearTimeout(c.u),c.u=null),jc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Vc(c){if(!xI(c.h)&&!c.s){c.s=!0;var d=c.Ga;bs||lI(),Ds||(bs(),Ds=!0),Jh.add(d,c),c.B=0}}function MN(c,d){return kI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ms(m(c.Ga,c,d),iE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new hr(this,this.j,c),A=this.o;if(this.S&&(A?(A=_(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=eE(this,D,d),f=Ln(this.I),Ae(f,"RID",c),Ae(f,"CVER",22),this.D&&Ae(f,"X-HTTP-Session-Id",this.D),Bs(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(qI(A)))+"&"+d:this.m&&_f(f,this.m,A)),vf(this.h,D),this.Ua&&Ae(f,"TYPE","init"),this.P?(Ae(f,"$req",d),Ae(f,"SID","null"),D.T=!0,pf(D,f,null)):pf(D,f,d),this.G=2}}else this.G==3&&(c?XI(this,c):this.i.length==0||xI(this.h)||XI(this))};function XI(c,d){var f;d?f=d.l:f=c.U++;let g=Ln(c.I);Ae(g,"SID",c.K),Ae(g,"RID",f),Ae(g,"AID",c.T),Bs(c,g),c.m&&c.o&&_f(g,c.m,c.o),f=new hr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=eE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),vf(c.h,f),pf(f,g,d)}function Bs(c,d){c.H&&Ee(c.H,function(f,g){Ae(d,g,f)}),c.l&&LI({},function(f,g){Ae(d,g,f)})}function eE(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let A=-1;for(;;){let k=["count="+f];A==-1?0<f?(A=D[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let De=!0;for(let nt=0;nt<f;nt++){let me=D[nt].g,ht=D[nt].map;if(me-=A,0>me)A=Math.max(0,D[nt].g-100),De=!1;else try{SN(ht,k,"req"+me+"_")}catch{g&&g(ht)}}if(De){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function tE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;bs||lI(),Ds||(bs(),Ds=!0),Jh.add(d,c),c.v=0}}function Ef(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ms(m(c.Fa,c),iE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,nE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ms(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Lc(this),nE(this))};function wf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function nE(c){c.g=new hr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Ln(c.qa);Ae(d,"RID","rpc"),Ae(d,"SID",c.K),Ae(d,"AID",c.T),Ae(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ae(d,"TO",c.ja),Ae(d,"TYPE","xmlhttp"),Bs(c,d),c.m&&c.o&&_f(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=kc(Ln(d)),f.m=null,f.P=!0,RI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Lc(this),Ef(this),Et(19))};function jc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function rE(c,d){var f=null;if(c.g==d){jc(c),wf(c),c.g=null;var g=2}else if(yf(c.h,d))f=d.D,OI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=Ac(),It(g,new DI(g,f)),Vc(c)}else tE(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&MN(c,d)||g==2&&Ef(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:Jr(c,5);break;case 4:Jr(c,10);break;case 3:Jr(c,6);break;default:Jr(c,2)}}}function iE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Jr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new Zr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Pc(g,"https"),kc(g),D?bN(g.toString(),f):DN(g.toString(),f)}else Et(2);c.G=0,c.l&&c.l.sa(d),oE(c),JI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function oE(c){if(c.G=0,c.ka=[],c.l){let d=FI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function sE(c,d,f){var g=f instanceof Zr?Ln(f):new Zr(f);if(g.g!="")d&&(g.g=d+"."+g.g),xc(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var A=new Zr(null);g&&Pc(A,g),d&&(A.g=d),D&&xc(A,D),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Ae(g,f,d),Ae(g,"VER",c.la),Bs(c,g),g}function aE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ne(new Ls({eb:f})):new Ne(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cE(){}t=cE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Uc(){}Uc.prototype.g=function(c,d){return new kt(c,d)};function kt(c,d){dt.call(this),this.g=new ZI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Yi(this)}C(kt,dt),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){If(this.g)},kt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=cf(c),c=f);d.i.push(new pN(d.Ya++,c)),d.G==3&&Vc(d)},kt.prototype.N=function(){this.g.l=null,delete this.j,If(this.g),delete this.g,kt.aa.N.call(this)};function uE(c){lf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(uE,lf);function lE(){df.call(this),this.status=1}C(lE,df);function Yi(c){this.g=c}C(Yi,cE),Yi.prototype.ua=function(){It(this.g,"a")},Yi.prototype.ta=function(c){It(this.g,new uE(c))},Yi.prototype.sa=function(c){It(this.g,new lE)},Yi.prototype.ra=function(){It(this.g,"b")},Uc.prototype.createWebChannel=Uc.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,ky=or.createWebChannelTransport=function(){return new Uc},xy=or.getStatEventTarget=function(){return Ac()},Py=or.Event=Qr,Ud=or.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rc.NO_ERROR=0,Rc.TIMEOUT=8,Rc.HTTP_ERROR=6,nc=or.ErrorCode=Rc,CI.COMPLETE="complete",My=or.EventType=CI,EI.EventType=Rs,Rs.OPEN="a",Rs.CLOSE="b",Rs.ERROR="c",Rs.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Qo=or.WebChannel=EI,zU=or.FetchXmlHttpFactory=Ls,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,Ny=or.XhrIo=Ne}).apply(typeof jd<"u"?jd:typeof self<"u"?self:typeof window<"u"?window:{});var VC="@firebase/firestore",jC="4.8.0";var et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");var ys="11.10.0";var Li=new Gt("@firebase/firestore");function Yo(){return Li.logLevel}function O(t,...e){if(Li.logLevel<=ae.DEBUG){let n=e.map(I_);Li.debug(`Firestore (${ys}): ${t}`,...n)}}function sr(t,...e){if(Li.logLevel<=ae.ERROR){let n=e.map(I_);Li.error(`Firestore (${ys}): ${t}`,...n)}}function Hr(t,...e){if(Li.logLevel<=ae.WARN){let n=e.map(I_);Li.warn(`Firestore (${ys}): ${t}`,...n)}}function I_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function H(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,SS(t,r,n)}function SS(t,e,n){let r=`FIRESTORE (${ys}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw sr(r),new Error(r)}function Ie(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||SS(e,i,r)}function Y(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends at{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var An=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Gd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},jy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}},Uy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},By=class{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new An;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new An,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new An)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new Gd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new et(e)}},$y=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Hy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $y(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Kd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},zy=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);let r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function qU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function AS(){return new TextEncoder}var cc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=qU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function oe(t,e){return t<e?-1:t>e?1:0}function qy(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return oe(r,i);{let o=AS(),s=WU(o.encode(UC(t,n)),o.encode(UC(e,n)));return s!==0?s:oe(r,i)}}n+=r>65535?2:1}return oe(t.length,e.length)}function UC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function WU(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return oe(t[n],e[n]);return oe(t.length,e.length)}function is(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var BC="__name__",Qd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&H(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&H(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return oe(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):qy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ir.fromString(e.substring(4,e.length-2))}},Le=class t extends Qd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},GU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jt=class t extends Qd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return GU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BC}static keyField(){return new t([BC])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Le.fromString(e))}static fromName(e){return new t(Le.fromString(e).popFirst(5))}static empty(){return new t(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Le(e.slice()))}};function KU(t,e,n){if(!n)throw new V(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QU(t,e,n,r){if(e===!0&&r===!0)throw new V(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $C(t){if(!z.isDocumentKey(t))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function E_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":H(12329,{type:typeof t})}function Rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=E_(t);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function He(t,e){let n={typeString:t};return e&&(n.value=e),n}function Ic(t,e){if(!RS(t))throw new V(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new V(M.INVALID_ARGUMENT,n);return!0}var HC=-62135596800,zC=1e6,ze=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zC);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<HC)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zC}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ic(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-HC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:He("string",ze._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};var J=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new ze(0,0))}static max(){return new t(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var uc=-1,Wy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Wy.UNKNOWN_ID=-1;function YU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new Vi(i,z.empty(),e)}function ZU(t){return new Vi(t.readTime,t.key,uc)}var Vi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(J.min(),z.empty(),uc)}static max(){return new t(J.max(),z.empty(),uc)}};function JU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}var XU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function vs(t){return v(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==XU)throw t;O("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function eB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _s(t){return t.name==="IndexedDbTransactionError"}var w_=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),T_=-1;function Rh(t){return t==null}function lc(t){return t===0&&1/t==-1/0}function tB(t){return typeof t=="number"&&Number.isInteger(t)&&!lc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var NS="";function nB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qC(e)),e=rB(t.get(n),e);return qC(e)}function rB(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case NS:n+="";break;default:n+=o}}return n}function qC(t){return t+NS+""}var iB="remoteDocuments",MS="owner";var PS="mutationQueues";var xS="mutations";var kS="documentMutations",oB="remoteDocumentsV14";var OS="remoteDocumentGlobal";var FS="targets";var LS="targetDocuments";var VS="targetGlobal",jS="collectionParents";var US="clientMetadata";var BS="bundles";var $S="namedQueries";var sB="indexConfiguration";var aB="indexState";var cB="indexEntries";var HS="documentOverlays";var uB="globals";var lB=[PS,xS,kS,iB,FS,MS,VS,LS,US,OS,jS,BS,$S],lY=[...lB,HS],dB=[PS,xS,kS,oB,FS,MS,VS,LS,US,OS,jS,BS,$S,HS],hB=dB,fB=[...hB,sB,aB,cB];var dY=[...fB,uB];function WC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Kr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var xe=class t{constructor(e,n){this.comparator=e,this.root=n||Nn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new es(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new es(this.root,e,this.comparator,!1)}getReverseIterator(){return new es(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new es(this.root,e,this.comparator,!0)}},es=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Nn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw H(43730,{key:this.key,value:this.value});if(this.right.isRed())throw H(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw H(27949);return e+(this.isRed()?0:1)}};Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw H(57766)}get value(){throw H(16141)}get color(){throw H(16727)}get left(){throw H(29726)}get right(){throw H(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var tt=class t{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yd(this.data.getIterator())}getIteratorFrom(e){return new Yd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Yd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Zt=class t{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new t([])}unionWith(e){let n=new tt(jt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return is(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Zd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Zd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vt.EMPTY_BYTE_STRING=new vt("");var pB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(t){if(Ie(!!t,39018),typeof t=="string"){let e=0,n=pB.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cr(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}var qS="server_timestamp",WS="__type__",GS="__previous_value__",KS="__local_write_time__";function b_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[WS])===null||n===void 0?void 0:n.stringValue)===qS}function Nh(t){let e=t.mapValue.fields[GS];return b_(e)?Nh(e):e}function dc(t){let e=ar(t.mapValue.fields[KS].timestampValue);return new ze(e.seconds,e.nanos)}var Ky=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Jd="(default)",Xd=class t{constructor(e,n){this.projectId=e,this.database=n||Jd}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Jd}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var D_="__type__",QS="__max__",Bd={mapValue:{fields:{__type__:{stringValue:QS}}}},C_="__vector__",os="value";function zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?b_(t)?4:ZS(t)?9007199254740991:YS(t)?10:11:H(28295,{value:t})}function xn(t,e){if(t===e)return!0;let n=zr(t);if(n!==zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dc(t).isEqual(dc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ar(i.timestampValue),a=ar(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return cr(i.bytesValue).isEqual(cr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Re(i.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Re(i.integerValue)===Re(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Re(i.doubleValue),a=Re(o.doubleValue);return s===a?lc(s)===lc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return is(t.arrayValue.values||[],e.arrayValue.values||[],xn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(WC(s)!==WC(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!xn(s[u],a[u])))return!1;return!0}(t,e);default:return H(52216,{left:t})}}function hc(t,e){return(t.values||[]).find(n=>xn(n,e))!==void 0}function ss(t,e){if(t===e)return 0;let n=zr(t),r=zr(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Re(o.integerValue||o.doubleValue),u=Re(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return GC(t.timestampValue,e.timestampValue);case 4:return GC(dc(t),dc(e));case 5:return qy(t.stringValue,e.stringValue);case 6:return function(o,s){let a=cr(o),u=cr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=oe(a[l],u[l]);if(h!==0)return h}return oe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=oe(Re(o.latitude),Re(s.latitude));return a!==0?a:oe(Re(o.longitude),Re(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return KC(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[os])===null||a===void 0?void 0:a.arrayValue,C=(u=m[os])===null||u===void 0?void 0:u.arrayValue,N=oe(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:KC(y,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Bd.mapValue&&s===Bd.mapValue)return 0;if(o===Bd.mapValue)return 1;if(s===Bd.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=qy(u[p],h[p]);if(m!==0)return m;let y=ss(a[u[p]],l[h[p]]);if(y!==0)return y}return oe(u.length,h.length)}(t.mapValue,e.mapValue);default:throw H(23264,{le:n})}}function GC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);let n=ar(t),r=ar(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function KC(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ss(n[i],r[i]);if(o)return o}return oe(n.length,r.length)}function as(t){return Qy(t)}function Qy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ar(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Qy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Qy(n.fields[s])}`;return i+"}"}(t.mapValue):H(61005,{value:t})}function zd(t){switch(zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Nh(t);return e?16+zd(e):16;case 5:return 2*t.stringValue.length;case 6:return cr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+zd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Kr(r.fields,(o,s)=>{i+=o.length+zd(s)}),i}(t.mapValue);default:throw H(13486,{value:t})}}function Yy(t){return!!t&&"integerValue"in t}function S_(t){return!!t&&"arrayValue"in t}function QC(t){return!!t&&"nullValue"in t}function YC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qd(t){return!!t&&"mapValue"in t}function YS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[D_])===null||n===void 0?void 0:n.stringValue)===C_}function ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Kr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ic(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QS}var fY={mapValue:{fields:{[D_]:{stringValue:C_},[os]:{arrayValue:{}}}}};var Vt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ic(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());qd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Kr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ic(this.value))}};function JS(t){let e=[];return Kr(t.fields,(n,r)=>{let i=new jt([n]);if(qd(r)){let o=JS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Zt(e)}var ln=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),Vt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var cs=class{constructor(e,n){this.position=e,this.inclusive=n}};function ZC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=ss(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function JC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xn(t.position[n],e.position[n]))return!1;return!0}var us=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function gB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var eh=class{},Ge=class t extends eh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Jy(e,n,r):n==="array-contains"?new tv(e,r):n==="in"?new nv(e,r):n==="not-in"?new rv(e,r):n==="array-contains-any"?new iv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Xy(e,r):new ev(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ss(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(ss(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},kn=class t extends eh{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return XS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function XS(t){return t.op==="and"}function eA(t){return mB(t)&&XS(t)}function mB(t){for(let e of t.filters)if(e instanceof kn)return!1;return!0}function Zy(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+as(t.value);if(eA(t))return t.filters.map(e=>Zy(e)).join(",");{let e=t.filters.map(n=>Zy(n)).join(",");return`${t.op}(${e})`}}function tA(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&xn(r.value,i.value)}(t,e):t instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&tA(s,i.filters[a]),!0):!1}(t,e):void H(19439)}function nA(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${as(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(nA).join(" ,")+"}"}(t):"Filter"}var Jy=class extends Ge{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},Xy=class extends Ge{constructor(e,n){super(e,"in",n),this.keys=rA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},ev=class extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=rA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function rA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var tv=class extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return S_(n)&&hc(n.arrayValue,this.value)}},nv=class extends Ge{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&hc(this.value.arrayValue,n)}},rv=class extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hc(this.value.arrayValue,n)}},iv=class extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!S_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hc(this.value.arrayValue,r))}};var ov=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function XC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new ov(t,e,n,r,i,o,s)}function A_(t){let e=Y(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>as(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>as(r)).join(",")),e.Pe=n}return e.Pe}function R_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JC(t.startAt,e.startAt)&&JC(t.endAt,e.endAt)}function sv(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ls=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function yB(t,e,n,r,i,o,s,a){return new ls(t,e,n,r,i,o,s,a)}function Mh(t){return new ls(t)}function eS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vB(t){return t.collectionGroup!==null}function oc(t){let e=Y(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new tt(jt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new us(o,r))}),n.has(jt.keyField().canonicalString())||e.Te.push(new us(jt.keyField(),r))}return e.Te}function Mn(t){let e=Y(t);return e.Ie||(e.Ie=_B(e,oc(t))),e.Ie}function _B(t,e){if(t.limitType==="F")return XC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new us(i.field,o)});let n=t.endAt?new cs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cs(t.startAt.position,t.startAt.inclusive):null;return XC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function av(t,e,n){return new ls(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ph(t,e){return R_(Mn(t),Mn(e))&&t.limitType===e.limitType}function iA(t){return`${A_(Mn(t))}|lt:${t.limitType}`}function Zo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nA(i)).join(", ")}]`),Rh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>as(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>as(i)).join(",")),`Target(${r})`}(Mn(t))}; limitType=${t.limitType})`}function xh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of oc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=ZC(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,oc(r),i)||r.endAt&&!function(s,a,u){let l=ZC(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,oc(r),i))}(t,e)}function IB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oA(t){return(e,n)=>{let r=!1;for(let i of oc(t)){let o=EB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function EB(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ss(u,l):H(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H(19790,{direction:t.dir})}}var ur=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Kr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return zS(this.inner)}size(){return this.innerSize}};var wB=new xe(z.comparator);function lr(){return wB}var sA=new xe(z.comparator);function rc(...t){let e=sA;for(let n of t)e=e.insert(n.key,n);return e}function aA(t){let e=sA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xi(){return sc()}function cA(){return sc()}function sc(){return new ur(t=>t.toString(),(t,e)=>t.isEqual(e))}var TB=new xe(z.comparator),bB=new tt(z.comparator);function ue(...t){let e=bB;for(let n of t)e=e.add(n);return e}var DB=new tt(oe);function CB(){return DB}function N_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function uA(t){return{integerValue:""+t}}function SB(t,e){return tB(e)?uA(e):N_(t,e)}var ds=class{constructor(){this._=void 0}};function AB(t,e,n){return t instanceof hs?function(i,o){let s={fields:{[WS]:{stringValue:qS},[KS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&b_(o)&&(o=Nh(o)),o&&(s.fields[GS]=o),{mapValue:s}}(n,e):t instanceof ji?dA(t,e):t instanceof Ui?hA(t,e):function(i,o){let s=lA(i,o),a=tS(s)+tS(i.Ee);return Yy(s)&&Yy(i.Ee)?uA(a):N_(i.serializer,a)}(t,e)}function RB(t,e,n){return t instanceof ji?dA(t,e):t instanceof Ui?hA(t,e):n}function lA(t,e){return t instanceof fs?function(r){return Yy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var hs=class extends ds{},ji=class extends ds{constructor(e){super(),this.elements=e}};function dA(t,e){let n=fA(e);for(let r of t.elements)n.some(i=>xn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ui=class extends ds{constructor(e){super(),this.elements=e}};function hA(t,e){let n=fA(e);for(let r of t.elements)n=n.filter(i=>!xn(i,r));return{arrayValue:{values:n}}}var fs=class extends ds{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function tS(t){return Re(t.integerValue||t.doubleValue)}function fA(t){return S_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function NB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ji&&i instanceof ji||r instanceof Ui&&i instanceof Ui?is(r.elements,i.elements,xn):r instanceof fs&&i instanceof fs?xn(r.Ee,i.Ee):r instanceof hs&&i instanceof hs}(t.transform,e.transform)}var cv=class{constructor(e,n){this.version=e,this.transformResults=n}},jr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ps=class{};function pA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new th(t.key,jr.none()):new Bi(t.key,t.data,jr.none());{let n=t.data,r=Vt.empty(),i=new tt(jt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new On(t.key,r,new Zt(i.toArray()),jr.none())}}function MB(t,e,n){t instanceof Bi?function(i,o,s){let a=i.value.clone(),u=rS(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof On?function(i,o,s){if(!Wd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=rS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(gA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ac(t,e,n,r){return t instanceof Bi?function(o,s,a,u){if(!Wd(o.precondition,s))return a;let l=o.value.clone(),h=iS(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof On?function(o,s,a,u){if(!Wd(o.precondition,s))return a;let l=iS(o.fieldTransforms,u,s),h=s.data;return h.setAll(gA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Wd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function PB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=lA(r.transform,i||null);o!=null&&(n===null&&(n=Vt.empty()),n.set(r.field,o))}return n||null}function nS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&is(r,i,(o,s)=>NB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Bi=class extends ps{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},On=class extends ps{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function gA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function rS(t,e,n){let r=new Map;Ie(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,RB(s,a,n[i]))}return r}function iS(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,AB(o,s,e))}return r}var th=class extends ps{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},uv=class extends ps{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var lv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&MB(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=cA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=pA(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&is(this.mutations,e.mutations,(n,r)=>nS(n,r))&&is(this.baseMutations,e.baseMutations,(n,r)=>nS(n,r))}},dv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return TB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var hv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var fv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Be,fe;function xB(t){switch(t){case M.OK:return H(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return H(15467,{code:t})}}function mA(t){if(t===void 0)return sr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Be.OK:return M.OK;case Be.CANCELLED:return M.CANCELLED;case Be.UNKNOWN:return M.UNKNOWN;case Be.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Be.INTERNAL:return M.INTERNAL;case Be.UNAVAILABLE:return M.UNAVAILABLE;case Be.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Be.NOT_FOUND:return M.NOT_FOUND;case Be.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Be.ABORTED:return M.ABORTED;case Be.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Be.DATA_LOSS:return M.DATA_LOSS;default:return H(39323,{code:t})}}(fe=Be||(Be={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var oS=null;var kB=new ir([4294967295,4294967295],0);function sS(t){let e=AS().encode(t),n=new Ry;return n.update(e),new Uint8Array(n.digest())}function aS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ir([n,r],0),new ir([i,o],0)]}var pv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ki(`Invalid padding: ${n}`);if(r<0)throw new ki(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ki(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ki(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ir.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(ir.fromNumber(r)));return i.compare(kB)===1&&(i=new ir([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=sS(e),[r,i]=aS(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=sS(e),[r,i]=aS(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ki=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var nh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(J.min(),i,new xe(oe),lr(),ue())}},fc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var ts=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},rh=class{constructor(e,n){this.targetId=e,this.De=n}},ih=class{constructor(e,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},oh=class{constructor(){this.ve=0,this.Ce=cS(),this.Fe=vt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ue(),n=ue(),r=ue();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H(38017,{changeType:o})}}),new fc(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=cS()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},gv=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=lr(),this.je=$d(),this.Je=$d(),this.He=new xe(oe)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:H(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(sv(o))if(r===0){let s=new z(o.path);this.Xe(n,s,ln.newNoDocument(s,J.min()))}else Ie(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}oS?.ct(function(h,p,m,y,C){var N,R,L,W,K,be;let _t={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Ee=p.unchangedNames;return Ee&&(_t.bloomFilter={applied:C===0,hashCount:(N=Ee?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(W=(L=(R=Ee?.bits)===null||R===void 0?void 0:R.bitmap)===null||L===void 0?void 0:L.length)!==null&&W!==void 0?W:0,padding:(be=(K=Ee?.bits)===null||K===void 0?void 0:K.padding)!==null&&be!==void 0?be:0,mightContain:T=>{var _;return(_=y?.mightContain(T))!==null&&_!==void 0&&_}}),_t}(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=cr(r).toUint8Array()}catch(u){if(u instanceof Zd)return Hr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new pv(s,i,o)}catch(u){return Hr(u instanceof ki?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&sv(a.target)){let u=new z(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,ln.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ue();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new nh(e,n,this.He,this.ze,r);return this.ze=lr(),this.je=$d(),this.Je=$d(),this.He=new xe(oe),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new oh,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new tt(oe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new tt(oe),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new oh),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function $d(){return new xe(z.comparator)}function cS(){return new xe(z.comparator)}var OB={asc:"ASCENDING",desc:"DESCENDING"},FB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LB={and:"AND",or:"OR"},mv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function yv(t,e){return t.useProto3Json||Rh(e)?e:{value:e}}function sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VB(t,e){return sh(t,e.toTimestamp())}function Pn(t){return Ie(!!t,49232),J.fromTimestamp(function(n){let r=ar(n);return new ze(r.seconds,r.nanos)}(t))}function M_(t,e){return vv(t,e).canonicalString()}function vv(t,e){let n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vA(t){let e=Le.fromString(t);return Ie(TA(e),10190,{key:e.toString()}),e}function _v(t,e){return M_(t.databaseId,e.path)}function Oy(t,e){let n=vA(e);if(n.get(1)!==t.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(IA(n))}function _A(t,e){return M_(t.databaseId,e)}function jB(t){let e=vA(t);return e.length===4?Le.emptyPath():IA(e)}function Iv(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IA(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function uS(t,e,n){return{name:_v(t,e),fields:n.value.mapValue.fields}}function UB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:H(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ie(h===void 0||typeof h=="string",58123),vt.fromBase64String(h||"")):(Ie(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?M.UNKNOWN:mA(l.code);return new V(h,l.message||"")}(s);n=new ih(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Oy(t,r.document.name),o=Pn(r.document.updateTime),s=r.document.createTime?Pn(r.document.createTime):J.min(),a=new Vt({mapValue:{fields:r.document.fields}}),u=ln.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ts(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Oy(t,r.document),o=r.readTime?Pn(r.readTime):J.min(),s=ln.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ts([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Oy(t,r.document),o=r.removedTargetIds||[];n=new ts([],o,i,null)}else{if(!("filter"in e))return H(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new fv(i,o),a=r.targetId;n=new rh(a,s)}}return n}function BB(t,e){let n;if(e instanceof Bi)n={update:uS(t,e.key,e.value)};else if(e instanceof th)n={delete:_v(t,e.key)};else if(e instanceof On)n={update:uS(t,e.key,e.data),updateMask:YB(e.fieldMask)};else{if(!(e instanceof uv))return H(16599,{Rt:e.type});n={verify:_v(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof hs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ji)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ui)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fs)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw H(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:VB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:H(27497)}(t,e.precondition)),n}function $B(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Pn(i.updateTime):Pn(o);return s.isEqual(J.min())&&(s=Pn(o)),new cv(s,i.transformResults||[])}(n,e))):[]}function HB(t,e){return{documents:[_A(t,e.path)]}}function zB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_A(t,i);let o=function(l){if(l.length!==0)return wA(kn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Jo(m.field),direction:GB(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=yv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:n,parent:i}}function qB(t){let e=jB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ie(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=EA(p);return m instanceof kn&&eA(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(C){return new us(Xo(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Rh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new cs(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new cs(y,m)}(n.endAt)),yB(e,i,s,o,a,"F",u,l)}function WB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return H(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Xo(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Xo(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Xo(n.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Xo(n.unaryFilter.field);return Ge.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return H(61313);default:return H(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(Xo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return H(58110);default:return H(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>EA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return H(1026)}}(n.compositeFilter.op))}(t):H(30097,{filter:t})}function GB(t){return OB[t]}function KB(t){return FB[t]}function QB(t){return LB[t]}function Jo(t){return{fieldPath:t.canonicalString()}}function Xo(t){return jt.fromServerFormat(t.fieldPath)}function wA(t){return t instanceof Ge?function(n){if(n.op==="=="){if(YC(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(QC(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YC(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(QC(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:KB(n.op),value:n.value}}}(t):t instanceof kn?function(n){let r=n.getFilters().map(i=>wA(i));return r.length===1?r[0]:{compositeFilter:{op:QB(n.op),filters:r}}}(t):H(54877,{filter:t})}function YB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var pc=class t{constructor(e,n,r,i,o=J.min(),s=J.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ev=class{constructor(e){this.gt=e}};function ZB(t){let e=qB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?av(e,e.limit,"L"):e}var ah=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),lc(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=ar(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(cr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?ZS(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):YS(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):H(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=os,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Re(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),z.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};ah.Ut=new ah;var wv=class{constructor(){this.Dn=new Tv}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Vi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},Tv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tt(Le.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(Le.comparator)).toArray()}};var pY=new Uint8Array(0);var lS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bA=41943040,Yt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(bA,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);var gc=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var dS="LruGarbageCollector",JB=1048576;function hS([t,e],[n,r]){let i=oe(t,n);return i===0?oe(e,r):i}var bv=class{constructor(e){this.Tr=e,this.buffer=new tt(hS),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();hS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},Dv=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){O(dS,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){_s(n)?O(dS,"Ignoring IndexedDB error during garbage collection: ",n):yield vs(n)}yield this.Rr(3e5)}))}},Cv=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(w_.ue);let r=new bv(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(lS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lS):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Yo()<=ae.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function XB(t,e){return new Cv(t,e)}var Sv=class{constructor(){this.changes=new ur(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Av=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Rv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ac(r.mutation,i,Zt.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=rc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=lr(),s=sc(),a=function(){return sc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof On)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ac(h.mutation,l,h.mutation.getFieldMask(),ze.now())):s.set(l.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Av(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=sc(),i=new xe((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Zt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=cA();h.forEach(m=>{if(!o.has(m)){let y=pA(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vB(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(xi()),a=uc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:aA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=rc();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=function(p,m){return new ls(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,ln.newInvalidDocument(h)))});let a=rc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&ac(h.mutation,l,Zt.empty(),ze.now()),xh(n,l)&&(a=a.insert(u,l))}),a})}};var Nv=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:ZB(i.bundledQuery),readTime:Pn(i.readTime)}}(n)),P.resolve()}};var Mv=class{constructor(){this.overlays=new xe(z.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=xi();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=xi(),o=n.length+1,s=new z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new xe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=xi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=xi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new hv(n,r));let o=this.kr.get(n);o===void 0&&(o=ue(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var Pv=class{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var mc=class{constructor(){this.qr=new tt($e.Qr),this.$r=new tt($e.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new $e(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new $e(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new z(new Le([])),r=new $e(n,e),i=new $e(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new z(new Le([])),r=new $e(n,e),i=new $e(n,e+1),o=ue();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new $e(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},$e=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return z.comparator(e.key,n.key)||oe(e.Hr,n.Hr)}static Ur(e,n){return oe(e.Hr,n.Hr)||z.comparator(e.key,n.key)}};var xv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new tt($e.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new lv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new $e(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?T_:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new $e(n,0),i=new $e(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(oe);return n.forEach(i=>{let o=new $e(i,0),s=new $e(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new $e(new z(o),0),a=new tt(oe);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new $e(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new $e(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var kv=class{constructor(e){this.ni=e,this.docs=function(){return new xe(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=lr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=lr(),s=n.path,a=new z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||JU(ZU(h),r)<=0||(i.has(h.key)||xh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){H(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ov(this)}getSize(e){return P.resolve(this.size)}},Ov=class extends Sv{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var Fv=class{constructor(e){this.persistence=e,this.ii=new ur(n=>A_(n),R_),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.si=0,this.oi=new mc,this.targetCount=0,this._i=gc.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new gc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var ch=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new w_(0),this.ci=!1,this.ci=!0,this.li=new Pv,this.referenceDelegate=e(this),this.hi=new Fv(this),this.indexManager=new wv,this.remoteDocumentCache=function(i){return new kv(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new Ev(n),this.Ti=new Nv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Mv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new xv(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);let i=new Lv(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},Lv=class extends Gy{constructor(e){super(),this.currentSequenceNumber=e}},Vv=class t{constructor(e){this.persistence=e,this.Ai=new mc,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw H(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=z.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,J.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},uh=class t{constructor(e,n){this.persistence=e,this.gi=new ur(r=>nB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=XB(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,J.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zd(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var jv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ue(),i=ue();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Uv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Bv=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return g0()?8:eB(Xe())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Uv;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Yo()<=ae.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",Zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Yo()<=ae.DEBUG&&O("QueryEngine","Query:",Zo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Yo()<=ae.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",Zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):P.resolve())}ps(e,n){if(eS(n))return P.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=av(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,av(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return eS(n)||i.isEqual(J.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(Yo()<=ae.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zo(n)),this.vs(e,s,n,YU(i,uc)).next(a=>a))})}bs(e,n){let r=new tt(oA(e));return n.forEach((i,o)=>{xh(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Yo()<=ae.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",Zo(n)),this.gs.getDocumentsMatchingQuery(e,n,Vi.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var P_="LocalStore",e$=3e8,$v=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new xe(oe),this.Ms=new ur(o=>A_(o),R_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rv(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function t$(t,e,n,r){return new $v(t,e,n,r)}function DA(t,e){return v(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ue();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function n$(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(N=>{let R=l.docVersions.get(C);Ie(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CA(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function r$(t,e){let n=Y(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(vt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,L){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=e$?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(m,y,h)&&a.push(n.hi.updateTargetData(o,y))});let u=lr(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(i$(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(J.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function i$(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=lr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):O(P_,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function o$(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=T_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function s$(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new pc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function Hv(t,e,n){return v(this,null,function*(){let r=Y(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!_s(s))throw s;O(P_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function fS(t,e,n){let r=Y(t),i=J.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Y(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)}(r,s,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:J.min(),n?o:ue())).next(a=>(a$(r,IB(e),a),{documents:a,qs:o})))}function a$(t,e,n){let r=t.xs.get(e)||J.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var lh=class{constructor(){this.activeTargetIds=CB()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var zv=class{constructor(){this.Fo=new lh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new lh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var qv=class{xo(e){}shutdown(){}};var pS="ConnectivityMonitor",dh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){O(pS,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){O(pS,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Hd=null;function Wv(){return Hd===null?Hd=function(){return 268435456+Math.round(2147483648*Math.random())}():Hd++,"0x"+Hd.toString(16)}var Fy="RestConnection",c$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Gv=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Jd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=Wv(),a=this.Go(e,n.toUriEncodedString());O(Fy,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Nr(l);return this.jo(e,a,u,r,h).then(p=>(O(Fy,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Hr(Fy,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ys}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=c$[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var Kv=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var yt="WebChannelConnection",Qv=class extends Gv{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=Wv();return new Promise((a,u)=>{let l=new Ny;l.setWithCredentials(!0),l.listenOnce(My.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nc.NO_ERROR:let p=l.getResponseJson();O(yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case nc.TIMEOUT:O(yt,`RPC '${e}' ${s} timed out`),u(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case nc.HTTP_ERROR:let m=l.getStatus();if(O(yt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let C=y?.error;if(C&&C.status&&C.message){let N=function(L){let W=L.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(W)>=0?W:M.UNKNOWN}(C.status);u(new V(N,C.message))}else u(new V(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new V(M.UNAVAILABLE,"Connection failed."));break;default:H(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{O(yt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);O(yt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=Wv(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ky(),a=xy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");O(yt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,C=new Kv({Ho:R=>{y?O(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(O(yt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),O(yt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),N=(R,L,W)=>{R.listen(L,K=>{try{W(K)}catch(be){setTimeout(()=>{throw be},0)}})};return N(p,Qo.EventType.OPEN,()=>{y||(O(yt,`RPC '${e}' stream ${i} transport opened.`),C.s_())}),N(p,Qo.EventType.CLOSE,()=>{y||(y=!0,O(yt,`RPC '${e}' stream ${i} transport closed`),C.__(),this.I_(p))}),N(p,Qo.EventType.ERROR,R=>{y||(y=!0,Hr(yt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),C.__(new V(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,Qo.EventType.MESSAGE,R=>{var L;if(!y){let W=R.data[0];Ie(!!W,16349);let K=W,be=K?.error||((L=K[0])===null||L===void 0?void 0:L.error);if(be){O(yt,`RPC '${e}' stream ${i} received error:`,be);let _t=be.status,Ee=function(E){let w=Be[E];if(w!==void 0)return mA(w)}(_t),T=be.message;Ee===void 0&&(Ee=M.INTERNAL,T="Unknown error status: "+_t+" with message "+be.message),y=!0,C.__(new V(Ee,T)),p.close()}else O(yt,`RPC '${e}' stream ${i} received:`,W),C.a_(W)}}),N(a,Py.STAT_EVENT,R=>{R.stat===Ud.PROXY?O(yt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Ud.NOPROXY&&O(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function Ly(){return typeof document<"u"?document:null}function kh(t){return new mv(t,!0)}var hh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var gS="PersistentStream",fh=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new hh(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return v(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return v(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return v(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new V(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>v(this,null,function*(){this.state=0,this.start()}))}G_(e){return O(gS,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(O(gS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Yv=class extends fh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=UB(this.serializer,e),r=function(o){if(!("targetChange"in o))return J.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?Pn(s.readTime):J.min()}(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=Iv(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=sv(u)?{documents:HB(o,u)}:{query:zB(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=yA(o,s.resumeToken);let l=yv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(J.min())>0){a.readTime=sh(o,s.snapshotVersion.toTimestamp());let l=yv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=WB(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=Iv(this.serializer),n.removeTarget=e,this.k_(n)}},Zv=class extends fh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=$B(e.writeResults,e.commitTime),r=Pn(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=Iv(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>BB(this.serializer,r))};this.k_(n)}};var Jv=class{},Xv=class extends Jv{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,vv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(M.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,vv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(M.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},e_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(sr(n),this._a=!1):O("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var $i="RemoteStore",t_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){Hi(this)&&(O($i,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=Y(u);l.Ia.add(4),yield Ec(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Oh(l)})}(this))}))}),this.Aa=new e_(r,i)}};function Oh(t){return v(this,null,function*(){if(Hi(t))for(let e of t.da)yield e(!0)})}function Ec(t){return v(this,null,function*(){for(let e of t.da)yield e(!1)})}function SA(t,e){let n=Y(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),F_(n)?O_(n):Is(n).x_()&&k_(n,e))}function x_(t,e){let n=Y(t),r=Is(n);n.Ta.delete(e),r.x_()&&AA(n,e),n.Ta.size===0&&(r.x_()?r.B_():Hi(n)&&n.Aa.set("Unknown"))}function k_(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Is(t).H_(e)}function AA(t,e){t.Ra.$e(e),Is(t).Y_(e)}function O_(t){t.Ra=new gv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Is(t).start(),t.Aa.aa()}function F_(t){return Hi(t)&&!Is(t).M_()&&t.Ta.size>0}function Hi(t){return Y(t).Ia.size===0}function RA(t){t.Ra=void 0}function u$(t){return v(this,null,function*(){t.Aa.set("Online")})}function l$(t){return v(this,null,function*(){t.Ta.forEach((e,n)=>{k_(t,e)})})}function d$(t,e){return v(this,null,function*(){RA(t),F_(t)?(t.Aa.la(e),O_(t)):t.Aa.set("Unknown")})}function h$(t,e,n){return v(this,null,function*(){if(t.Aa.set("Online"),e instanceof ih&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(t,e)}catch(r){O($i,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ph(t,r)}else if(e instanceof ts?t.Ra.Ye(e):e instanceof rh?t.Ra.it(e):t.Ra.et(e),!n.isEqual(J.min()))try{let r=yield CA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),AA(o,u);let p=new pc(h.target,u,l,h.sequenceNumber);k_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){O($i,"Failed to raise snapshot:",r),yield ph(t,r)}})}function ph(t,e,n){return v(this,null,function*(){if(!_s(e))throw e;t.Ia.add(1),yield Ec(t),t.Aa.set("Offline"),n||(n=()=>CA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){O($i,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield Oh(t)}))})}function NA(t,e){return e().catch(n=>ph(t,n,e))}function Fh(t){return v(this,null,function*(){let e=Y(t),n=qr(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:T_;for(;f$(e);)try{let i=yield o$(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,p$(e,i)}catch(i){yield ph(e,i)}MA(e)&&PA(e)})}function f$(t){return Hi(t)&&t.Pa.length<10}function p$(t,e){t.Pa.push(e);let n=qr(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function MA(t){return Hi(t)&&!qr(t).M_()&&t.Pa.length>0}function PA(t){qr(t).start()}function g$(t){return v(this,null,function*(){qr(t).na()})}function m$(t){return v(this,null,function*(){let e=qr(t);for(let n of t.Pa)e.X_(n.mutations)})}function y$(t,e,n){return v(this,null,function*(){let r=t.Pa.shift(),i=dv.from(r,e,n);yield NA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Fh(t)})}function v$(t,e){return v(this,null,function*(){e&&qr(t).Z_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return xB(s)&&s!==M.ABORTED}(i.code)){let o=r.Pa.shift();qr(r).N_(),yield NA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Fh(r)}})}(t,e)),MA(t)&&PA(t)})}function mS(t,e){return v(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),O($i,"RemoteStore received new credentials");let r=Hi(n);n.Ia.add(3),yield Ec(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield Oh(n)})}function _$(t,e){return v(this,null,function*(){let n=Y(t);e?(n.Ia.delete(2),yield Oh(n)):e||(n.Ia.add(2),yield Ec(n),n.Aa.set("Unknown"))})}function Is(t){return t.Va||(t.Va=function(n,r,i){let o=Y(n);return o.ia(),new Yv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:u$.bind(null,t),e_:l$.bind(null,t),n_:d$.bind(null,t),J_:h$.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.Va.N_(),F_(t)?O_(t):t.Aa.set("Unknown")):(yield t.Va.stop(),RA(t))}))),t.Va}function qr(t){return t.ma||(t.ma=function(n,r,i){let o=Y(n);return o.ia(),new Zv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:g$.bind(null,t),n_:v$.bind(null,t),ea:m$.bind(null,t),ta:y$.bind(null,t)}),t.da.push(e=>v(null,null,function*(){e?(t.ma.N_(),yield Fh(t)):(yield t.ma.stop(),t.Pa.length>0&&(O($i,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var n_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function L_(t,e){if(sr("AsyncQueue",`${e}: ${t}`),_s(t))return new V(M.UNAVAILABLE,`${e}: ${t}`);throw t}var gh=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=rc(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var mh=class{constructor(){this.fa=new xe(z.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):H(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},gs=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,gh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var r_=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},i_=class{constructor(){this.queries=yS(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=Y(n),o=i.queries;i.queries=yS(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new V(M.ABORTED,"Firestore shutting down"))}};function yS(){return new ur(t=>iA(t),Ph)}function xA(t,e){return v(this,null,function*(){let n=Y(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new r_,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=L_(s,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&V_(n)})}function kA(t,e){return v(this,null,function*(){let n=Y(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function I$(t,e){let n=Y(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&V_(n)}function E$(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function V_(t){t.Da.forEach(e=>{e.next()})}var o_,vS;(vS=o_||(o_={})).Fa="default",vS.Cache="cache";var yh=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new gs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==o_.Cache}};var vh=class{constructor(e){this.key=e}},_h=class{constructor(e){this.key=e}},s_=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=oA(e),this.eu=new gh(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new mh,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=xh(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?C!==N&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(y,C){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H(20277,{At:R})}};return N(y)-N(C)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new gs(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new mh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ue(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new _h(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new vh(r))}),n}uu(e){this.Ha=e.qs,this.Za=ue();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return gs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},j_="SyncEngine",a_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},c_=class{constructor(e){this.key=e,this.lu=!1}},u_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new ur(a=>iA(a),Ph),this.Tu=new Map,this.Iu=new Set,this.du=new xe(z.comparator),this.Eu=new Map,this.Au=new mc,this.Ru={},this.Vu=new Map,this.mu=gc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function w$(t,e,n=!0){return v(this,null,function*(){let r=UA(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield OA(r,e,n,!0),i})}function T$(t,e){return v(this,null,function*(){let n=UA(t);yield OA(n,e,!0,!1)})}function OA(t,e,n,r){return v(this,null,function*(){let i=yield s$(t.localStore,Mn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield b$(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&SA(t.remoteStore,i),a})}function b$(t,e,n,r,i){return v(this,null,function*(){t.gu=(p,m,y)=>function(N,R,L,W){return v(this,null,function*(){let K=R.view.nu(L);K.Ds&&(K=yield fS(N.localStore,R.query,!1).then(({documents:T})=>R.view.nu(T,K)));let be=W&&W.targetChanges.get(R.targetId),_t=W&&W.targetMismatches.get(R.targetId)!=null,Ee=R.view.applyChanges(K,N.isPrimaryClient,be,_t);return IS(N,R.targetId,Ee._u),Ee.snapshot})}(t,p,m,y);let o=yield fS(t.localStore,e,!0),s=new s_(e,o.qs),a=s.nu(o.documents),u=fc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);IS(t,n,l._u);let h=new a_(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function D$(t,e,n){return v(this,null,function*(){let r=Y(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Ph(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Hv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&x_(r.remoteStore,i.targetId),l_(r,i.targetId)}).catch(vs))):(l_(r,i.targetId),yield Hv(r.localStore,i.targetId,!0))})}function C$(t,e){return v(this,null,function*(){let n=Y(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),x_(n.remoteStore,r.targetId))})}function S$(t,e,n){return v(this,null,function*(){let r=k$(t);try{let i=yield function(s,a){let u=Y(s),l=ze.now(),h=a.reduce((y,C)=>y.add(C.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=lr(),N=ue();return u.Os.getEntries(y,h).next(R=>{C=R,C.forEach((L,W)=>{W.isValidDocument()||(N=N.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let L=[];for(let W of a){let K=PB(W,p.get(W.key).overlayedDocument);K!=null&&L.push(new On(W.key,K,JS(K.value.mapValue),jr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,L,a)}).next(R=>{m=R;let L=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,L)})}).then(()=>({batchId:m.batchId,changes:aA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new xe(oe)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,n),yield wc(r,i.changes),yield Fh(r.remoteStore)}catch(i){let o=L_(i,"Failed to persist write");n.reject(o)}})}function FA(t,e){return v(this,null,function*(){let n=Y(t);try{let r=yield r$(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ie(s.lu,14607):i.removedDocuments.size>0&&(Ie(s.lu,42227),s.lu=!1))}),yield wc(n,r,e)}catch(r){yield vs(r)}})}function _S(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=Y(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&V_(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function A$(t,e,n){return v(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new xe(z.comparator);s=s.insert(o,ln.newNoDocument(o,J.min()));let a=ue().add(o),u=new nh(J.min(),new Map,new xe(oe),s,a);yield FA(r,u),r.du=r.du.remove(o),r.Eu.delete(e),U_(r)}else yield Hv(r.localStore,e,!1).then(()=>l_(r,e,n)).catch(vs)})}function R$(t,e){return v(this,null,function*(){let n=Y(t),r=e.batch.batchId;try{let i=yield n$(n.localStore,e);VA(n,r,null),LA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield wc(n,i)}catch(i){yield vs(i)}})}function N$(t,e,n){return v(this,null,function*(){let r=Y(t);try{let i=yield function(s,a){let u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ie(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);VA(r,e,n),LA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield wc(r,i)}catch(i){yield vs(i)}})}function LA(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function VA(t,e,n){let r=Y(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function l_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||jA(t,r)})}function jA(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(x_(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),U_(t))}function IS(t,e,n){for(let r of n)r instanceof vh?(t.Au.addReference(r.key,e),M$(t,r)):r instanceof _h?(O(j_,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||jA(t,r.key)):H(19791,{yu:r})}function M$(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(O(j_,"New document in limbo: "+n),t.Iu.add(r),U_(t))}function U_(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new z(Le.fromString(e)),r=t.mu.next();t.Eu.set(r,new c_(n)),t.du=t.du.insert(n,r),SA(t.remoteStore,new pc(Mn(Mh(n.path)),r,"TargetPurposeLimboResolution",w_.ue))}}function wc(t,e,n){return v(this,null,function*(){let r=Y(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=jv.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(u,l){return v(this,null,function*(){let h=Y(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!_s(p))throw p;O(P_,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);h.Fs=h.Fs.insert(m,N)}}})}(r.localStore,o))})}function P$(t,e){return v(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){O(j_,"User change. New user:",e.toKey());let r=yield DA(n.localStore,e);n.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new V(M.CANCELLED,s))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wc(n,r.Bs)}})}function x$(t,e){let n=Y(t),r=n.Eu.get(e);if(r&&r.lu)return ue().add(r.key);{let i=ue(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function UA(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A$.bind(null,e),e.hu.J_=I$.bind(null,e.eventManager),e.hu.pu=E$.bind(null,e.eventManager),e}function k$(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N$.bind(null,e),e}var BA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=kh(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return t$(this.persistence,new Bv,n.initialUser,this.serializer)}Du(n){return new ch(Vv.Vi,this.serializer)}bu(n){return new zv}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),d_=class extends BA{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ie(this.persistence.referenceDelegate instanceof uh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Dv(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new ch(r=>uh.Vi(r,n),this.serializer)}};var O$=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_S(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=P$.bind(null,this.syncEngine),yield _$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new i_}()}createDatastore(n){let r=kh(n.databaseInfo.databaseId),i=function(s){return new Qv(s)}(n.databaseInfo);return function(s,a,u,l){return new Xv(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new t_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>_S(this.syncEngine,r,0),function(){return dh.C()?new dh:new qv}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new u_(o,s,a,u,l,h);return p&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(o){return v(this,null,function*(){let s=Y(o);O($i,"RemoteStore shutting down."),s.Ia.add(5),yield Ec(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Ih=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Wr="FirestoreClient",h_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=et.UNAUTHENTICATED,this.clientId=cc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){O(Wr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(O(Wr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=L_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Vy(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),O(Wr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield DA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Hr("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{O("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Hr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function ES(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield F$(t);O(Wr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mS(e.remoteStore,i)),t._onlineComponents=e})}function F$(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O(Wr,"Using user provided OfflineComponentProvider");try{yield Vy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Hr("Error using user provided cache. Falling back to memory cache: "+n),yield Vy(t,new BA)}}else O(Wr,"Using default OfflineComponentProvider"),yield Vy(t,new d_(void 0));return t._offlineComponents})}function $A(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(O(Wr,"Using user provided OnlineComponentProvider"),yield ES(t,t._uninitializedComponentsProvider._online)):(O(Wr,"Using default OnlineComponentProvider"),yield ES(t,new O$))),t._onlineComponents})}function L$(t){return $A(t).then(e=>e.syncEngine)}function f_(t){return v(this,null,function*(){let e=yield $A(t),n=e.eventManager;return n.onListen=w$.bind(null,e.syncEngine),n.onUnlisten=D$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=C$.bind(null,e.syncEngine),n})}function V$(t,e,n={}){let r=new An;return t.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,u,l){let h=new Ih({next:m=>{h.Ou(),s.enqueueAndForget(()=>kA(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new V(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new V(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new yh(Mh(a.path),h,{includeMetadataChanges:!0,ka:!0});return xA(o,p)}(yield f_(t),t.asyncQueue,e,n,r)})),r.promise}function HA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var wS=new Map;var zA="firestore.googleapis.com",TS=!0,Eh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zA,this.ssl=TS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:TS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JB)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},yc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jy;switch(r.type){case"firstParty":return new Hy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=wS.get(n);r&&(O("ComponentProvider","Removing Datastore"),wS.delete(n),r.terminate())}(this),Promise.resolve()}};function qA(t,e,n,r={}){var i;t=Rn(t,yc);let o=Nr(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(ld(`https://${u}`),dd("Firestore",!0)),s.host!==zA&&s.host!==u&&Hr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Wt(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=et.MOCK_USER;else{h=l0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new et(m)}t._authCredentials=new Uy(new Gd(h,p))}}var wh=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ut=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ic(n,t._jsonSchema))return new t(e,r||null,new z(Le.fromString(n.referencePath)))}};ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:He("string",ut._jsonSchemaVersion),referencePath:He("string")};var vc=class t extends wh{constructor(e,n,r){super(e,n,Mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function WA(t,e,...n){if(t=Ue(t),arguments.length===1&&(e=cc.newId()),KU("doc","path",e),t instanceof yc){let r=Le.fromString(e,...n);return $C(r),new ut(t,null,new z(r))}{if(!(t instanceof ut||t instanceof vc))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Le.fromString(e,...n));return $C(r),new ut(t.firestore,t instanceof vc?t.converter:null,new z(r))}}var bS="AsyncQueue",Th=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new hh(this,"async_queue_retry"),this.oc=()=>{let r=Ly();r&&O(bS,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=Ly();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=Ly();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new An;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return v(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!_s(e))throw e;O(bS,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,sr("INTERNAL UNHANDLED ERROR: ",DS(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=n_.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&H(47125,{hc:DS(this.tc)})}verifyOperationInProgress(){}Pc(){return v(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function DS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function CS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Gr=class extends yc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Th,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Th(e),this._firestoreClient=void 0,yield e}})}};function GA(t,e){let n=typeof t=="object"?t:bn(),r=typeof t=="string"?t:e||Jd,i=Kt(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=u0("firestore");o&&qA(i,...o)}return i}function B_(t){if(t._terminated)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j$(t),t._firestoreClient}function j$(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Ky(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,HA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new h_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Ur=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(vt.fromBase64String(e))}catch(n){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ic(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Ur._jsonSchemaVersion="firestore/bytes/1.0",Ur._jsonSchema={type:He("string",Ur._jsonSchemaVersion),bytes:He("string")};var ms=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var _c=class{constructor(e){this._methodName=e}};var Br=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Ic(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Br._jsonSchemaVersion="firestore/geoPoint/1.0",Br._jsonSchema={type:He("string",Br._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};var $r=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ic(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new V(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};$r._jsonSchemaVersion="firestore/vectorValue/1.0",$r._jsonSchema={type:He("string",$r._jsonSchemaVersion),vectorValues:He("object")};var U$=/^__.*__$/,p_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new On(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bi(e,this.data,n,this.fieldTransforms)}},bh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new On(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function KA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H(40011,{Ec:t})}}var g_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ch(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(KA(this.Ec)&&U$.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},m_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kh(e)}Dc(e,n,r,i=!1){return new g_({Ec:e,methodName:n,bc:r,path:jt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function QA(t){let e=t._freezeSettings(),n=kh(t._databaseId);return new m_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function B$(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);$_("Data must be an object, but it was:",s,r);let a=YA(r,s),u,l;if(o.merge)u=new Zt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=y_(e,p,n);if(!s.contains(m))throw new V(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);JA(h,m)||h.push(m)}u=new Zt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new p_(new Vt(a),u,l)}var Dh=class t extends _c{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function $$(t,e,n,r){let i=t.Dc(1,e,n);$_("Data must be an object, but it was:",i,r);let o=[],s=Vt.empty();Kr(r,(u,l)=>{let h=H_(e,u,n);l=Ue(l);let p=i.gc(h);if(l instanceof Dh)o.push(h);else{let m=Lh(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Zt(o);return new bh(s,a,i.fieldTransforms)}function H$(t,e,n,r,i,o){let s=t.Dc(1,e,n),a=[y_(e,r,n)],u=[i];if(o.length%2!=0)throw new V(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(y_(e,o[m])),u.push(o[m+1]);let l=[],h=Vt.empty();for(let m=a.length-1;m>=0;--m)if(!JA(l,a[m])){let y=a[m],C=u[m];C=Ue(C);let N=s.gc(y);if(C instanceof Dh)l.push(y);else{let R=Lh(C,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new Zt(l);return new bh(h,p,s.fieldTransforms)}function Lh(t,e){if(ZA(t=Ue(t)))return $_("Unsupported field value:",e,t),YA(t,e);if(t instanceof _c)return function(r,i){if(!KA(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Lh(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ue(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ze.fromDate(r);return{timestampValue:sh(i.serializer,o)}}if(r instanceof ze){let o=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(i.serializer,o)}}if(r instanceof Br)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:yA(i.serializer,r._byteString)};if(r instanceof ut){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:M_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $r)return function(s,a){return{mapValue:{fields:{[D_]:{stringValue:C_},[os]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return N_(a.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${E_(r)}`)}(t,e)}function YA(t,e){let n={};return zS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kr(t,(r,i)=>{let o=Lh(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ZA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof Br||t instanceof Ur||t instanceof ut||t instanceof _c||t instanceof $r)}function $_(t,e,n){if(!ZA(n)||!RS(n)){let r=E_(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function y_(t,e,n){if((e=Ue(e))instanceof ms)return e._internalPath;if(typeof e=="string")return H_(t,e);throw Ch("Field path arguments must be of type string or ",t,!1,void 0,n)}var z$=new RegExp("[~\\*/\\[\\]]");function H_(t,e,n){if(e.search(z$)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ms(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ch(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(M.INVALID_ARGUMENT,a+t+u)}function JA(t,e){return t.some(n=>n.isEqual(e))}var Sh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new v_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(XA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},v_=class extends Sh{data(){return super.data()}};function XA(t,e){return typeof e=="string"?H_(t,e):e instanceof ms?e._internalPath:e._delegate._internalPath}function q$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var __=class{convertValue(e,n="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw H(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Kr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[os].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Re(s.doubleValue));return new $r(o)}convertGeoPoint(e){return new Br(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Nh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){let n=ar(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Le.fromString(e);Ie(TA(r),9688,{name:e});let i=new Xd(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||sr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function W$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Oi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Fi=class t extends Sh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ns(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(XA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Fi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fi._jsonSchema={type:He("string",Fi._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};var ns=class extends Fi{data(e={}){return super.data(e)}},rs=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Oi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ns(this._firestore,this._userDataWriter,r.key,r,new Oi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ns(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ns(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:G$(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function G$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H(61501,{type:t})}}function eR(t){t=Rn(t,ut);let e=Rn(t.firestore,Gr);return V$(B_(e),t._key).then(n=>iR(e,t,n))}rs._jsonSchemaVersion="firestore/querySnapshot/1.0",rs._jsonSchema={type:He("string",rs._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};var Ah=class extends __{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}};function tR(t,e,n){t=Rn(t,ut);let r=Rn(t.firestore,Gr),i=W$(t.converter,e,n);return rR(r,[B$(QA(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,jr.none())])}function nR(t,e,n,...r){t=Rn(t,ut);let i=Rn(t.firestore,Gr),o=QA(i),s;return s=typeof(e=Ue(e))=="string"||e instanceof ms?H$(o,"updateDoc",t._key,e,n,r):$$(o,"updateDoc",t._key,e),rR(i,[s.toMutation(t._key,jr.exists(!0))])}function z_(t,...e){var n,r,i;t=Ue(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||CS(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(CS(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof ut)l=Rn(t.firestore,Gr),h=Mh(t._key.path),u={next:p=>{e[s]&&e[s](iR(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Rn(t,wh);l=Rn(p.firestore,Gr),h=p._query;let m=new Ah(l);u={next:y=>{e[s]&&e[s](new rs(l,m,p,y))},error:e[s+1],complete:e[s+2]},q$(t._query)}return function(m,y,C,N){let R=new Ih(N),L=new yh(y,R,C);return m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return xA(yield f_(m),L)})),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return kA(yield f_(m),L)}))}}(B_(l),h,a,u)}function rR(t,e){return function(r,i){let o=new An;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return S$(yield L$(r),i,o)})),o.promise}(B_(t),e)}function iR(t,e,n){let r=n.docs.get(e._key),i=new Ah(t);return new Fi(t,i,e._key,r,new Oi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ys=i})(Pr),ct(new Fe("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Gr(new By(r.getProvider("auth-internal")),new zy(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),_e(VC,jC,e),_e(VC,jC,"esm2017")})();var Vh=function(){return Vh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Vh.apply(this,arguments)};var Y$={includeMetadataChanges:!1};function oR(t,e){return e===void 0&&(e=Y$),new ce(function(n){var r=z_(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function sR(t){return oR(t,{includeMetadataChanges:!0})}function aR(t,e){return e===void 0&&(e={}),sR(t).pipe(le(function(n){return cR(n,e)}))}function cR(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Vh(Vh({},r),(n={},n[e.idField]=t.id,n))}var zi=class{constructor(e){return e}},uR="firestore",q_=class{constructor(){return xr(uR)}};var W_=new U("angularfire2.firestore-instances");function Z$(t,e){let n=Ai(uR,t,e);return n&&new zi(n)}function J$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new zi(r)}}var X$={provide:q_,deps:[[new gt,W_]]},eH={provide:zi,useFactory:Z$,deps:[[new gt,W_],cn]};function lR(t,...e){return _e("angularfire",Dn.full,"fst"),on([eH,X$,{provide:W_,useFactory:J$(t),multi:!0,deps:[ve,Ye,Cn,tr,[new gt,tc],[new gt,Go],...e]}])}var G_=Pt(aR,!0);var Es=Pt(WA,!0,2);var dR=Pt(eR,!0);var hR=Pt(GA,!0);var fR=Pt(tR,!0,2);var pR=Pt(nR,!0,2);var ws=class t{constructor(){}firestore=x(zi);getPersonalData(){let e=Es(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return G_(e)}getPersonalDataOnce(){return v(this,null,function*(){let e=Es(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q"),n=yield dR(e);return n.exists()?n.data():void 0})}getDocument(e){if(!this.firestore)return console.warn("Firestore no est\xE1 inicializado. Retornando array vac\xEDo."),Q([]);let n=Es(this.firestore,e);return G_(n)}updateDocument(e,n,r){let i=Es(this.firestore,e,n);return pR(i,r)}updatePersonalData(e){let n=Es(this.firestore,"DATOS_PERSONALES","Lqxyb4o38VjsdnZrOF5q");return fR(n,e,{merge:!0})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var jh=class t{title=null;secondTitle=null;thirdTitle=null;content=null;openPanel=!1;togglePanel(){this.openPanel=!this.openPanel}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-accordion"]],inputs:{title:"title",secondTitle:"secondTitle",thirdTitle:"thirdTitle",content:"content"},decls:13,vars:8,consts:[[1,"detail-panel"],[1,"detail-header",3,"click"],[1,"accordion-btn"],[1,"detail-content"],[1,"detail-inner"]],template:function(n,r){n&1&&(q(0,"div",0)(1,"div",1),Oe("click",function(){return r.togglePanel()}),q(2,"h2"),we(3),re(),q(4,"h4"),we(5),re(),q(6,"h5"),we(7),re(),Pe(8,"button",2),re(),q(9,"div",3)(10,"div",4)(11,"p"),we(12),re()()()()),n&2&&(B(3),Yn(r.title),B(2),Yn(r.secondTitle),B(2),Yn(r.thirdTitle),B(),Nt("open",r.openPanel),B(),Nt("open",r.openPanel),B(3),_l(" ",r.content," "))},dependencies:[Ze],styles:['.detail-panel[_ngcontent-%COMP%]{background-color:var(--color-subpanel-dark);margin:40px 0}.detail-header[_ngcontent-%COMP%]{position:relative;cursor:pointer;-webkit-user-select:none;user-select:none;padding:1rem;background-color:var(--color-subpanel-child-dark);border-radius:8px;transition:background .2s ease}.detail-header[_ngcontent-%COMP%]:hover{background:var(--color-selected-dark)}.detail-content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .7s cubic-bezier(.11,.37,.17,.72)}.detail-content.open[_ngcontent-%COMP%]{max-height:500px;transition:max-height 1s ease-in}.detail-inner[_ngcontent-%COMP%]{padding:1rem}.accordion-btn[_ngcontent-%COMP%]{position:absolute;right:23px;top:50%;transform:translateY(-50%);width:20px;height:20px;border:none;background:url("./media/mas-SRVL4M23.png") no-repeat center;background-size:contain;cursor:pointer;transition:background .7s cubic-bezier(.18,0,1,.79)}.accordion-btn.open[_ngcontent-%COMP%]{background-image:url("./media/menos-3VJFCNR6.png");transition:background .2s cubic-bezier(.18,0,1,.79)}']})};function tH(t,e){if(t&1){let n=xo();fa(0),q(1,"div",2),Oe("click",function(){hi(n);let i=br();return fi(i.selectView("experience"))}),q(2,"h2"),we(3,"Experiencia laboral"),re(),q(4,"p"),we(5,"Trayectoria profesional y proyectos destacados."),re()(),q(6,"div",3),Oe("click",function(){hi(n);let i=br();return fi(i.selectView("technologies"))}),q(7,"h2"),we(8,"Tecnolog\xEDas especializadas"),re(),q(9,"p"),we(10,"Stack t\xE9cnico y herramientas utilizadas."),re()(),pa()}}function nH(t,e){if(t&1){let n=xo();fa(0),q(1,"div",4)(2,"button",5),Oe("click",function(){hi(n);let i=br();return fi(i.selectView("menu"))}),we(3,"\u2190 Volver"),re(),q(4,"div",6),Pe(5,"app-accordion",7)(6,"app-accordion",8),re()(),pa()}t&2&&(B(5),ee("title","Desarrollador Full-Stack")("secondTitle","Indra Sistemas")("thirdTitle","Octubre 2024 - ACTUALMENTE"),B(),ee("title","Desarrollador Full-Stack")("secondTitle","Mercanza")("thirdTitle","Septiembre 2023 - Diciembre 2023"))}function rH(t,e){if(t&1){let n=xo();fa(0),q(1,"div",4)(2,"button",5),Oe("click",function(){hi(n);let i=br();return fi(i.selectView("menu"))}),we(3,"\u2190 Volver"),re(),q(4,"div",6),Pe(5,"app-accordion",9)(6,"app-accordion",10)(7,"app-accordion",11)(8,"app-accordion",12)(9,"app-accordion",13)(10,"app-accordion",14)(11,"app-accordion",15)(12,"app-accordion",16)(13,"app-accordion",17)(14,"app-accordion",18)(15,"app-accordion",19)(16,"app-accordion",20)(17,"app-accordion",21)(18,"app-accordion",22)(19,"app-accordion",23)(20,"app-accordion",24)(21,"app-accordion",25)(22,"app-accordion",26)(23,"app-accordion",27)(24,"app-accordion",28)(25,"app-accordion",29)(26,"app-accordion",30)(27,"app-accordion",31)(28,"app-accordion",32),re()(),pa()}t&2&&(B(5),ee("title","Java")("secondTitle","Nivel: Alto"),B(),ee("title","TypeScript")("secondTitle","Nivel: Alto"),B(),ee("title","Python")("secondTitle","Nivel: Intermedio"),B(),ee("title","C#")("secondTitle","Nivel: Intermedio"),B(),ee("title","JavaScript")("secondTitle","Nivel: B\xE1sico"),B(),ee("title","PHP")("secondTitle","Nivel: B\xE1sico"),B(),ee("title","HTML5 & CSS3")("secondTitle","Nivel: Intermedio"),B(),ee("title","JSON & XML")("secondTitle","Nivel: Alto"),B(),ee("title","SQL")("secondTitle","Nivel: Intermedio"),B(),ee("title","Spring Boot")("secondTitle","Nivel: Intermedio"),B(),ee("title","Angular")("secondTitle","Nivel: Intermedio"),B(),ee("title","Ionic")("secondTitle","Nivel: B\xE1sico"),B(),ee("title","Node.js")("secondTitle","Nivel: B\xE1sico"),B(),ee("title","MySQL & SQL Server")("secondTitle","Nivel: Intermedio"),B(),ee("title","MongoDB & Firebase")("secondTitle","Nivel: Intermedio"),B(),ee("title","MQTT (Mosquitto)")("secondTitle","Nivel: Alto"),B(),ee("title","Kafka, RabbitMQ, NATS")("secondTitle","Nivel: Intermedio"),B(),ee("title","Git")("secondTitle","Nivel: Alto"),B(),ee("title","Docker")("secondTitle","Nivel: Alto"),B(),ee("title","Jenkins")("secondTitle","Nivel: Intermedio"),B(),ee("title","JIRA & Kanban (Trello)")("secondTitle","Nivel: Alto"),B(),ee("title","Android Studio & Capacitor")("secondTitle","Nivel: Intermedio"),B(),ee("title","Unity & Processing")("secondTitle","Nivel: Intermedio"),B(),ee("title","Unreal Engine")("secondTitle","Nivel: B\xE1sico"))}var Uh=class t{view="menu";openPanels={indra:!1,mercanza:!1};selectView(e){this.view=e}togglePanel(e){this.openPanels[e]=!this.openPanels[e]}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-experience-panel"]],decls:4,vars:3,consts:[[1,"experience-wrapper"],[4,"ngIf"],[1,"experience-card","experience",3,"click"],[1,"experience-card","technologies",3,"click"],[1,"experience-detail"],[1,"back-btn",3,"click"],[1,"detail-scroll"],["content",`El proyecto en el que actualmente trabajo es un sistema de mando y control,
                          encargado de gestionar recursos, publicar instrucciones y llevar un seguimiento de las acciones.
                          Ademas de comunicarse con otras plataformas con objetivos similares a nuestro sistema.
                          
                          Los desarrollos principales en los que he trabajado han sido:
                          
                          La migracion de la aplicaci\xF3n de Windows a Linux y Android.
                          
                          Integraci\xF3n en el nuevas tecnolog\xEDas y desarrollado un nuevo frontal m\xE1s din\xE1mico y 
                          con apariencia mas moderna usando Angular.
                          
                          Implementar nuevas funcionalidades en un sistema programado en Java con mas de 15 a\xF1os y consolidado.
                          Sin quebrar el funcionamiento de los sistemas ya 
                          existentes y otros que estan en desarrollo y comparten servicios en com\xFAn.`,3,"title","secondTitle","thirdTitle"],["content",`Los proyectos en los que trabaj\xE9 eran encargados de llevar el tratamiento 
                          de datos personales y de negocio de diversas empresas con sus empleados o clientes.
                          
                          Estos proyectos usaban diferentes tecnolog\xEDas pero en los que mas desarroll\xE9
                          usaban Angular y .NET con C#.
          
                          En estas aplicaciones web realic\xE9 sobre todo tareas
                          de resoluci\xF3n de incidencias, correci\xF3n de componentes de interfaz gr\xE1fica y
                          optimizaci\xF3n de consultas a APIs y Bases de datos relaccionales.`,3,"title","secondTitle","thirdTitle"],["content","Desarrollo backend aplicando programaci\xF3n orientada a objetos, creaci\xF3n de APIs REST, WebSockets, manejo de dependencias con Maven y ejecuci\xF3n en servidores de aplicaciones. Experiencia integrando backend con frontend.",3,"title","secondTitle"],["content","Uso avanzado de TypeScript en aplicaciones Angular, tipado est\xE1tico, gen\xE9ricos, manejo de estructuras de datos y l\xF3gica de negocio mantenible.",3,"title","secondTitle"],["content","Desarrollo de scripts y aplicaciones backend sencillas, automatizaci\xF3n de tareas y consumo de APIs.",3,"title","secondTitle"],["content","Desarrollo de aplicaciones y scripts, principalmente en entornos de creaci\xF3n interactiva y motores de juego.",3,"title","secondTitle"],["content","Uso de JavaScript para complementar funcionalidades frontend y comprensi\xF3n de su integraci\xF3n con frameworks modernos.",3,"title","secondTitle"],["content","Conocimientos b\xE1sicos para desarrollo web backend y mantenimiento de aplicaciones existentes.",3,"title","secondTitle"],["content","Maquetaci\xF3n de interfaces web, estructuraci\xF3n sem\xE1ntica y dise\xF1o responsive adaptable a distintos dispositivos.",3,"title","secondTitle"],["content","Uso intensivo de formatos de intercambio de datos en APIs REST, configuraci\xF3n de servicios y comunicaci\xF3n entre sistemas.",3,"title","secondTitle"],["content","Consultas a bases de datos relacionales, operaciones CRUD y comprensi\xF3n de modelos de datos.",3,"title","secondTitle"],["content","Creaci\xF3n de servicios REST, controladores, inyecci\xF3n de dependencias y estructuraci\xF3n de proyectos backend.",3,"title","secondTitle"],["content","Desarrollo de aplicaciones SPA, consumo de APIs REST, componentes, servicios y manejo de estado con TypeScript.",3,"title","secondTitle"],["content","Uso de Ionic para el desarrollo de aplicaciones h\xEDbridas y adaptaci\xF3n de interfaces a dispositivos m\xF3viles.",3,"title","secondTitle"],["content","Conocimientos b\xE1sicos del runtime para ejecuci\xF3n de aplicaciones JavaScript y soporte a herramientas de desarrollo.",3,"title","secondTitle"],["content","Uso de bases de datos relacionales, consultas SQL, gesti\xF3n de datos y conexi\xF3n desde aplicaciones backend.",3,"title","secondTitle"],["content","Uso de bases de datos NoSQL y BaaS para almacenamiento de datos, autenticaci\xF3n y servicios en tiempo real.",3,"title","secondTitle"],["content","Uso de mensajer\xEDa ligera para comunicaci\xF3n entre dispositivos y sistemas distribuidos mediante el protocolo MQTT.",3,"title","secondTitle"],["content","Conocimientos en sistemas de mensajer\xEDa y streaming para comunicaci\xF3n as\xEDncrona entre servicios.",3,"title","secondTitle"],["content","Control de versiones, trabajo con ramas, resoluci\xF3n de conflictos y gesti\xF3n de repositorios.",3,"title","secondTitle"],["content","Creaci\xF3n y uso de contenedores para entornos de desarrollo y despliegue de servicios backend.",3,"title","secondTitle"],["content","Uso de pipelines b\xE1sicos para integraci\xF3n y automatizaci\xF3n de procesos de build.",3,"title","secondTitle"],["content","Gesti\xF3n de tareas, seguimiento de proyectos y trabajo colaborativo con metodolog\xEDas \xE1giles.",3,"title","secondTitle"],["content","Desarrollo y compilaci\xF3n de aplicaciones m\xF3viles, integraci\xF3n con funcionalidades nativas y despliegue en dispositivos f\xEDsicos.",3,"title","secondTitle"],["content","Desarrollo de proyectos interactivos y videojuegos, l\xF3gica de juego y creaci\xF3n visual.",3,"title","secondTitle"],["content","Conocimientos iniciales en motores gr\xE1ficos y desarrollo de experiencias interactivas.",3,"title","secondTitle"]],template:function(n,r){n&1&&(q(0,"div",0),Qn(1,tH,11,0,"ng-container",1)(2,nH,7,6,"ng-container",1)(3,rH,29,48,"ng-container",1),re()),n&2&&(B(),ee("ngIf",r.view==="menu"),B(),ee("ngIf",r.view==="experience"),B(),ee("ngIf",r.view==="technologies"))},dependencies:[Ze,vi,jh],styles:[".experience-wrapper[_ngcontent-%COMP%]{display:flex;gap:2rem;width:100%;height:100%;max-width:900px;margin:0 auto;align-items:anchor-center}.experience-card[_ngcontent-%COMP%]{flex:1;padding:2.5rem;background:#ffffff0a;border:1px solid rgba(255,255,255,.08);cursor:pointer;transition:all .35s ease;position:relative}.experience-card[_ngcontent-%COMP%]:hover{background:#ffffff14;transform:translateY(-6px)}.experience-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6rem;letter-spacing:.08em;margin-bottom:1rem;text-transform:uppercase}.experience-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;opacity:.85}.experience-card.experience[_ngcontent-%COMP%]{border-left:4px solid #6aa9ff}.experience-card.technologies[_ngcontent-%COMP%]{border-left:4px solid #7dffb3}.experience-detail[_ngcontent-%COMP%]{width:100%;height:100%;align-content:center;position:relative}.back-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6aa9ff;font-size:1rem;cursor:pointer;margin-bottom:1.5rem;position:absolute;top:0}.detail-scroll[_ngcontent-%COMP%]{max-height:93%;overflow-y:auto;padding-right:.75rem}.detail-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.detail-scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff40;border-radius:3px}"]})};function iH(t,e){t&1&&Pe(0,"div")}function oH(t,e){t&1&&Pe(0,"app-experience-panel")}var Bh=class t{visible=!1;activeTab=void 0;close=new Qe;pathImg="";onClose(){this.close.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-left-panel"]],inputs:{visible:"visible",activeTab:"activeTab",pathImg:"pathImg"},outputs:{close:"close"},decls:7,vars:8,consts:[[1,"tab-panel"],[1,"tab-panel-inner"],[1,"close-btn",3,"click"],[4,"ngIf"],[1,"tab-image"]],template:function(n,r){n&1&&(q(0,"div",0)(1,"div",1)(2,"button",2),Oe("click",function(){return r.onClose()}),we(3,"\u2715"),re(),Qn(4,iH,1,0,"div",3)(5,oH,1,0,"app-experience-panel",3),re()(),Pe(6,"div",4)),n&2&&(Nt("is-visible",r.visible),B(4),ee("ngIf",r.activeTab==="about"),B(),ee("ngIf",r.activeTab==="experience"),B(),ha("background-image","url("+r.pathImg+")"),Nt("is-visible",r.visible))},dependencies:[Ze,vi,Uh],styles:[".tab-panel[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:70vw;background:var(--color-panel-dark);color:#f5f5f5;box-shadow:8px 0 30px #00000073;transform:translate(-100%);transition:transform 1s ease;z-index:5;display:flex;align-items:center}.tab-image[_ngcontent-%COMP%]{visibility:hidden;position:fixed;top:0;right:0;left:auto;height:100vh;width:30vw;color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(-500%);transition:transform 1s ease;z-index:5;display:flex;align-items:center;background-size:cover;background-position:center;background-repeat:no-repeat;z-index:0}.tab-image.is-visible[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.tab-panel.is-visible[_ngcontent-%COMP%]{transform:translate(0)}.tab-panel-inner[_ngcontent-%COMP%]{padding:3rem;width:100%;height:100%;box-sizing:border-box;align-content:center}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;border:none;background:transparent;color:#f5f5f5;font-size:1.8rem;cursor:pointer}.tab-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.4rem;margin-bottom:1.5rem;letter-spacing:.08em;text-transform:uppercase}.tab-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.6;max-width:32rem}"]})};function sH(t,e){if(t&1){let n=xo();q(0,"div",1),Oe("click",function(){let i=hi(n).index,o=br();return fi(o.toggleExpand(i))}),q(1,"div",2)(2,"h2"),we(3),re(),q(4,"h4"),we(5),re(),q(6,"h5"),we(7),re(),q(8,"p"),we(9),re()(),q(10,"div",3)(11,"p"),we(12,"Otro texto que aparece al pulsar"),re()()()}if(t&2){let n=e.$implicit,r=e.index,i=br();Nt("expanded",i.expandedIndex()===r),B(3),Yn(n.nombre),B(2),Yn(n.entity),B(2),Pg("",n.start," ",n.end,""),B(2),Yn(n.description)}}var $h=class t{fireBaseService=x(ws);studiesSignal=cl([]);dataSubscription;expandedIndex=cl(null);toggleExpand(e){this.expandedIndex.set(this.expandedIndex()===e?null:e)}ngOnInit(){this.setDocumentData()}ngOnDestroy(){this.dataSubscription?.unsubscribe()}setDocumentData(){this.dataSubscription=this.fireBaseService.getDocument("ESTUDIOS/JsQdBul7oM8HeoebALwJ").subscribe({next:e=>{console.log("VALUE: ",e?.LISTA_DE_ESTUDIOS),this.studiesSignal.set(e?.LISTA_DE_ESTUDIOS??[])},error:e=>{console.error("Error en get document")}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-studies-panel"]],decls:1,vars:1,consts:[[3,"expanded","click",4,"ngFor","ngForOf"],[3,"click"],[1,"text","text-primary"],[1,"text","text-secondary"]],template:function(n,r){n&1&&Qn(0,sH,13,7,"div",0),n&2&&ee("ngForOf",r.studiesSignal())},dependencies:[Ze,Tl],styles:["[_nghost-%COMP%]{display:block;width:100%}div[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1rem;background:var(--color-subpanel-child-dark);border-radius:8px;flex:1;overflow:hidden;position:relative}.text[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;transition:all .35s ease}.text-secondary[_ngcontent-%COMP%]{transform:translate(100%);opacity:0}div.expanded[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{transform:translate(-100%);opacity:0}div.expanded[_ngcontent-%COMP%]   .text-secondary[_ngcontent-%COMP%]{transform:translate(0);opacity:1}"]})};function aH(t,e){t&1&&Pe(0,"app-studies-panel",6)}function cH(t,e){t&1&&Pe(0,"div")}var Hh=class t{visible=!1;title="default-text";contents="default-text";activeTab=void 0;close=new Qe;pathImg="";onClose(){this.close.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-right-panel"]],inputs:{visible:"visible",title:"title",contents:"contents",activeTab:"activeTab",pathImg:"pathImg"},outputs:{close:"close"},decls:7,vars:8,consts:[[1,"tab-panel"],[1,"tab-panel-inner"],[1,"close-btn",3,"click"],["class","studies-wrapper",4,"ngIf"],[4,"ngIf"],[1,"tab-image"],[1,"studies-wrapper"]],template:function(n,r){n&1&&(q(0,"div",0)(1,"div",1)(2,"button",2),Oe("click",function(){return r.onClose()}),we(3,"\u2715"),re(),Qn(4,aH,1,0,"app-studies-panel",3)(5,cH,1,0,"div",4),re()(),Pe(6,"div",5)),n&2&&(Nt("is-visible",r.visible),B(4),ee("ngIf",r.activeTab==="studies"),B(),ee("ngIf",r.activeTab==="contact"),B(),ha("background-image","url("+r.pathImg+")"),Nt("is-visible",r.visible))},dependencies:[Ze,vi,$h],styles:[".tab-panel[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:auto;height:100vh;width:70vw;background:var(--color-panel-dark);color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(100%);transition:transform 1s ease;z-index:5;display:flex;flex-direction:column;align-items:stretch}.tab-image[_ngcontent-%COMP%]{visibility:hidden;position:fixed;top:0;left:0;right:auto;height:100vh;width:30vw;color:#f5f5f5;box-shadow:-8px 0 30px #00000073;transform:translate(500%);transition:transform 1s ease;z-index:5;display:flex;align-items:center;background-size:cover;background-position:center;background-repeat:no-repeat;z-index:0}.tab-image.is-visible[_ngcontent-%COMP%]{visibility:visible;transform:translate(0)}.tab-panel.is-visible[_ngcontent-%COMP%]{transform:translate(0)}.tab-panel-inner[_ngcontent-%COMP%]{padding:3rem;width:100%;box-sizing:border-box;height:100%}.close-btn[_ngcontent-%COMP%]{position:absolute;top:1.5rem;right:1.5rem;border:none;background:transparent;color:#f5f5f5;font-size:1.8rem;cursor:pointer}.tab-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.4rem;margin-bottom:1.5rem;letter-spacing:.08em;text-transform:uppercase}.tab-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05rem;line-height:1.6;max-width:32rem}.studies-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background:var(--color-subpanel-dark);padding:1.5rem;border-radius:12px;box-sizing:border-box;display:flex;flex-direction:column;min-height:min-content;overflow:hidden}"]})};var zh=class t{activeTab=null;focusedTab=null;openTab(e){console.log("clicked: ",e),this.activeTab=e}closeTab(){this.activeTab=null}focusTab(e){this.focusedTab=e}getImagePath(){switch(this.activeTab){case"about":return"assets/SobreMi.jpg";case"experience":return"assets/Experiencia.jpg";case"studies":return"assets/Estudios.jpg";case"contact":return"assets/Contacto.jpg";case null:return"";default:return""}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-radial-tabs"]],decls:18,vars:10,consts:[[1,"stage"],[1,"cluster"],[1,"box"],[1,"item"],[1,"cell","c1",3,"click"],[1,"cell-title"],[1,"cell","c2",3,"click"],[1,"cell","c3",3,"click"],[1,"cell","c4",3,"click"],[3,"close","visible","activeTab","pathImg"]],template:function(n,r){n&1&&(q(0,"div",0)(1,"div",1),Pe(2,"div",2),q(3,"div",3)(4,"div",4),Oe("click",function(){return r.openTab("about")}),q(5,"span",5),we(6,"ABOUT"),re()(),q(7,"div",6),Oe("click",function(){return r.openTab("studies")}),q(8,"span",5),we(9,"STUDIES"),re()(),q(10,"div",7),Oe("click",function(){return r.openTab("experience")}),q(11,"span",5),we(12,"EXPERIENCE"),re()(),q(13,"div",8),Oe("click",function(){return r.openTab("contact")}),q(14,"span",5),we(15,"CONTACT"),re()()()(),q(16,"app-left-panel",9),Oe("close",function(){return r.closeTab()}),re(),q(17,"app-right-panel",9),Oe("close",function(){return r.closeTab()}),re()()),n&2&&(B(),Nt("shift-left",r.activeTab==="about"||r.activeTab==="experience")("shift-right",r.activeTab==="contact"||r.activeTab==="studies"),B(15),ee("visible",r.activeTab==="about"||r.activeTab==="experience")("activeTab",r.activeTab==null?null:r.activeTab.valueOf())("pathImg",r.getImagePath()),B(),ee("visible",r.activeTab==="studies"||r.activeTab==="contact")("activeTab",r.activeTab==null?null:r.activeTab.valueOf())("pathImg",r.getImagePath()))},dependencies:[Ze,Bh,Hh],styles:['.stage[_ngcontent-%COMP%]{position:fixed;inset:0;display:grid;place-items:center;background:transparent}.cluster[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:10;transition:transform 1.5s cubic-bezier(.22,1,.36,1)}.cluster.shift-right[_ngcontent-%COMP%]{transform:translate(calc(-50% - 600px),-50%)}.cluster.shift-left[_ngcontent-%COMP%]{transform:translate(calc(-50% + 600px),-50%)}.box[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:220px;height:220px;border-radius:40px;background:#000;transform:translate(-50%,-50%);cursor:pointer;z-index:2;transition:transform .4s ease}.item[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:720px;height:720px;border-radius:60px;background:#2674b8;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;background:transparent;padding:30px;transform:translate(-50%,-50%) scale(.2) translateZ(0);transition:transform .4s ease;will-change:transform}.box[_ngcontent-%COMP%]:hover, .cluster[_ngcontent-%COMP%]:hover   .box[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(2)}.cluster[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]{transform:translate(-50%,-50%) scale(1)}.cell[_ngcontent-%COMP%]{position:relative;background-size:100% 100%;text-align:center;overflow:hidden;cursor:pointer}.cell[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#00000073;transition:background .3s ease;z-index:1}.cell[_ngcontent-%COMP%]:hover:before{background:#0000001a}.cell-title[_ngcontent-%COMP%]{position:absolute;z-index:2;left:0;right:0;color:#fff;font-size:40px;pointer-events:none}.c3[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%], .c4[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%]{top:auto;bottom:40px;transform:none}.c1[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%], .c2[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%]{top:40px;bottom:auto;transform:none}.c1[_ngcontent-%COMP%]{background-image:url("./media/SobreMi-5D6ISES6.jpg");border-radius:20px 0}.c2[_ngcontent-%COMP%]{background-image:url("./media/Estudios-FSLODNUG.jpg");border-radius:0 20px}.c3[_ngcontent-%COMP%]{background-image:url("./media/Experiencia-MNYEGCAQ.jpg");border-radius:0 20px}.c4[_ngcontent-%COMP%]{background-image:url("./media/Contacto-JCJOUTYX.jpg");border-radius:20px 0}']})};var qh={production:!1,firebaseConfig:{apiKey:"AIzaSyBF38aXP_jKP6WBKJp78cZGjGmpwvLt_j8",authDomain:"cv-web-angular.firebaseapp.com",projectId:"cv-web-angular",storageBucket:"cv-web-angular.firebasestorage.app",messagingSenderId:"119785680877",appId:"1:119785680877:web:27a7c5644fddd90876c1e4",measurementId:"G-0QL3DQG5NC"}};var Wh=class t{environment=qh;fireBaseService=x(ws);personalData=this.fireBaseService.getPersonalData();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(n,r){n&1&&(q(0,"div"),Pe(1,"app-radial-tabs"),re())},dependencies:[Ze,zh],encapsulation:2})};var Gh=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=je({type:t,selectors:[["app-notfound"]],decls:2,vars:0,template:function(n,r){n&1&&(q(0,"p"),we(1,"notfound works!"),re())},encapsulation:2})};var gR=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Wh},{path:"**",component:Gh}];var vR="@firebase/installations",Z_="0.6.18";var _R=1e4,IR=`w:${Z_}`,ER="FIS_v2",uH="https://firebaseinstallations.googleapis.com/v1",lH=60*60*1e3,dH="installations",hH="Installations";var fH={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wi=new bt(dH,hH,fH);function wR(t){return t instanceof at&&t.code.includes("request-failed")}function TR({projectId:t}){return`${uH}/projects/${t}/installations`}function bR(t){return{token:t.token,requestStatus:2,expiresIn:gH(t.expiresIn),creationTime:Date.now()}}function DR(t,e){return v(this,null,function*(){let r=(yield e.json()).error;return Wi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function CR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function pH(t,{refreshToken:e}){let n=CR(t);return n.append("Authorization",mH(e)),n}function SR(t){return v(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function gH(t){return Number(t.replace("s","000"))}function mH(t){return`${ER} ${t}`}function yH(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let o=TR(t),s=CR(t),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={fid:n,authVersion:ER,appId:t.appId,sdkVersion:IR},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield SR(()=>fetch(o,l));if(h.ok){let p=yield h.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:bR(p.authToken)}}else throw yield DR("Create Installation",h)})}function AR(t){return new Promise(e=>{setTimeout(e,t)})}function vH(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var _H=/^[cdef][\w-]{21}$/,Y_="";function IH(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=EH(t);return _H.test(n)?n:Y_}catch{return Y_}}function EH(t){return vH(t).substr(0,22)}function Qh(t){return`${t.appName}!${t.appId}`}var RR=new Map;function NR(t,e){let n=Qh(t);MR(n,e),wH(n,e)}function MR(t,e){let n=RR.get(t);if(n)for(let r of n)r(e)}function wH(t,e){let n=TH();n&&n.postMessage({key:t,fid:e}),bH()}var qi=null;function TH(){return!qi&&"BroadcastChannel"in self&&(qi=new BroadcastChannel("[Firebase] FID Change"),qi.onmessage=t=>{MR(t.data.key,t.data.fid)}),qi}function bH(){RR.size===0&&qi&&(qi.close(),qi=null)}var DH="firebase-installations-database",CH=1,Gi="firebase-installations-store",K_=null;function J_(){return K_||(K_=yd(DH,CH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gi)}}})),K_}function Kh(t,e){return v(this,null,function*(){let n=Qh(t),i=(yield J_()).transaction(Gi,"readwrite"),o=i.objectStore(Gi),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&NR(t,e.fid),e})}function PR(t){return v(this,null,function*(){let e=Qh(t),r=(yield J_()).transaction(Gi,"readwrite");yield r.objectStore(Gi).delete(e),yield r.done})}function Yh(t,e){return v(this,null,function*(){let n=Qh(t),i=(yield J_()).transaction(Gi,"readwrite"),o=i.objectStore(Gi),s=yield o.get(n),a=e(s);return a===void 0?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&NR(t,a.fid),a})}function X_(t){return v(this,null,function*(){let e,n=yield Yh(t.appConfig,r=>{let i=SH(r),o=AH(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Y_?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function SH(t){let e=t||{fid:IH(),registrationStatus:0};return xR(e)}function AH(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Wi.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=RH(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:NH(t)}:{installationEntry:e}}function RH(t,e){return v(this,null,function*(){try{let n=yield yH(t,e);return Kh(t.appConfig,n)}catch(n){throw wR(n)&&n.customData.serverCode===409?yield PR(t.appConfig):yield Kh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function NH(t){return v(this,null,function*(){let e=yield mR(t.appConfig);for(;e.registrationStatus===1;)yield AR(100),e=yield mR(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield X_(t);return r||n}return e})}function mR(t){return Yh(t,e=>{if(!e)throw Wi.create("installation-not-found");return xR(e)})}function xR(t){return MH(t)?{fid:t.fid,registrationStatus:0}:t}function MH(t){return t.registrationStatus===1&&t.registrationTime+_R<Date.now()}function PH(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let o=xH(t,n),s=pH(t,n),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let u={installation:{sdkVersion:IR,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(u)},h=yield SR(()=>fetch(o,l));if(h.ok){let p=yield h.json();return bR(p)}else throw yield DR("Generate Auth Token",h)})}function xH(t,{fid:e}){return`${TR(t)}/${e}/authTokens:generate`}function eI(t,e=!1){return v(this,null,function*(){let n,r=yield Yh(t.appConfig,o=>{if(!kR(o))throw Wi.create("not-registered");let s=o.authToken;if(!e&&FH(s))return o;if(s.requestStatus===1)return n=kH(t,e),o;{if(!navigator.onLine)throw Wi.create("app-offline");let a=VH(o);return n=OH(t,a),a}});return n?yield n:r.authToken})}function kH(t,e){return v(this,null,function*(){let n=yield yR(t.appConfig);for(;n.authToken.requestStatus===1;)yield AR(100),n=yield yR(t.appConfig);let r=n.authToken;return r.requestStatus===0?eI(t,e):r})}function yR(t){return Yh(t,e=>{if(!kR(e))throw Wi.create("not-registered");let n=e.authToken;return jH(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function OH(t,e){return v(this,null,function*(){try{let n=yield PH(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Kh(t.appConfig,r),n}catch(n){if(wR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield PR(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Kh(t.appConfig,r)}throw n}})}function kR(t){return t!==void 0&&t.registrationStatus===2}function FH(t){return t.requestStatus===2&&!LH(t)}function LH(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+lH}function VH(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function jH(t){return t.requestStatus===1&&t.requestTime+_R<Date.now()}function UH(t){return v(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield X_(e);return r?r.catch(console.error):eI(e).catch(console.error),n.fid})}function BH(t,e=!1){return v(this,null,function*(){let n=t;return yield $H(n),(yield eI(n,e)).token})}function $H(t){return v(this,null,function*(){let{registrationPromise:e}=yield X_(t);e&&(yield e)})}function HH(t){if(!t||!t.options)throw Q_("App Configuration");if(!t.name)throw Q_("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Q_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Q_(t){return Wi.create("missing-app-config-values",{valueName:t})}var OR="installations",zH="installations-internal",qH=t=>{let e=t.getProvider("app").getImmediate(),n=HH(e),r=Kt(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},WH=t=>{let e=t.getProvider("app").getImmediate(),n=Kt(e,OR).getImmediate();return{getId:()=>UH(n),getToken:i=>BH(n,i)}};function GH(){ct(new Fe(OR,qH,"PUBLIC")),ct(new Fe(zH,WH,"PRIVATE"))}GH();_e(vR,Z_);_e(vR,Z_,"esm2017");var Zh="analytics",KH="firebase_id",QH="origin",YH=60*1e3,ZH="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",aI="https://www.googletagmanager.com/gtag/js";var xt=new Gt("@firebase/analytics");var JH={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ut=new bt("analytics","Analytics",JH);function XH(t){if(!t.startsWith(aI)){let e=Ut.create("invalid-gtag-resource",{gtagURL:t});return xt.warn(e.message),""}return t}function $R(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function e4(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function t4(t,e){let n=e4("firebase-js-sdk-policy",{createScriptURL:XH}),r=document.createElement("script"),i=`${aI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function n4(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function r4(t,e,n,r,i,o){return v(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let u=(yield $R(n)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){xt.error(a)}t("config",i,o)})}function i4(t,e,n,r,i){return v(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield $R(n);for(let u of s){let l=a.find(p=>p.measurementId===u),h=l&&e[l.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){xt.error(o)}})}function o4(t,e,n,r){function i(o,...s){return v(this,null,function*(){try{if(o==="event"){let[a,u]=s;yield i4(t,e,n,a,u)}else if(o==="config"){let[a,u]=s;yield r4(t,e,n,r,a,u)}else if(o==="consent"){let[a,u]=s;t("consent",a,u)}else if(o==="get"){let[a,u,l]=s;t("get",a,u,l)}else if(o==="set"){let[a]=s;t("set",a)}else t(o,...s)}catch(a){xt.error(a)}})}return i}function s4(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=o4(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function a4(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(aI)&&n.src.includes(t))return n;return null}var c4=30,u4=1e3,nI=class{constructor(e={},n=u4){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},HR=new nI;function l4(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function d4(t){return v(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:l4(r)},o=ZH.replace("{app-id}",n),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let u=yield s.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw Ut.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function h4(r){return v(this,arguments,function*(t,e=HR,n){let{appId:i,apiKey:o,measurementId:s}=t.options;if(!i)throw Ut.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw Ut.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new rI;return setTimeout(()=>v(null,null,function*(){u.abort()}),n!==void 0?n:YH),zR({appId:i,apiKey:o,measurementId:s},a,u,e)})}function zR(o,s,a){return v(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=HR){var u;let{appId:l,measurementId:h}=t;try{yield f4(r,e)}catch(p){if(h)return xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:h};throw p}try{let p=yield d4(t);return i.deleteThrottleMetadata(l),p}catch(p){let m=p;if(!p4(m)){if(i.deleteThrottleMetadata(l),h)return xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:h};throw p}let y=Number((u=m?.customData)===null||u===void 0?void 0:u.httpStatus)===503?pd(n,i.intervalMillis,c4):pd(n,i.intervalMillis),C={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return i.setThrottleMetadata(l,C),xt.debug(`Calling attemptFetch again in ${y} millis`),zR(t,C,r,i)}})}function f4(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Ut.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function p4(t){if(!(t instanceof at)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var rI=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var iI;function g4(t,e,n,r,i){return v(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}})}var oI;function m4(t){oI=t}function y4(t){iI=t}function v4(){return v(this,null,function*(){if(Di())try{yield fd()}catch(t){return xt.warn(Ut.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return xt.warn(Ut.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function _4(t,e,n,r,i,o,s){return v(this,null,function*(){var a;let u=h4(t);u.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&xt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>xt.error(y)),e.push(u);let l=v4().then(y=>{if(y)return r.getId()}),[h,p]=yield Promise.all([u,l]);a4(o)||t4(o,h.measurementId),oI&&(i("consent","default",oI),m4(void 0)),i("js",new Date);let m=(a=s?.config)!==null&&a!==void 0?a:{};return m[QH]="firebase",m.update=!0,p!=null&&(m[KH]=p),i("config",h.measurementId,m),iI&&(i("set",iI),y4(void 0)),h.measurementId})}var sI=class{constructor(e){this.app=e}_delete(){return delete Tc[this.app.options.appId],Promise.resolve()}},Tc={},FR=[],LR={},tI="dataLayer",I4="gtag",VR,qR,jR=!1;function E4(){let t=[];if(hd()&&t.push("This is a browser extension environment."),m0()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ut.create("invalid-analytics-context",{errorInfo:e});xt.warn(n.message)}}function w4(t,e,n){E4();let r=t.options.appId;if(!r)throw Ut.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ut.create("no-api-key");if(Tc[r]!=null)throw Ut.create("already-exists",{id:r});if(!jR){n4(tI);let{wrappedGtag:o,gtagCore:s}=s4(Tc,FR,LR,tI,I4);qR=o,VR=s,jR=!0}return Tc[r]=_4(t,FR,LR,e,VR,tI,n),new sI(t)}function WR(t=bn()){t=Ue(t);let e=Kt(t,Zh);return e.isInitialized()?e.getImmediate():GR(t)}function GR(t,e={}){let n=Kt(t,Zh);if(n.isInitialized()){let i=n.getImmediate();if(Wt(e,n.getOptions()))return i;throw Ut.create("already-initialized")}return n.initialize({options:e})}function KR(t,e,n,r){t=Ue(t),g4(qR,Tc[t.app.options.appId],e,n,r).catch(i=>xt.error(i))}var UR="@firebase/analytics",BR="0.10.17";function T4(){ct(new Fe(Zh,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return w4(r,i,n)},"PUBLIC")),ct(new Fe("analytics-internal",t,"PRIVATE")),_e(UR,BR),_e(UR,BR,"esm2017");function t(e){try{let n=e.getProvider(Zh).getImmediate();return{logEvent:(r,i,o)=>KR(n,r,i,o)}}catch(n){throw Ut.create("interop-component-reg-failed",{reason:n})}}}T4();var bc=class{constructor(e){return e}},QR="analytics",cI=class{constructor(){return xr(QR)}};var YR=Pt(WR,!0);var CX=Math.floor(Math.random()*(2**32-1))-2**31;var uI=new U("angularfire2.analytics-instances");function b4(t,e,n){if(!Dl(n))return null;let r=Ai(QR,t,e);return r&&new bc(r)}function D4(t){return(e,n,r)=>{if(!Dl(r))return null;let i=e.runOutsideAngular(()=>t(n));return new bc(i)}}var C4={provide:cI,deps:[[new gt,uI]]},S4={provide:bc,useFactory:b4,deps:[[new gt,uI],cn,_n]};function ZR(t,...e){return _e("angularfire",Dn.full,"analytics"),on([S4,C4,{provide:uI,useFactory:D4(t),multi:!0,deps:[ve,Ye,_n,Cn,tr,...e]}])}Gg(sd,{providers:[ym(gR),Gb({eventCoalescing:!0}),k0(()=>O0(qh.firebaseConfig)),lR(()=>hR()),kC(()=>OC()),ZR(()=>YR())]}).catch(t=>console.error(t));
